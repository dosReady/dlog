{"version":3,"sources":["../node_modules/@toast-ui/editor/dist/toastui-editor.js","../node_modules/codemirror/lib/codemirror.js"],"names":["factory","window","__WEBPACK_EXTERNAL_MODULE__14__","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0__","tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default","tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1__","tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default","tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2__","tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2___default","tui_code_snippet_domUtil_css__WEBPACK_IMPORTED_MODULE_3__","tui_code_snippet_domUtil_css__WEBPACK_IMPORTED_MODULE_3___default","tui_code_snippet_domUtil_addClass__WEBPACK_IMPORTED_MODULE_4__","tui_code_snippet_domUtil_addClass__WEBPACK_IMPORTED_MODULE_4___default","tui_code_snippet_domUtil_removeClass__WEBPACK_IMPORTED_MODULE_5__","tui_code_snippet_domUtil_removeClass__WEBPACK_IMPORTED_MODULE_5___default","tui_code_snippet_domUtil_hasClass__WEBPACK_IMPORTED_MODULE_6__","tui_code_snippet_domUtil_hasClass__WEBPACK_IMPORTED_MODULE_6___default","tui_code_snippet_domUtil_matches__WEBPACK_IMPORTED_MODULE_7__","tui_code_snippet_domUtil_matches__WEBPACK_IMPORTED_MODULE_7___default","FIND_ZWB","getComputedStyle","isTextNode","node","nodeType","Node","TEXT_NODE","isElemNode","ELEMENT_NODE","getNodeName","tagName","getTextLength","len","textContent","replace","length","nodeValue","getNodeOffsetOfParent","found","childNodesOfParent","parentNode","childNodes","getChildNodeByOffset","index","currentNode","getNodeWithDirectionUntil","direction","untilNodeName","nodeName","foundedNode","directionKey","getParentUntilBy","matchCondition","stopCondition","getParentUntil","untilNode","targetNode","getNodeWithDirectionUnderParent","underNode","getNodeInfo","path","id","className","trim","removeChildFromStartToEndNode","start","end","child","nextNode","nextSibling","removeChild","isListNode","mergeNode","hasChildNodes","forEach","appendChild","firstChild","normalize","changeTagOrder","tempNode","wrapper","document","createElement","replaceChild","mergeSameNodes","startNode","endNode","startBlockNode","endBlockNode","mergeTargetNode","tempNext","findAll","element","selector","nodeList","querySelectorAll","closest","condition","target","parents","result","push","children","foundChildren","DOCUMENT_FRAGMENT_NODE","filter","remove","isBlockNode","test","this","getOffsetLength","getPrevOffsetNodeUntil","containsNode","root","walker","createTreeWalker","getTopPrevNodeUnder","getTopNextNodeUnder","getTopBlockNode","getPrevTextNode","previousSibling","lastChild","findOffsetNode","offsetList","textNodeFilter","newWalkerOffset","text","walkerOffset","offset","shift","container","offsetInContainer","getPath","paths","unshift","getTableCellByDirection","targetElement","nextElementSibling","previousElementSibling","getSiblingRowCellByDirection","needEdgeCell","targetRowElement","currentContainer","siblingContainer","isSiblingContainerExists","tableCellElement","isMDSupportInlineNode","isStyledNode","removeNodesByDirection","targetParent","isForward","nextParent","_parentNode","getLeafNode","nextLeaf","isInsideTaskBox","style","offsetX","offsetY","rect","parseInt","left","top","width","height","isFirstListItem","isFirstLevelListItem","listParentNode","createHorizontalRule","div","hr","setAttribute","createEmptyLine","optimizeRange","range","collapsed","commonAncestorContainer","startContainer","endContainer","optimizedNode","getAllTextNode","isCellNode","getLastNodeBy","lastNode","getParentNodeBy","getSiblingNodeBy","createElementWith","contents","innerHTML","isContain","contained","contains","parent","parentsUntil","append","appended","insertAdjacentHTML","prepend","insertBefore","insertedNode","insertAfter","replaceWith","html","wrap","wrapInner","unwrap","empty","setOffset","_element$parentNode$g","getBoundingClientRect","body","scrollTop","scrollLeft","getOffset","offsetTop","offsetLeft","offsetParent","getOuterWidth","includedMargin","widthValue","offsetWidth","_getComputedStyle","marginLeft","marginRight","getOuterHeight","heightValue","offsetHeight","_getComputedStyle2","marginTop","marginBottom","toggleClass","state","a","extend","extend_default","Command","type","keyMap","setKeyMap","_proto","getName","getType","isMDType","TYPE","MD","isWWType","WW","isGlobalType","GB","win","mac","typeStr","props","command","js_command","common","map","KEYMAP_OS_INDEX","commandManager_CommandManager","CommandManager","base","options","_command","_mdCommand","_wwCommand","_options","useCommandShortcut","keyMapCommand","_initEvent","_addCommandBefore","commandWrapper","eventManager","emit","addCommand","_len","arguments","args","Array","_key","apply","concat","commandBase","set","_this","listen","exec","ev","data","preventDefault","commandToRun","context","isMarkdownMode","mdEditor","wwEditor","_commandToRun","_len2","_key2","forEachArray","arrayLike","arr","slice","e","isString","v","k","objects","source","prop","hasOwnProp","inArray","getClass","setClassName","origin","cssClass","classList","newClass","add","split","cls","obj","undefined","String","iteratee","browser","chrome","firefox","safari","msie","edge","others","version","navigator","tmp","nav","appName","userAgent","rIE","rIE11","rEdge","versionRegex","detector","Microsoft_Internet_Explorer","detectedVersion","match","parseFloat","Netscape","detected","detectBrowser","toArray","elProto","Element","matchSelector","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","doc","ownerDocument","getMdStartLine","mdNode","sourcepos","getMdEndLine","getMdStartCh","getMdEndCh","isMultiLineNode","isHtmlNode","isStyledTextNode","isListItemNode","traverseParentNodes","isArray","searchElement","array","startIndex","indexOf","isMac","sendHostName","includes","tui_code_snippet_request_sendHostname__WEBPACK_IMPORTED_MODULE_0__","tui_code_snippet_request_sendHostname__WEBPACK_IMPORTED_MODULE_0___default","platform","targetItem","isNodeToBeCalculated","getAdditionalTopPos","getParentNodeObj","getCmRangeHeight","getNextEmptyLineHeight","getTotalOffsetTop","findAdjacentElementToScrollTop","getFallbackScrollTop","_utils_common__WEBPACK_IMPORTED_MODULE_0__","_utils_markdown__WEBPACK_IMPORTED_MODULE_1__","nestableTypes","nestableTagNames","tableElementTagNames","currentNodeHeight","targetNodeHeight","diff","querySelector","_ref","firstElementChild","getNonNestableNodeObj","orgMdNode","getParentListItemObj","cm","cmNodeHeight","lineInfo","handle","heightAtLine","Number","MAX_VALUE","detailLineInfo","el","parentElement","prev","findLastSiblingElementToScrollTop","adjacentEl","scrollInfo","latestScrollTop","targetScrollTop","sourceScrollTop","Math","max","min","safeEvent","bindEvent","handler","eventHandler","event","addEventListener","attachEvent","wrappedHandler","events","existInEvents","memorizeHandler","types","func","unbindEvent","item","idx","removeHandler","splice","removeEventListener","detachEvent","tui_code_snippet_array_inArray__WEBPACK_IMPORTED_MODULE_0__","tui_code_snippet_array_inArray__WEBPACK_IMPORTED_MODULE_0___default","tui_code_snippet_collection_forEachArray__WEBPACK_IMPORTED_MODULE_1__","tui_code_snippet_collection_forEachArray__WEBPACK_IMPORTED_MODULE_1___default","Map","_keys","_values","_getKeyIndex","keyIndex","has","delete","callback","thisArg","setOffsetHeight","setOffsetTop","getOffsetHeight","getOffsetTop","removeOffsetInfoByNode","offsetInfoMap","getAttribute","forEachOwnProperties","isUndefined","isNull","param","CodeBlockManager","_replacers","setReplacer","language","replacer","getReplacer","createCodeBlockHtml","codeText","encode","default","_s","u","h","f","g","b","y","C","x","w","_n","setPrototypeOf","__proto__","constructor","assign","getOwnPropertySymbols","propertyIsEnumerable","getOwnPropertyDescriptor","Reflect","decorate","metadata","Promise","next","throw","done","then","label","sent","trys","ops","return","iterator","TypeError","pop","error","asyncIterator","resolve","raw","__importDefault","isContainer","getNodeById","removeNodeById","removeAllNode","literal","unlink","prependChild","open","lineOffsets","stringContent","lastLineBlank","lastLineChecked","__extends","BlockNode","listData","ListNode","level","HeadingNode","destination","title","LinkNode","isFenced","fenceChar","fenceLength","fenceOffset","info","CodeBlockNode","htmlBlockType","HtmlBlockNode","tickCount","CodeNode","columns","TableNode","columnIdx","ignored","TableCellNode","createNode","isCodeBlock","isHtmlBlock","isHeading","isList","ENTITY","ESCAPABLE","RegExp","charCodeAt","charAt","decodeHTML","unescapeString","normalizeURI","escapeXml","repeat","join","last","isEmpty","CODE_INDENT","C_TAB","C_NEWLINE","C_GREATERTHAN","C_LESSTHAN","C_SPACE","C_OPEN_BRACKET","reNonSpace","reClosingCodeFence","endsWithBlankLine","peek","isBlank","isSpaceOrTab","smart","tagFilter","autoLink","disallowedHtmlBlockTags","__assign","tip","oldtip","lineNumber","column","nextNonspace","nextNonspaceColumn","indent","currentLine","indented","blank","partiallyConsumedTab","allClosed","lastMatchedContainer","refmap","lastLineLength","inlineParser","InlineParser","advanceOffset","advanceNextNonspace","findNextNonspace","addLine","addChild","blockHandlers","canContain","finalize","closeUnmatchedBlocks","processInlines","entering","parse","incorporateLine","continue","Error","acceptsLines","blockStarts","partialParseStart","partialParseExtends","partialParseFinish","Parser","keys","decodeXML","decodeHTMLStrict","substr","sort","OPENTAG","CLOSETAG","reHtmlTag","normalizeReference","toLowerCase","toUpperCase","taskListItemFinalize","substring","task","checked","taskListItemRender","tag","lit","reBulletListMarker","reOrderedListMarker","parseReference","tight","bulletChar","delimiter","padding","markerOffset","tableHead","tableBody","ToastMark","GfmHtmlRenderer","parser","eventHandlerMap","change","lineTexts","updateLineTexts","__spreadArrays","updateRootNodeState","replaceRangeNodes","insertNodesBefore","removeNextUntil","prependChildNodes","getNodeRange","findChildNodeAtLine","trigger","parseRange","newNodes","getChildNodes","extStartNode","extEndNode","editMarkdown","updateNextLineNumbers","nodes","removedNodeRange","getLineTexts","getRootNode","findNodeAtPosition","findFirstNodeAtLine","on","off","findNodeById","defaultChars","fromCharCode","toString","encodeURIComponent","componentChars","JSON","current","resumeAt","D","N","A","E","L","q","T","B","subject","delimiters","brackets","pos","lineStartNum","lineIdx","linePosOffset","nextLine","spnl","parseBackticks","parseBackslash","parseAutolink","parseHtmlTag","scanDelims","numdelims","canOpen","canClose","handleDelim","cc","origdelims","previous","removeDelimiter","removeDelimitersBetween","processEmphasis","parseLinkTitle","parseLinkDestination","parseLinkLabel","parseOpenBracket","addBracket","parseBang","parseCloseBracket","active","removeBracket","image","bracketAfter","startpos","previousDelimiter","parseEntity","parseString","parseNewline","mergeTextNodes","parseInline","convertExtAutoLinks","fromCodePoint","RangeError","floor","isFinite","linkText","parseEmailLink","parseUrlLink","list","blockQuote","heading","thematicBreak","codeBlock","htmlBlock","paragraph","table","tableRow","tableCell","tableDelimRow","tableDelimCell","align","lastIndexOf","some","getAllParents","reverse","attrs","cr","strike","HtmlRenderer","softbreak","safe","nodeId","linkAttrs","disableTags","lastOut","reDisallowedTag","filterDisallowedTags","out","linebreak","link","esc","attrString","emph","strong","code","htmlInline","buffer","Renderer","render","MarkdownRenderer","_toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_0__","_GfmHtmlRenderer","subClass","superClass","classNames","infoWords","codeAttrs","lang","tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_1__","tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_1___default","_utils_dom__WEBPACK_IMPORTED_MODULE_2__","HTML_ATTR_LIST_RX","SVG_ATTR_LIST_RX","ATTR_VALUE_BLACK_LIST_RX","href","needHtmlText","removeUnnecessaryTags","attributes","blacklist","attr","isHTMLAttr","isSVGAttr","getNamedItem","removeNamedItem","leaveOnlyWhitelistAttribute","_loop","valueBlackListRX","attrItem","removeInvalidAttributeValues","returnValue","frag","createDocumentFragment","finalizeHtml","Function","self","configurable","FIND_LAST_RETURN_RX","FIND_BR_AND_RETURN_RX","FIND_MULTIPLE_EMPTYLINE_BETWEEN_TEXT_RX","FIND_LINK_HREF","START_OF_LINES_RX","basicRenderer","managedText","getSpaceCollapsedText","_isNeedEscapeBackSlash","escapeTextBackSlash","escapePairedCharacters","_isNeedEscapeHtml","escapeTextHtml","_isNeedEscape","escapeText","getSpaceControlled","subContent","res","isEmptyText","foundedHref","url","outerHTML","escapeTextForLink","src","alt","backticks","numBackticks","isNaN","headingNumber","liCounter","FIND_LEAD_SPACE_RX","FIND_TRAIL_SPACE_RX","FIND_SPACE_RETURN_TAB_RX","FIND_CHAR_TO_TRIM_RX","FIND_SPACE_MORE_THAN_ONE_RX","FIND_CHAR_TO_ESCAPE_RX","FIND_CHAR_TO_ESCAPE_IN_LINK_RX","FIND_MARKDOWN_IMAGE_SYNTAX_RX","rules","addRules","isInlineNode","lineFeedReplacement","addRule","selectorString","converter","selectors","fname","_setConverterWithSelector","content","lead","trail","convert","_getConverter","hasAttribute","removeAttribute","cloneNode","getRawHtmlString","_getInlineHtml","escapedSubContent","rulePointer","_getNextRule","_getRuleNameFromNode","_getPrevNode","ruleObj","ruleName","previousNode","__htmlRootByToMark","_eachSelector","ruleElem","selectorArray","selectorIndex","matched","imageSyntaxRanges","markdownTextToEscapeHtmlRx","markdownTextToEscapeBackSlashRx","markdownTextToEscapePairedCharsRx","markdownTextToEscapeRx","codeblock","lheading","blockquote","def","reflink","verticalBar","codeblockGfm","codeblockTildes","mix","renderer","cloneRules","srcRenderer","gfmRenderer","numberOfBackticks","makeTaskIfNeed","ths","thsLength","findChildTag","makeTableHeadAlignText","th","leftAlignValue","rightAlignValue","textLength","innerText","pattern","count","repeatString","childLength","toMark","DomRunner","toDom","FIND_UNUSED_BRS_RX","FIND_FIRST_LAST_WITH_SPACE_RETURNS_RX","FIND_MULTIPLE_BRS_RX","FIND_RETURNS_RX","FIND_RETURNS_AND_SPACE_RX","tracker","runner","getNode","htmlStr","isGfm","gfm","markdownContent","NODE","ATTRIBUTE_NODE","_normalizeTextChildren","_root","_current","_getNextNode","_isNeedNextSearch","childNode","getNodeText","NODE_TYPE","FIND_FIRST_LAST_SPACE_OR_RETURN_OR_TAB_RX","FIND_RETURN_OR_TAB_BETWEEN_TAGS_RX","FIND_WHOLE_SPACE_MORE_THAN_ONE_BETWEEN_TAGS_RX","preProcess","baseVal","tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_0__","tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_0___default","tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_1__","tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_1___default","_preview__WEBPACK_IMPORTED_MODULE_2__","_markdownRenderer__WEBPACK_IMPORTED_MODULE_3__","_utils_dom__WEBPACK_IMPORTED_MODULE_4__","_scroll_helper__WEBPACK_IMPORTED_MODULE_5__","_scroll_cache_offsetInfo__WEBPACK_IMPORTED_MODULE_6__","htmlRenderer","MarkdownPreview","_Preview","convertor","isViewer","lazyRunner","registerLazyRunFunction","invokeCodeBlockPlugins","delayCodeBlockTime","ReferenceError","_assertThisInitialized","_this2","update","_previewContent","changed","contentEl","newHtml","emitReduce","startNodeId","endNodeId","startEl","endEl","nextEl","codeBlockEls","getCodeBlockElements","run","tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0__","tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0___default","tui_code_snippet_type_isFalsy__WEBPACK_IMPORTED_MODULE_2__","tui_code_snippet_type_isFalsy__WEBPACK_IMPORTED_MODULE_2___default","tui_code_snippet_enum_enum__WEBPACK_IMPORTED_MODULE_3__","tui_code_snippet_enum_enum__WEBPACK_IMPORTED_MODULE_3___default","_utils_map__WEBPACK_IMPORTED_MODULE_4__","eventList","EventManager","typeInfo","_getTypeInfo","eventHandlers","_hasEventType","namespace","results","splited","addEventType","removeEventHandler","_this$_getTypeInfo","_removeEventHandlerWithHandler","eventType","_removeEventHandlerWithTypeInfo","handlerIndex","handlersToSurvive","_toast_ui_to_mark__WEBPACK_IMPORTED_MODULE_0__","_toast_ui_to_mark__WEBPACK_IMPORTED_MODULE_0___default","_toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_1__","_markdownRenderer__WEBPACK_IMPORTED_MODULE_2__","_htmlSanitizer__WEBPACK_IMPORTED_MODULE_3__","HTML_TAG_RX","Convertor","em","linkAttribute","linkAttrName","mdReader","htmlWriter","_markdownToHtmlWithCodeHighlight","markdown","_replaceImgAttrToDataProp","_markdownToHtml","$1","$2","$3","onerrorStripeRegex","_removeBrToMarkPassAttributeInCode","renderedHTML","codeOrPre","codeEelement","toHTMLWithCodeHightlight","toHTML","initHtmlSanitizer","toMarkdown","toMarkOptions","resultArray","_appendAttributeForLinkIfNeed","_appendAttributeForBrIfNeed","_removeNewlinesBeforeAfterAndBlockElement","line","FIND_FIRST_TWO_BRS_RX","invokePlugins","tui_code_snippet_type_isArray__WEBPACK_IMPORTED_MODULE_0__","tui_code_snippet_type_isArray__WEBPACK_IMPORTED_MODULE_0___default","tui_code_snippet_type_isFunction__WEBPACK_IMPORTED_MODULE_1__","tui_code_snippet_type_isFunction__WEBPACK_IMPORTED_MODULE_1___default","plugins","editor","plugin","pluginFn","_plugin$","css","css_default","isString_default","LazyRunner","globalTOID","lazyRunFunctions","fn","params","delay","TOID","_runRegisteredRun","_runSingleRun","_clearTOIDIfNeed","setTimeout","lazyRunName","lazyRunFunction","clearTimeout","dom","codeBlockManager","preview_Preview","Preview","_initContentSection","nodeIds","codeEls","Boolean","targetEl","codeBlocks","refresh","getHTML","setHTML","setHeight","setMinHeight","minHeight","isVisible","display","handlers","isExisty","imagePing","trackingId","hostname","location","applicationKeyForStorage","date","localStorage","getItem","tui","usageStatistics","Date","getTime","isExpired","setItem","readyState","tid","cid","dp","dh","ec","isTruthy","isNumber","isSupportDefinedProperty","enumValue","Enum","itemList","_addItem","foundedKey","itemValue","_isEnumItem","_makeEnumValue","writable","tui_code_snippet_object_extend__WEBPACK_IMPORTED_MODULE_1__","tui_code_snippet_object_extend__WEBPACK_IMPORTED_MODULE_1___default","tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_2__","tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_2___default","tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_3__","tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_3___default","_mdPreview__WEBPACK_IMPORTED_MODULE_4__","_eventManager__WEBPACK_IMPORTED_MODULE_5__","_commandManager__WEBPACK_IMPORTED_MODULE_6__","_convertor__WEBPACK_IMPORTED_MODULE_7__","_utils_dom__WEBPACK_IMPORTED_MODULE_8__","_codeBlockManager__WEBPACK_IMPORTED_MODULE_9__","_pluginHelper__WEBPACK_IMPORTED_MODULE_10__","ToastUIEditorViewer","useDefaultHTMLSanitizer","customConvertor","codeBlockLanguages","commandManager","hooks","addHook","_this$options","initialValue","existingHTML","preview","_toggleTask","setMarkdown","markdownValue","isWysiwygMode","setCodeBlockLanguages","languages","domUtils","WwCodeBlockManager","WwTableManager","WwTableSelectionManager","timer","trackingInfo","trackingElement","queryString","ue","M","pe","H","me","z","de","Ce","ge","fe","ve","Ne","cssText","_","S","__squire__","createDefaultBlock","re","createTextNode","K","_didAddZWS","ie","lastElementChild","didError","message","_config","blockTag","blockAttributes","splitText","startOffset","endOffset","appendData","setStart","setEnd","collapse","J","O","isContentEditable","R","isShiftDown","shiftKey","P","W","defaultView","_win","_doc","_events","_isFocused","_lastSelection","ae","getSelection","_hasZWS","_lastAnchorNode","_lastFocusNode","_path","_willUpdatePath","_updatePathOnEvent","_undoIndex","_undoStack","_undoStackLength","_isInUndoState","_ignoreChange","_ignoreAllChanges","se","MutationObserver","_docWasChanged","observe","childList","characterData","subtree","_mutation","_keyUpDetectChange","_restoreSelection","U","I","_awaitingPaste","X","nt","ot","it","rt","Ie","_keyHandlers","He","setConfig","Text","deleteData","execCommand","setSelection","F","G","Z","j","Q","$","V","Y","opera","ee","te","ne","oe","WeakMap","le","ce","he","1","2","3","8","9","11","previousPONode","BR","HR","IFRAME","IMG","INPUT","_e","Se","ye","Te","Ee","Le","Be","xe","Ae","selectNodeContents","be","et","setEndBefore","cloneRange","ke","createRange","selectNode","compareBoundaryPoints","Oe","Re","De","Pe","Ue","13","32","33","34","37","39","46","219","221","keyCode","defaultPrevented","which","altKey","ctrlKey","metaKey","isComposing","saveUndoState","_ensureBottomLine","_updatePath","we","Fe","hasFormat","changeFormat","Me","enter","_recordUndoState","yt","_removeZWS","_getRangeAndRemoveBookmark","insertData","setStartAfter","decreaseListLevel","modifyBlocks","mt","ft","ct","Ye","backspace","gt","tab","increaseListLevel","space","right","lt","modify","pageup","moveCursorToStart","pagedown","moveCursorToEnd","We","4","5","6","7","ze","backgroundColor","regexp","class","highlight","color","colour","fontWeight","fontStyle","fontFamily","fontSize","textDecoration","qe","Ke","Ge","SPAN","STRONG","EM","INS","STRIKE","FONT","face","size","TT","Ze","je","Qe","$e","allowedBlocks","Ve","Xe","Je","tt","willCutCopy","setData","clipboardData","cloneContents","items","getAsString","insertHTML","fireEvent","dataTransfer","insertPlainText","getData","contenteditable","at","st","DOMPurify","sanitize","ALLOW_UNKNOWN_PROTOCOLS","WHOLE_DOCUMENT","RETURN_DOM","RETURN_DOM_FRAGMENT","importNode","tagAttributes","ul","ol","li","leafNodeNames","undo","documentSizeThreshold","undoLimit","isInsertedHTMLSanitized","isSetHTMLSanitized","sanitizeToDOMFragment","isSupported","console","log","getDocument","getRoot","modifyDocument","takeRecords","disconnect","dt","pathChange","select","input","undoStateChange","activeElement","handleEvent","details","destroy","Range","getCursorPosition","_moveCursorTo","blur","focus","removeAllRanges","addRange","rangeCount","getRangeAt","setStartBefore","getSelectedText","dir","setActive","ht","_saveRangeToBookmark","compareDocumentPosition","canUndo","canRedo","_getHTML","_setHTML","redo","setEndAfter","getFontInfo","family","_addFormat","_removeFormat","getElementsByTagName","ut","DT","DD","LI","PRE","forEachBlock","vt","St","setKeyHandler","insertElement","insertImage","linkRegExp","fragment","Tt","Et","addStyles","documentElement","bold","italic","underline","strikethrough","subscript","superscript","removeBold","removeItalic","removeUnderline","removeStrikethrough","removeSubscript","removeSuperscript","makeLink","removeLink","setFontFace","setFontSize","setTextColour","setHighlightColour","setTextAlignment","textAlign","setTextDirection","bt","pre","kt","removeCode","toggleCode","removeAllFormatting","increaseQuoteLevel","decreaseQuoteLevel","makeUnorderedList","makeOrderedList","removeList","isInline","isBlock","getBlockWalker","getPreviousBlock","getNextBlock","areAlike","hasTagAttributes","getNearest","isOrContains","detach","getNodeBefore","getNodeAfter","insertNodeInRange","extractContentsOfRange","deleteContentsOfRange","insertTreeFragmentIntoRange","isNodeContainedInRange","moveRangeBoundariesDownTree","moveRangeBoundariesUpTree","getStartBlockOfRange","getEndBlockOfRange","contentWalker","rangeDoesStartAtBlockBoundary","rangeDoesEndAtBlockBoundary","expandRangeToBlockBoundaries","onPaste","addLinks","splitBlock","startSelectionId","endSelectionId","global","MapShim","getIndex","entry","class_1","__entries__","entries","clear","ctx","_i","_a","isBrowser","global$1","requestAnimationFrame$1","requestAnimationFrame","now","transitionKeys","mutationObserverSupported","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","emptyRect","createRectInit","toFloat","getBordersSize","styles","positions","reduce","position","getHTMLElementContentRect","clientWidth","clientHeight","paddings","positions_1","getPaddings","horizPad","vertPad","bottom","boxSizing","round","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","unobserve","clearActive","observation","ResizeObserver","method","isObject","isFunction","R_EVENTNAME_SPLIT","CustomEvents","contexts","mixin","_getHandlerItem","_safeEvent","eventName","byName","_safeContext","_indexOfContext","_memorizeContext","_forgetContext","contextIndex","_bindEvent","once","onceHandler","_spliceMatches","predicate","_matchHandler","needRemove","_matchContext","_matchHandlerAndContext","matchHandler","matchContext","_offByEventName","andByHandler","handlerItems","_offByHandler","_offByObject","matchFunc","fire","invoke","hasListener","getListenerLength","forEachOwnProperties_default","isExisty_default","isUndefined_default","isNumber_default","addClass","addClass_default","removeClass","removeClass_default","utils_common","isBoolean","isBoolean_default","external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_","external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default","listRE","fixNumber","prevIndentLength","indentLength","lineText","getLine","_listRE$exec2","replaceRange","ch","findFirstListItem","nextLineNumber","commands","indentLessOrderedList","getOption","Pass","fixOrderedListNumber","ranges","listSelections","head","_listRE$exec","overlayMode","overlay","combine","startState","basePos","baseCur","overlayPos","overlayCur","streamSeen","copyState","token","stream","combineTokens","textAfter","electricChars","innerMode","blankLine","continuelist_listRE","emptyListRE","unorderedListRE","incrementRemainingMarkdownListNumbers","startLine","lookAhead","skipCount","startItem","startIndent","nextItem","nextIndent","newNumber","nextNumber","itemNumber","isRangeCollapsed","isSameLineSelection","anchor","replaceSingleLine","from","to","lineAdjustment","replacement","setCursor","replaceMultiLine","upper","targetLine","rangeContent","getRange","edgeLineOfConcern","clearPlaceholder","placeholder","setPlaceholder","elt","placeHolder","lineSpace","onBlur","onChange","getWrapperElement","lineCount","indentOrderedList","cursorBeforeTextInline","somethingSelected","indentSelection","newlineAndIndentContinueMarkdownList","replacements","cursorBeforeBullet","after","numbered","bullet","replaceSelections","replaceLineTextToUpper","topLine","replaceLineTextToLower","isLastLine","lastLine","defineOption","val","old","Init","hasFocus","sharedInstance","codeMirrorExt","CodeMirrorExt","editorContainerEl","_init","cmTextarea","lineWrapping","theme","extraKeys","indentUnit","cursorScrollMargin","specialCharPlaceholder","fromTextArea","getCurrentRange","getCursor","getInputField","toTextArea","setValue","cursorToEnd","clearHistory","getValue","getEditor","reset","getCaretPosition","cursorCoords","addWidget","selection","replaceSelection","replaceRelativeOffset","overwriteLength","cursor","contentWrapper","setOption","getDoc","firstLine","scrollTo","getScrollInfo","KEYBOARD_MAP","keyMapper","KeyMapper","_setSplitter","splitter","_splitter","keyChar","_getKeyCodeChar","getSharedInstance","char","FIND_LIST_RX","FIND_TASK_LIST_RX","FIND_UL_RX","FIND_OL_TASK_RX","LIST_SYNTAX_RX","TASK_SYNTAX_RX","LIST_OR_TASK_SYNTAX_RX","UL_TASK_SYNTAX_RX","OL_SYNTAX_RX","FIND_TABLE_RX","FIND_HEADING_RX","FIND_BLOCK_RX","mdListManager","MdListManager","mde","toastMark","getToastMark","_createSortedLineRange","isReversed","rangeStart","rangeEnd","_calculateOrdinalNumber","ordinalNumber","depth","_getListDepth","_isListLine","_isCanBeList","_getChangeFn","_changeToList","_changeToTask","changeSyntax","newListLine","lineRange","startLineNumber","endLineNumber","changeFn","_insertBlankLineForNewList","_replaceLineText","_changeSameDepthList","lineNum","_replaceListTypeToOL","_replaceListTypeToUL","_replaceLineTextByRegexp","_findSameDepthList","listNumber","isIncrease","currentLineDepth","backwardList","forwardList","replacePattern","currentLineStart","currentLineEnd","newListLines","_isNotBlankNotListLine","componentManager","ComponentManager","_managers","_editor","addManager","nameOrConstructor","ManagerConstructor","instance","getManager","removeManager","manager","mdTextObject","MdTextObject","_mde","setRange","_setStart","_start","_setEnd","_end","setEndBeforeRange","expandStartOffset","expandEndOffset","getTextContent","replaceContent","deleteContent","peekStartBeforeOffset","peekStart","_extends","markdownEditor_keyMapper","tokenTypes","defaultState","taskList","orderedList","markdownEditor","_CodeMirrorExt","MarkdownEditor","dragDrop","allowDropFileTypes","Enter","Tab","viewportMargin","Infinity","_latestState","cmEvent","_refreshCodeMirrorMarks","_emitMarkdownEditorChangeEvent","eventData","keyboardEvent","clipboardEvent","_changeToolbarItemState","getTextObject","_emitMarkdownEditorContentChangedEvent","eventObj","editResult","editFromPos","editToPos","editFrom","editTo","_iterator","findMarks","_isArray","_iterator2","_isArray2","_i2","_ref2","_event","startPosition","endPosition","extraNode","markText","_markTextInLinkOrImage","_markTextInListItem","lastChildCh","startCh","endLine","descStart","descEnd","_getClassNameOfListItem","_markTextInListItemChildren","_node","startPosistion","_node$listData","_isStateChanged","previousState","currentState","currentStateTypeValue","stateType","_this3","listDepth","_this$cm$getCursor","mdLine","mdCh","setNodeTypeToState","_getToolbarItemStateName","resetState","_ref3","mdPreview","toArray_default","forEachArray_default","isArray_default","browser_default","debounce","debounce_default","domEvent_on","on_default","domEvent_off","off_default","matches_default","htmlSanitizer","wwPasteContentHelper","WwPasteContentHelper","wwe","preparePaste","isPastingList","wwCodeblockManager","firstBlockIsTaken","tempContainer","_pasteFirstAid","isInCodeBlock","prepareToPasteOnCodeblock","_prepareToPasteList","_wrapOrphanNodeWithDiv","currentDiv","isBR","_removeStyles","blockTags","_unwrapIfNonBlockElementHasBr","_unwrapNestedBlocks","_removeUnnecessaryBlocks","_preElementAid","_tableElementAid","modifyCodeBlockForWysiwyg","leafElement","blockElement","isDivElement","isInListItem","isInBlockquote","hasBlockChildElement","colorValue","rangeInfo","newFragment","_makeNodeAndAppend","_wrapCurrentFormat","listGroup","commonAncestorName","_unwrapFragmentFirstChildForPasteAsInline","br","currentTagName","_eachCurrentPath","getBody","pathInfo","_removeColgroup","_completeTableIfNeed","_updateTableIDClassName","colgroup","tableManager","wrapperTr","wrapDanglingTableCellsIntoTrIfNeed","wrapperTbody","wrapTrsIntoTbodyIfNeed","wrapperTable","wrapTheadAndTbodyIntoTableIfNeed","tables","foundClassName","getTableIDClassName","wwTablePasteHelper","WwTablePasteHelper","pasteClipboard","cbData","_pasteClipboardItem","_pasteClipboardUsingPasteArea","squirePrevented","sq","pasteArea","clipboard","_pasteClipboardHtml","textItem","htmlItem","_pasteClipboardContainer","startFragmentIndex","endFragmentIndex","clipboardContainer","pasteTableData","_preparePasteDocumentFragment","_deleteContentsRange","_pasteIntoTextNode","_pasteIntoElements","_unwrapBlock","_isPossibleInsertToTable","prevText","postText","fragmentChildNodes","isFragmenthasOneTextNode","firstChildText","resultFragment","childNodesArray","_deleteContentsByOffset","_deleteNotCollapsedRangeContents","startBlock","_getBlock","endBlock","_removeInSameBlock","nextOfstartBlock","_removeOneLine","block","wwClipboardManager","WwClipboardManager","_pch","_tablePasteHelper","_selectedSellCount","_clipboardArea","init","_executeHandler","_onWillPaste","_onCopyCut","_onCopyAfter","_onCutAfter","_onPasteIntoTable","getSelectedCells","mergedTableSelectionManager","_extendRange","_updateCopyDataForListTypeIfNeed","_setClipboardData","createRangeBySelectedCells","_clearClipboardArea","deleteContents","isInTable","_isSingleCellSelected","_getCell","_replaceNewLineToBr","textNode","pasteData","_preparePaste","_setTableBookmark","_focusTableBookmark","htmlContent","_createClipboardArea","selectAllChildren","stopPropagation","overflow","commonAncestorNodeName","newParent","_removeEmptyFontElement","_isFromMs","_preProcessPtag","pTag","bookmarkedTable","bookmarkedCell","_extendStartRange","_extendEndRange","_isWholeCommonAncestorContainerSelected","newBound","boundNext","FIND_LI_ELEMENT","FIND_CELL_TAG_RX","FIND_LIST_OR_LIST_ITEM_TAG_RX","wwListManager","WwListManager","_initKeyHandler","_convertToArbitraryNestingList","_findAndRemoveEmptyList","_removeBranchListAll","_convertFromArbitraryNestingList","_insertDataToMarkPassForListInTable","addKeyEventHandler","isNeedNext","_removeBranchList","defer","afterRange","branchRoot","firstLi","unwrappedLIs","nestedList","parentLI","wrapperDiv","prevLI","_unwrap","tdStart","tdContent","tdEnd","getLinesOfSelection","lines","needNext","_getNextLine","mergeList","currentList","prevList","nextList","_mergeList","targetList","listItem","temp","isAvailableMakeListInTable","selectedCells","_getParentNodeBeforeTD","newOffset","_findLINodeInsideTD","liNode","liParent","_getFirstNodeInLineOfTable","_getLastNodeInLineOfTable","_isLastNodeInLineOfTable","_getNextNodeInLineOfTable","_getLinesOfSelectionInTable","firstNode","oneLine","_createListElement","listType","_createListItemElement","oneLineNodes","formatTask","_mergeListWithPreviousSibiling","_mergeListWithNextSibiling","createListInTable","_this4","listNode","listNodeName","newLIs","liElement","oneLineFirstNode","existingListNode","adjustRange","newStartContainer","newEndContainer","newStartOffset","newEndOffset","setSelectionByContainerAndOffset","hasClass","hasClass_default","wwTaskManager","WwTaskManager","_removeTaskListClass","isInTaskList","newRange","unformatTask","_formatTaskIfNeed","isIE10","isIE10And11","BASIC_CELL_CONTENT","tableCellGenerator","amount","cellString","tdString","wwTableManager","_lastCellNode","tableID","isRangeInTable","_unwrapBlockInTable","removeClassAttrbuteFromAllCellsIfNeed","_insertDefaultBlockBetweenTable","selectionManager","cell","updateTableHtmlOfClipboardIfNeed","isTableOrSubTableElement","_completeIncompleteTable","thead","clipboardTable","_expandTableIfNeed","_pasteDataIntoTable","keyEventHandlers","DEFAULT","keymap","_isModifierKey","_recordUndoStateIfNeed","_removeContentsAndChangeSelectionIfNeed","_recordUndoStateAndResetCellNode","_isModifierKeyPushed","ENTER","_isAfterTable","breakToNewDefaultBlock","_isBeforeTable","_isInList","_isInStyledText","_removeBRinStyleText","_isEmptyFirstLevelLI","_appendBrIfTdOrThNotHaveAsLastChild","BACK_SPACE","_handleBackspaceAndDeleteKeyEvent","DELETE","TAB","UP","DOWN","_isEmptyListItem","styleNode","brNode","_styleNode","tdNode","newNode","_splitByBR","cloneStyleNode","newBR","clonedBR","leafNode","prevElem","isBackspace","_tableHandlerOnBackspace","_tableHandlerOnDelete","_removeTable","_moveListItemToPreviousOfList","_findListItem","prevNode","_isDeletingBR","_getCurrentNodeInCell","_isEndOfList","liNodeOffset","startContainerOffset","_getNextLineNode","tdOrTh","startContainerNodeName","parentNodeName","isInTableCell","isEmptyTableCell","isLastBR","insertedElement","saveSelection","restoreSavedSelection","currentCellNode","resetLastCellNode","anchorElement","td","tr","tableData","_getTableDataFromTable","isTableCell","brString","trData","_removeTableContents","brHTMLString","danglingTableCells","tbody","danglingTrs","wrapperTableBody","danglingThead","danglingTbody","_createTheadOrTboday","pastingNodeName","theadOrTbody","_stuffTableCellsIntoIncompleteRow","trs","maximumCellLength","row","tableCells","cellTagName","cellLength","prepareToTableCellStuffing","needTableCellStuffingAid","cellCount","_addTbodyOrTheadIfNeed","isTheadNotExists","isTbodyNotExists","tableCellAppendAidForTableElement","_addTrIntoContainerIfNeed","tableAidInformation","_generateTheadAndTbodyFromTbody","_generateTheadAndTbodyFromThead","_generateTheadAndTbodyFromTr","theadRow","tbodyRow","completedTableContents","_removeEmptyRows","cells","setLastCellNode","difference","_getColumnAndRowDifference","_appendCellForAllRow","_appendRow","rowLength","columnLength","currentCell","currentRow","currentColumnIndex","currentRowIndex","tableColumnLength","tableRowLength","columnDifference","rowDifference","newRow","brHTMLSting","_changeSelectionToTargetCell","scale","isNext","isRow","_moveToCursorEndOfCell","lastListItem","lastText","interval","_isMovedCursorToRow","_isMovedCursorFromListToRow","_isMovedCursorFromTextToRow","parentOfListItem","firstOrLastItem","firstOrLastList","parentOfStyledText","foundSiblingNode","siblingNode","isTextInput","isDeleteOperation","firstSelectedCell","processed","tableClassName","_this5","removeKeyEventHandler","wwTableSelectionManager","selectionStart","selectionEnd","validSelectionEnd","_tableSelectionTimer","_removeSelectionTimer","_isSelectionStarted","onMouseover","isEndsInTable","isSameCell","isTextSelect","_isTextSelect","setInterval","highlightTableCellsBy","finishSelection","onMouseup","_clearTableSelectionTimerIfNeed","_isListSelect","onDragEnd","isSelectedCell","button","setTableSelectionTimerIfNeed","onDragStart","_reArrangeSelectionIfneed","isRangeStartInTable","isRangeEndInTable","isEndRangeOut","tds","_applySelectionDirection","selectionInformation","nodeOffsetOfParent","rowDirection","cellDirection","isRowIncreases","getSelectionRangeFromTable","startRowOffset","endRowOffset","startCellOffset","endCellOffset","startCellContainer","endCellContainer","isReversedTheadAndTbodySelect","isTheadAndTbodySelect","isBothInTbody","rowFrom","cellFrom","rowTo","cellTo","rowIndex","cellIndex","lastSelectedCell","styleToSelectedCells","onStyle","wwHrManager","WwHrManager","_insertEmptyLineIfNeed","_changeHRForWysiwyg","editorContentBody","hrNode","wwPManager","WwPManager","_splitPtagContentLines","_ensurePtagContentWrappedWithDiv","_unwrapPtags","para","lastIndex","nextElement","splitedContent","_findNextParagraph","wwHeadingManager_FIND_HEADING_RX","wwHeadingManager","WwHeadingManager","_wrapDefaultBlockToHeadingInner","hasFormatWithRx","_onEnter","_removePrevTopNodeIfNeed","headingTag","_unwrapHeading","unwrapBlockTag","removeLastUndoStack","_insertEmptyBlockToPrevious","isHandled","prevTopNode","isPrevTopNodeEmpty","_removeHedingAndChangeSelection","headingElement","isTruthy_default","wwCodeBlockManager_isIE10","wwCodeBlockManager_brString","tagEntities","FIND_ZWS_RX","wwCodeBlockManager","_keyEventHandlers","_onBackspaceKeyEventHandler","codeNode","_getCodeNode","_changePreToPreCode","convertNodesToText","str","_copyCodeblockTypeFromRangeCodeblock","blockNode","codeAttr","codeTag","brs","resultText","_isCodeBlockFirstLine","_isFrontCodeblock","_removeCodeblockFirstLine","_isEmptyLine","_isBetweenSameCodeblocks","prevTextLength","_mergeCodeblocks","frontCodeblock","backCodeblock","preNode","codeContent","newFrag","strArray","firstDiv","newPreNode","build_squire","squire_default","isFunction_default","FIND_BLOCK_TAGNAME_RX","isIElt11","squireExt","_Squire","SquireExt","_decorateHandlerToCancelable","changeBlockFormat","srcCondition","targetTagName","newBlock","nextBlock","lastNodeOfNextBlock","appendChidToNextBlock","changeBlockFormatTo","_replaceRelativeOffsetOfSelection","startSelectionInfo","endSelectionInfo","finalOffset","endOffsetNode","endTextOffset","_getClosestTextNode","getSelectionInfoByOffset","foundNode","traceElement","traceElementLength","traceOffset","stepLength","offsetAbs","latestAvailableElement","getSelectionPosition","marker","replaceParent","preserveLastLine","blocks","lastBlock","isIgnoreChange","blockCommandShortcuts","meta","isIE11","isWindowChrome","appVersion","isWindows10","isNeedOffsetFix","wwTextObject","WwTextObject","_wwe","isComposition","_initCompositionEvent","_range","codeBlockGadget","_BlockOverlay","CodeBlockGadget","wysiwygEditor","attachedSelector","_wysiwygEditor","_popupCodeBlockLanguages","_initDOM","_initDOMEvent","_languageLabel","_buttonOpenModalEditor","_eventManager","_openPopupCodeBlockEditor","getAttachedElement","_updateLanguage","attachedElement","syncLayout","outerWidth","scrollX","scrollY","GADGET_HEIGHT","GADGET_WIDTH","onShow","_onAttachedElementChange","onHide","BlockOverlay","_attachedSelector","_container","_attachedElement","_createElement","zIndex","_onChange","_onMouseOver","setVisibility","eventTarget","outerHeight","getVisibility","visibility","wysiwygEditor_keyMapper","FIND_EMPTY_LINE","FIND_UNNECESSARY_BR","wysiwygEditor_FIND_BLOCK_TAGNAME_RX","FIND_OPENING_SPAN_WITH_SPACE","FIND_CLOSING_SPAN_WITH_SPACE","FIND_TABLE_AND_HEADING_RX","canObserveMutations","WysiwygEditor","_height","_linkAttribute","_silentChange","_initDefaultKeyEventHandler","debouncedPostProcessForChange","postProcessForChange","editorBody","_clipboardManager","_initSquireEvent","_togglePlaceholder","_runKeyEventHandlers","scrollIntoCursor","_handler","squire","isNeedFirePostProcessForRangeChange","isEditorValid","_onKeyDown","prevLen","curEl","fixIMERange","_isInOrphanText","_wrapDefaultBlockToOrphanTexts","isAbleToInput4Spaces","_isCursorNotInRestrictedAreaOfTabAction","isTextSelection","_handleRemoveKeyEvent","_isStartHeadingOrTableAndContainsThem","keyStr","textNodes","_wrapDefaultBlockTo","_joinSplitedTextNodes","textElem","cursorOffset","insertTargetNode","insertNode","lastGroup","nodesToRemove","makeEmptyBlockCurrentSelection","_this6","containerStyles","bodyStyles","paddingHeight","paddingTop","paddingBottom","marginHeight","getLinkAttribute","insertText","_prepareGetHTML","_this7","_this8","readySilentChange","editorContainerPos","rx","where","appendBefore","replaceContentText","beforeText","_this$getEditor$getCu","cursorTop","cursorHeight","_this$editorContainer","editorTop","cursorAboveEditor","cursorBelowEditor","ceil","_correctRangeAfterMoveCursor","cursorContainer","getIMERange","delayOffset","_this9","containerTmpl","js_layout","Layout","initialEditType","_renderLayout","_initMarkdownAndPreviewSection","_initWysiwygSection","hide","show","containerEl","switchToWYSIWYG","switchToMarkdown","mdEditorContainerEl","previewEl","wwEditorContainerEl","_verticalSplitStyle","mdContainer","_tabStyle","changePreviewStyle","getEditorEl","getPreviewEl","getMdEditorContainerEl","getWwEditorContainerEl","js_eventManager","inArray_default","URLRegex","importManager","ImportManager","_initDefaultImageImporter","decodeURIGraceful","originalURI","decodedURI","uris","decodedURIs","uri","decodeURIComponent","encodeMarkdownCharacters","escapeMarkdownCharacters","files","_processBlobItems","descendant","blob","dataURI","byteString","atob","ab","ArrayBuffer","ia","Uint8Array","mimeString","Blob","dataURItoBlob","_emitAddImageBlobHook","_processClipboard","_decodeURL","reader","FileReader","onload","readAsDataURL","imageUrl","altText","texts","_text","evData","blobItems","codemirrorIgnore","getAsFile","viewer","i18n","I18n","_code","_langs","setCode","setLanguage","codes","langData","langSet","ResizeObserver_es","isObject_default","customEvents","customEvents_default","_defineProperty","DOM_EVENTS","_uiInstanceId","uicontroller","UIController","_id","customEventManager","_setRootElement","rootElement","aType","aFn","_addEvent","_bindDomEvent","_this$_parseEventType","_parseEventType","_unbindDomEvent","_this$_parseEventType2","splitType","toolbarItem_defineProperty","toolbarItem_ToolbarItem","_UIController","ToolbarItem","_name","ui_toolbarItem","tooltip","Tooltip","_domUtils$getOffset","toolbarButton_assertThisInitialized","toolbarButton_defineProperty","toolbarButton_ToolbarButton","_ToolbarItem","ToolbarButton","_setOptions","_render","_onClick","_onOver","_onOut","setTooltip","_tooltip","_style","_state","isEnabled","enable","disabled","disable","toolbarButton","toolbarDivider_defineProperty","ToolbarDivider","toolbarDivider","toolbarItemFactory","ToolbarItemFactory","toolbarItem","toolbar_assertThisInitialized","toolbar_defineProperty","ui_toolbar","Toolbar","setItems","_items","disableAllButton","enableAllButton","getItems","removeAllItems","addItem","insertItem","onCommandHandler","commandName","onEventHandler","indexOfItem","itemName","itemToTest","removeItem","removedItem","layerpopup","LayerPopup","header","modal","CLASS_PREFIX","_clickEventMap","_onClickCloseButton","layerpopup_assertThisInitialized","_initInstance","_initEditorEvent","_target","_isExternalHtmlUse","_initLayout","setTitle","setContent","buttons","headerButtons","buttonWrapper","openerCssQuery","closerCssQuery","eventKey","layout","titleWrapper","getTitleElement","_isShow","isShow","_this$options2","opener","closer","setFitToWindow","fit","isFitToWindow","toggleFitToWindow","fitToWindow","popupDropdownToolbar_PopupDropdownToolbar","_LayerPopup","PopupDropdownToolbar","getToolbar","_toolbar","_button","OPEN_EVENT","isShown","buttonOuterHeightWithMargin","buttonMarginBottom","popupDropdownToolbar","defaultToolbar_assertThisInitialized","defaultToolbar_defineProperty","defaultToolbar","_Toolbar","DefaultToolbar","_bindWidthChangedEvent","_arrangeMoreButton","moreButton","_moreButton","_popupDropdownToolbar","_observer","_balanceButtons","itemLength","hasOverflow","sections","_activeButton","onItemClick","_onTabButton","initName","tabButtons","activate","_findButtonContained","_activateTabByButton","_isActivatedButton","_updateClassByButton","activeButton","sectionIndex","modeSwitch_assertThisInitialized","modeSwitch_defineProperty","modeSwitch_ModeSwitch","ModeSwitch","initialType","_switchType","_rootElement","_buttons","wysiwyg","_changeMarkdown","_changeWysiwyg","_setActiveButton","_type","MARKDOWN","WYSIWYG","ui_modeSwitch","URL_REGEX","popupAddLink","PopupAddLink","POPUP_CONTENT","_inputText","_inputURL","_addLink","inputText","inputURL","selectedText","_resetInputs","_this$_getValue","_getValue","_clearValidationStyle","popupAddImage","PopupAddImage","popup","_imageUrlInput","_imageFileInput","_altTextInput","fileTypeSection","urlTypeSection","tabSection","filename","_applyImage","imageFile","popupTableUtils","PopupTableUtils","_bindClickEventOnRemoveRowMenu","clientX","clientY","_disableRemoveRowMenu","menu","popupAddTable_PopupAddTable","PopupAddTable","_selectedBound","_tableBound","_eventHandlers","onMousedown","_selectTableRange","onClick","_fireCommandEvent","_cacheElements","_setTableSizeByBound","pageX","_selectionOffset","pageY","bound","_getSelectionBoundByOffset","_resizeTableBySelectionIfNeed","col","_setSelectionAreaByBound","_setDisplayText","_setSelectedBound","tableSize","_getSelectedTableSize","desc","resizedBound","_getResizedTableBound","resizedCol","resizedRow","_isNeedResizeTable","_getBoundByOffset","_getOffsetByBound","boundOffset","_setTableSize","_setSelectionArea","CELL_HEIGHT","CELL_WIDTH","MIN_ROW_SELECTION_INDEX","MIN_COL_SELECTION_INDEX","popupAddTable","popupAddHeading","PopupAddHeading","getButtonsHTML","popupCodeBlockLanguages","PopupCodeBlockLanguages","_onSelectedLanguage","_onDismissed","_currentButton","_languages","_btnMousedownHandler","_activateButtonByIndex","_addBtnMouseDownHandler","setCurrentLanguage","_changeLanguageButtons","scrollIntoView","getCurrentLanguage","selected","dismissed","CLASS_CONTENT","scrollSyncSplit","ScrollSyncSplit","baseElement","leftElement","rightElement","showScrollSyncButton","scrollSync","splitView","_baseElement","_contentElements","_initDom","_initDomEvent","_el","scrollWrapper","_scrollWrapper","_setScrollSync","setSplitView","_contentWrapper","_setLeft","_setRight","sync","_requireScrollIntoView","wrapperElement","_element$getBoundingC","targetTop","targetBottom","isScrollSynced","_wrapperElement$getBo","wrapperTop","wrapperBottom","_setContentElement","side","contentElement","toggleScrollSync","toggleSplitView","isSplitView","wrapperHeight","scrollingElement","followingElement","scrollingElementHeight","scrollingElementScrollMax","followingElementTopMax","codeBlockEditor","CodeBlockEditor","singleCursorHeightPerLine","_language","_onRequireScrollIntoView","lineElement","load","codeBlockElement","setEditorCodeText","save","getEditorCodeText","getLanguage","codeBlockPreview","CodeBlockPreview","_codeBlockEditor","codeBlockPreview_assertThisInitialized","ui_codeBlockLanguagesCombo","CodeBlockLanguagesCombo","_inputLanguage","_wrapper","_hide","_onKeyEvent","_showPopupCodeBlockLanguages","_onFocusOut","_toggleFocus","_show","clientRect","_prevStoredLanguage","selectedLanguage","_onLanguageSelectedFromList","inputLanguage","_hidePopupCodeBlockLanguages","_storeInputLanguage","setOnLanguageSelected","_onLanguageSelected","getElement","popupCodeBlockEditor","PopupCodeBlockEditor","TEMPLATE_CONTENT","_body","_toggleFitButton","_togglePreviewButton","_toggleScrollButton","_okButton","_closeButton","_codeMirrorWrapper","_createCodeBlockEditor","_previewWrapper","_createPreview","_scrollSyncSplit","_updateFitWindowButton","_updatePreviewButton","_updateScrollButton","_codeBlockLanguagesCombo","_createCodeBlockLanguagesCombo","_toggleFitToWindow","_togglePreview","_toggleScroll","_save","_focusEditor","codeMirrorWrapper","popupCodeBlockEditor_CLASS_PREFIX","previewWrapper","_codeBlockPreview","titleElement","codeBlockLanguagesCombo","_codeBlockElement","_load","defaultUI_defineProperty","CONTAINER_TEMPLATE","defaultUI","DefaultUI","_initialEditType","toolbarItems","hideModeSwitch","_editorSection","_initToolbar","_initModeSwitch","_initPopupAddLink","_initPopupAddImage","_initPopupAddTable","_initPopupAddHeading","_initPopupTableUtils","_initPopupCodeBlockLanguages","_initPopupCodeBlockEditor","_initMarkdownTab","_markdownTabControl","toolbar","modeSwitchTabBar","editType","modeSwitch","_modeSwitch","changeMode","_markdownTab","_markdownTabSection","itemText","getCodeMirror","getCurrentPreviewStyle","_popups","setToolbar","getModeSwitch","getEditorSectionHeight","getEditorHeight","getPopupTableUtils","tablePopup","createPopup","to_mark","to_mark_default","convertEmphasis","convertedContent","_subContent$match","beforeSpaces","trimmedContent","afterSpaces","isInvalidOpener","isInvalidCloser","isValidDelimiterRun","toMarkRenderer","pluginHelper","removeSyntax","symbol","symbolLength","appendSyntax","expandReplace","expandSize","checker","expendRange","expendSize","getExpandedRange","expendRangeText","syntaxRegex","contentRegex","_doc$getCursor","selectionStr","isSyntax","removeSyntaxInsideText","afterSelectStr","boldRangeRegex","boldContentRegex","originRange","boldItalicRangeRegex","italic_boldRangeRegex","italicRangeRegex","italicContentRegex","isBoldItalic","isBold","isItalic","italicLength","boldLength","boldItalicLength","removeItalicInsideText","expandReplaceBind","italic_replaceText","italic_replaceEmptyText","strikeRangeRegex","strikeContentRegex","BlockquoteRegex","getLineHandle","textLinesToModify","isNeedToRemove","_haveBlockquote","_removeBlockquote","_addBlockquote","_isBlockquoteWithSpace","textArr","heading_FIND_HEADING_RX","lengthOfCurrentLineBefore","foundedHeading","_text$split","getHeadingMarkdown","textLines","markdownCommands_hr","replaceText","addLink_decodeURIGraceful","addLink","addImage_decodeURIGraceful","addImage_encodeMarkdownCharacters","addImage_escapeMarkdownCharacters","addImage","markdownCommands_ul","markdownCommands_indent","outdent","markdownCommands_table","border","makeHeader","irow","icol","makeBody","codeRangeRegex","codeContentRegex","markdownCommands_code","hasSyntax","hasStrikeSyntax","_removeCodeSyntax","setCursorToCenter","isRemoved","markdownCommands_codeBlock","styleBold","wysiwygCommands_bold","tableSelectionManager","styleItalic","wysiwygCommands_italic","styleStrike","wysiwygCommands_strike","wysiwygCommands_blockquote","wysiwygCommands_addImage_decodeURIGraceful","wysiwygCommands_addImage_encodeMarkdownCharacters","wysiwygCommands_addImage","wysiwygCommands_addLink_decodeURIGraceful","addLink_encodeMarkdownCharacters","wysiwygCommands_addLink","linkAttibute","wysiwygCommands_hr","nextBlockNode","wysiwygCommands_heading","headingHTML","wrapperHeading","appendChildrenTo","wysiwygCommands_paragraph","wysiwygCommands_ul","listManager","newLI","_changeFormatToUnorderedListIfNeed","taskManager","wysiwygCommands_ol","_changeFormatToOrderedListIfNeed","wysiwygCommands_table","tableHTMLString","tableIDClassName","table_makeHeader","table_makeBody","focusToFirstTh","getNewRow","cloned","htmlString","focusToFirstTd","tableAddRow","selectedRowLength","selectionMgr","first","getSelectedRowsLength","tableAddCol","numberOfCols","maxLength","getNumberOfCols","cellToAdd","isTBody","isMSIE","addColToCellAfter","getCellByRange","focusToNextCell","getSelectedRows","rangeInformation","tbodyRowLength","isStartContainerInThead","startRowIndex","endRowIndex","tableRemoveRow","tableMgr","getTrs","firstTr","lastTr","nextFocus","nextFocusCell","tableRemoveRow_focusToFirstTd","removeColByCell","tableRemoveCol","hasMultipleCols","tbodyColLength","tailCell","headCell","numberOfCells","removeMultipleColsByCells","tableRemoveCol_getCellByRange","focusToCell","tableAlignCol","alignDirection","startCell","getRangeInformation","startColumnIndex","endColumnIndex","isDivided","getSelectionInformation","setAlignAttributeToTableCells","tableRemove","wysiwygCommands_indent","prevClasses","nodeClasses","nextClasses","getCurrentLi","wysiwygCommands_outdent","currentLiNode","isExecutable","wysiwygCommands_task","_changeFormatToTaskIfNeed","styleCode","removeUnnecessaryCodeInNextToRange","wysiwygCommands_code","_styleCode","wysiwygCommands_codeBlock","codeBlock_CODEBLOCK_ATTR_NAME","codeBlockBody","mgr","extractContents","tempDiv","getCodeBlockBody","focusToFirstCode","toastmark","currentTimeoutId","releaseTimer","deltaScrollTop","syncScrollTop","releaseEventBlock","animate","callbackObjForSync","startTime","step","deltaValue","progress","cos","PI","helper","offsetInfo","blockedPreviewScrollEvent","getAndSaveOffsetHeight","mdNodeId","cachedHeight","syncPreviewScrollTopToMarkdown","scrollEvent","_cm$getScrollInfo","isBottomPos","scrollHeight","coordsChar","firstMdNode","nodeObj","mdNodeStartLine","previewElHeight","scrollTopInfo","_getTopInfo","additionalScrollTop","additionalTopPos","getTopInfo","blockedMarkdownScrollEvent","previewScroll_latestScrollTop","syncMarkdownScrollTopToPreview","_preview$el","getAncestorHavingId","_getParentNodeObj","_getAndSaveOffsetInfo","cachedTop","getAndSaveOffsetInfo","createButton","getUI","ACTIVE","INACTIVE","buttonEl","divider","changeButtonVisiblityStateIfNeed","addEditorCommand","mdPreviewStyle","currentMode","isScrollable","register","addScrollEvent","addPreviewRenderedEvent","__nedInstance","availableLinkAttributes","editor_ToastUIEditor","ToastUIEditor","initialHtml","previewStyle","_sanitizeLinkAttribute","setUI","UI","setHtml","_addDefaultCommands","attribute","getMarkdown","_this$commandManager","afterAddedCommand","removeHook","getSquire","getCurrentModeEditor","getHtml","_minHeight","diffHeight","_ui","isWithoutFocus","getInstances","js_editor","Markdown","Write","Headings","Paragraph","Bold","Italic","Strike","Code","Line","Blockquote","Task","Indent","Outdent","Heading","Description","OK","More","Cancel","File","URL","gecko","ie_upto10","ie_11up","ie_version","documentMode","webkit","qtwebkit","presto","vendor","mac_geMountainLion","phantom","ios","android","mobile","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","rmClass","removeChildren","removeChildrenAndAdd","eltP","host","activeElt","shadowRoot","joinClasses","as","createTextRange","moveToElementText","moveEnd","moveStart","selectInput","copyObj","overwrite","countColumn","string","tabSize","startValue","search","nextTab","Delayed","time","onTimeout","ms","sel_dontScroll","scroll","sel_mouse","sel_move","findColumn","goal","skipped","spaceStrs","spaceStr","lst","nothing","createObj","inst","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","extendingChars","isExtendingChar","skipExtendingChars","findFirst","pred","midF","mid","bidiOther","getBidiPartAt","order","sticky","cur","bidiOrdering","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","isRTL","j$2","nstart","getOrder","noHandlers","emitter","_handlers","getHandlers","signal","signalDOMEvent","override","e_defaultPrevented","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","e_stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","zwspSupported","badBidiRects","dragAndDrop","zeroWidthElement","measure","hasBadBidiRects","txt","r0","r1","splitLinesAuto","nl","hasSelection","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","modes","mimeModes","defineMode","dependencies","resolveMode","spec","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","nstate","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","chunk","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","lineNo","no","_lineAtHeight","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","_clipPos","linelen","clipToLen","clipPosArray","eol","sol","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","indentation","consume","caseInsensitive","cased","hideFirstChars","inner","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","modeGen","lineClasses","runMode","loop","overlays","i_end","opaque","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","minindent","minline","lim","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","startAt","callBlankLine","readToken","copy","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","sawReadOnlySpans","sawCollapsedSpans","MarkedSpan","getMarkedSpanFor","spans","span","removeMarkedSpan","stretchSpansOverChange","full","oldFirst","markedSpans","oldLast","endCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansBefore","startsBefore","markedSpansAfter","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","detachMarkedSpans","detachLine","attachMarkedSpans","attachLine","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","find","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineNo","lineN","vis","visualLineEndNo","lineIsHidden","widgetNode","lineIsHiddenInner","_heightAtLine","lineObj","lineLength","found$1","findMaxLine","maxLine","maxLineLength","maxLineChanged","estimateHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","defaultSpecialCharPlaceholder","startStyle","endStyle","displayText","trailingBefore","spaceBefore","special","specialChars","mustWrap","txt$1","tabWidth","fullStyle","part","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","foundBookmarks","endStyles","upto","tokenText","LineView","visualLineContinued","hidden","buildViewArray","nextPos","view","operationGroup","orphanDelayedCallbacks","signalLater","delayedCallbacks","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","getLineContent","ext","built","background","updateLineBackground","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","markers","gutterMarkers","lineNumbers","wrap$1","gutterWrap","gutterLeft","lineNumInnerWidth","gutterSpecs","gutterWidth","alignable","isWidget","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","widgetHeight","parentStyle","gutters","eventInWidget","sizer","mover","paddingVert","paddingH","cachedPaddingH","currentStyle","paddingRight","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","barHeight","mapFromLineView","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","lineMeasure","updateExternalMeasurement","hasHeights","prepared","varHeight","wrapping","curWidth","heights","rects","getClientRects","ensureLineHeights","place","nodeAndOffsetInLineMap","coverStart","coverEnd","getUsefulRect","screen","logicalXDPI","deviceXDPI","normal","fromRange","hasBadZoomedRects","scaleX","scaleY","logicalYDPI","deviceYDPI","maybeUpdateRectForZooming","rSpan","charWidth","nullRect","rtop","rbot","bot","bogus","rbottom","measureCharInner","measureText","mStart","mEnd","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","pageScrollY","pageYOffset","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","_charCoords","_cursorCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","_coordsChar","coordsCharInner","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","textHeight","clientLeft","compensateForHScroll","perLine","widgetsHeight","estimateLineHeights","est","estHeight","posFromMouse","liberal","forRect","colDiff","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","primIndex","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","otherCursor","cmpCoords","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","extent","iterateBidiSections","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","cursorBlinkRate","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","readOnly","selForContextMenu","receivedFocus","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","visibleLines","viewport","ensure","ensureFrom","ensureTo","calculateScrollPos","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","margin","scrollToCoords","scrollToCoordsRange","sPos","updateScrollTop","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollbars","setScrollLeft","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","maybeDisable","elementFromPoint","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","_startOperation","op","updateInput","typing","changeObjs","cursorActivityCalled","selectionChanged","updateMaxLine","ownsGroup","_endOperation","endCb","group","callbacks","fireCallbacksForOps","finishOperation","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","endOperations","scrollbarsClipped","borderRightWidth","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","doScroll","innerHeight","scrollNode","maybeScrollWindow","limit","endCoords","scrollPos","startTop","startLeft","scrollPosIntoView","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","oldDisplayWidth","renderedView","maybeUpdateLineNumberWidth","different","lastWrapHeight","lastWrapWidth","adjustView","toUpdate","selSnapshot","anchorNode","anchorOffset","focusNode","focusOffset","selectionSnapshot","updateNumbersFrom","rm","currentWheelTarget","updateNumber","patchDisplay","snapshot","restoreSelection","selectionDiv","reportedViewFrom","reportedViewTo","updateGutterSpace","alignWidgets","comp","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","normalizeSelection","mayTouch","selectionsMayTouch","prim","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","updateLine","linesFor","lastSpans","nlines","insert","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","History","startGen","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","addChangeToHistory","selAfter","opId","hist","history","historyEventDelay","lastChangeEvent","pushSelectionToHistory","addSelectionToHistory","selectionEventCanBeMerged","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","mergeOldSpans","getOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","setSelectionReplaceHistory","setSelectionNoUndo","NaN","filterSelectionChange","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","mark","parts","mk","newParts","dfrom","dto","removeReadOnlyRanges","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","removed","recomputeMaxLength","checkWidthStart","retreatFrontier","changesHandler","changeHandler","makeChangeSingleDocInEditor","_replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","this$1","oldH","nextMarkerId","TextMarker","_markText","isParent","SharedTextMarker","markTextShared","replacedWith","addToHistory","curLine","addMarkedSpan","clearOnEnter","withOp","visual","dHeight","findSharedMarkers","clipPos","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","lineSeparator","getLineNumber","getLineHandleVisualStart","extendSelectionsBy","setSelections","addSelection","getSelections","dup","newSel","hint","oldPrev","newPrev","computeReplacedSel","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","addLineClass","removeLineClass","addLineWidget","insertAt","aboveVisible","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","mFrom","mTo","subMark","copySharedMarkers","unlinkDoc","CodeMirror","splitIds","iterLinkedDocs","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","isReadOnly","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","file","onerror","readAsText","draggingText","text$1","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","resizeTimer","onResize","registerGlobalHandlers","setSize","keyNames","16","17","18","19","20","27","35","36","38","40","44","45","59","61","91","92","93","106","107","109","110","111","145","173","186","187","188","189","190","191","192","220","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","normalizeKeyName","ctrl","cmd","mod","normalizeKeyMap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","addModifierNames","noShift","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","basic","pcDefault","emacsy","macDefault","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","charCoords","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","visualLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","dropShift","ensurePolled","prevShift","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","keyMaps","lookupKeyForEditor","handleKeyBinding","motion","lastStoppedKey","onKeyDown","handled","up","showCrossHair","onKeyUp","onKeyPress","charCode","handleCharBinding","lastClick","lastDoubleClick","PastClick","onMouseDown","supportsTouch","clickInGutter","compare","clickRepeat","selectingText","handleMappedButton","behavior","option","unit","addNew","moveOnDrag","configureMouse","moved","dragEnd","mouseMove","dragStart","e2","leftButtonStartDrag","ourRange","ourIndex","startSel","rangeForUnit","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","anchorLine","boundary","headIndex","usePart","bidiSimplify","editorSize","counter","move","curCount","leftButtonSelect","leftButtonDown","onContextMenu","findWordAt","gutterEvent","prevent","mX","mY","touches","lineBox","contextMenuInGutter","themeChanged","defaults","optionHandlers","dragDropChanged","funcs","dragFunctions","toggle","over","leave","drop","wrappingChanged","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","word","getField","touchFinished","prevTouch","finishTouch","farAway","touch","radiusX","radiusY","isMouseLikeTouchEvent","onDragOver","effectAllowed","setDragImage","img","_top","inp","registerEventHandlers","finishInit","initHooks","textRendering","how","aggressive","curSpace","curSpaceString","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","disableInput","smartIndent","getModeAt","electricInput","copyableRanges","disableBrowserMagic","field","spellcheck","autocorrect","autocapitalize","hiddenTextarea","_findPosH","origDir","lineDir","moveOnce","boundToLine","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","nextCh","moveVisually","findNextLine","sawType","getHelper","hitSide","_findPosV","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","badPos","bad","domToPos","lineNode","locateNodeInLineView","topNode","curNode","dist$1","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","updateFromDOM","readFromDOMSoon","forceCompositionEnd","screenReaderLabelChanged","showMultipleSelections","curAnchor","curFocus","rng","startGracePeriod","rememberSelection","selectionInEditor","pollSelection","pollInterval","poll","scan","isInGutter","triggerOnKeyDown","pollContent","fromIndex","fromNode","toNode","toIndex","newText","closing","extraLinebreak","close","addText","walk","cmText","markerID","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","readOnlyChanged","resetPosition","TextareaInput","prevInput","pollingFast","createField","textarea","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","deflt","notOnInit","newBreaks","attach","integer","defineOptions","helpers","addKeyMap","removeKeyMap","addOverlay","score","priority","insertSorted","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","help","_global","getStateAfter","lineAtHeight","defaultTextHeight","defaultCharWidth","getViewport","vspace","hspace","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","rtlMoveVisually","findPosV","goalColumn","goals","startChar","check","scrollToRange","interpret","startOperation","endOperation","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","addEditorMethods","dontDelegate","defineMIME","mime","defineExtension","defineDocExtension","tabindex","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","cmpPos","addLegacyProps"],"mappings":"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,SACA,UACA,aACA,SACA,aACA,QACA,UACA,YACA,MACA,OACA,OACA,KACA,QACA,OACA,SACA,QACA,UACA,cACA,SACA,SACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,eACA,GACA,QACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,MACA,YACA,WACA,UACA,SACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,WACA,cACA,mBACA,qBACA,qBACA,kBACA,kBACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,cACA,cACA,YACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,KACA,IACA,IACA,GACA,OACA,QACA,GACA,eACA,aACA,GACA,gBACA,GACA,GACA,gBACA,eACA,cACA,cACA,cACA,iBACA,gBACA,eACA,iBACA,eACA,eACA,eACA,kBACA,OACA,QACA,QACA,QACA,OACA,OACA,GACA,MACA,gBACA,IAuGIC,EA7FyB,WAC3B,SAASC,EAAUpjD,GACjBxJ,KAAK6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","file":"static/js/8.8df2f357.chunk.js","sourcesContent":["/*!\n * @toast-ui/editor\n * @version 2.0.1 | Mon Mar 30 2020\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"codemirror\"));else if (typeof define === 'function' && define.amd) define([\"codemirror\"], factory);else if (typeof exports === 'object') exports[\"Editor\"] = factory(require(\"codemirror\"));else root[\"toastui\"] = root[\"toastui\"] || {}, root[\"toastui\"][\"Editor\"] = factory(root[\"CodeMirror\"]);\n})(window, function (__WEBPACK_EXTERNAL_MODULE__14__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        }\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 58);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony import */\n\n      var tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n      /* harmony import */\n\n\n      var tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1__);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2__);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_domUtil_css__WEBPACK_IMPORTED_MODULE_3__);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_addClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_addClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_domUtil_addClass__WEBPACK_IMPORTED_MODULE_4__);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_removeClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_removeClass__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_domUtil_removeClass__WEBPACK_IMPORTED_MODULE_5__);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_hasClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(16);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_hasClass__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_domUtil_hasClass__WEBPACK_IMPORTED_MODULE_6__);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_matches__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(11);\n      /* harmony import */\n\n\n      var tui_code_snippet_domUtil_matches__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_domUtil_matches__WEBPACK_IMPORTED_MODULE_7__);\n      /**\n       * @fileoverview DOM Utils\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var FIND_ZWB = /\\u200B/g;\n      var _window = window,\n          getComputedStyle = _window.getComputedStyle;\n      /**\n       * Check if node is text node\n       * @param {Node} node node to check\n       * @returns {boolean} result\n       * @ignore\n       */\n\n      var isTextNode = function isTextNode(node) {\n        return node && node.nodeType === Node.TEXT_NODE;\n      };\n      /**\n       * Check if node is element node\n       * @param {Node} node node to check\n       * @returns {boolean} result\n       * @ignore\n       */\n\n\n      var isElemNode = function isElemNode(node) {\n        return node && node.nodeType === Node.ELEMENT_NODE;\n      };\n      /**\n       * Check that the node is block node\n       * @param {Node} node node\n       * @returns {boolean}\n       * @ignore\n       */\n\n\n      var isBlockNode = function isBlockNode(node) {\n        return /^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|DETAILS|DIALOG|DD|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[\\d]|HEADER|HGROUP|HR|LI|MAIN|NAV|OL|P|PRE|SECTION|UL)$/gi.test(this.getNodeName(node));\n      };\n      /**\n       * Get node name of node\n       * @param {Node} node node\n       * @returns {string} node name\n       * @ignore\n       */\n\n\n      var getNodeName = function getNodeName(node) {\n        if (isElemNode(node)) {\n          return node.tagName;\n        }\n\n        return 'TEXT';\n      };\n      /**\n       * Get node offset length of node(for Range API)\n       * @param {Node} node node\n       * @returns {number} length\n       * @ignore\n       */\n\n\n      var getTextLength = function getTextLength(node) {\n        var len;\n\n        if (isElemNode(node)) {\n          len = node.textContent.replace(FIND_ZWB, '').length;\n        } else if (isTextNode(node)) {\n          len = node.nodeValue.replace(FIND_ZWB, '').length;\n        }\n\n        return len;\n      };\n      /**\n       * Get node offset length of node(for Range API)\n       * @param {Node} node node\n       * @returns {number} length\n       * @ignore\n       */\n\n\n      var getOffsetLength = function getOffsetLength(node) {\n        var len;\n\n        if (isElemNode(node)) {\n          len = node.childNodes.length;\n        } else if (isTextNode(node)) {\n          len = node.nodeValue.replace(FIND_ZWB, '').length;\n        }\n\n        return len;\n      };\n      /**\n       * get node offset between parent's childnodes\n       * @param {Node} node node\n       * @returns {number} offset(index)\n       * @ignore\n       */\n\n\n      var getNodeOffsetOfParent = function getNodeOffsetOfParent(node) {\n        var childNodesOfParent = node.parentNode.childNodes;\n        var i, t, found;\n\n        for (i = 0, t = childNodesOfParent.length; i < t; i += 1) {\n          if (childNodesOfParent[i] === node) {\n            found = i;\n            break;\n          }\n        }\n\n        return found;\n      };\n      /**\n       * get child node by offset\n       * @param {Node} node node\n       * @param {number} index offset index\n       * @returns {Node} foudned node\n       * @ignore\n       */\n\n\n      var getChildNodeByOffset = function getChildNodeByOffset(node, index) {\n        var currentNode;\n\n        if (isTextNode(node)) {\n          currentNode = node;\n        } else if (node.childNodes.length && index >= 0) {\n          currentNode = node.childNodes[index];\n        }\n\n        return currentNode;\n      };\n      /**\n       * find next node from passed node\n       * @param {strong} direction previous or next\n       * @param {Node} node node\n       * @param {string} untilNodeName parent node name to limit\n       * @returns {Node} founded node\n       * @ignore\n       */\n\n\n      var getNodeWithDirectionUntil = function getNodeWithDirectionUntil(direction, node, untilNodeName) {\n        var directionKey = direction + \"Sibling\";\n        var nodeName, foundedNode;\n\n        while (node && !node[directionKey]) {\n          nodeName = getNodeName(node.parentNode);\n\n          if (nodeName === untilNodeName || nodeName === 'BODY') {\n            break;\n          }\n\n          node = node.parentNode;\n        }\n\n        if (node[directionKey]) {\n          foundedNode = node[directionKey];\n        }\n\n        return foundedNode;\n      };\n      /**\n       * get prev node of childnode pointed with index\n       * @param {Node} node node\n       * @param {number} index offset index\n       * @param {string} untilNodeName parent node name to limit\n       * @returns {Node} founded node\n       * @ignore\n       */\n\n\n      var getPrevOffsetNodeUntil = function getPrevOffsetNodeUntil(node, index, untilNodeName) {\n        var prevNode;\n\n        if (index > 0) {\n          prevNode = getChildNodeByOffset(node, index - 1);\n        } else {\n          prevNode = getNodeWithDirectionUntil('previous', node, untilNodeName);\n        }\n\n        return prevNode;\n      };\n\n      var getParentUntilBy = function getParentUntilBy(node, matchCondition, stopCondition) {\n        var foundedNode;\n\n        while (node.parentNode && !matchCondition(node.parentNode)) {\n          node = node.parentNode;\n\n          if (stopCondition && stopCondition(node.parentNode)) {\n            break;\n          }\n        }\n\n        if (matchCondition(node.parentNode)) {\n          foundedNode = node;\n        }\n\n        return foundedNode;\n      };\n      /**\n       * get parent node until paseed node name\n       * @param {Node} node node\n       * @param {string|HTMLNode} untilNode node name or node to limit\n       * @returns {Node} founded node\n       * @ignore\n       */\n\n\n      var getParentUntil = function getParentUntil(node, untilNode) {\n        var foundedNode;\n\n        if (tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2___default()(untilNode)) {\n          foundedNode = getParentUntilBy(node, function (targetNode) {\n            return untilNode === getNodeName(targetNode);\n          });\n        } else {\n          foundedNode = getParentUntilBy(node, function (targetNode) {\n            return untilNode === targetNode;\n          });\n        }\n\n        return foundedNode;\n      };\n      /**\n       * get node on the given direction under given parent\n       * @param {strong} direction previous or next\n       * @param {Node} node node\n       * @param {string|Node} underNode parent node name to limit\n       * @returns {Node} founded node\n       * @ignore\n       */\n\n\n      var getNodeWithDirectionUnderParent = function getNodeWithDirectionUnderParent(direction, node, underNode) {\n        var directionKey = direction + \"Sibling\";\n        var foundedNode;\n        node = getParentUntil(node, underNode);\n\n        if (node && node[directionKey]) {\n          foundedNode = node[directionKey];\n        }\n\n        return foundedNode;\n      };\n      /**\n       * get top previous top level node under given node\n       * @param {Node} node node\n       * @param {Node} underNode underNode\n       * @returns {Node} founded node\n       * @ignore\n       */\n\n\n      var getTopPrevNodeUnder = function getTopPrevNodeUnder(node, underNode) {\n        return getNodeWithDirectionUnderParent('previous', node, underNode);\n      };\n      /**\n       * get next top level block node\n       * @param {Node} node node\n       * @param {Node} underNode underNode\n       * @returns {Node} founded node\n       * @ignore\n       */\n\n\n      var getTopNextNodeUnder = function getTopNextNodeUnder(node, underNode) {\n        return getNodeWithDirectionUnderParent('next', node, underNode);\n      };\n      /**\n       * Get parent element the body element\n       * @param {Node} node Node for start searching\n       * @returns {Node}\n       * @ignore\n       */\n\n\n      var getTopBlockNode = function getTopBlockNode(node) {\n        return getParentUntil(node, 'BODY');\n      };\n      /**\n       * Get previous text node\n       * @param {Node} node Node for start searching\n       * @returns {Node}\n       * @ignore\n       */\n\n\n      var getPrevTextNode = function getPrevTextNode(node) {\n        node = node.previousSibling || node.parentNode;\n\n        while (!isTextNode(node) && getNodeName(node) !== 'BODY') {\n          if (node.previousSibling) {\n            node = node.previousSibling;\n\n            while (node.lastChild) {\n              node = node.lastChild;\n            }\n          } else {\n            node = node.parentNode;\n          }\n        }\n\n        if (getNodeName(node) === 'BODY') {\n          node = null;\n        }\n\n        return node;\n      };\n      /**\n       * test whether root contains the given node\n       * @param {HTMLNode|string} root - root node\n       * @param {HTMLNode} found - node to test\n       * @returns {Boolean} true if root contains node\n       * @ignore\n       */\n\n\n      var containsNode = function containsNode(root, node) {\n        var walker = document.createTreeWalker(root, 4, null, false);\n        var found = root === node;\n\n        while (!found && walker.nextNode()) {\n          found = walker.currentNode === node;\n        }\n\n        return found;\n      };\n      /**\n       * find node by offset\n       * @param {HTMLElement} root Root element\n       * @param {Array.<number>} offsetList offset list\n       * @param {function} textNodeFilter Text node filter\n       * @returns {Array}\n       * @ignore\n       */\n\n\n      var findOffsetNode = function findOffsetNode(root, offsetList, textNodeFilter) {\n        var result = [];\n        var text = '';\n        var walkerOffset = 0;\n        var newWalkerOffset;\n\n        if (!offsetList.length) {\n          return result;\n        }\n\n        var offset = offsetList.shift();\n        var walker = document.createTreeWalker(root, 4, null, false);\n\n        while (walker.nextNode()) {\n          text = walker.currentNode.nodeValue || '';\n\n          if (textNodeFilter) {\n            text = textNodeFilter(text);\n          }\n\n          newWalkerOffset = walkerOffset + text.length;\n\n          while (newWalkerOffset >= offset) {\n            result.push({\n              container: walker.currentNode,\n              offsetInContainer: offset - walkerOffset,\n              offset: offset\n            });\n\n            if (!offsetList.length) {\n              return result;\n            }\n\n            offset = offsetList.shift();\n          }\n\n          walkerOffset = newWalkerOffset;\n        } // there should be offset left\n\n\n        do {\n          result.push({\n            container: walker.currentNode,\n            offsetInContainer: text.length,\n            offset: offset\n          });\n          offset = offsetList.shift();\n        } while (!tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default()(offset));\n\n        return result;\n      };\n\n      var getNodeInfo = function getNodeInfo(node) {\n        var path = {};\n        path.tagName = node.nodeName;\n\n        if (node.id) {\n          path.id = node.id;\n        }\n\n        var className = node.className.trim();\n\n        if (className) {\n          path.className = className;\n        }\n\n        return path;\n      };\n\n      var getPath = function getPath(node, root) {\n        var paths = [];\n\n        while (node && node !== root) {\n          if (isElemNode(node)) {\n            paths.unshift(getNodeInfo(node));\n          }\n\n          node = node.parentNode;\n        }\n\n        return paths;\n      };\n      /**\n       * Find next, previous TD or TH element by given TE element\n       * @param {HTMLElement} node TD element\n       * @param {string} direction 'next' or 'previous'\n       * @returns {HTMLElement|null}\n       * @ignore\n       */\n\n\n      var getTableCellByDirection = function getTableCellByDirection(node, direction) {\n        var targetElement = null;\n\n        if (!tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default()(direction) && (direction === 'next' || direction === 'previous')) {\n          if (direction === 'next') {\n            targetElement = node.nextElementSibling;\n          } else {\n            targetElement = node.previousElementSibling;\n          }\n        }\n\n        return targetElement;\n      };\n      /**\n       * Find sibling TR's TD element by given TD and direction\n       * @param {HTMLElement} node TD element\n       * @param {string} direction Boolean value for find first TD in next line\n       * @param {boolean} [needEdgeCell=false] Boolean value for find first TD in next line\n       * @returns {HTMLElement|null}\n       * @ignore\n       */\n\n\n      var getSiblingRowCellByDirection = function getSiblingRowCellByDirection(node, direction, needEdgeCell) {\n        var tableCellElement = null;\n        var index, targetRowElement, currentContainer, siblingContainer, isSiblingContainerExists;\n\n        if (!tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default()(direction) && (direction === 'next' || direction === 'previous')) {\n          if (node) {\n            if (direction === 'next') {\n              targetRowElement = node.parentNode && node.parentNode.nextSibling;\n              currentContainer = parents(node, 'thead');\n              siblingContainer = currentContainer[0] && currentContainer[0].nextSibling;\n              isSiblingContainerExists = siblingContainer && getNodeName(siblingContainer) === 'TBODY';\n              index = 0;\n            } else {\n              targetRowElement = node.parentNode && node.parentNode.previousSibling;\n              currentContainer = parents(node, 'tbody');\n              siblingContainer = currentContainer[0] && currentContainer[0].previousSibling;\n              isSiblingContainerExists = siblingContainer && getNodeName(siblingContainer) === 'THEAD';\n              index = node.parentNode.childNodes.length - 1;\n            }\n\n            if (tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default()(needEdgeCell) || !needEdgeCell) {\n              index = getNodeOffsetOfParent(node);\n            }\n\n            if (targetRowElement) {\n              tableCellElement = children(targetRowElement, 'td,th')[index];\n            } else if (currentContainer[0] && isSiblingContainerExists) {\n              tableCellElement = findAll(siblingContainer, 'td,th')[index];\n            }\n          }\n        }\n\n        return tableCellElement;\n      };\n      /**\n       * Check that the inline node is supported by markdown\n       * @param {Node} node TD element\n       * @returns {boolean}\n       * @ignore\n       */\n\n\n      var isMDSupportInlineNode = function isMDSupportInlineNode(node) {\n        return /^(A|B|BR|CODE|DEL|EM|I|IMG|S|SPAN|STRONG)$/gi.test(node.nodeName);\n      };\n      /**\n       * Check that node is styled node.\n       * Styled node is a node that has text and decorates text.\n       * @param {Node} node TD element\n       * @returns {boolean}\n       * @ignore\n       */\n\n\n      var isStyledNode = function isStyledNode(node) {\n        return /^(A|ABBR|ACRONYM|B|BDI|BDO|BIG|CITE|CODE|DEL|DFN|EM|I|INS|KBD|MARK|Q|S|SAMP|SMALL|SPAN|STRONG|SUB|SUP|U|VAR)$/gi.test(node.nodeName);\n      };\n      /**\n       * remove node from 'start' node to 'end-1' node inside parent\n       * if 'end' node is null, remove all child nodes after 'start' node.\n       * @param {Node} parentNode - parent node\n       * @param {Node} start - start node to remove\n       * @param {Node} end - end node to remove\n       * @ignore\n       */\n\n\n      var removeChildFromStartToEndNode = function removeChildFromStartToEndNode(parentNode, start, end) {\n        var child = start;\n\n        if (!child || parentNode !== child.parentNode) {\n          return;\n        }\n\n        while (child !== end) {\n          var nextNode = child.nextSibling;\n          parentNode.removeChild(child);\n          child = nextNode;\n        }\n      };\n      /**\n       * remove nodes along the direction from the node to reach targetParent node\n       * @param {Node} targetParent - stop removing when reach target parent node\n       * @param {Node} node - start node\n       * @param {boolean} isForward - direction\n       * @ignore\n       */\n\n\n      var removeNodesByDirection = function removeNodesByDirection(targetParent, node, isForward) {\n        var parentNode = node;\n\n        while (parentNode !== targetParent) {\n          var nextParent = parentNode.parentNode;\n          var _parentNode = parentNode,\n              nextSibling = _parentNode.nextSibling,\n              previousSibling = _parentNode.previousSibling;\n\n          if (!isForward && nextSibling) {\n            removeChildFromStartToEndNode(nextParent, nextSibling, null);\n          } else if (isForward && previousSibling) {\n            removeChildFromStartToEndNode(nextParent, nextParent.childNodes[0], parentNode);\n          }\n\n          parentNode = nextParent;\n        }\n      };\n\n      var getLeafNode = function getLeafNode(node) {\n        var result = node;\n\n        while (result.childNodes && result.childNodes.length) {\n          var _result = result,\n              nextLeaf = _result.firstChild; // When inline tag have empty text node with other childnodes, ignore empty text node.\n\n          if (isTextNode(nextLeaf) && !getTextLength(nextLeaf)) {\n            result = nextLeaf.nextSibling || nextLeaf;\n          } else {\n            result = nextLeaf;\n          }\n        }\n\n        return result;\n      };\n      /**\n       * check if a coordinates is inside a task box\n       * @param {object} style - computed style of task box\n       * @param {number} offsetX - event x offset\n       * @param {number} offsetY - event y offset\n       * @returns {boolean}\n       * @ignore\n       */\n\n\n      var isInsideTaskBox = function isInsideTaskBox(style, offsetX, offsetY) {\n        var rect = {\n          left: parseInt(style.left, 10),\n          top: parseInt(style.top, 10),\n          width: parseInt(style.width, 10),\n          height: parseInt(style.height, 10)\n        };\n        return offsetX >= rect.left && offsetX <= rect.left + rect.width && offsetY >= rect.top && offsetY <= rect.top + rect.height;\n      };\n      /**\n       * Check whether node is OL or UL\n       * @param {node} node - node\n       * @returns {boolean} - whether node is OL or UL\n       * @ignore\n       */\n\n\n      var isListNode = function isListNode(node) {\n        if (!node) {\n          return false;\n        }\n\n        return node.nodeName === 'UL' || node.nodeName === 'OL';\n      };\n      /**\n       * Check whether node is first list item\n       * @param {node} node - node\n       * @returns {boolean} whether node is first list item\n       * @ignore\n       */\n\n\n      var isFirstListItem = function isFirstListItem(node) {\n        var nodeName = node.nodeName,\n            parentNode = node.parentNode;\n        return nodeName === 'LI' && node === parentNode.firstChild;\n      };\n      /**\n       * Check whether node is first level list item\n       * @param {node} node - node\n       * @returns {boolean} whether node is first level list item\n       * @ignore\n       */\n\n\n      var isFirstLevelListItem = function isFirstLevelListItem(node) {\n        var nodeName = node.nodeName,\n            listNode = node.parentNode;\n        var listParentNode = listNode.parentNode;\n        return nodeName === 'LI' && !isListNode(listParentNode);\n      };\n      /**\n       * Merge node to target node and detach node\n       * @param {node} node - node\n       * @param {node} targetNode - target node\n       * @ignore\n       */\n\n\n      var mergeNode = function mergeNode(node, targetNode) {\n        if (node.hasChildNodes()) {\n          tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(node.childNodes).forEach(function () {\n            targetNode.appendChild(node.firstChild);\n          });\n          targetNode.normalize();\n        }\n\n        if (node.parentNode) {\n          node.parentNode.removeChild(node);\n        }\n      };\n      /**\n       * Create hr that is not contenteditable\n       * @returns {node} hr is wraped div\n       * @ignore\n       */\n\n\n      var createHorizontalRule = function createHorizontalRule() {\n        var div = document.createElement('div');\n        var hr = document.createElement('hr');\n        div.setAttribute('contenteditable', false);\n        hr.setAttribute('contenteditable', false);\n        div.appendChild(hr);\n        return div;\n      };\n      /**\n       * Create Empty Line\n       * @returns {node} <div><br></div>\n       * @private\n       */\n\n\n      var createEmptyLine = function createEmptyLine() {\n        var div = document.createElement('div');\n        div.appendChild(document.createElement('br'));\n        return div;\n      };\n      /**\n       * Find same tagName child node and change wrapping order.\n       * For example, if below node need to optimize 'B' tag.\n       * <i><s><b>test</b></s></i>\n       * should be changed tag's order.\n       * <b><i><s>test</s></i></b>\n       * @param {node} node\n       * @param {string} tagName\n       * @returns {node}\n       * @private\n       */\n\n\n      var changeTagOrder = function changeTagOrder(node, tagName) {\n        if (node.nodeName !== 'SPAN') {\n          var parentNode = node.parentNode;\n          var tempNode = node;\n\n          while (tempNode.childNodes && tempNode.childNodes.length === 1 && !isTextNode(tempNode.firstChild)) {\n            tempNode = tempNode.firstChild;\n\n            if (tempNode.nodeName === 'SPAN') {\n              break;\n            }\n\n            if (tempNode.nodeName === tagName) {\n              var wrapper = document.createElement(tagName);\n              mergeNode(tempNode, tempNode.parentNode);\n              parentNode.replaceChild(wrapper, node);\n              wrapper.appendChild(node);\n              return wrapper;\n            }\n          }\n        }\n\n        return node;\n      };\n      /**\n       * Find same tagName nodes and merge from startNode to endNode.\n       * @param {node} startNode\n       * @param {node} endNode\n       * @param {string} tagName\n       * @returns {node}\n       * @private\n       */\n\n\n      var mergeSameNodes = function mergeSameNodes(startNode, endNode, tagName) {\n        var startBlockNode = changeTagOrder(startNode, tagName);\n\n        if (startBlockNode.nodeName === tagName) {\n          var endBlockNode = changeTagOrder(endNode, tagName);\n          var mergeTargetNode = startBlockNode;\n          var nextNode = startBlockNode.nextSibling;\n\n          while (nextNode) {\n            var tempNext = nextNode.nextSibling;\n            nextNode = changeTagOrder(nextNode, tagName);\n\n            if (nextNode.nodeName === tagName) {\n              // eslint-disable-next-line max-depth\n              if (mergeTargetNode) {\n                mergeNode(nextNode, mergeTargetNode);\n              } else {\n                mergeTargetNode = nextNode;\n              }\n            } else {\n              mergeTargetNode = null;\n            }\n\n            if (nextNode === endBlockNode) {\n              break;\n            }\n\n            nextNode = tempNext;\n          }\n        }\n      };\n      /**\n       * Find same tagName nodes in range and merge nodes.\n       * For example range is like this\n       * <s><b>AAA</b></s><b>BBB</b>\n       * nodes is changed below\n       * <b><s>AAA</s>BBB</b>\n       * @param {range} range\n       * @param {string} tagName\n       * @private\n       */\n\n\n      var optimizeRange = function optimizeRange(range, tagName) {\n        var collapsed = range.collapsed,\n            commonAncestorContainer = range.commonAncestorContainer,\n            startContainer = range.startContainer,\n            endContainer = range.endContainer;\n\n        if (!collapsed) {\n          var optimizedNode = null;\n\n          if (startContainer !== endContainer) {\n            var startNode = getParentUntil(startContainer, commonAncestorContainer);\n            var endNode = getParentUntil(endContainer, commonAncestorContainer);\n\n            if (startNode && endNode) {\n              mergeSameNodes(startNode, endNode, tagName);\n            }\n\n            optimizedNode = commonAncestorContainer;\n          } else if (isTextNode(startContainer)) {\n            optimizedNode = startContainer.parentNode;\n          }\n\n          if (optimizedNode && optimizedNode.nodeName === tagName) {\n            var _optimizedNode = optimizedNode,\n                previousSibling = _optimizedNode.previousSibling;\n            var tempNode;\n\n            if (previousSibling) {\n              tempNode = changeTagOrder(previousSibling);\n\n              if (tempNode.nodeName === tagName) {\n                mergeNode(optimizedNode, tempNode);\n              }\n            }\n\n            var _optimizedNode2 = optimizedNode,\n                nextSibling = _optimizedNode2.nextSibling;\n\n            if (nextSibling) {\n              tempNode = changeTagOrder(nextSibling);\n\n              if (tempNode.nodeName === tagName) {\n                mergeNode(tempNode, optimizedNode);\n              }\n            }\n          }\n        }\n      };\n      /**\n       * Gets all text node from root element.\n       * @param {HTMLElement} root Root element\n       * @returns {Array} list of text nodes\n       * @ignore\n       */\n\n\n      var getAllTextNode = function getAllTextNode(root) {\n        var walker = document.createTreeWalker(root, 4, null, false);\n        var result = [];\n\n        while (walker.nextNode()) {\n          var node = walker.currentNode;\n\n          if (isTextNode(node)) {\n            result.push(node);\n          }\n        }\n\n        return result;\n      };\n      /**\n       * Check whether the node is 'TD' or 'TH'\n       * @param {HTMLElement} node - the target node\n       * @returns {boolean} - whether the node is 'TD' or 'TH'\n       * @ignore\n       */\n\n\n      var isCellNode = function isCellNode(node) {\n        if (!node) {\n          return false;\n        }\n\n        return node.nodeName === 'TD' || node.nodeName === 'TH';\n      };\n      /**\n       * Get the last node on the target node by the condition\n       * @param {HTMLElement} node - the target node\n       * @returns {function} - the condition to find the node\n       * @ignore\n       */\n\n\n      var getLastNodeBy = function getLastNodeBy(node, condition) {\n        var lastNode = node && node.lastChild;\n\n        while (lastNode && condition(lastNode)) {\n          lastNode = lastNode.lastChild;\n        }\n\n        return lastNode;\n      };\n      /**\n       * Get the parent node on the target node by the condition\n       * @param {HTMLElement} node - the target node\n       * @returns {function} - the condition to find the node\n       * @ignore\n       */\n\n\n      var getParentNodeBy = function getParentNodeBy(node, condition) {\n        while (node && condition(node.parentNode, node)) {\n          node = node.parentNode;\n        }\n\n        return node;\n      };\n      /**\n       * Get the sibling node on the target node by the condition\n       * @param {HTMLElement} node - the target node\n       * @param {string} direction - the direction to find node ('previous', 'next')\n       * @returns {function} - the condition to find the node\n       * @ignore\n       */\n\n\n      var getSiblingNodeBy = function getSiblingNodeBy(node, direction, condition) {\n        var directionKey = direction + \"Sibling\";\n\n        while (node && condition(node[directionKey], node)) {\n          node = node[directionKey];\n        }\n\n        return node;\n      };\n      /**\n       * Create element with contents\n       * @param {string|Node} contents - contents to appended\n       * @param {HTMLElement} [target] - container element to append contents\n       * @returns {Node} created node\n       * @ignore\n       */\n\n\n      function createElementWith(contents, target) {\n        var container = document.createElement('div');\n\n        if (tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2___default()(contents)) {\n          container.innerHTML = contents;\n        } else {\n          container.appendChild(contents);\n        }\n\n        var firstChild = container.firstChild;\n\n        if (target) {\n          target.appendChild(firstChild);\n        }\n\n        return firstChild;\n      }\n      /**\n       * Find nodes matching by selector\n       * @param {HTMLElement} element - target element\n       * @param {string} selector - selector to find nodes\n       * @returns {Array.<Node>} found nodes\n       * @ignore\n       */\n\n\n      function findAll(element, selector) {\n        var nodeList = tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(element.querySelectorAll(selector));\n\n        if (nodeList.length) {\n          return nodeList;\n        }\n\n        return [];\n      }\n      /**\n       * Checks whether specific node is included in target node\n       * @param {HTMLElement} element - target to find\n       * @param {Node} containedNode - node to find\n       * @returns {boolean} whether node is contained or not\n       * @ignore\n       */\n\n\n      function isContain(element, contained) {\n        return element !== contained && element.contains(contained);\n      }\n      /**\n       * Gets closest node matching by selector\n       * @param {Node} node - target node\n       * @param {string|Node} found - selector or element to find node\n       * @returns {?Node} - found node\n       * @ignore\n       */\n\n\n      function closest(node, found) {\n        var condition;\n\n        if (tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2___default()(found)) {\n          condition = function condition(target) {\n            return tui_code_snippet_domUtil_matches__WEBPACK_IMPORTED_MODULE_7___default()(target, found);\n          };\n        } else {\n          condition = function condition(target) {\n            return target === found;\n          };\n        }\n\n        while (node && node !== document) {\n          if (isElemNode(node) && condition(node)) {\n            return node;\n          }\n\n          node = node.parentNode;\n        }\n\n        return null;\n      }\n      /**\n       * Gets parent node matching by selector from target node\n       * @param {Node} node - target node\n       * @param {string} [selector] - selector to find\n       * @returns {Node} found node\n       * @ignore\n       */\n\n\n      function parent(node, selector) {\n        var parentNode = node.parentNode;\n\n        if (selector) {\n          return parentNode && tui_code_snippet_domUtil_matches__WEBPACK_IMPORTED_MODULE_7___default()(parentNode, selector) ? parentNode : null;\n        }\n\n        return parentNode;\n      }\n      /**\n       * Gets ancestor nodes matching by selector from target node\n       * @param {Node} node - target node\n       * @param {string|Node} found - selector or node to find\n       * @returns {Array.<Node>} found nodes\n       * @ignore\n       */\n\n\n      function parents(node, found) {\n        var result = [];\n\n        while (node && node !== document) {\n          node = closest(node.parentNode, found);\n\n          if (node) {\n            result.push(node);\n          }\n        }\n\n        return result;\n      }\n      /**\n       * Gets ancestor nodes until matching by selector from target node\n       * @param {Node} node - target node\n       * @param {string} selector - selector to find\n       * @param {Array.<Node>} found nodes\n       * @ignore\n       */\n\n\n      function parentsUntil(node, selector) {\n        var result = [];\n\n        while (node.parentNode && !tui_code_snippet_domUtil_matches__WEBPACK_IMPORTED_MODULE_7___default()(node.parentNode, selector)) {\n          node = node.parentNode;\n\n          if (node) {\n            result.push(node);\n          }\n        }\n\n        return result;\n      }\n      /**\n       * Gets child nodes matching by selector from target node\n       * @param {Node} node - target node\n       * @param {string} selector - selector to find\n       * @returns {Array.<Node>} found nodes\n       * @ignore\n       */\n\n\n      function children(node, selector) {\n        var foundChildren;\n\n        if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n          foundChildren = node.childNodes;\n        } else {\n          foundChildren = node.children;\n        }\n\n        return tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(foundChildren).filter(function (child) {\n          return tui_code_snippet_domUtil_matches__WEBPACK_IMPORTED_MODULE_7___default()(child, selector);\n        });\n      }\n      /**\n       * Appends node(s) on target node\n       * @param {Node} node - target node\n       * @param {string|Node} appended - html string or node to append\n       * @ignore\n       */\n\n\n      function append(node, appended) {\n        if (tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2___default()(appended)) {\n          node.insertAdjacentHTML('beforeEnd', appended);\n        } else {\n          appended = appended.length ? tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(appended) : [appended];\n\n          for (var i = 0, len = appended.length; i < len; i += 1) {\n            node.appendChild(appended[i]);\n          }\n        }\n      }\n      /**\n       * Prepends node(s) on target node\n       * @param {Node} node - target node\n       * @param {string|Node} appended - html string or node to append\n       * @ignore\n       */\n\n\n      function prepend(node, appended) {\n        if (tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_2___default()(appended)) {\n          node.insertAdjacentHTML('afterBegin', appended);\n        } else {\n          appended = appended.length ? tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(appended) : [appended];\n\n          for (var i = appended.length - 1, len = 0; i >= len; i -= 1) {\n            node.insertBefore(appended[i], node.firstChild);\n          }\n        }\n      }\n      /**\n       * Inserts new node in front of target node\n       * @param {Node} insertedNode - node to insert\n       * @param {Node} node - target node\n       * @ignore\n       */\n\n\n      function insertBefore(insertedNode, node) {\n        var parentNode = node.parentNode;\n\n        if (parentNode) {\n          parentNode.insertBefore(insertedNode, node);\n        }\n      }\n      /**\n       * Inserts new node after target node\n       * @param {Node} insertedNode - node to insert\n       * @param {Node} node - target node\n       * @ignore\n       */\n\n\n      function insertAfter(insertedNode, node) {\n        var parentNode = node.parentNode;\n\n        if (parentNode) {\n          parentNode.insertBefore(insertedNode, node.nextSibling);\n        }\n      }\n      /**\n       * Replaces target node(s) with html\n       * @param {Node} nodeList - target node(s) to replace\n       * @param {string} html - replaced html\n       * @ignore\n       */\n\n\n      function replaceWith(nodeList, html) {\n        nodeList = nodeList.length ? tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(nodeList) : [nodeList];\n        nodeList.forEach(function (node) {\n          node.insertAdjacentHTML('afterEnd', html);\n          node.parentNode.removeChild(node);\n        });\n      }\n      /**\n       * Adds parent element to target node(s)\n       * @param {Node|Array.<Node>} nodeList - target node(s)\n       * @param {string} nodeName - node name to change parent element\n       * @ignore\n       */\n\n\n      function wrap(nodeList, nodeName) {\n        nodeList = nodeList.length ? tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(nodeList) : [nodeList];\n        nodeList.forEach(function (node) {\n          var wrapper = document.createElement(nodeName);\n          node.parentNode.insertBefore(wrapper, node);\n          wrapper.appendChild(node);\n        });\n      }\n      /**\n       * Adds child element to target node(s)\n       * @param {Node|Array.<Node>} nodeList - target node(s)\n       * @param {string} nodeName - node name to change child element\n       * @ignore\n       */\n\n\n      function wrapInner(nodeList, nodeName) {\n        nodeList = nodeList.length ? tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(nodeList) : [nodeList];\n        nodeList.forEach(function (node) {\n          var wrapper = document.createElement(nodeName);\n          node.appendChild(wrapper);\n\n          while (node.firstChild !== wrapper) {\n            wrapper.appendChild(node.firstChild);\n          }\n        });\n      }\n      /**\n       * Removes target element and insert children at the same position\n       * @param {Node} node - parent node\n       * @returns {Array.<Node>} unwrapped nodes\n       * @ignore\n       */\n\n\n      function unwrap(node) {\n        var result = [];\n\n        while (node.firstChild) {\n          result.push(node.firstChild);\n          node.parentNode.insertBefore(node.firstChild, node);\n        }\n\n        remove(node);\n        return result;\n      }\n      /**\n       * Removes target node from parent node\n       * @param {Node} node - target node\n       * @ignore\n       */\n\n\n      function remove(node) {\n        if (node.parentNode) {\n          node.parentNode.removeChild(node);\n        }\n      }\n      /**\n       * Removes all children of target node\n       * @param {Node} node - target node\n       * @ignore\n       */\n\n\n      function empty(node) {\n        while (node.firstChild) {\n          node.removeChild(node.firstChild);\n        }\n      }\n      /**\n       * Sets offset value of target element\n       * @param {HTMLElement} element - target element\n       * @returns {Object.<string, number>} offset values\n       * @ignore\n       */\n\n\n      function setOffset(element, offset) {\n        var _element$parentNode$g = element.parentNode.getBoundingClientRect(),\n            top = _element$parentNode$g.top,\n            left = _element$parentNode$g.left;\n\n        tui_code_snippet_domUtil_css__WEBPACK_IMPORTED_MODULE_3___default()(element, {\n          top: offset.top - top - document.body.scrollTop + \"px\"\n        });\n        tui_code_snippet_domUtil_css__WEBPACK_IMPORTED_MODULE_3___default()(element, {\n          left: offset.left - left - document.body.scrollLeft + \"px\"\n        });\n      }\n      /**\n       * Gets offset value of target element\n       * @param {HTMLElement} element - target element\n       * @returns {Object.<string, number>} offset values\n       * @ignore\n       */\n\n\n      function getOffset(element) {\n        var top = 0;\n        var left = 0;\n\n        do {\n          top += element.offsetTop || 0;\n          left += element.offsetLeft || 0;\n          element = element.offsetParent;\n        } while (element);\n\n        return {\n          top: top,\n          left: left\n        };\n      }\n      /**\n       * Gets outer width value of target element\n       * @param {HTMLElement} element - target element\n       * @param {boolean} includedMargin - whether to include margir or not\n       * @returns {number} outer width value\n       * @ignore\n       */\n\n\n      function getOuterWidth(element, includedMargin) {\n        var widthValue = element.offsetWidth;\n\n        if (includedMargin) {\n          var _getComputedStyle = getComputedStyle(element),\n              marginLeft = _getComputedStyle.marginLeft,\n              marginRight = _getComputedStyle.marginRight;\n\n          widthValue += parseInt(marginLeft, 10) + parseInt(marginRight, 10);\n        }\n\n        return widthValue;\n      }\n      /**\n       * Gets outer height value of target element\n       * @param {HTMLElement} element - target element\n       * @param {boolean} includedMargin - whether to include margir or not\n       * @returns {number} outer height value\n       * @ignore\n       */\n\n\n      function getOuterHeight(element, includedMargin) {\n        var heightValue = element.offsetHeight;\n\n        if (includedMargin) {\n          var _getComputedStyle2 = getComputedStyle(element),\n              marginTop = _getComputedStyle2.marginTop,\n              marginBottom = _getComputedStyle2.marginBottom;\n\n          heightValue += parseInt(marginTop, 10) + parseInt(marginBottom, 10);\n        }\n\n        return heightValue;\n      }\n      /**\n       * Toggles class name of target element\n       * @param {HTMLElement} element - target element\n       * @param {string} className - class name to toggle\n       * @param {boolean} [state] - whether to toggle or not by condition\n       * @ignore\n       */\n\n\n      var toggleClass = function toggleClass(element, className, state) {\n        if (tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default()(state)) {\n          state = !tui_code_snippet_domUtil_hasClass__WEBPACK_IMPORTED_MODULE_6___default()(element, className);\n        }\n\n        var toggleFn = state ? tui_code_snippet_domUtil_addClass__WEBPACK_IMPORTED_MODULE_4___default.a : tui_code_snippet_domUtil_removeClass__WEBPACK_IMPORTED_MODULE_5___default.a;\n        toggleFn(element, className);\n      };\n      /* harmony default export */\n\n\n      __webpack_exports__[\"a\"] = {\n        getNodeName: getNodeName,\n        isTextNode: isTextNode,\n        isElemNode: isElemNode,\n        isBlockNode: isBlockNode,\n        getTextLength: getTextLength,\n        getOffsetLength: getOffsetLength,\n        getPrevOffsetNodeUntil: getPrevOffsetNodeUntil,\n        getNodeOffsetOfParent: getNodeOffsetOfParent,\n        getChildNodeByOffset: getChildNodeByOffset,\n        getNodeWithDirectionUntil: getNodeWithDirectionUntil,\n        containsNode: containsNode,\n        getTopPrevNodeUnder: getTopPrevNodeUnder,\n        getTopNextNodeUnder: getTopNextNodeUnder,\n        getParentUntilBy: getParentUntilBy,\n        getParentUntil: getParentUntil,\n        getTopBlockNode: getTopBlockNode,\n        getPrevTextNode: getPrevTextNode,\n        findOffsetNode: findOffsetNode,\n        getPath: getPath,\n        getNodeInfo: getNodeInfo,\n        getTableCellByDirection: getTableCellByDirection,\n        getSiblingRowCellByDirection: getSiblingRowCellByDirection,\n        isMDSupportInlineNode: isMDSupportInlineNode,\n        isStyledNode: isStyledNode,\n        removeChildFromStartToEndNode: removeChildFromStartToEndNode,\n        removeNodesByDirection: removeNodesByDirection,\n        getLeafNode: getLeafNode,\n        isInsideTaskBox: isInsideTaskBox,\n        isListNode: isListNode,\n        isFirstListItem: isFirstListItem,\n        isFirstLevelListItem: isFirstLevelListItem,\n        mergeNode: mergeNode,\n        createHorizontalRule: createHorizontalRule,\n        createEmptyLine: createEmptyLine,\n        changeTagOrder: changeTagOrder,\n        mergeSameNodes: mergeSameNodes,\n        optimizeRange: optimizeRange,\n        getAllTextNode: getAllTextNode,\n        isCellNode: isCellNode,\n        getLastNodeBy: getLastNodeBy,\n        getParentNodeBy: getParentNodeBy,\n        getSiblingNodeBy: getSiblingNodeBy,\n        createElementWith: createElementWith,\n        findAll: findAll,\n        isContain: isContain,\n        closest: closest,\n        parent: parent,\n        parents: parents,\n        parentsUntil: parentsUntil,\n        children: children,\n        append: append,\n        prepend: prepend,\n        insertBefore: insertBefore,\n        insertAfter: insertAfter,\n        replaceWith: replaceWith,\n        wrap: wrap,\n        wrapInner: wrapInner,\n        unwrap: unwrap,\n        remove: remove,\n        empty: empty,\n        setOffset: setOffset,\n        getOffset: getOffset,\n        getOuterWidth: getOuterWidth,\n        getOuterHeight: getOuterHeight,\n        toggleClass: toggleClass\n      };\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\"; // EXTERNAL MODULE: ./node_modules/tui-code-snippet/object/extend.js\n\n      var extend = __webpack_require__(4);\n\n      var extend_default = /*#__PURE__*/__webpack_require__.n(extend); // CONCATENATED MODULE: ./src/js/command.js\n\n      /**\n       * @fileoverview Implements Command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class Command\n       * @param {string} name Command name\n       * @param {number} type Command type (Command.TYPE)\n       * @param {Array.<string>} [keyMap] keyMap\n       * @ignore\n       */\n\n\n      var Command = /*#__PURE__*/function () {\n        function Command(name, type, keyMap) {\n          this.name = name;\n          this.type = type;\n\n          if (keyMap) {\n            this.setKeyMap(keyMap);\n          }\n        }\n        /**\n         * returns Name of command\n         * @returns {string} Command Name\n         */\n\n\n        var _proto = Command.prototype;\n\n        _proto.getName = function getName() {\n          return this.name;\n        }\n        /**\n         * returns Type of command\n         * @returns {number} Command Command type number\n         */\n        ;\n\n        _proto.getType = function getType() {\n          return this.type;\n        }\n        /**\n         * returns whether Command Type is Markdown or not\n         * @returns {boolean} result\n         */\n        ;\n\n        _proto.isMDType = function isMDType() {\n          return this.type === Command.TYPE.MD;\n        }\n        /**\n         * returns whether Command Type is Wysiwyg or not\n         * @returns {boolean} result\n         */\n        ;\n\n        _proto.isWWType = function isWWType() {\n          return this.type === Command.TYPE.WW;\n        }\n        /**\n         * returns whether Command Type is Global or not\n         * @returns {boolean} result\n         */\n        ;\n\n        _proto.isGlobalType = function isGlobalType() {\n          return this.type === Command.TYPE.GB;\n        }\n        /**\n         * Set keymap value for each os\n         * @param {string} win Windows Key(and etc)\n         * @param {string} mac Mac osx key\n         */\n        ;\n\n        _proto.setKeyMap = function setKeyMap(win, mac) {\n          this.keyMap = [win, mac];\n        };\n\n        return Command;\n      }();\n      /**\n       * Command factory method\n       * @param {string} typeStr Editor type name\n       * @param {object} props Property\n       *     @param {string} props.name Command name\n       *     @param {number} props.type Command type number\n       * @returns {Command}\n       * @static\n       */\n\n\n      Command.factory = function (typeStr, props) {\n        var type;\n\n        if (typeStr === 'markdown') {\n          type = Command.TYPE.MD;\n        } else if (typeStr === 'wysiwyg') {\n          type = Command.TYPE.WW;\n        } else if (typeStr === 'global') {\n          type = Command.TYPE.GB;\n        }\n\n        var command = new Command(props.name, type);\n        extend_default()(command, props);\n        return command;\n      };\n      /**\n       * Command Type Constant\n       * markdown : 0\n       * wysiwyg : 1\n       * global : 2\n       * @type {object}\n       * @private\n       */\n\n\n      Command.TYPE = {\n        MD: 0,\n        WW: 1,\n        GB: 2\n      };\n      /* harmony default export */\n\n      var js_command = Command; // EXTERNAL MODULE: ./src/js/utils/common.js\n\n      var common = __webpack_require__(15); // EXTERNAL MODULE: ./src/js/utils/map.js\n\n\n      var map = __webpack_require__(22); // CONCATENATED MODULE: ./src/js/commandManager.js\n\n      /**\n       * @fileoverview Implements CommandManager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var KEYMAP_OS_INDEX = common[\"b\"\n      /* isMac */\n      ] ? 1 : 0;\n      /**\n       * Class CommandManager\n       * @param {ToastUIEditor} base nedInstance\n       * @param {object} [options={}] - option object\n       *     @param {boolean} [options.useCommandShortcut=true] - execute command with keyMap\n       * @ignore\n       */\n\n      var commandManager_CommandManager = /*#__PURE__*/function () {\n        function CommandManager(base, options) {\n          if (options === void 0) {\n            options = {};\n          }\n\n          this._command = new map[\"a\"\n          /* default */\n          ]();\n          this._mdCommand = new map[\"a\"\n          /* default */\n          ]();\n          this._wwCommand = new map[\"a\"\n          /* default */\n          ]();\n          this._options = extend_default()({\n            useCommandShortcut: true\n          }, options);\n          this.base = base;\n          this.keyMapCommand = {};\n\n          this._initEvent();\n        }\n        /**\n         * You can change command before command addition by addCommandBefore event.\n         * @param {object} command - command\n         * @returns {object}\n         * @private\n         */\n\n\n        var _proto = CommandManager.prototype;\n\n        _proto._addCommandBefore = function _addCommandBefore(command) {\n          var commandWrapper = {\n            command: command\n          };\n          this.base.eventManager.emit('addCommandBefore', commandWrapper);\n          return commandWrapper.command || command;\n        }\n        /**\n         * Add command\n         * @param {Command} command Command instance\n         * @returns {Command} Command\n         */\n        ;\n\n        _proto.addCommand = function addCommand(command) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          if (args.length) {\n            command = CommandManager.command.apply(CommandManager, [command].concat(args));\n          }\n\n          command = this._addCommandBefore(command);\n          var name = command.getName();\n          var commandBase;\n\n          if (command.isMDType()) {\n            commandBase = this._mdCommand;\n          } else if (command.isWWType()) {\n            commandBase = this._wwCommand;\n          } else if (command.isGlobalType()) {\n            commandBase = this._command;\n          }\n\n          commandBase.set(name, command);\n\n          if (command.keyMap) {\n            this.keyMapCommand[command.keyMap[KEYMAP_OS_INDEX]] = name;\n          }\n\n          return command;\n        }\n        /**\n         * _initEvent\n         * Bind event handler to eventManager\n         * @private\n         */\n        ;\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          this.base.eventManager.listen('command', function () {\n            _this.exec.apply(_this, arguments);\n          });\n          this.base.eventManager.listen('keyMap', function (ev) {\n            if (!_this._options.useCommandShortcut) {\n              return;\n            }\n\n            var command = _this.keyMapCommand[ev.keyMap];\n\n            if (command) {\n              ev.data.preventDefault();\n\n              _this.exec(command);\n            }\n          });\n        }\n        /**\n         * Execute command\n         * @param {String} name Command name\n         * @param {*} ...args Command argument\n         * @returns {*}\n         */\n        ;\n\n        _proto.exec = function exec(name) {\n          var commandToRun, result;\n          var context = this.base;\n          commandToRun = this._command.get(name);\n\n          if (!commandToRun) {\n            if (this.base.isMarkdownMode()) {\n              commandToRun = this._mdCommand.get(name);\n              context = this.base.mdEditor;\n            } else {\n              commandToRun = this._wwCommand.get(name);\n              context = this.base.wwEditor;\n            }\n          }\n\n          if (commandToRun) {\n            var _commandToRun;\n\n            for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              args[_key2 - 1] = arguments[_key2];\n            }\n\n            args.unshift(context);\n            result = (_commandToRun = commandToRun).exec.apply(_commandToRun, args);\n          }\n\n          return result;\n        };\n\n        return CommandManager;\n      }();\n      /**\n       * Create command by given editor type and property object\n       * @param {string} type Command type\n       * @param {{name: string, keyMap: Array}} props Property\n       * @returns {*}\n       * @static\n       */\n\n\n      commandManager_CommandManager.command = function (type, props) {\n        var command = js_command.factory(type, props.name, props.keyMap);\n        extend_default()(command, props);\n        return command;\n      };\n      /* harmony default export */\n\n\n      var commandManager = __webpack_exports__[\"a\"] = commandManager_CommandManager;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Transform the Array-like object to Array.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var forEachArray = __webpack_require__(20);\n      /**\n       * Transform the Array-like object to Array.\n       * In low IE (below 8), Array.prototype.slice.call is not perfect. So, try-catch statement is used.\n       * @param {*} arrayLike Array-like object\n       * @returns {Array} Array\n       * @memberof module:collection\n       * @example\n       * var toArray = require('tui-code-snippet/collection/toArray'); // node, commonjs\n       *\n       * var arrayLike = {\n       *     0: 'one',\n       *     1: 'two',\n       *     2: 'three',\n       *     3: 'four',\n       *     length: 4\n       * };\n       * var result = toArray(arrayLike);\n       *\n       * alert(result instanceof Array); // true\n       * alert(result); // one,two,three,four\n       */\n\n\n      function toArray(arrayLike) {\n        var arr;\n\n        try {\n          arr = Array.prototype.slice.call(arrayLike);\n        } catch (e) {\n          arr = [];\n          forEachArray(arrayLike, function (value) {\n            arr.push(value);\n          });\n        }\n\n        return arr;\n      }\n\n      module.exports = toArray;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Setting element style\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isString = __webpack_require__(8);\n\n      var forEach = __webpack_require__(24);\n      /**\n       * Setting element style\n       * @param {(HTMLElement|SVGElement)} element - element to setting style\n       * @param {(string|object)} key - style prop name or {prop: value} pair object\n       * @param {string} [value] - style value\n       * @memberof module:domUtil\n       */\n\n\n      function css(element, key, value) {\n        var style = element.style;\n\n        if (isString(key)) {\n          style[key] = value;\n          return;\n        }\n\n        forEach(key, function (v, k) {\n          style[k] = v;\n        });\n      }\n\n      module.exports = css;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Extend the target object from other objects.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * @module object\n       */\n\n      /**\n       * Extend the target object from other objects.\n       * @param {object} target - Object that will be extended\n       * @param {...object} objects - Objects as sources\n       * @returns {object} Extended object\n       * @memberof module:object\n       */\n\n      function extend(target, objects) {\n        // eslint-disable-line no-unused-vars\n        var hasOwnProp = Object.prototype.hasOwnProperty;\n        var source, prop, i, len;\n\n        for (i = 1, len = arguments.length; i < len; i += 1) {\n          source = arguments[i];\n\n          for (prop in source) {\n            if (hasOwnProp.call(source, prop)) {\n              target[prop] = source[prop];\n            }\n          }\n        }\n\n        return target;\n      }\n\n      module.exports = extend;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Add css class to element\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var forEach = __webpack_require__(24);\n\n      var inArray = __webpack_require__(13);\n\n      var getClass = __webpack_require__(32);\n\n      var setClassName = __webpack_require__(39);\n      /**\n       * domUtil module\n       * @module domUtil\n       */\n\n      /**\n       * Add css class to element\n       * @param {(HTMLElement|SVGElement)} element - target element\n       * @param {...string} cssClass - css classes to add\n       * @memberof module:domUtil\n       */\n\n\n      function addClass(element) {\n        var cssClass = Array.prototype.slice.call(arguments, 1);\n        var classList = element.classList;\n        var newClass = [];\n        var origin;\n\n        if (classList) {\n          forEach(cssClass, function (name) {\n            element.classList.add(name);\n          });\n          return;\n        }\n\n        origin = getClass(element);\n\n        if (origin) {\n          cssClass = [].concat(origin.split(/\\s+/), cssClass);\n        }\n\n        forEach(cssClass, function (cls) {\n          if (inArray(cls, newClass) < 0) {\n            newClass.push(cls);\n          }\n        });\n        setClassName(element, newClass);\n      }\n\n      module.exports = addClass;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Remove css class from element\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var forEachArray = __webpack_require__(20);\n\n      var inArray = __webpack_require__(13);\n\n      var getClass = __webpack_require__(32);\n\n      var setClassName = __webpack_require__(39);\n      /**\n       * Remove css class from element\n       * @param {(HTMLElement|SVGElement)} element - target element\n       * @param {...string} cssClass - css classes to remove\n       * @memberof module:domUtil\n       */\n\n\n      function removeClass(element) {\n        var cssClass = Array.prototype.slice.call(arguments, 1);\n        var classList = element.classList;\n        var origin, newClass;\n\n        if (classList) {\n          forEachArray(cssClass, function (name) {\n            classList.remove(name);\n          });\n          return;\n        }\n\n        origin = getClass(element).split(/\\s+/);\n        newClass = [];\n        forEachArray(origin, function (name) {\n          if (inArray(name, cssClass) < 0) {\n            newClass.push(name);\n          }\n        });\n        setClassName(element, newClass);\n      }\n\n      module.exports = removeClass;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is undefined or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Check whether the given variable is undefined or not.\n       * If the given variable is undefined, returns true.\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is undefined?\n       * @memberof module:type\n       */\n\n      function isUndefined(obj) {\n        return obj === undefined; // eslint-disable-line no-undefined\n      }\n\n      module.exports = isUndefined;\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is a string or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Check whether the given variable is a string or not.\n       * If the given variable is a string, return true.\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is string?\n       * @memberof module:type\n       */\n\n      function isString(obj) {\n        return typeof obj === 'string' || obj instanceof String;\n      }\n\n      module.exports = isString;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Execute the provided callback once for each property of object which actually exist.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Execute the provided callback once for each property of object which actually exist.\n       * If the callback function returns false, the loop will be stopped.\n       * Callback function(iteratee) is invoked with three arguments:\n       *  1) The value of the property\n       *  2) The name of the property\n       *  3) The object being traversed\n       * @param {Object} obj The object that will be traversed\n       * @param {function} iteratee  Callback function\n       * @param {Object} [context] Context(this) of callback function\n       * @memberof module:collection\n       * @example\n       * var forEachOwnProperties = require('tui-code-snippet/collection/forEachOwnProperties'); // node, commonjs\n       *\n       * var sum = 0;\n       *\n       * forEachOwnProperties({a:1,b:2,c:3}, function(value){\n       *     sum += value;\n       * });\n       * alert(sum); // 6\n       */\n\n      function forEachOwnProperties(obj, iteratee, context) {\n        var key;\n        context = context || null;\n\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            if (iteratee.call(context, obj[key], key, obj) === false) {\n              break;\n            }\n          }\n        }\n      }\n\n      module.exports = forEachOwnProperties;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview This module detects the kind of well-known browser and version.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Browser module\n       * @module browser\n       */\n\n      /**\n       * This object has an information that indicate the kind of browser.\n       * The list below is a detectable browser list.\n       *  - ie8 ~ ie11\n       *  - chrome\n       *  - firefox\n       *  - safari\n       *  - edge\n       * @memberof module:browser\n       * @example\n       * var browser = require('tui-code-snippet/browser/browser'); // node, commonjs\n       *\n       * browser.chrome === true; // chrome\n       * browser.firefox === true; // firefox\n       * browser.safari === true; // safari\n       * browser.msie === true; // IE\n       * browser.edge === true; // edge\n       * browser.others === true; // other browser\n       * browser.version; // browser version\n       */\n\n      var browser = {\n        chrome: false,\n        firefox: false,\n        safari: false,\n        msie: false,\n        edge: false,\n        others: false,\n        version: 0\n      };\n\n      if (window && window.navigator) {\n        detectBrowser();\n      }\n      /**\n       * Detect the browser.\n       * @private\n       */\n\n\n      function detectBrowser() {\n        var nav = window.navigator;\n        var appName = nav.appName.replace(/\\s/g, '_');\n        var userAgent = nav.userAgent;\n        var rIE = /MSIE\\s([0-9]+[.0-9]*)/;\n        var rIE11 = /Trident.*rv:11\\./;\n        var rEdge = /Edge\\/(\\d+)\\./;\n        var versionRegex = {\n          firefox: /Firefox\\/(\\d+)\\./,\n          chrome: /Chrome\\/(\\d+)\\./,\n          safari: /Version\\/([\\d.]+).*Safari\\/(\\d+)/\n        };\n        var key, tmp;\n        var detector = {\n          Microsoft_Internet_Explorer: function Microsoft_Internet_Explorer() {\n            // eslint-disable-line camelcase\n            var detectedVersion = userAgent.match(rIE);\n\n            if (detectedVersion) {\n              // ie8 ~ ie10\n              browser.msie = true;\n              browser.version = parseFloat(detectedVersion[1]);\n            } else {\n              // no version information\n              browser.others = true;\n            }\n          },\n          Netscape: function Netscape() {\n            // eslint-disable-line complexity\n            var detected = false;\n\n            if (rIE11.exec(userAgent)) {\n              browser.msie = true;\n              browser.version = 11;\n              detected = true;\n            } else if (rEdge.exec(userAgent)) {\n              browser.edge = true;\n              browser.version = userAgent.match(rEdge)[1];\n              detected = true;\n            } else {\n              for (key in versionRegex) {\n                if (versionRegex.hasOwnProperty(key)) {\n                  tmp = userAgent.match(versionRegex[key]);\n\n                  if (tmp && tmp.length > 1) {\n                    // eslint-disable-line max-depth\n                    browser[key] = detected = true;\n                    browser.version = parseFloat(tmp[1] || 0);\n                    break;\n                  }\n                }\n              }\n            }\n\n            if (!detected) {\n              browser.others = true;\n            }\n          }\n        };\n        var fn = detector[appName];\n\n        if (fn) {\n          detector[appName]();\n        }\n      }\n\n      module.exports = browser;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check element match selector\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var inArray = __webpack_require__(13);\n\n      var toArray = __webpack_require__(2);\n\n      var elProto = Element.prototype;\n\n      var matchSelector = elProto.matches || elProto.webkitMatchesSelector || elProto.mozMatchesSelector || elProto.msMatchesSelector || function (selector) {\n        var doc = this.document || this.ownerDocument;\n        return inArray(this, toArray(doc.querySelectorAll(selector))) > -1;\n      };\n      /**\n       * Check element match selector\n       * @param {HTMLElement} element - element to check\n       * @param {string} selector - selector to check\n       * @returns {boolean} is selector matched to element?\n       * @memberof module:domUtil\n       */\n\n\n      function matches(element, selector) {\n        return matchSelector.call(element, selector);\n      }\n\n      module.exports = matches;\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* unused harmony export hasImageOrCodeBlockNode */\n\n      /* unused harmony export hasSameLineParent */\n\n      /* unused harmony export hasSpecificTypeAncestor */\n\n      /* unused harmony export isEmptyLineNode */\n\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"d\", function () {\n        return getMdStartLine;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"b\", function () {\n        return getMdEndLine;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"c\", function () {\n        return getMdStartCh;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return getMdEndCh;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"g\", function () {\n        return isMultiLineNode;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"e\", function () {\n        return isHtmlNode;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"h\", function () {\n        return isStyledTextNode;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"f\", function () {\n        return isListItemNode;\n      });\n      /* unused harmony export getLastLeafNode */\n\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"i\", function () {\n        return traverseParentNodes;\n      });\n      /* harmony import */\n\n\n      var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(15);\n\n      function hasImageOrCodeBlockNode(mdNode) {\n        while (mdNode) {\n          if (Object(_common__WEBPACK_IMPORTED_MODULE_0__[\n          /* includes */\n          \"a\"])(['image', 'codeBlock'], mdNode.type)) {\n            return true;\n          }\n\n          mdNode = mdNode.firstChild;\n        }\n\n        return false;\n      }\n\n      function hasSameLineParent(mdNode) {\n        return mdNode.parent && mdNode.parent.type !== 'document' && mdNode.parent.sourcepos[0][0] === mdNode.sourcepos[0][0];\n      }\n\n      function hasSpecificTypeAncestor(mdNode) {\n        for (var _len = arguments.length, types = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          types[_key - 1] = arguments[_key];\n        }\n\n        while (mdNode.parent && mdNode.parent.type !== 'document') {\n          if (Object(_common__WEBPACK_IMPORTED_MODULE_0__[\n          /* includes */\n          \"a\"])(types, mdNode.parent.type)) {\n            return true;\n          }\n\n          mdNode = mdNode.parent;\n        }\n\n        return false;\n      }\n\n      function isEmptyLineNode(text, mdNode) {\n        return !text.trim() && !hasImageOrCodeBlockNode(mdNode);\n      }\n\n      function getMdStartLine(mdNode) {\n        return mdNode.sourcepos[0][0];\n      }\n\n      function getMdEndLine(mdNode) {\n        return mdNode.sourcepos[1][0];\n      }\n\n      function getMdStartCh(mdNode) {\n        return mdNode.sourcepos[0][1];\n      }\n\n      function getMdEndCh(mdNode) {\n        return mdNode.sourcepos[1][1];\n      }\n\n      function isMultiLineNode(mdNode) {\n        var type = mdNode.type;\n        return type === 'codeBlock' || type === 'paragraph';\n      }\n\n      function isHtmlNode(mdNode) {\n        var type = mdNode.type;\n        return type === 'htmlBlock' || type === 'htmlInline';\n      }\n\n      function isStyledTextNode(mdNode) {\n        var type = mdNode.type;\n        return type === 'strike' || type === 'strong' || type === 'emph';\n      }\n\n      function isListItemNode(mdNode) {\n        return mdNode.type === 'item';\n      }\n\n      function getLastLeafNode(mdNode) {\n        while (mdNode.lastChild) {\n          mdNode = mdNode.lastChild;\n        }\n\n        return mdNode;\n      }\n\n      function traverseParentNodes(mdNode, iteratee) {\n        while (mdNode.parent && mdNode.parent.type !== 'document') {\n          mdNode = mdNode.parent;\n          iteratee(mdNode);\n        }\n      }\n      /***/\n\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /* eslint-disable complexity */\n\n      /**\n       * @fileoverview Returns the first index at which a given element can be found in the array.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isArray = __webpack_require__(21);\n      /**\n       * @module array\n       */\n\n      /**\n       * Returns the first index at which a given element can be found in the array\n       * from start index(default 0), or -1 if it is not present.\n       * It compares searchElement to elements of the Array using strict equality\n       * (the same method used by the ===, or triple-equals, operator).\n       * @param {*} searchElement Element to locate in the array\n       * @param {Array} array Array that will be traversed.\n       * @param {number} startIndex Start index in array for searching (default 0)\n       * @returns {number} the First index at which a given element, or -1 if it is not present\n       * @memberof module:array\n       * @example\n       * var inArray = require('tui-code-snippet/array/inArray'); // node, commonjs\n       *\n       * var arr = ['one', 'two', 'three', 'four'];\n       * var idx1 = inArray('one', arr, 3); // -1\n       * var idx2 = inArray('one', arr); // 0\n       */\n\n\n      function inArray(searchElement, array, startIndex) {\n        var i;\n        var length;\n        startIndex = startIndex || 0;\n\n        if (!isArray(array)) {\n          return -1;\n        }\n\n        if (Array.prototype.indexOf) {\n          return Array.prototype.indexOf.call(array, searchElement, startIndex);\n        }\n\n        length = array.length;\n\n        for (i = startIndex; startIndex >= 0 && i < length; i += 1) {\n          if (array[i] === searchElement) {\n            return i;\n          }\n        }\n\n        return -1;\n      }\n\n      module.exports = inArray;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__14__;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"b\", function () {\n        return isMac;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"c\", function () {\n        return sendHostName;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return includes;\n      });\n      /* harmony import */\n\n\n      var tui_code_snippet_request_sendHostname__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42);\n      /* harmony import */\n\n\n      var tui_code_snippet_request_sendHostname__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_request_sendHostname__WEBPACK_IMPORTED_MODULE_0__);\n\n      var isMac = /Mac/.test(navigator.platform);\n\n      function sendHostName() {\n        tui_code_snippet_request_sendHostname__WEBPACK_IMPORTED_MODULE_0___default()('editor', 'UA-129966929-1');\n      }\n\n      function includes(arr, targetItem) {\n        return arr.indexOf(targetItem) !== -1;\n      }\n      /***/\n\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check element has specific css class\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var inArray = __webpack_require__(13);\n\n      var getClass = __webpack_require__(32);\n      /**\n       * Check element has specific css class\n       * @param {(HTMLElement|SVGElement)} element - target element\n       * @param {string} cssClass - css class\n       * @returns {boolean}\n       * @memberof module:domUtil\n       */\n\n\n      function hasClass(element, cssClass) {\n        var origin;\n\n        if (element.classList) {\n          return element.classList.contains(cssClass);\n        }\n\n        origin = getClass(element).split(/\\s+/);\n        return inArray(cssClass, origin) > -1;\n      }\n\n      module.exports = hasClass;\n      /***/\n    },\n    /* 17 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"h\", function () {\n        return isNodeToBeCalculated;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"b\", function () {\n        return getAdditionalTopPos;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"f\", function () {\n        return getParentNodeObj;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"c\", function () {\n        return getCmRangeHeight;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"e\", function () {\n        return getNextEmptyLineHeight;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"g\", function () {\n        return getTotalOffsetTop;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return findAdjacentElementToScrollTop;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"d\", function () {\n        return getFallbackScrollTop;\n      });\n      /* harmony import */\n\n\n      var _utils_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(15);\n      /* harmony import */\n\n\n      var _utils_markdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);\n\n      var nestableTypes = ['list', 'blockQuote'];\n      var nestableTagNames = ['UL', 'OL', 'BLOCKQUOTE'];\n      var tableElementTagNames = ['TR', 'TH', 'TBODY', 'TD'];\n\n      function isNodeToBeCalculated(mdNode) {\n        return !Object(_utils_common__WEBPACK_IMPORTED_MODULE_0__[\n        /* includes */\n        \"a\"])(nestableTypes, mdNode.type);\n      }\n\n      function getAdditionalTopPos(scrollTop, offsetTop, currentNodeHeight, targetNodeHeight) {\n        var diff = (scrollTop - offsetTop) / currentNodeHeight;\n        return diff < 1 ? diff * targetNodeHeight : targetNodeHeight;\n      }\n\n      function getParentNodeObj(mdNode) {\n        var node = document.querySelector(\"[data-nodeid=\\\"\" + mdNode.id + \"\\\"]\");\n\n        while (!node || Object(_utils_common__WEBPACK_IMPORTED_MODULE_0__[\n        /* includes */\n        \"a\"])(tableElementTagNames, mdNode.type) || Object(_utils_markdown__WEBPACK_IMPORTED_MODULE_1__[\n        /* isStyledTextNode */\n        \"h\"])(mdNode)) {\n          mdNode = mdNode.parent;\n          node = document.querySelector(\"[data-nodeid=\\\"\" + mdNode.id + \"\\\"]\");\n        }\n\n        return getNonNestableNodeObj(getParentListItemObj(mdNode));\n      }\n\n      function getParentListItemObj(orgMdNode) {\n        var mdNode = orgMdNode;\n\n        while (orgMdNode && orgMdNode !== 'document') {\n          if (orgMdNode.type === 'item') {\n            mdNode = orgMdNode;\n            break;\n          }\n\n          orgMdNode = orgMdNode.parent;\n        }\n\n        return {\n          mdNode: mdNode,\n          node: document.querySelector(\"[data-nodeid=\\\"\" + mdNode.id + \"\\\"]\")\n        };\n      }\n\n      function getNonNestableNodeObj(_ref) {\n        var mdNode = _ref.mdNode,\n            node = _ref.node;\n\n        while (Object(_utils_common__WEBPACK_IMPORTED_MODULE_0__[\n        /* includes */\n        \"a\"])(nestableTypes, mdNode.type) && mdNode.firstChild) {\n          mdNode = mdNode.firstChild;\n          node = node.firstElementChild;\n        }\n\n        return {\n          mdNode: mdNode,\n          node: node\n        };\n      }\n\n      function getCmRangeHeight(mdNode, cm) {\n        var start = Object(_utils_markdown__WEBPACK_IMPORTED_MODULE_1__[\n        /* getMdStartLine */\n        \"d\"])(mdNode);\n        var end = Object(_utils_markdown__WEBPACK_IMPORTED_MODULE_1__[\n        /* getMdEndLine */\n        \"b\"])(mdNode);\n        var cmNodeHeight = cm.lineInfo(start - 1).handle.height;\n        var height = cm.heightAtLine(end, 'local') - cm.heightAtLine(start - 1, 'local');\n        return height <= 0 ? cmNodeHeight : height + getNextEmptyLineHeight(cm, Object(_utils_markdown__WEBPACK_IMPORTED_MODULE_1__[\n        /* getMdEndLine */\n        \"b\"])(mdNode));\n      }\n\n      function getNextEmptyLineHeight(cm, start, end) {\n        if (end === void 0) {\n          end = Number.MAX_VALUE;\n        }\n\n        var lineInfo = cm.lineInfo(start);\n\n        if (!lineInfo) {\n          return 0;\n        }\n\n        var detailLineInfo = lineInfo.handle;\n        var height = 0;\n\n        while (start <= end && !detailLineInfo.text.trim()) {\n          height += detailLineInfo.height;\n          start += 1;\n          detailLineInfo = cm.lineInfo(start).handle;\n        }\n\n        return height;\n      }\n\n      function getTotalOffsetTop(el, root) {\n        var offsetTop = 0;\n\n        while (el && el !== root) {\n          if (!Object(_utils_common__WEBPACK_IMPORTED_MODULE_0__[\n          /* includes */\n          \"a\"])(nestableTagNames, el.tagName)) {\n            offsetTop += el.offsetTop;\n          }\n\n          if (el.offsetParent === root.offsetParent) {\n            break;\n          }\n\n          el = el.parentElement;\n        }\n\n        return offsetTop;\n      }\n\n      function findAdjacentElementToScrollTop(scrollTop, root) {\n        var el = root;\n        var prev = null;\n\n        while (el) {\n          var _el = el,\n              firstElementChild = _el.firstElementChild;\n\n          if (!firstElementChild) {\n            break;\n          }\n\n          var lastSibling = findLastSiblingElementToScrollTop(firstElementChild, scrollTop, getTotalOffsetTop(el, root));\n          prev = el;\n          el = lastSibling;\n        }\n\n        var adjacentEl = el || prev;\n        return adjacentEl === root ? null : adjacentEl;\n      }\n\n      function findLastSiblingElementToScrollTop(el, scrollTop, offsetTop) {\n        if (el && scrollTop > offsetTop + el.offsetTop) {\n          return findLastSiblingElementToScrollTop(el.nextElementSibling, scrollTop, offsetTop) || el;\n        }\n\n        return null;\n      }\n\n      function getFallbackScrollTop(scrollInfo) {\n        var latestScrollTop = scrollInfo.latestScrollTop,\n            scrollTop = scrollInfo.scrollTop,\n            targetScrollTop = scrollInfo.targetScrollTop,\n            sourceScrollTop = scrollInfo.sourceScrollTop;\n\n        if (latestScrollTop === null) {\n          return targetScrollTop;\n        }\n\n        return latestScrollTop < scrollTop ? Math.max(targetScrollTop, sourceScrollTop) : Math.min(targetScrollTop, sourceScrollTop);\n      }\n      /***/\n\n    },\n    /* 18 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Bind DOM events\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isString = __webpack_require__(8);\n\n      var forEach = __webpack_require__(24);\n\n      var safeEvent = __webpack_require__(40);\n      /**\n       * Bind DOM events.\n       * @param {HTMLElement} element - element to bind events\n       * @param {(string|object)} types - Space splitted events names or eventName:handler object\n       * @param {(function|object)} handler - handler function or context for handler method\n       * @param {object} [context] context - context for handler method.\n       * @memberof module:domEvent\n       * @example\n       * var div = document.querySelector('div');\n       * \n       * // Bind one event to an element.\n       * on(div, 'click', toggle);\n       * \n       * // Bind multiple events with a same handler to multiple elements at once.\n       * // Use event names splitted by a space.\n       * on(div, 'mouseenter mouseleave', changeColor);\n       * \n       * // Bind multiple events with different handlers to an element at once.\n       * // Use an object which of key is an event name and value is a handler function.\n       * on(div, {\n       *   keydown: highlight,\n       *   keyup: dehighlight\n       * });\n       * \n       * // Set a context for handler method.\n       * var name = 'global';\n       * var repository = {name: 'CodeSnippet'};\n       * on(div, 'drag', function() {\n       *  console.log(this.name);\n       * }, repository);\n       * // Result when you drag a div: \"CodeSnippet\"\n       */\n\n\n      function on(element, types, handler, context) {\n        if (isString(types)) {\n          forEach(types.split(/\\s+/g), function (type) {\n            bindEvent(element, type, handler, context);\n          });\n          return;\n        }\n\n        forEach(types, function (func, type) {\n          bindEvent(element, type, func, handler);\n        });\n      }\n      /**\n       * Bind DOM events\n       * @param {HTMLElement} element - element to bind events\n       * @param {string} type - events name\n       * @param {function} handler - handler function or context for handler method\n       * @param {object} [context] context - context for handler method.\n       * @private\n       */\n\n\n      function bindEvent(element, type, handler, context) {\n        /**\n           * Event handler\n           * @param {Event} e - event object\n           */\n        function eventHandler(e) {\n          handler.call(context || element, e || window.event);\n        }\n\n        if ('addEventListener' in element) {\n          element.addEventListener(type, eventHandler);\n        } else if ('attachEvent' in element) {\n          element.attachEvent('on' + type, eventHandler);\n        }\n\n        memorizeHandler(element, type, handler, eventHandler);\n      }\n      /**\n       * Memorize DOM event handler for unbinding.\n       * @param {HTMLElement} element - element to bind events\n       * @param {string} type - events name\n       * @param {function} handler - handler function that user passed at on() use\n       * @param {function} wrappedHandler - handler function that wrapped by domevent for implementing some features\n       * @private\n       */\n\n\n      function memorizeHandler(element, type, handler, wrappedHandler) {\n        var events = safeEvent(element, type);\n        var existInEvents = false;\n        forEach(events, function (obj) {\n          if (obj.handler === handler) {\n            existInEvents = true;\n            return false;\n          }\n\n          return true;\n        });\n\n        if (!existInEvents) {\n          events.push({\n            handler: handler,\n            wrappedHandler: wrappedHandler\n          });\n        }\n      }\n\n      module.exports = on;\n      /***/\n    },\n    /* 19 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Unbind DOM events\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isString = __webpack_require__(8);\n\n      var forEach = __webpack_require__(24);\n\n      var safeEvent = __webpack_require__(40);\n      /**\n       * Unbind DOM events\n       * If a handler function is not passed, remove all events of that type.\n       * @param {HTMLElement} element - element to unbind events\n       * @param {(string|object)} types - Space splitted events names or eventName:handler object\n       * @param {function} [handler] - handler function\n       * @memberof module:domEvent\n       * @example\n       * // Following the example of domEvent#on\n       * \n       * // Unbind one event from an element.\n       * off(div, 'click', toggle);\n       * \n       * // Unbind multiple events with a same handler from multiple elements at once.\n       * // Use event names splitted by a space.\n       * off(element, 'mouseenter mouseleave', changeColor);\n       * \n       * // Unbind multiple events with different handlers from an element at once.\n       * // Use an object which of key is an event name and value is a handler function.\n       * off(div, {\n       *   keydown: highlight,\n       *   keyup: dehighlight\n       * });\n       * \n       * // Unbind events without handlers.\n       * off(div, 'drag');\n       */\n\n\n      function off(element, types, handler) {\n        if (isString(types)) {\n          forEach(types.split(/\\s+/g), function (type) {\n            unbindEvent(element, type, handler);\n          });\n          return;\n        }\n\n        forEach(types, function (func, type) {\n          unbindEvent(element, type, func);\n        });\n      }\n      /**\n       * Unbind DOM events\n       * If a handler function is not passed, remove all events of that type.\n       * @param {HTMLElement} element - element to unbind events\n       * @param {string} type - events name\n       * @param {function} [handler] - handler function\n       * @private\n       */\n\n\n      function unbindEvent(element, type, handler) {\n        var events = safeEvent(element, type);\n        var index;\n\n        if (!handler) {\n          forEach(events, function (item) {\n            removeHandler(element, type, item.wrappedHandler);\n          });\n          events.splice(0, events.length);\n        } else {\n          forEach(events, function (item, idx) {\n            if (handler === item.handler) {\n              removeHandler(element, type, item.wrappedHandler);\n              index = idx;\n              return false;\n            }\n\n            return true;\n          });\n          events.splice(index, 1);\n        }\n      }\n      /**\n       * Remove an event handler\n       * @param {HTMLElement} element - An element to remove an event\n       * @param {string} type - event type\n       * @param {function} handler - event handler\n       * @private\n       */\n\n\n      function removeHandler(element, type, handler) {\n        if ('removeEventListener' in element) {\n          element.removeEventListener(type, handler);\n        } else if ('detachEvent' in element) {\n          element.detachEvent('on' + type, handler);\n        }\n      }\n\n      module.exports = off;\n      /***/\n    },\n    /* 20 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Execute the provided callback once for each element present in the array(or Array-like object) in ascending order.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Execute the provided callback once for each element present\n       * in the array(or Array-like object) in ascending order.\n       * If the callback function returns false, the loop will be stopped.\n       * Callback function(iteratee) is invoked with three arguments:\n       *  1) The value of the element\n       *  2) The index of the element\n       *  3) The array(or Array-like object) being traversed\n       * @param {Array|Arguments|NodeList} arr The array(or Array-like object) that will be traversed\n       * @param {function} iteratee Callback function\n       * @param {Object} [context] Context(this) of callback function\n       * @memberof module:collection\n       * @example\n       * var forEachArray = require('tui-code-snippet/collection/forEachArray'); // node, commonjs\n       *\n       * var sum = 0;\n       *\n       * forEachArray([1,2,3], function(value){\n       *     sum += value;\n       * });\n       * alert(sum); // 6\n       */\n\n      function forEachArray(arr, iteratee, context) {\n        var index = 0;\n        var len = arr.length;\n        context = context || null;\n\n        for (; index < len; index += 1) {\n          if (iteratee.call(context, arr[index], index, arr) === false) {\n            break;\n          }\n        }\n      }\n\n      module.exports = forEachArray;\n      /***/\n    },\n    /* 21 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is an instance of Array or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Check whether the given variable is an instance of Array or not.\n       * If the given variable is an instance of Array, return true.\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is array instance?\n       * @memberof module:type\n       */\n\n      function isArray(obj) {\n        return obj instanceof Array;\n      }\n\n      module.exports = isArray;\n      /***/\n    },\n    /* 22 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony import */\n\n      var tui_code_snippet_array_inArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);\n      /* harmony import */\n\n\n      var tui_code_snippet_array_inArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_array_inArray__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var tui_code_snippet_collection_forEachArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(20);\n      /* harmony import */\n\n\n      var tui_code_snippet_collection_forEachArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_collection_forEachArray__WEBPACK_IMPORTED_MODULE_1__);\n      /**\n       * @class\n       * @ignore\n       * @classdesc ES6 Map\n       */\n\n\n      var Map = /*#__PURE__*/function () {\n        function Map() {\n          this._keys = [];\n          this._values = [];\n        }\n\n        var _proto = Map.prototype;\n\n        _proto._getKeyIndex = function _getKeyIndex(key) {\n          return tui_code_snippet_array_inArray__WEBPACK_IMPORTED_MODULE_0___default()(key, this._keys);\n        };\n\n        _proto.get = function get(key) {\n          return this._values[this._getKeyIndex(key)];\n        };\n\n        _proto.set = function set(key, value) {\n          var keyIndex = this._getKeyIndex(key);\n\n          if (keyIndex > -1) {\n            this._values[keyIndex] = value;\n          } else {\n            this._keys.push(key);\n\n            this._values.push(value);\n          }\n        };\n\n        _proto.has = function has(key) {\n          return this._getKeyIndex(key) > -1;\n        };\n\n        _proto.delete = function _delete(key) {\n          var keyIndex = this._getKeyIndex(key);\n\n          if (keyIndex > -1) {\n            this._keys.splice(keyIndex, 1);\n\n            this._values.splice(keyIndex, 1);\n          }\n        };\n\n        _proto.forEach = function forEach(callback, thisArg) {\n          var _this = this;\n\n          if (thisArg === void 0) {\n            thisArg = this;\n          }\n\n          tui_code_snippet_collection_forEachArray__WEBPACK_IMPORTED_MODULE_1___default()(this._values, function (value, index) {\n            if (value && _this._keys[index]) {\n              callback.call(thisArg, value, _this._keys[index], _this);\n            }\n          });\n        };\n\n        return Map;\n      }();\n      /* harmony default export */\n\n\n      __webpack_exports__[\"a\"] = Map;\n      /***/\n    },\n    /* 23 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"d\", function () {\n        return setOffsetHeight;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"e\", function () {\n        return setOffsetTop;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return getOffsetHeight;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"b\", function () {\n        return getOffsetTop;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"c\", function () {\n        return removeOffsetInfoByNode;\n      });\n      /* harmony import */\n\n\n      var tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n      /* harmony import */\n\n\n      var tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0__);\n\n      var offsetInfoMap = {};\n\n      function setOffsetHeight(id, height) {\n        offsetInfoMap[id] = offsetInfoMap[id] || {};\n        offsetInfoMap[id].height = height;\n      }\n\n      function setOffsetTop(id, offsetTop) {\n        offsetInfoMap[id] = offsetInfoMap[id] || {};\n        offsetInfoMap[id].offsetTop = offsetTop;\n      }\n\n      function getOffsetHeight(id) {\n        return offsetInfoMap[id] && offsetInfoMap[id].height;\n      }\n\n      function getOffsetTop(id) {\n        return offsetInfoMap[id] && offsetInfoMap[id].offsetTop;\n      }\n\n      function removeOffsetInfoByNode(node) {\n        if (node) {\n          delete offsetInfoMap[node.getAttribute('data-nodeid')];\n          tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(node.children).forEach(function (child) {\n            removeOffsetInfoByNode(child);\n            removeOffsetInfoByNode(child.nextElementSibling);\n          });\n        }\n      }\n      /***/\n\n    },\n    /* 24 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Execute the provided callback once for each property of object(or element of array) which actually exist.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isArray = __webpack_require__(21);\n\n      var forEachArray = __webpack_require__(20);\n\n      var forEachOwnProperties = __webpack_require__(9);\n      /**\n       * @module collection\n       */\n\n      /**\n       * Execute the provided callback once for each property of object(or element of array) which actually exist.\n       * If the object is Array-like object(ex-arguments object), It needs to transform to Array.(see 'ex2' of example).\n       * If the callback function returns false, the loop will be stopped.\n       * Callback function(iteratee) is invoked with three arguments:\n       *  1) The value of the property(or The value of the element)\n       *  2) The name of the property(or The index of the element)\n       *  3) The object being traversed\n       * @param {Object} obj The object that will be traversed\n       * @param {function} iteratee Callback function\n       * @param {Object} [context] Context(this) of callback function\n       * @memberof module:collection\n       * @example\n       * var forEach = require('tui-code-snippet/collection/forEach'); // node, commonjs\n       *\n       * var sum = 0;\n       *\n       * forEach([1,2,3], function(value){\n       *     sum += value;\n       * });\n       * alert(sum); // 6\n       *\n       * // In case of Array-like object\n       * var array = Array.prototype.slice.call(arrayLike); // change to array\n       * forEach(array, function(value){\n       *     sum += value;\n       * });\n       */\n\n\n      function forEach(obj, iteratee, context) {\n        if (isArray(obj)) {\n          forEachArray(obj, iteratee, context);\n        } else {\n          forEachOwnProperties(obj, iteratee, context);\n        }\n      }\n\n      module.exports = forEach;\n      /***/\n    },\n    /* 25 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is existing or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isUndefined = __webpack_require__(7);\n\n      var isNull = __webpack_require__(47);\n      /**\n       * Check whether the given variable is existing or not.\n       * If the given variable is not null and not undefined, returns true.\n       * @param {*} param - Target for checking\n       * @returns {boolean} Is existy?\n       * @memberof module:type\n       * @example\n       * var isExisty = require('tui-code-snippet/type/isExisty'); // node, commonjs\n       *\n       * isExisty(''); //true\n       * isExisty(0); //true\n       * isExisty([]); //true\n       * isExisty({}); //true\n       * isExisty(null); //false\n       * isExisty(undefined); //false\n      */\n\n\n      function isExisty(param) {\n        return !isUndefined(param) && !isNull(param);\n      }\n\n      module.exports = isExisty;\n      /***/\n    },\n    /* 26 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* unused harmony export CodeBlockManager */\n\n      /**\n       * @fileoverview Implements CodeBlockManager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class Code Block Manager\n       */\n\n      var CodeBlockManager = /*#__PURE__*/function () {\n        function CodeBlockManager() {\n          this._replacers = {};\n        }\n        /**\n         * Set replacer for code block\n         * @param {string} language - code block language\n         * @param {function} replacer - replacer function to code block element\n         */\n\n\n        var _proto = CodeBlockManager.prototype;\n\n        _proto.setReplacer = function setReplacer(language, replacer) {\n          this._replacers[language] = replacer;\n        }\n        /**\n         * get replacer for code block\n         * @param {string} language - code block type\n         * @returns {function} - replacer function\n         */\n        ;\n\n        _proto.getReplacer = function getReplacer(language) {\n          return this._replacers[language];\n        }\n        /**\n         * Create code block html.\n         * @param {string} language - code block language\n         * @param {string} codeText - code text\n         * @returns {string}\n         */\n        ;\n\n        _proto.createCodeBlockHtml = function createCodeBlockHtml(language, codeText) {\n          var replacer = this.getReplacer(language);\n\n          if (replacer) {\n            return replacer(codeText, language);\n          }\n\n          return escape(codeText, false);\n        };\n\n        return CodeBlockManager;\n      }();\n      /**\n       * escape code from markdown-it\n       * @param {string} html HTML string\n       * @param {string} encode Boolean value of whether encode or not\n       * @returns {string}\n       * @ignore\n       */\n\n\n      function escape(html, encode) {\n        return html.replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n      }\n      /* harmony default export */\n\n\n      __webpack_exports__[\"a\"] = new CodeBlockManager();\n      /***/\n    },\n    /* 27 */\n\n    /***/\n    function (module, exports) {\n      !function (e, t) {\n        for (var r in t) {\n          e[r] = t[r];\n        }\n      }(exports, function (e) {\n        var t = {};\n\n        function r(n) {\n          if (t[n]) return t[n].exports;\n          var i = t[n] = {\n            i: n,\n            l: !1,\n            exports: {}\n          };\n          return e[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports;\n        }\n\n        return r.m = e, r.c = t, r.d = function (e, t, n) {\n          r.o(e, t) || Object.defineProperty(e, t, {\n            enumerable: !0,\n            get: n\n          });\n        }, r.r = function (e) {\n          \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n            value: \"Module\"\n          }), Object.defineProperty(e, \"__esModule\", {\n            value: !0\n          });\n        }, r.t = function (e, t) {\n          if (1 & t && (e = r(e)), 8 & t) return e;\n          if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n          var n = Object.create(null);\n          if (r.r(n), Object.defineProperty(n, \"default\", {\n            enumerable: !0,\n            value: e\n          }), 2 & t && \"string\" != typeof e) for (var i in e) {\n            r.d(n, i, function (t) {\n              return e[t];\n            }.bind(null, i));\n          }\n          return n;\n        }, r.n = function (e) {\n          var t = e && e.__esModule ? function () {\n            return e.default;\n          } : function () {\n            return e;\n          };\n          return r.d(t, \"a\", t), t;\n        }, r.o = function (e, t) {\n          return Object.prototype.hasOwnProperty.call(e, t);\n        }, r.p = \"/dist\", r(r.s = 10);\n      }([function (e, t, r) {\n        \"use strict\";\n\n        r.r(t), r.d(t, \"__extends\", function () {\n          return i;\n        }), r.d(t, \"__assign\", function () {\n          return _s;\n        }), r.d(t, \"__rest\", function () {\n          return o;\n        }), r.d(t, \"__decorate\", function () {\n          return a;\n        }), r.d(t, \"__param\", function () {\n          return l;\n        }), r.d(t, \"__metadata\", function () {\n          return u;\n        }), r.d(t, \"__awaiter\", function () {\n          return c;\n        }), r.d(t, \"__generator\", function () {\n          return p;\n        }), r.d(t, \"__exportStar\", function () {\n          return h;\n        }), r.d(t, \"__values\", function () {\n          return f;\n        }), r.d(t, \"__read\", function () {\n          return d;\n        }), r.d(t, \"__spread\", function () {\n          return g;\n        }), r.d(t, \"__spreadArrays\", function () {\n          return m;\n        }), r.d(t, \"__await\", function () {\n          return v;\n        }), r.d(t, \"__asyncGenerator\", function () {\n          return b;\n        }), r.d(t, \"__asyncDelegator\", function () {\n          return y;\n        }), r.d(t, \"__asyncValues\", function () {\n          return C;\n        }), r.d(t, \"__makeTemplateObject\", function () {\n          return x;\n        }), r.d(t, \"__importStar\", function () {\n          return k;\n        }), r.d(t, \"__importDefault\", function () {\n          return w;\n        });\n        /*! *****************************************************************************\n        Copyright (c) Microsoft Corporation. All rights reserved.\n        Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n        this file except in compliance with the License. You may obtain a copy of the\n        License at http://www.apache.org/licenses/LICENSE-2.0\n        \n        THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n        KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n        WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n        MERCHANTABLITY OR NON-INFRINGEMENT.\n        \n        See the Apache Version 2.0 License for specific language governing permissions\n        and limitations under the License.\n        ***************************************************************************** */\n\n        var _n = function n(e, t) {\n          return (_n = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) {\n              t.hasOwnProperty(r) && (e[r] = t[r]);\n            }\n          })(e, t);\n        };\n\n        function i(e, t) {\n          function r() {\n            this.constructor = e;\n          }\n\n          _n(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }\n\n        var _s = function s() {\n          return (_s = Object.assign || function (e) {\n            for (var t, r = 1, n = arguments.length; r < n; r++) {\n              for (var i in t = arguments[r]) {\n                Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n              }\n            }\n\n            return e;\n          }).apply(this, arguments);\n        };\n\n        function o(e, t) {\n          var r = {};\n\n          for (var n in e) {\n            Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n          }\n\n          if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n            var i = 0;\n\n            for (n = Object.getOwnPropertySymbols(e); i < n.length; i++) {\n              t.indexOf(n[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[i]) && (r[n[i]] = e[n[i]]);\n            }\n          }\n\n          return r;\n        }\n\n        function a(e, t, r, n) {\n          var i,\n              s = arguments.length,\n              o = s < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, r) : n;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, r, n);else for (var a = e.length - 1; a >= 0; a--) {\n            (i = e[a]) && (o = (s < 3 ? i(o) : s > 3 ? i(t, r, o) : i(t, r)) || o);\n          }\n          return s > 3 && o && Object.defineProperty(t, r, o), o;\n        }\n\n        function l(e, t) {\n          return function (r, n) {\n            t(r, n, e);\n          };\n        }\n\n        function u(e, t) {\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(e, t);\n        }\n\n        function c(e, t, r, n) {\n          return new (r || (r = Promise))(function (i, s) {\n            function o(e) {\n              try {\n                l(n.next(e));\n              } catch (e) {\n                s(e);\n              }\n            }\n\n            function a(e) {\n              try {\n                l(n.throw(e));\n              } catch (e) {\n                s(e);\n              }\n            }\n\n            function l(e) {\n              e.done ? i(e.value) : new r(function (t) {\n                t(e.value);\n              }).then(o, a);\n            }\n\n            l((n = n.apply(e, t || [])).next());\n          });\n        }\n\n        function p(e, t) {\n          var r,\n              n,\n              i,\n              s,\n              o = {\n            label: 0,\n            sent: function sent() {\n              if (1 & i[0]) throw i[1];\n              return i[1];\n            },\n            trys: [],\n            ops: []\n          };\n          return s = {\n            next: a(0),\n            throw: a(1),\n            return: a(2)\n          }, \"function\" == typeof Symbol && (s[Symbol.iterator] = function () {\n            return this;\n          }), s;\n\n          function a(s) {\n            return function (a) {\n              return function (s) {\n                if (r) throw new TypeError(\"Generator is already executing.\");\n\n                for (; o;) {\n                  try {\n                    if (r = 1, n && (i = 2 & s[0] ? n.return : s[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, s[1])).done) return i;\n\n                    switch (n = 0, i && (s = [2 & s[0], i.value]), s[0]) {\n                      case 0:\n                      case 1:\n                        i = s;\n                        break;\n\n                      case 4:\n                        return o.label++, {\n                          value: s[1],\n                          done: !1\n                        };\n\n                      case 5:\n                        o.label++, n = s[1], s = [0];\n                        continue;\n\n                      case 7:\n                        s = o.ops.pop(), o.trys.pop();\n                        continue;\n\n                      default:\n                        if (!(i = (i = o.trys).length > 0 && i[i.length - 1]) && (6 === s[0] || 2 === s[0])) {\n                          o = 0;\n                          continue;\n                        }\n\n                        if (3 === s[0] && (!i || s[1] > i[0] && s[1] < i[3])) {\n                          o.label = s[1];\n                          break;\n                        }\n\n                        if (6 === s[0] && o.label < i[1]) {\n                          o.label = i[1], i = s;\n                          break;\n                        }\n\n                        if (i && o.label < i[2]) {\n                          o.label = i[2], o.ops.push(s);\n                          break;\n                        }\n\n                        i[2] && o.ops.pop(), o.trys.pop();\n                        continue;\n                    }\n\n                    s = t.call(e, o);\n                  } catch (e) {\n                    s = [6, e], n = 0;\n                  } finally {\n                    r = i = 0;\n                  }\n                }\n\n                if (5 & s[0]) throw s[1];\n                return {\n                  value: s[0] ? s[1] : void 0,\n                  done: !0\n                };\n              }([s, a]);\n            };\n          }\n        }\n\n        function h(e, t) {\n          for (var r in e) {\n            t.hasOwnProperty(r) || (t[r] = e[r]);\n          }\n        }\n\n        function f(e) {\n          var t = \"function\" == typeof Symbol && e[Symbol.iterator],\n              r = 0;\n          return t ? t.call(e) : {\n            next: function next() {\n              return e && r >= e.length && (e = void 0), {\n                value: e && e[r++],\n                done: !e\n              };\n            }\n          };\n        }\n\n        function d(e, t) {\n          var r = \"function\" == typeof Symbol && e[Symbol.iterator];\n          if (!r) return e;\n          var n,\n              i,\n              s = r.call(e),\n              o = [];\n\n          try {\n            for (; (void 0 === t || t-- > 0) && !(n = s.next()).done;) {\n              o.push(n.value);\n            }\n          } catch (e) {\n            i = {\n              error: e\n            };\n          } finally {\n            try {\n              n && !n.done && (r = s.return) && r.call(s);\n            } finally {\n              if (i) throw i.error;\n            }\n          }\n\n          return o;\n        }\n\n        function g() {\n          for (var e = [], t = 0; t < arguments.length; t++) {\n            e = e.concat(d(arguments[t]));\n          }\n\n          return e;\n        }\n\n        function m() {\n          for (var e = 0, t = 0, r = arguments.length; t < r; t++) {\n            e += arguments[t].length;\n          }\n\n          var n = Array(e),\n              i = 0;\n\n          for (t = 0; t < r; t++) {\n            for (var s = arguments[t], o = 0, a = s.length; o < a; o++, i++) {\n              n[i] = s[o];\n            }\n          }\n\n          return n;\n        }\n\n        function v(e) {\n          return this instanceof v ? (this.v = e, this) : new v(e);\n        }\n\n        function b(e, t, r) {\n          if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n          var n,\n              i = r.apply(e, t || []),\n              s = [];\n          return n = {}, o(\"next\"), o(\"throw\"), o(\"return\"), n[Symbol.asyncIterator] = function () {\n            return this;\n          }, n;\n\n          function o(e) {\n            i[e] && (n[e] = function (t) {\n              return new Promise(function (r, n) {\n                s.push([e, t, r, n]) > 1 || a(e, t);\n              });\n            });\n          }\n\n          function a(e, t) {\n            try {\n              (r = i[e](t)).value instanceof v ? Promise.resolve(r.value.v).then(l, u) : c(s[0][2], r);\n            } catch (e) {\n              c(s[0][3], e);\n            }\n\n            var r;\n          }\n\n          function l(e) {\n            a(\"next\", e);\n          }\n\n          function u(e) {\n            a(\"throw\", e);\n          }\n\n          function c(e, t) {\n            e(t), s.shift(), s.length && a(s[0][0], s[0][1]);\n          }\n        }\n\n        function y(e) {\n          var t, r;\n          return t = {}, n(\"next\"), n(\"throw\", function (e) {\n            throw e;\n          }), n(\"return\"), t[Symbol.iterator] = function () {\n            return this;\n          }, t;\n\n          function n(n, i) {\n            t[n] = e[n] ? function (t) {\n              return (r = !r) ? {\n                value: v(e[n](t)),\n                done: \"return\" === n\n              } : i ? i(t) : t;\n            } : i;\n          }\n        }\n\n        function C(e) {\n          if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n          var t,\n              r = e[Symbol.asyncIterator];\n          return r ? r.call(e) : (e = f(e), t = {}, n(\"next\"), n(\"throw\"), n(\"return\"), t[Symbol.asyncIterator] = function () {\n            return this;\n          }, t);\n\n          function n(r) {\n            t[r] = e[r] && function (t) {\n              return new Promise(function (n, i) {\n                (function (e, t, r, n) {\n                  Promise.resolve(n).then(function (t) {\n                    e({\n                      value: t,\n                      done: r\n                    });\n                  }, t);\n                })(n, i, (t = e[r](t)).done, t.value);\n              });\n            };\n          }\n        }\n\n        function x(e, t) {\n          return Object.defineProperty ? Object.defineProperty(e, \"raw\", {\n            value: t\n          }) : e.raw = t, e;\n        }\n\n        function k(e) {\n          if (e && e.__esModule) return e;\n          var t = {};\n          if (null != e) for (var r in e) {\n            Object.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n          }\n          return t.default = e, t;\n        }\n\n        function w(e) {\n          return e && e.__esModule ? e : {\n            default: e\n          };\n        }\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n\n        var n = r(0),\n            i = n.__importDefault(r(18));\n\n        function s(e) {\n          switch (e.type) {\n            case \"document\":\n            case \"blockQuote\":\n            case \"list\":\n            case \"item\":\n            case \"paragraph\":\n            case \"heading\":\n            case \"emph\":\n            case \"strong\":\n            case \"strike\":\n            case \"link\":\n            case \"image\":\n            case \"table\":\n            case \"tableHead\":\n            case \"tableBody\":\n            case \"tableRow\":\n            case \"tableCell\":\n            case \"tableDelimRow\":\n              return !0;\n\n            default:\n              return !1;\n          }\n        }\n\n        t.isContainer = s;\n        var o = 1,\n            a = {};\n        t.getNodeById = function (e) {\n          return a[e];\n        }, t.removeNodeById = function (e) {\n          delete a[e];\n        }, t.removeAllNode = function () {\n          a = {};\n        };\n\n        var l = function () {\n          function e(e, t) {\n            this.parent = null, this.prev = null, this.next = null, this.firstChild = null, this.lastChild = null, this.literal = null, this.id = \"document\" === e ? -1 : o++, this.type = e, this.sourcepos = t, a[this.id] = this;\n          }\n\n          return e.prototype.isContainer = function () {\n            return s(this);\n          }, e.prototype.unlink = function () {\n            this.prev ? this.prev.next = this.next : this.parent && (this.parent.firstChild = this.next), this.next ? this.next.prev = this.prev : this.parent && (this.parent.lastChild = this.prev), this.parent = null, this.next = null, this.prev = null;\n          }, e.prototype.replaceWith = function (e) {\n            this.insertBefore(e), this.unlink();\n          }, e.prototype.insertAfter = function (e) {\n            e.unlink(), e.next = this.next, e.next && (e.next.prev = e), e.prev = this, this.next = e, this.parent && (e.parent = this.parent, e.next || (e.parent.lastChild = e));\n          }, e.prototype.insertBefore = function (e) {\n            e.unlink(), e.prev = this.prev, e.prev && (e.prev.next = e), e.next = this, this.prev = e, e.parent = this.parent, e.prev || (e.parent.firstChild = e);\n          }, e.prototype.appendChild = function (e) {\n            e.unlink(), e.parent = this, this.lastChild ? (this.lastChild.next = e, e.prev = this.lastChild, this.lastChild = e) : (this.firstChild = e, this.lastChild = e);\n          }, e.prototype.prependChild = function (e) {\n            e.unlink(), e.parent = this, this.firstChild ? (this.firstChild.prev = e, e.next = this.firstChild, this.firstChild = e) : (this.firstChild = e, this.lastChild = e);\n          }, e.prototype.walker = function () {\n            return new i.default(this);\n          }, e;\n        }();\n\n        t.Node = l;\n\n        var u = function (e) {\n          function t(t, r) {\n            var n = e.call(this, t, r) || this;\n            return n.open = !0, n.lineOffsets = null, n.stringContent = null, n.lastLineBlank = !1, n.lastLineChecked = !1, n.type = t, n;\n          }\n\n          return n.__extends(t, e), t;\n        }(l);\n\n        t.BlockNode = u;\n\n        var c = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t.listData = null, t;\n          }\n\n          return n.__extends(t, e), t;\n        }(u);\n\n        t.ListNode = c;\n\n        var p = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t.level = 0, t;\n          }\n\n          return n.__extends(t, e), t;\n        }(u);\n\n        t.HeadingNode = p;\n\n        var h = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t.destination = null, t.title = null, t;\n          }\n\n          return n.__extends(t, e), t;\n        }(l);\n\n        t.LinkNode = h;\n\n        var f = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t.isFenced = !1, t.fenceChar = null, t.fenceLength = 0, t.fenceOffset = -1, t.info = null, t;\n          }\n\n          return n.__extends(t, e), t;\n        }(u);\n\n        t.CodeBlockNode = f;\n\n        var d = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t.htmlBlockType = -1, t;\n          }\n\n          return n.__extends(t, e), t;\n        }(u);\n\n        t.HtmlBlockNode = d;\n\n        var g = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t.tickCount = 0, t;\n          }\n\n          return n.__extends(t, e), t;\n        }(l);\n\n        t.CodeNode = g;\n\n        var m = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t.columns = [], t;\n          }\n\n          return n.__extends(t, e), t;\n        }(u);\n\n        t.TableNode = m;\n\n        var v = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t.columnIdx = 0, t.ignored = !1, t;\n          }\n\n          return n.__extends(t, e), t;\n        }(u);\n\n        function b(e, t) {\n          switch (e) {\n            case \"heading\":\n              return new p(e, t);\n\n            case \"list\":\n            case \"item\":\n              return new c(e, t);\n\n            case \"link\":\n            case \"image\":\n              return new h(e, t);\n\n            case \"codeBlock\":\n              return new f(e, t);\n\n            case \"htmlBlock\":\n              return new d(e, t);\n\n            case \"table\":\n              return new m(e, t);\n\n            case \"tableCell\":\n              return new v(e, t);\n\n            case \"document\":\n            case \"paragraph\":\n            case \"blockQuote\":\n            case \"thematicBreak\":\n            case \"tableRow\":\n            case \"tableBody\":\n            case \"tableHead\":\n              return new u(e, t);\n\n            case \"code\":\n              return new g(e, t);\n\n            default:\n              return new l(e, t);\n          }\n        }\n\n        t.TableCellNode = v, t.createNode = b, t.isCodeBlock = function (e) {\n          return \"codeBlock\" === e.type;\n        }, t.isHtmlBlock = function (e) {\n          return \"htmlBlock\" === e.type;\n        }, t.isHeading = function (e) {\n          return \"heading\" === e.type;\n        }, t.isList = function (e) {\n          return \"list\" === e.type;\n        }, t.text = function (e, t) {\n          var r = b(\"text\", t);\n          return r.literal = e, r;\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n\n        var n = r(0).__importDefault(r(12)),\n            i = r(5);\n\n        t.ENTITY = \"&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});\";\n        var s = /[\\\\&]/;\n        t.ESCAPABLE = \"[!\\\"#$%&'()*+,./:;<=>?@[\\\\\\\\\\\\]^_`{|}~-]\";\n\n        var o = new RegExp(\"\\\\\\\\\" + t.ESCAPABLE + \"|\" + t.ENTITY, \"gi\"),\n            a = new RegExp('[&<>\"]', \"g\"),\n            l = function l(e) {\n          return 92 === e.charCodeAt(0) ? e.charAt(1) : i.decodeHTML(e);\n        };\n\n        function u(e) {\n          switch (e) {\n            case \"&\":\n              return \"&amp;\";\n\n            case \"<\":\n              return \"&lt;\";\n\n            case \">\":\n              return \"&gt;\";\n\n            case '\"':\n              return \"&quot;\";\n\n            default:\n              return e;\n          }\n        }\n\n        t.unescapeString = function (e) {\n          return s.test(e) ? e.replace(o, l) : e;\n        }, t.normalizeURI = function (e) {\n          try {\n            return n.default(e);\n          } catch (t) {\n            return e;\n          }\n        }, t.escapeXml = function (e) {\n          return a.test(e) ? e.replace(a, u) : e;\n        }, t.repeat = function (e, t) {\n          for (var r = [], n = 0; n < t; n++) {\n            r.push(e);\n          }\n\n          return r.join(\"\");\n        }, t.last = function (e) {\n          return e.length ? e[e.length - 1] : null;\n        }, t.isEmpty = function (e) {\n          return !e || !/[^ \\t]+/.test(e);\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CODE_INDENT = 4, t.C_TAB = 9, t.C_NEWLINE = 10, t.C_GREATERTHAN = 62, t.C_LESSTHAN = 60, t.C_SPACE = 32, t.C_OPEN_BRACKET = 91, t.reNonSpace = /[^ \\t\\f\\v\\r\\n]/, t.reClosingCodeFence = /^(?:`{3,}|~{3,})(?= *$)/, t.endsWithBlankLine = function (e) {\n          for (var t = e; t;) {\n            if (t.lastLineBlank) return !0;\n            var r = t.type;\n\n            if (t.lastLineChecked || \"list\" !== r && \"item\" !== r) {\n              t.lastLineChecked = !0;\n              break;\n            }\n\n            t.lastLineChecked = !0, t = t.lastChild;\n          }\n\n          return !1;\n        }, t.peek = function (e, t) {\n          return t < e.length ? e.charCodeAt(t) : -1;\n        }, t.isBlank = function (e) {\n          return !t.reNonSpace.test(e);\n        }, t.isSpaceOrTab = function (e) {\n          return e === t.C_SPACE || e === t.C_TAB;\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var n = r(0),\n            i = r(2),\n            s = r(1),\n            o = r(19),\n            a = r(22),\n            l = r(3),\n            u = r(9),\n            c = [/./, /<\\/(?:script|pre|style)>/i, /-->/, /\\?>/, />/, /\\]\\]>/],\n            p = /^[#`~*+_=<>0-9-]/,\n            h = /\\r\\n|\\n|\\r/;\n\n        function f() {\n          return s.createNode(\"document\", [[1, 1], [0, 0]]);\n        }\n\n        var d = {\n          smart: !1,\n          tagFilter: !1,\n          autoLink: !1,\n          disallowedHtmlBlockTags: []\n        },\n            g = function () {\n          function e(e) {\n            this.options = n.__assign(n.__assign({}, d), e), this.doc = f(), this.tip = this.doc, this.oldtip = this.doc, this.lineNumber = 0, this.offset = 0, this.column = 0, this.nextNonspace = 0, this.nextNonspaceColumn = 0, this.indent = 0, this.currentLine = \"\", this.indented = !1, this.blank = !1, this.partiallyConsumedTab = !1, this.allClosed = !0, this.lastMatchedContainer = this.doc, this.refmap = {}, this.lastLineLength = 0, this.inlineParser = new o.InlineParser(this.options);\n          }\n\n          return e.prototype.advanceOffset = function (e, t) {\n            void 0 === t && (t = !1);\n\n            for (var r, n, i, s = this.currentLine; e > 0 && (i = s[this.offset]);) {\n              \"\\t\" === i ? (r = 4 - this.column % 4, t ? (this.partiallyConsumedTab = r > e, n = r > e ? e : r, this.column += n, this.offset += this.partiallyConsumedTab ? 0 : 1, e -= n) : (this.partiallyConsumedTab = !1, this.column += r, this.offset += 1, e -= 1)) : (this.partiallyConsumedTab = !1, this.offset += 1, this.column += 1, e -= 1);\n            }\n          }, e.prototype.advanceNextNonspace = function () {\n            this.offset = this.nextNonspace, this.column = this.nextNonspaceColumn, this.partiallyConsumedTab = !1;\n          }, e.prototype.findNextNonspace = function () {\n            for (var e, t = this.currentLine, r = this.offset, n = this.column; \"\" !== (e = t.charAt(r));) {\n              if (\" \" === e) r++, n++;else {\n                if (\"\\t\" !== e) break;\n                r++, n += 4 - n % 4;\n              }\n            }\n\n            this.blank = \"\\n\" === e || \"\\r\" === e || \"\" === e, this.nextNonspace = r, this.nextNonspaceColumn = n, this.indent = this.nextNonspaceColumn - this.column, this.indented = this.indent >= l.CODE_INDENT;\n          }, e.prototype.addLine = function () {\n            if (this.partiallyConsumedTab) {\n              this.offset += 1;\n              var e = 4 - this.column % 4;\n              this.tip.stringContent += i.repeat(\" \", e);\n            }\n\n            this.tip.lineOffsets ? this.tip.lineOffsets.push(this.offset) : this.tip.lineOffsets = [this.offset], this.tip.stringContent += this.currentLine.slice(this.offset) + \"\\n\";\n          }, e.prototype.addChild = function (e, t) {\n            for (; !a.blockHandlers[this.tip.type].canContain(e);) {\n              this.finalize(this.tip, this.lineNumber - 1);\n            }\n\n            var r = t + 1,\n                n = s.createNode(e, [[this.lineNumber, r], [0, 0]]);\n            return n.stringContent = \"\", this.tip.appendChild(n), this.tip = n, n;\n          }, e.prototype.closeUnmatchedBlocks = function () {\n            if (!this.allClosed) {\n              for (; this.oldtip !== this.lastMatchedContainer;) {\n                var e = this.oldtip.parent;\n                this.finalize(this.oldtip, this.lineNumber - 1), this.oldtip = e;\n              }\n\n              this.allClosed = !0;\n            }\n          }, e.prototype.finalize = function (e, t) {\n            var r = e.parent;\n            e.open = !1, e.sourcepos[1] = [t, this.lastLineLength], a.blockHandlers[e.type].finalize(this, e), this.tip = r;\n          }, e.prototype.processInlines = function (e) {\n            var t,\n                r = e.walker();\n\n            for (this.inlineParser.refmap = this.refmap, this.inlineParser.options = this.options; t = r.next();) {\n              var n = t.node,\n                  i = n.type;\n              t.entering || \"paragraph\" !== i && \"heading\" !== i && (\"tableCell\" !== i || n.ignored) || this.inlineParser.parse(n);\n            }\n          }, e.prototype.incorporateLine = function (e) {\n            var t = this.doc;\n            this.oldtip = this.tip, this.offset = 0, this.column = 0, this.blank = !1, this.partiallyConsumedTab = !1, this.lineNumber += 1, -1 !== e.indexOf(\"\\0\") && (e = e.replace(/\\0/g, \"�\")), this.currentLine = e;\n\n            for (var r, n = !0; (r = t.lastChild) && r.open;) {\n              switch (t = r, this.findNextNonspace(), a.blockHandlers[t.type].continue(this, t)) {\n                case 0:\n                  break;\n\n                case 1:\n                  n = !1;\n                  break;\n\n                case 2:\n                  return void (this.lastLineLength = e.length);\n\n                default:\n                  throw new Error(\"continue returned illegal value, must be 0, 1, or 2\");\n              }\n\n              if (!n) {\n                t = t.parent;\n                break;\n              }\n            }\n\n            this.allClosed = t === this.oldtip, this.lastMatchedContainer = t;\n\n            for (var i = \"paragraph\" !== t.type && a.blockHandlers[t.type].acceptsLines, o = u.blockStarts.length; !i;) {\n              if (this.findNextNonspace(), \"table\" !== t.type && \"tableBody\" !== t.type && \"paragraph\" !== t.type && !this.indented && !p.test(e.slice(this.nextNonspace))) {\n                this.advanceNextNonspace();\n                break;\n              }\n\n              for (var l = 0; l < o;) {\n                var h = u.blockStarts[l](this, t);\n\n                if (1 === h) {\n                  t = this.tip;\n                  break;\n                }\n\n                if (2 === h) {\n                  t = this.tip, i = !0;\n                  break;\n                }\n\n                l++;\n              }\n\n              if (l === o) {\n                this.advanceNextNonspace();\n                break;\n              }\n            }\n\n            if (this.allClosed || this.blank || \"paragraph\" !== this.tip.type) {\n              this.closeUnmatchedBlocks(), this.blank && t.lastChild && (t.lastChild.lastLineBlank = !0);\n\n              for (var f = t.type, d = this.blank && !(\"blockQuote\" === f || s.isCodeBlock(t) && t.isFenced || \"item\" === f && !t.firstChild && t.sourcepos[0][0] === this.lineNumber), g = t; g;) {\n                g.lastLineBlank = d, g = g.parent;\n              }\n\n              a.blockHandlers[f].acceptsLines ? (this.addLine(), s.isHtmlBlock(t) && t.htmlBlockType >= 1 && t.htmlBlockType <= 5 && c[t.htmlBlockType].test(this.currentLine.slice(this.offset)) && (this.lastLineLength = e.length, this.finalize(t, this.lineNumber))) : this.offset < e.length && !this.blank && (t = this.addChild(\"paragraph\", this.offset), this.advanceNextNonspace(), this.addLine());\n            } else this.addLine();\n\n            this.lastLineLength = e.length;\n          }, e.prototype.parse = function (e) {\n            this.doc = f(), this.tip = this.doc, this.refmap = {}, this.lineNumber = 0, this.lastLineLength = 0, this.offset = 0, this.column = 0, this.lastMatchedContainer = this.doc, this.currentLine = \"\";\n            var t = e.split(h),\n                r = t.length;\n            e.charCodeAt(e.length - 1) === o.C_NEWLINE && (r -= 1);\n\n            for (var n = 0; n < r; n++) {\n              this.incorporateLine(t[n]);\n            }\n\n            for (; this.tip;) {\n              this.finalize(this.tip, r);\n            }\n\n            return this.processInlines(this.doc), this.doc;\n          }, e.prototype.partialParseStart = function (e, t) {\n            this.doc = f(), this.tip = this.doc, this.refmap = {}, this.lineNumber = e - 1, this.lastLineLength = 0, this.offset = 0, this.column = 0, this.lastMatchedContainer = this.doc, this.currentLine = \"\";\n\n            for (var r = t.length, n = 0; n < r; n++) {\n              this.incorporateLine(t[n]);\n            }\n\n            return this.doc;\n          }, e.prototype.partialParseExtends = function (e) {\n            for (var t = 0; t < e.length; t++) {\n              this.incorporateLine(e[t]);\n            }\n          }, e.prototype.partialParseFinish = function () {\n            for (; this.tip;) {\n              this.finalize(this.tip, this.lineNumber);\n            }\n\n            this.processInlines(this.doc);\n          }, e;\n        }();\n\n        t.Parser = g;\n      }, function (e, t, r) {\n        \"use strict\";\n\n        var n = this && this.__importDefault || function (e) {\n          return e && e.__esModule ? e : {\n            default: e\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var i = n(r(13)),\n            s = n(r(14)),\n            o = n(r(15)),\n            a = n(r(16));\n\n        function l(e) {\n          var t = Object.keys(e).join(\"|\"),\n              r = c(e),\n              n = new RegExp(\"&(?:\" + (t += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\") + \");\", \"g\");\n          return function (e) {\n            return String(e).replace(n, r);\n          };\n        }\n\n        t.decodeXML = l(o.default), t.decodeHTMLStrict = l(i.default);\n\n        var u = function u(e, t) {\n          return e < t ? 1 : -1;\n        };\n\n        function c(e) {\n          return function (t) {\n            return \"#\" === t.charAt(1) ? \"X\" === t.charAt(2) || \"x\" === t.charAt(2) ? a.default(parseInt(t.substr(3), 16)) : a.default(parseInt(t.substr(2), 10)) : e[t.slice(1, -1)];\n          };\n        }\n\n        t.decodeHTML = function () {\n          for (var e = Object.keys(s.default).sort(u), t = Object.keys(i.default).sort(u), r = 0, n = 0; r < t.length; r++) {\n            e[n] === t[r] ? (t[r] += \";?\", n++) : t[r] += \";\";\n          }\n\n          var o = new RegExp(\"&(?:\" + t.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\"),\n              a = c(i.default);\n\n          function l(e) {\n            return \";\" !== e.substr(-1) && (e += \";\"), a(e);\n          }\n\n          return function (e) {\n            return String(e).replace(o, l);\n          };\n        }();\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        t.OPENTAG = \"<[A-Za-z][A-Za-z0-9-]*(?:\\\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\\\s*=\\\\s*(?:[^\\\"'=<>`\\\\x00-\\\\x20]+|'[^']*'|\\\"[^\\\"]*\\\"))?)*\\\\s*/?>\", t.CLOSETAG = \"</[A-Za-z][A-Za-z0-9-]*\\\\s*[>]\";\n        var n = \"(?:\" + t.OPENTAG + \"|\" + t.CLOSETAG + \"|\\x3c!----\\x3e|\\x3c!--(?:-?[^>-])(?:-?[^-])*--\\x3e|[<][?].*?[?][>]|<![A-Z]+\\\\s+[^>]*>|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>)\";\n        t.reHtmlTag = new RegExp(\"^\" + n, \"i\");\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.last = function (e) {\n          return e[e.length - 1];\n        }, t.normalizeReference = function (e) {\n          return e.slice(1, e.length - 1).trim().replace(/[ \\t\\r\\n]+/, \" \").toLowerCase().toUpperCase();\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var n = /^\\[([ \\txX])\\][ \\t]+/;\n        t.taskListItemFinalize = function (e, t) {\n          if (t.firstChild && \"paragraph\" === t.firstChild.type) {\n            var r = t.firstChild,\n                i = r.stringContent.match(n);\n\n            if (i) {\n              var s = i[0].length;\n              r.stringContent = r.stringContent.substring(s - 1), r.sourcepos[0][1] += s, r.lineOffsets[0] += s, t.listData.task = !0, t.listData.checked = /[xX]/.test(i[1]);\n            }\n          }\n        }, t.taskListItemRender = function (e, t) {\n          if (t.listData.task) {\n            var r = [];\n            t.listData.checked && r.push([\"checked\", \"\"]), r.push([\"disabled\", \"\"], [\"type\", \"checkbox\"]), e.tag(\"input\", r), e.lit(\" \");\n          }\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var n = r(1),\n            i = r(6),\n            s = r(3),\n            o = r(24),\n            a = /^`{3,}(?!.*`)|^~{3,}/,\n            l = [/./, /^<(?:script|pre|style)(?:\\s|>|$)/i, /^<!--/, /^<[?]/, /^<![A-Z]/, /^<!\\[CDATA\\[/, /^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\\s|[/]?[>]|$)/i, new RegExp(\"^(?:\" + i.OPENTAG + \"|\" + i.CLOSETAG + \")\\\\s*$\", \"i\")],\n            u = /^(?:=+|-+)[ \\t]*$/,\n            c = /^#{1,6}(?:[ \\t]+|$)/,\n            p = /^(?:(?:\\*[ \\t]*){3,}|(?:_[ \\t]*){3,}|(?:-[ \\t]*){3,})[ \\t]*$/;\n        t.reBulletListMarker = /^[*+-]/, t.reOrderedListMarker = /^(\\d{1,9})([.)])/;\n        t.blockStarts = [function (e) {\n          return e.indented || s.peek(e.currentLine, e.nextNonspace) !== s.C_GREATERTHAN ? 0 : (e.advanceNextNonspace(), e.advanceOffset(1, !1), s.isSpaceOrTab(s.peek(e.currentLine, e.offset)) && e.advanceOffset(1, !0), e.closeUnmatchedBlocks(), e.addChild(\"blockQuote\", e.nextNonspace), 1);\n        }, function (e) {\n          var t;\n\n          if (!e.indented && (t = e.currentLine.slice(e.nextNonspace).match(c))) {\n            e.advanceNextNonspace(), e.advanceOffset(t[0].length, !1), e.closeUnmatchedBlocks();\n            var r = e.addChild(\"heading\", e.nextNonspace);\n            return r.level = t[0].trim().length, r.stringContent = e.currentLine.slice(e.offset).replace(/^[ \\t]*#+[ \\t]*$/, \"\").replace(/[ \\t]+#+[ \\t]*$/, \"\"), e.advanceOffset(e.currentLine.length - e.offset), 2;\n          }\n\n          return 0;\n        }, function (e) {\n          var t;\n\n          if (!e.indented && (t = e.currentLine.slice(e.nextNonspace).match(a))) {\n            var r = t[0].length;\n            e.closeUnmatchedBlocks();\n            var n = e.addChild(\"codeBlock\", e.nextNonspace);\n            return n.isFenced = !0, n.fenceLength = r, n.fenceChar = t[0][0], n.fenceOffset = e.indent, e.advanceNextNonspace(), e.advanceOffset(r, !1), 2;\n          }\n\n          return 0;\n        }, function (e, t) {\n          if (!e.indented && s.peek(e.currentLine, e.nextNonspace) === s.C_LESSTHAN) {\n            var r = e.currentLine.slice(e.nextNonspace),\n                n = e.options.disallowedHtmlBlockTags,\n                i = void 0;\n\n            for (i = 1; i <= 7; i++) {\n              var o = r.match(l[i]);\n\n              if (o) {\n                if (7 === i) {\n                  if (\"paragraph\" === t.type) return 0;\n                  if (n.length > 0) if (new RegExp(\"</?(?:\" + n.join(\"|\") + \")\", \"i\").test(o[0])) return 0;\n                }\n\n                return e.closeUnmatchedBlocks(), e.addChild(\"htmlBlock\", e.offset).htmlBlockType = i, 2;\n              }\n            }\n          }\n\n          return 0;\n        }, function (e, t) {\n          var r;\n\n          if (null !== t.stringContent && !e.indented && \"paragraph\" === t.type && (r = e.currentLine.slice(e.nextNonspace).match(u))) {\n            e.closeUnmatchedBlocks();\n\n            for (var i = void 0; s.peek(t.stringContent, 0) === s.C_OPEN_BRACKET && (i = e.inlineParser.parseReference(t.stringContent, e.refmap));) {\n              t.stringContent = t.stringContent.slice(i);\n            }\n\n            if (t.stringContent.length > 0) {\n              var o = n.createNode(\"heading\", t.sourcepos);\n              return o.level = \"=\" === r[0][0] ? 1 : 2, o.stringContent = t.stringContent, t.insertAfter(o), t.unlink(), e.tip = o, e.advanceOffset(e.currentLine.length - e.offset, !1), 2;\n            }\n\n            return 0;\n          }\n\n          return 0;\n        }, function (e) {\n          return !e.indented && p.test(e.currentLine.slice(e.nextNonspace)) ? (e.closeUnmatchedBlocks(), e.addChild(\"thematicBreak\", e.nextNonspace), e.advanceOffset(e.currentLine.length - e.offset, !1), 2) : 0;\n        }, function (e, r) {\n          var n,\n              i,\n              o,\n              a = r;\n          return e.indented && \"list\" !== r.type || !(n = function (e, r) {\n            var n,\n                i,\n                o = e.currentLine.slice(e.nextNonspace),\n                a = {\n              type: \"bullet\",\n              tight: !0,\n              bulletChar: \"\",\n              start: 0,\n              delimiter: \"\",\n              padding: 0,\n              markerOffset: e.indent,\n              task: !1,\n              checked: !1\n            };\n            if (e.indent >= 4) return null;\n            if (n = o.match(t.reBulletListMarker)) a.type = \"bullet\", a.bulletChar = n[0][0];else {\n              if (!(n = o.match(t.reOrderedListMarker)) || \"paragraph\" === r.type && \"1\" !== n[1]) return null;\n              a.type = \"ordered\", a.start = parseInt(n[1], 10), a.delimiter = n[2];\n            }\n            if (-1 !== (i = s.peek(e.currentLine, e.nextNonspace + n[0].length)) && i !== s.C_TAB && i !== s.C_SPACE) return null;\n            if (\"paragraph\" === r.type && !e.currentLine.slice(e.nextNonspace + n[0].length).match(s.reNonSpace)) return null;\n            e.advanceNextNonspace(), e.advanceOffset(n[0].length, !0);\n            var l = e.column,\n                u = e.offset;\n\n            do {\n              e.advanceOffset(1, !0), i = s.peek(e.currentLine, e.offset);\n            } while (e.column - l < 5 && s.isSpaceOrTab(i));\n\n            var c = -1 === s.peek(e.currentLine, e.offset),\n                p = e.column - l;\n            return p >= 5 || p < 1 || c ? (a.padding = n[0].length + 1, e.column = l, e.offset = u, s.isSpaceOrTab(s.peek(e.currentLine, e.offset)) && e.advanceOffset(1, !0)) : a.padding = n[0].length + p, a;\n          }(e, a)) ? 0 : (e.closeUnmatchedBlocks(), \"list\" === e.tip.type && (i = a.listData, o = n, i.type === o.type && i.delimiter === o.delimiter && i.bulletChar === o.bulletChar) || ((a = e.addChild(\"list\", e.nextNonspace)).listData = n), (a = e.addChild(\"item\", e.nextNonspace)).listData = n, 1);\n        }, function (e) {\n          return e.indented && \"paragraph\" !== e.tip.type && !e.blank ? (e.advanceOffset(s.CODE_INDENT, !0), e.closeUnmatchedBlocks(), e.addChild(\"codeBlock\", e.offset), 2) : 0;\n        }, o.tableHead, o.tableBody];\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var n = r(11);\n        t.ToastMark = n.ToastMark;\n        var i = r(26);\n        t.GfmHtmlRenderer = i.GfmHtmlRenderer;\n        var s = r(4);\n        t.Parser = s.Parser;\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var n = r(0),\n            i = r(4),\n            s = r(1),\n            o = r(25),\n            a = r(9),\n            l = /\\r\\n|\\n|\\r/;\n\n        var u = function () {\n          function e(e, t) {\n            this.parser = new i.Parser(t), this.eventHandlerMap = {\n              change: []\n            }, e = e || \"\", this.lineTexts = e.split(l), this.root = this.parser.parse(e);\n          }\n\n          return e.prototype.updateLineTexts = function (e, t, r) {\n            var i,\n                s = e[0],\n                o = e[1],\n                a = t[0],\n                u = t[1],\n                c = r.split(l),\n                p = c.length,\n                h = this.lineTexts[s - 1],\n                f = this.lineTexts[a - 1];\n            c[0] = h.slice(0, o - 1) + c[0], c[p - 1] = c[p - 1] + f.slice(u - 1);\n            var d = a - s + 1;\n            return (i = this.lineTexts).splice.apply(i, n.__spreadArrays([s - 1, d], c)), p - d;\n          }, e.prototype.updateRootNodeState = function () {\n            if (1 === this.lineTexts.length && \"\" === this.lineTexts[0]) return this.root.lastLineBlank = !0, void (this.root.sourcepos = [[1, 1], [1, 0]]);\n            this.root.lastChild && (this.root.lastLineBlank = this.root.lastChild.lastLineBlank);\n\n            for (var e = this.lineTexts, t = e.length - 1; \"\" === e[t];) {\n              t -= 1;\n            }\n\n            e.length - 2 > t && (t += 1), this.root.sourcepos[1] = [t + 1, e[t].length];\n          }, e.prototype.replaceRangeNodes = function (e, t, r) {\n            e ? (o.insertNodesBefore(e, r), o.removeNextUntil(e, t), e.unlink()) : t ? (o.insertNodesBefore(t, r), t.unlink()) : o.prependChildNodes(this.root, r);\n          }, e.prototype.getNodeRange = function (e, t) {\n            var r = o.findChildNodeAtLine(this.root, e[0]),\n                n = o.findChildNodeAtLine(this.root, t[0]);\n            return n && n.next && t[0] + 1 === n.next.sourcepos[0][0] && (n = n.next), !r && n && (r = n), [r, n];\n          }, e.prototype.trigger = function (e, t) {\n            this.eventHandlerMap[e].forEach(function (e) {\n              e(t);\n            });\n          }, e.prototype.parseRange = function (e, t, r, n) {\n            var i = this.lineTexts[e - 1];\n            r && r.prev && s.isList(r.prev) && function (e) {\n              var t = e.match(/^[ \\t]+/);\n              if (t && (t[0].length >= 2 || /\\t/.test(t[0]))) return !0;\n              var r = t ? e.slice(t.length) : e;\n              return a.reBulletListMarker.test(r) || a.reOrderedListMarker.test(r);\n            }(i) && (e = (r = r.prev).sourcepos[0][0]);\n            var l = this.lineTexts.slice(e - 1, t),\n                u = this.parser.partialParseStart(e, l);\n            if (u.lastChild && s.isList(u.lastChild)) for (var c = n ? n.next : this.root.firstChild; c && !(\"list\" !== c.type && c.sourcepos[0][1] < 3);) {\n              for (var p = c.sourcepos[1][0]; \"\" === this.lineTexts[p];) {\n                p += 1;\n              }\n\n              this.parser.partialParseExtends(this.lineTexts.slice(t, p)), n = c, c = c.next;\n            }\n            return this.parser.partialParseFinish(), {\n              newNodes: o.getChildNodes(u),\n              extStartNode: r,\n              extEndNode: n\n            };\n          }, e.prototype.editMarkdown = function (e, t, r) {\n            for (var n = this.getNodeRange(e, t), i = n[0], s = n[1], a = this.updateLineTexts(e, t, r), l = i ? Math.min(i.sourcepos[0][0], e[0]) : e[0], u = (s ? Math.max(s.sourcepos[1][0], t[0]) : t[0]) + a; \"\" === this.lineTexts[u];) {\n              u += 1;\n            }\n\n            var c = this.parseRange(l, u, i, s),\n                p = c.newNodes,\n                h = c.extStartNode,\n                f = c.extEndNode,\n                d = f ? f.next : this.root.firstChild;\n            this.replaceRangeNodes(h, f, p), o.updateNextLineNumbers(d, a), this.updateRootNodeState();\n            var g = {\n              nodes: p,\n              removedNodeRange: h ? [h.id, f.id] : null\n            };\n            return this.trigger(\"change\", g), g;\n          }, e.prototype.getLineTexts = function () {\n            return this.lineTexts;\n          }, e.prototype.getRootNode = function () {\n            return this.root;\n          }, e.prototype.findNodeAtPosition = function (e) {\n            var t = o.findNodeAtPosition(this.root, e);\n            return t && t !== this.root ? t : null;\n          }, e.prototype.findFirstNodeAtLine = function (e) {\n            return o.findFirstNodeAtLine(this.root, e);\n          }, e.prototype.on = function (e, t) {\n            this.eventHandlerMap[e].push(t);\n          }, e.prototype.off = function (e, t) {\n            var r = this.eventHandlerMap[e],\n                n = r.indexOf(t);\n            r.splice(n, 1);\n          }, e.prototype.findNodeById = function (e) {\n            return o.findNodeById(e);\n          }, e.prototype.removeAllNode = function () {\n            s.removeAllNode();\n          }, e;\n        }();\n\n        t.ToastMark = u;\n      }, function (e, t, r) {\n        \"use strict\";\n\n        var n = {};\n\n        function i(e, t, r) {\n          var s,\n              o,\n              a,\n              l,\n              u,\n              c = \"\";\n\n          for (\"string\" != typeof t && (r = t, t = i.defaultChars), void 0 === r && (r = !0), u = function (e) {\n            var t,\n                r,\n                i = n[e];\n            if (i) return i;\n\n            for (i = n[e] = [], t = 0; t < 128; t++) {\n              r = String.fromCharCode(t), /^[0-9a-z]$/i.test(r) ? i.push(r) : i.push(\"%\" + (\"0\" + t.toString(16).toUpperCase()).slice(-2));\n            }\n\n            for (t = 0; t < e.length; t++) {\n              i[e.charCodeAt(t)] = e[t];\n            }\n\n            return i;\n          }(t), s = 0, o = e.length; s < o; s++) {\n            if (a = e.charCodeAt(s), r && 37 === a && s + 2 < o && /^[0-9a-f]{2}$/i.test(e.slice(s + 1, s + 3))) c += e.slice(s, s + 3), s += 2;else if (a < 128) c += u[a];else if (a >= 55296 && a <= 57343) {\n              if (a >= 55296 && a <= 56319 && s + 1 < o && (l = e.charCodeAt(s + 1)) >= 56320 && l <= 57343) {\n                c += encodeURIComponent(e[s] + e[s + 1]), s++;\n                continue;\n              }\n\n              c += \"%EF%BF%BD\";\n            } else c += encodeURIComponent(e[s]);\n          }\n\n          return c;\n        }\n\n        i.defaultChars = \";/?:@&=+$,-_.!~*'()#\", i.componentChars = \"-_.!~*'()\", e.exports = i;\n      }, function (e) {\n        e.exports = JSON.parse('{\"Aacute\":\"Á\",\"aacute\":\"á\",\"Abreve\":\"Ă\",\"abreve\":\"ă\",\"ac\":\"∾\",\"acd\":\"∿\",\"acE\":\"∾̳\",\"Acirc\":\"Â\",\"acirc\":\"â\",\"acute\":\"´\",\"Acy\":\"А\",\"acy\":\"а\",\"AElig\":\"Æ\",\"aelig\":\"æ\",\"af\":\"⁡\",\"Afr\":\"𝔄\",\"afr\":\"𝔞\",\"Agrave\":\"À\",\"agrave\":\"à\",\"alefsym\":\"ℵ\",\"aleph\":\"ℵ\",\"Alpha\":\"Α\",\"alpha\":\"α\",\"Amacr\":\"Ā\",\"amacr\":\"ā\",\"amalg\":\"⨿\",\"amp\":\"&\",\"AMP\":\"&\",\"andand\":\"⩕\",\"And\":\"⩓\",\"and\":\"∧\",\"andd\":\"⩜\",\"andslope\":\"⩘\",\"andv\":\"⩚\",\"ang\":\"∠\",\"ange\":\"⦤\",\"angle\":\"∠\",\"angmsdaa\":\"⦨\",\"angmsdab\":\"⦩\",\"angmsdac\":\"⦪\",\"angmsdad\":\"⦫\",\"angmsdae\":\"⦬\",\"angmsdaf\":\"⦭\",\"angmsdag\":\"⦮\",\"angmsdah\":\"⦯\",\"angmsd\":\"∡\",\"angrt\":\"∟\",\"angrtvb\":\"⊾\",\"angrtvbd\":\"⦝\",\"angsph\":\"∢\",\"angst\":\"Å\",\"angzarr\":\"⍼\",\"Aogon\":\"Ą\",\"aogon\":\"ą\",\"Aopf\":\"𝔸\",\"aopf\":\"𝕒\",\"apacir\":\"⩯\",\"ap\":\"≈\",\"apE\":\"⩰\",\"ape\":\"≊\",\"apid\":\"≋\",\"apos\":\"\\'\",\"ApplyFunction\":\"⁡\",\"approx\":\"≈\",\"approxeq\":\"≊\",\"Aring\":\"Å\",\"aring\":\"å\",\"Ascr\":\"𝒜\",\"ascr\":\"𝒶\",\"Assign\":\"≔\",\"ast\":\"*\",\"asymp\":\"≈\",\"asympeq\":\"≍\",\"Atilde\":\"Ã\",\"atilde\":\"ã\",\"Auml\":\"Ä\",\"auml\":\"ä\",\"awconint\":\"∳\",\"awint\":\"⨑\",\"backcong\":\"≌\",\"backepsilon\":\"϶\",\"backprime\":\"‵\",\"backsim\":\"∽\",\"backsimeq\":\"⋍\",\"Backslash\":\"∖\",\"Barv\":\"⫧\",\"barvee\":\"⊽\",\"barwed\":\"⌅\",\"Barwed\":\"⌆\",\"barwedge\":\"⌅\",\"bbrk\":\"⎵\",\"bbrktbrk\":\"⎶\",\"bcong\":\"≌\",\"Bcy\":\"Б\",\"bcy\":\"б\",\"bdquo\":\"„\",\"becaus\":\"∵\",\"because\":\"∵\",\"Because\":\"∵\",\"bemptyv\":\"⦰\",\"bepsi\":\"϶\",\"bernou\":\"ℬ\",\"Bernoullis\":\"ℬ\",\"Beta\":\"Β\",\"beta\":\"β\",\"beth\":\"ℶ\",\"between\":\"≬\",\"Bfr\":\"𝔅\",\"bfr\":\"𝔟\",\"bigcap\":\"⋂\",\"bigcirc\":\"◯\",\"bigcup\":\"⋃\",\"bigodot\":\"⨀\",\"bigoplus\":\"⨁\",\"bigotimes\":\"⨂\",\"bigsqcup\":\"⨆\",\"bigstar\":\"★\",\"bigtriangledown\":\"▽\",\"bigtriangleup\":\"△\",\"biguplus\":\"⨄\",\"bigvee\":\"⋁\",\"bigwedge\":\"⋀\",\"bkarow\":\"⤍\",\"blacklozenge\":\"⧫\",\"blacksquare\":\"▪\",\"blacktriangle\":\"▴\",\"blacktriangledown\":\"▾\",\"blacktriangleleft\":\"◂\",\"blacktriangleright\":\"▸\",\"blank\":\"␣\",\"blk12\":\"▒\",\"blk14\":\"░\",\"blk34\":\"▓\",\"block\":\"█\",\"bne\":\"=⃥\",\"bnequiv\":\"≡⃥\",\"bNot\":\"⫭\",\"bnot\":\"⌐\",\"Bopf\":\"𝔹\",\"bopf\":\"𝕓\",\"bot\":\"⊥\",\"bottom\":\"⊥\",\"bowtie\":\"⋈\",\"boxbox\":\"⧉\",\"boxdl\":\"┐\",\"boxdL\":\"╕\",\"boxDl\":\"╖\",\"boxDL\":\"╗\",\"boxdr\":\"┌\",\"boxdR\":\"╒\",\"boxDr\":\"╓\",\"boxDR\":\"╔\",\"boxh\":\"─\",\"boxH\":\"═\",\"boxhd\":\"┬\",\"boxHd\":\"╤\",\"boxhD\":\"╥\",\"boxHD\":\"╦\",\"boxhu\":\"┴\",\"boxHu\":\"╧\",\"boxhU\":\"╨\",\"boxHU\":\"╩\",\"boxminus\":\"⊟\",\"boxplus\":\"⊞\",\"boxtimes\":\"⊠\",\"boxul\":\"┘\",\"boxuL\":\"╛\",\"boxUl\":\"╜\",\"boxUL\":\"╝\",\"boxur\":\"└\",\"boxuR\":\"╘\",\"boxUr\":\"╙\",\"boxUR\":\"╚\",\"boxv\":\"│\",\"boxV\":\"║\",\"boxvh\":\"┼\",\"boxvH\":\"╪\",\"boxVh\":\"╫\",\"boxVH\":\"╬\",\"boxvl\":\"┤\",\"boxvL\":\"╡\",\"boxVl\":\"╢\",\"boxVL\":\"╣\",\"boxvr\":\"├\",\"boxvR\":\"╞\",\"boxVr\":\"╟\",\"boxVR\":\"╠\",\"bprime\":\"‵\",\"breve\":\"˘\",\"Breve\":\"˘\",\"brvbar\":\"¦\",\"bscr\":\"𝒷\",\"Bscr\":\"ℬ\",\"bsemi\":\"⁏\",\"bsim\":\"∽\",\"bsime\":\"⋍\",\"bsolb\":\"⧅\",\"bsol\":\"\\\\\\\\\",\"bsolhsub\":\"⟈\",\"bull\":\"•\",\"bullet\":\"•\",\"bump\":\"≎\",\"bumpE\":\"⪮\",\"bumpe\":\"≏\",\"Bumpeq\":\"≎\",\"bumpeq\":\"≏\",\"Cacute\":\"Ć\",\"cacute\":\"ć\",\"capand\":\"⩄\",\"capbrcup\":\"⩉\",\"capcap\":\"⩋\",\"cap\":\"∩\",\"Cap\":\"⋒\",\"capcup\":\"⩇\",\"capdot\":\"⩀\",\"CapitalDifferentialD\":\"ⅅ\",\"caps\":\"∩︀\",\"caret\":\"⁁\",\"caron\":\"ˇ\",\"Cayleys\":\"ℭ\",\"ccaps\":\"⩍\",\"Ccaron\":\"Č\",\"ccaron\":\"č\",\"Ccedil\":\"Ç\",\"ccedil\":\"ç\",\"Ccirc\":\"Ĉ\",\"ccirc\":\"ĉ\",\"Cconint\":\"∰\",\"ccups\":\"⩌\",\"ccupssm\":\"⩐\",\"Cdot\":\"Ċ\",\"cdot\":\"ċ\",\"cedil\":\"¸\",\"Cedilla\":\"¸\",\"cemptyv\":\"⦲\",\"cent\":\"¢\",\"centerdot\":\"·\",\"CenterDot\":\"·\",\"cfr\":\"𝔠\",\"Cfr\":\"ℭ\",\"CHcy\":\"Ч\",\"chcy\":\"ч\",\"check\":\"✓\",\"checkmark\":\"✓\",\"Chi\":\"Χ\",\"chi\":\"χ\",\"circ\":\"ˆ\",\"circeq\":\"≗\",\"circlearrowleft\":\"↺\",\"circlearrowright\":\"↻\",\"circledast\":\"⊛\",\"circledcirc\":\"⊚\",\"circleddash\":\"⊝\",\"CircleDot\":\"⊙\",\"circledR\":\"®\",\"circledS\":\"Ⓢ\",\"CircleMinus\":\"⊖\",\"CirclePlus\":\"⊕\",\"CircleTimes\":\"⊗\",\"cir\":\"○\",\"cirE\":\"⧃\",\"cire\":\"≗\",\"cirfnint\":\"⨐\",\"cirmid\":\"⫯\",\"cirscir\":\"⧂\",\"ClockwiseContourIntegral\":\"∲\",\"CloseCurlyDoubleQuote\":\"”\",\"CloseCurlyQuote\":\"’\",\"clubs\":\"♣\",\"clubsuit\":\"♣\",\"colon\":\":\",\"Colon\":\"∷\",\"Colone\":\"⩴\",\"colone\":\"≔\",\"coloneq\":\"≔\",\"comma\":\",\",\"commat\":\"@\",\"comp\":\"∁\",\"compfn\":\"∘\",\"complement\":\"∁\",\"complexes\":\"ℂ\",\"cong\":\"≅\",\"congdot\":\"⩭\",\"Congruent\":\"≡\",\"conint\":\"∮\",\"Conint\":\"∯\",\"ContourIntegral\":\"∮\",\"copf\":\"𝕔\",\"Copf\":\"ℂ\",\"coprod\":\"∐\",\"Coproduct\":\"∐\",\"copy\":\"©\",\"COPY\":\"©\",\"copysr\":\"℗\",\"CounterClockwiseContourIntegral\":\"∳\",\"crarr\":\"↵\",\"cross\":\"✗\",\"Cross\":\"⨯\",\"Cscr\":\"𝒞\",\"cscr\":\"𝒸\",\"csub\":\"⫏\",\"csube\":\"⫑\",\"csup\":\"⫐\",\"csupe\":\"⫒\",\"ctdot\":\"⋯\",\"cudarrl\":\"⤸\",\"cudarrr\":\"⤵\",\"cuepr\":\"⋞\",\"cuesc\":\"⋟\",\"cularr\":\"↶\",\"cularrp\":\"⤽\",\"cupbrcap\":\"⩈\",\"cupcap\":\"⩆\",\"CupCap\":\"≍\",\"cup\":\"∪\",\"Cup\":\"⋓\",\"cupcup\":\"⩊\",\"cupdot\":\"⊍\",\"cupor\":\"⩅\",\"cups\":\"∪︀\",\"curarr\":\"↷\",\"curarrm\":\"⤼\",\"curlyeqprec\":\"⋞\",\"curlyeqsucc\":\"⋟\",\"curlyvee\":\"⋎\",\"curlywedge\":\"⋏\",\"curren\":\"¤\",\"curvearrowleft\":\"↶\",\"curvearrowright\":\"↷\",\"cuvee\":\"⋎\",\"cuwed\":\"⋏\",\"cwconint\":\"∲\",\"cwint\":\"∱\",\"cylcty\":\"⌭\",\"dagger\":\"†\",\"Dagger\":\"‡\",\"daleth\":\"ℸ\",\"darr\":\"↓\",\"Darr\":\"↡\",\"dArr\":\"⇓\",\"dash\":\"‐\",\"Dashv\":\"⫤\",\"dashv\":\"⊣\",\"dbkarow\":\"⤏\",\"dblac\":\"˝\",\"Dcaron\":\"Ď\",\"dcaron\":\"ď\",\"Dcy\":\"Д\",\"dcy\":\"д\",\"ddagger\":\"‡\",\"ddarr\":\"⇊\",\"DD\":\"ⅅ\",\"dd\":\"ⅆ\",\"DDotrahd\":\"⤑\",\"ddotseq\":\"⩷\",\"deg\":\"°\",\"Del\":\"∇\",\"Delta\":\"Δ\",\"delta\":\"δ\",\"demptyv\":\"⦱\",\"dfisht\":\"⥿\",\"Dfr\":\"𝔇\",\"dfr\":\"𝔡\",\"dHar\":\"⥥\",\"dharl\":\"⇃\",\"dharr\":\"⇂\",\"DiacriticalAcute\":\"´\",\"DiacriticalDot\":\"˙\",\"DiacriticalDoubleAcute\":\"˝\",\"DiacriticalGrave\":\"`\",\"DiacriticalTilde\":\"˜\",\"diam\":\"⋄\",\"diamond\":\"⋄\",\"Diamond\":\"⋄\",\"diamondsuit\":\"♦\",\"diams\":\"♦\",\"die\":\"¨\",\"DifferentialD\":\"ⅆ\",\"digamma\":\"ϝ\",\"disin\":\"⋲\",\"div\":\"÷\",\"divide\":\"÷\",\"divideontimes\":\"⋇\",\"divonx\":\"⋇\",\"DJcy\":\"Ђ\",\"djcy\":\"ђ\",\"dlcorn\":\"⌞\",\"dlcrop\":\"⌍\",\"dollar\":\"$\",\"Dopf\":\"𝔻\",\"dopf\":\"𝕕\",\"Dot\":\"¨\",\"dot\":\"˙\",\"DotDot\":\"⃜\",\"doteq\":\"≐\",\"doteqdot\":\"≑\",\"DotEqual\":\"≐\",\"dotminus\":\"∸\",\"dotplus\":\"∔\",\"dotsquare\":\"⊡\",\"doublebarwedge\":\"⌆\",\"DoubleContourIntegral\":\"∯\",\"DoubleDot\":\"¨\",\"DoubleDownArrow\":\"⇓\",\"DoubleLeftArrow\":\"⇐\",\"DoubleLeftRightArrow\":\"⇔\",\"DoubleLeftTee\":\"⫤\",\"DoubleLongLeftArrow\":\"⟸\",\"DoubleLongLeftRightArrow\":\"⟺\",\"DoubleLongRightArrow\":\"⟹\",\"DoubleRightArrow\":\"⇒\",\"DoubleRightTee\":\"⊨\",\"DoubleUpArrow\":\"⇑\",\"DoubleUpDownArrow\":\"⇕\",\"DoubleVerticalBar\":\"∥\",\"DownArrowBar\":\"⤓\",\"downarrow\":\"↓\",\"DownArrow\":\"↓\",\"Downarrow\":\"⇓\",\"DownArrowUpArrow\":\"⇵\",\"DownBreve\":\"̑\",\"downdownarrows\":\"⇊\",\"downharpoonleft\":\"⇃\",\"downharpoonright\":\"⇂\",\"DownLeftRightVector\":\"⥐\",\"DownLeftTeeVector\":\"⥞\",\"DownLeftVectorBar\":\"⥖\",\"DownLeftVector\":\"↽\",\"DownRightTeeVector\":\"⥟\",\"DownRightVectorBar\":\"⥗\",\"DownRightVector\":\"⇁\",\"DownTeeArrow\":\"↧\",\"DownTee\":\"⊤\",\"drbkarow\":\"⤐\",\"drcorn\":\"⌟\",\"drcrop\":\"⌌\",\"Dscr\":\"𝒟\",\"dscr\":\"𝒹\",\"DScy\":\"Ѕ\",\"dscy\":\"ѕ\",\"dsol\":\"⧶\",\"Dstrok\":\"Đ\",\"dstrok\":\"đ\",\"dtdot\":\"⋱\",\"dtri\":\"▿\",\"dtrif\":\"▾\",\"duarr\":\"⇵\",\"duhar\":\"⥯\",\"dwangle\":\"⦦\",\"DZcy\":\"Џ\",\"dzcy\":\"џ\",\"dzigrarr\":\"⟿\",\"Eacute\":\"É\",\"eacute\":\"é\",\"easter\":\"⩮\",\"Ecaron\":\"Ě\",\"ecaron\":\"ě\",\"Ecirc\":\"Ê\",\"ecirc\":\"ê\",\"ecir\":\"≖\",\"ecolon\":\"≕\",\"Ecy\":\"Э\",\"ecy\":\"э\",\"eDDot\":\"⩷\",\"Edot\":\"Ė\",\"edot\":\"ė\",\"eDot\":\"≑\",\"ee\":\"ⅇ\",\"efDot\":\"≒\",\"Efr\":\"𝔈\",\"efr\":\"𝔢\",\"eg\":\"⪚\",\"Egrave\":\"È\",\"egrave\":\"è\",\"egs\":\"⪖\",\"egsdot\":\"⪘\",\"el\":\"⪙\",\"Element\":\"∈\",\"elinters\":\"⏧\",\"ell\":\"ℓ\",\"els\":\"⪕\",\"elsdot\":\"⪗\",\"Emacr\":\"Ē\",\"emacr\":\"ē\",\"empty\":\"∅\",\"emptyset\":\"∅\",\"EmptySmallSquare\":\"◻\",\"emptyv\":\"∅\",\"EmptyVerySmallSquare\":\"▫\",\"emsp13\":\" \",\"emsp14\":\" \",\"emsp\":\" \",\"ENG\":\"Ŋ\",\"eng\":\"ŋ\",\"ensp\":\" \",\"Eogon\":\"Ę\",\"eogon\":\"ę\",\"Eopf\":\"𝔼\",\"eopf\":\"𝕖\",\"epar\":\"⋕\",\"eparsl\":\"⧣\",\"eplus\":\"⩱\",\"epsi\":\"ε\",\"Epsilon\":\"Ε\",\"epsilon\":\"ε\",\"epsiv\":\"ϵ\",\"eqcirc\":\"≖\",\"eqcolon\":\"≕\",\"eqsim\":\"≂\",\"eqslantgtr\":\"⪖\",\"eqslantless\":\"⪕\",\"Equal\":\"⩵\",\"equals\":\"=\",\"EqualTilde\":\"≂\",\"equest\":\"≟\",\"Equilibrium\":\"⇌\",\"equiv\":\"≡\",\"equivDD\":\"⩸\",\"eqvparsl\":\"⧥\",\"erarr\":\"⥱\",\"erDot\":\"≓\",\"escr\":\"ℯ\",\"Escr\":\"ℰ\",\"esdot\":\"≐\",\"Esim\":\"⩳\",\"esim\":\"≂\",\"Eta\":\"Η\",\"eta\":\"η\",\"ETH\":\"Ð\",\"eth\":\"ð\",\"Euml\":\"Ë\",\"euml\":\"ë\",\"euro\":\"€\",\"excl\":\"!\",\"exist\":\"∃\",\"Exists\":\"∃\",\"expectation\":\"ℰ\",\"exponentiale\":\"ⅇ\",\"ExponentialE\":\"ⅇ\",\"fallingdotseq\":\"≒\",\"Fcy\":\"Ф\",\"fcy\":\"ф\",\"female\":\"♀\",\"ffilig\":\"ﬃ\",\"fflig\":\"ﬀ\",\"ffllig\":\"ﬄ\",\"Ffr\":\"𝔉\",\"ffr\":\"𝔣\",\"filig\":\"ﬁ\",\"FilledSmallSquare\":\"◼\",\"FilledVerySmallSquare\":\"▪\",\"fjlig\":\"fj\",\"flat\":\"♭\",\"fllig\":\"ﬂ\",\"fltns\":\"▱\",\"fnof\":\"ƒ\",\"Fopf\":\"𝔽\",\"fopf\":\"𝕗\",\"forall\":\"∀\",\"ForAll\":\"∀\",\"fork\":\"⋔\",\"forkv\":\"⫙\",\"Fouriertrf\":\"ℱ\",\"fpartint\":\"⨍\",\"frac12\":\"½\",\"frac13\":\"⅓\",\"frac14\":\"¼\",\"frac15\":\"⅕\",\"frac16\":\"⅙\",\"frac18\":\"⅛\",\"frac23\":\"⅔\",\"frac25\":\"⅖\",\"frac34\":\"¾\",\"frac35\":\"⅗\",\"frac38\":\"⅜\",\"frac45\":\"⅘\",\"frac56\":\"⅚\",\"frac58\":\"⅝\",\"frac78\":\"⅞\",\"frasl\":\"⁄\",\"frown\":\"⌢\",\"fscr\":\"𝒻\",\"Fscr\":\"ℱ\",\"gacute\":\"ǵ\",\"Gamma\":\"Γ\",\"gamma\":\"γ\",\"Gammad\":\"Ϝ\",\"gammad\":\"ϝ\",\"gap\":\"⪆\",\"Gbreve\":\"Ğ\",\"gbreve\":\"ğ\",\"Gcedil\":\"Ģ\",\"Gcirc\":\"Ĝ\",\"gcirc\":\"ĝ\",\"Gcy\":\"Г\",\"gcy\":\"г\",\"Gdot\":\"Ġ\",\"gdot\":\"ġ\",\"ge\":\"≥\",\"gE\":\"≧\",\"gEl\":\"⪌\",\"gel\":\"⋛\",\"geq\":\"≥\",\"geqq\":\"≧\",\"geqslant\":\"⩾\",\"gescc\":\"⪩\",\"ges\":\"⩾\",\"gesdot\":\"⪀\",\"gesdoto\":\"⪂\",\"gesdotol\":\"⪄\",\"gesl\":\"⋛︀\",\"gesles\":\"⪔\",\"Gfr\":\"𝔊\",\"gfr\":\"𝔤\",\"gg\":\"≫\",\"Gg\":\"⋙\",\"ggg\":\"⋙\",\"gimel\":\"ℷ\",\"GJcy\":\"Ѓ\",\"gjcy\":\"ѓ\",\"gla\":\"⪥\",\"gl\":\"≷\",\"glE\":\"⪒\",\"glj\":\"⪤\",\"gnap\":\"⪊\",\"gnapprox\":\"⪊\",\"gne\":\"⪈\",\"gnE\":\"≩\",\"gneq\":\"⪈\",\"gneqq\":\"≩\",\"gnsim\":\"⋧\",\"Gopf\":\"𝔾\",\"gopf\":\"𝕘\",\"grave\":\"`\",\"GreaterEqual\":\"≥\",\"GreaterEqualLess\":\"⋛\",\"GreaterFullEqual\":\"≧\",\"GreaterGreater\":\"⪢\",\"GreaterLess\":\"≷\",\"GreaterSlantEqual\":\"⩾\",\"GreaterTilde\":\"≳\",\"Gscr\":\"𝒢\",\"gscr\":\"ℊ\",\"gsim\":\"≳\",\"gsime\":\"⪎\",\"gsiml\":\"⪐\",\"gtcc\":\"⪧\",\"gtcir\":\"⩺\",\"gt\":\">\",\"GT\":\">\",\"Gt\":\"≫\",\"gtdot\":\"⋗\",\"gtlPar\":\"⦕\",\"gtquest\":\"⩼\",\"gtrapprox\":\"⪆\",\"gtrarr\":\"⥸\",\"gtrdot\":\"⋗\",\"gtreqless\":\"⋛\",\"gtreqqless\":\"⪌\",\"gtrless\":\"≷\",\"gtrsim\":\"≳\",\"gvertneqq\":\"≩︀\",\"gvnE\":\"≩︀\",\"Hacek\":\"ˇ\",\"hairsp\":\" \",\"half\":\"½\",\"hamilt\":\"ℋ\",\"HARDcy\":\"Ъ\",\"hardcy\":\"ъ\",\"harrcir\":\"⥈\",\"harr\":\"↔\",\"hArr\":\"⇔\",\"harrw\":\"↭\",\"Hat\":\"^\",\"hbar\":\"ℏ\",\"Hcirc\":\"Ĥ\",\"hcirc\":\"ĥ\",\"hearts\":\"♥\",\"heartsuit\":\"♥\",\"hellip\":\"…\",\"hercon\":\"⊹\",\"hfr\":\"𝔥\",\"Hfr\":\"ℌ\",\"HilbertSpace\":\"ℋ\",\"hksearow\":\"⤥\",\"hkswarow\":\"⤦\",\"hoarr\":\"⇿\",\"homtht\":\"∻\",\"hookleftarrow\":\"↩\",\"hookrightarrow\":\"↪\",\"hopf\":\"𝕙\",\"Hopf\":\"ℍ\",\"horbar\":\"―\",\"HorizontalLine\":\"─\",\"hscr\":\"𝒽\",\"Hscr\":\"ℋ\",\"hslash\":\"ℏ\",\"Hstrok\":\"Ħ\",\"hstrok\":\"ħ\",\"HumpDownHump\":\"≎\",\"HumpEqual\":\"≏\",\"hybull\":\"⁃\",\"hyphen\":\"‐\",\"Iacute\":\"Í\",\"iacute\":\"í\",\"ic\":\"⁣\",\"Icirc\":\"Î\",\"icirc\":\"î\",\"Icy\":\"И\",\"icy\":\"и\",\"Idot\":\"İ\",\"IEcy\":\"Е\",\"iecy\":\"е\",\"iexcl\":\"¡\",\"iff\":\"⇔\",\"ifr\":\"𝔦\",\"Ifr\":\"ℑ\",\"Igrave\":\"Ì\",\"igrave\":\"ì\",\"ii\":\"ⅈ\",\"iiiint\":\"⨌\",\"iiint\":\"∭\",\"iinfin\":\"⧜\",\"iiota\":\"℩\",\"IJlig\":\"Ĳ\",\"ijlig\":\"ĳ\",\"Imacr\":\"Ī\",\"imacr\":\"ī\",\"image\":\"ℑ\",\"ImaginaryI\":\"ⅈ\",\"imagline\":\"ℐ\",\"imagpart\":\"ℑ\",\"imath\":\"ı\",\"Im\":\"ℑ\",\"imof\":\"⊷\",\"imped\":\"Ƶ\",\"Implies\":\"⇒\",\"incare\":\"℅\",\"in\":\"∈\",\"infin\":\"∞\",\"infintie\":\"⧝\",\"inodot\":\"ı\",\"intcal\":\"⊺\",\"int\":\"∫\",\"Int\":\"∬\",\"integers\":\"ℤ\",\"Integral\":\"∫\",\"intercal\":\"⊺\",\"Intersection\":\"⋂\",\"intlarhk\":\"⨗\",\"intprod\":\"⨼\",\"InvisibleComma\":\"⁣\",\"InvisibleTimes\":\"⁢\",\"IOcy\":\"Ё\",\"iocy\":\"ё\",\"Iogon\":\"Į\",\"iogon\":\"į\",\"Iopf\":\"𝕀\",\"iopf\":\"𝕚\",\"Iota\":\"Ι\",\"iota\":\"ι\",\"iprod\":\"⨼\",\"iquest\":\"¿\",\"iscr\":\"𝒾\",\"Iscr\":\"ℐ\",\"isin\":\"∈\",\"isindot\":\"⋵\",\"isinE\":\"⋹\",\"isins\":\"⋴\",\"isinsv\":\"⋳\",\"isinv\":\"∈\",\"it\":\"⁢\",\"Itilde\":\"Ĩ\",\"itilde\":\"ĩ\",\"Iukcy\":\"І\",\"iukcy\":\"і\",\"Iuml\":\"Ï\",\"iuml\":\"ï\",\"Jcirc\":\"Ĵ\",\"jcirc\":\"ĵ\",\"Jcy\":\"Й\",\"jcy\":\"й\",\"Jfr\":\"𝔍\",\"jfr\":\"𝔧\",\"jmath\":\"ȷ\",\"Jopf\":\"𝕁\",\"jopf\":\"𝕛\",\"Jscr\":\"𝒥\",\"jscr\":\"𝒿\",\"Jsercy\":\"Ј\",\"jsercy\":\"ј\",\"Jukcy\":\"Є\",\"jukcy\":\"є\",\"Kappa\":\"Κ\",\"kappa\":\"κ\",\"kappav\":\"ϰ\",\"Kcedil\":\"Ķ\",\"kcedil\":\"ķ\",\"Kcy\":\"К\",\"kcy\":\"к\",\"Kfr\":\"𝔎\",\"kfr\":\"𝔨\",\"kgreen\":\"ĸ\",\"KHcy\":\"Х\",\"khcy\":\"х\",\"KJcy\":\"Ќ\",\"kjcy\":\"ќ\",\"Kopf\":\"𝕂\",\"kopf\":\"𝕜\",\"Kscr\":\"𝒦\",\"kscr\":\"𝓀\",\"lAarr\":\"⇚\",\"Lacute\":\"Ĺ\",\"lacute\":\"ĺ\",\"laemptyv\":\"⦴\",\"lagran\":\"ℒ\",\"Lambda\":\"Λ\",\"lambda\":\"λ\",\"lang\":\"⟨\",\"Lang\":\"⟪\",\"langd\":\"⦑\",\"langle\":\"⟨\",\"lap\":\"⪅\",\"Laplacetrf\":\"ℒ\",\"laquo\":\"«\",\"larrb\":\"⇤\",\"larrbfs\":\"⤟\",\"larr\":\"←\",\"Larr\":\"↞\",\"lArr\":\"⇐\",\"larrfs\":\"⤝\",\"larrhk\":\"↩\",\"larrlp\":\"↫\",\"larrpl\":\"⤹\",\"larrsim\":\"⥳\",\"larrtl\":\"↢\",\"latail\":\"⤙\",\"lAtail\":\"⤛\",\"lat\":\"⪫\",\"late\":\"⪭\",\"lates\":\"⪭︀\",\"lbarr\":\"⤌\",\"lBarr\":\"⤎\",\"lbbrk\":\"❲\",\"lbrace\":\"{\",\"lbrack\":\"[\",\"lbrke\":\"⦋\",\"lbrksld\":\"⦏\",\"lbrkslu\":\"⦍\",\"Lcaron\":\"Ľ\",\"lcaron\":\"ľ\",\"Lcedil\":\"Ļ\",\"lcedil\":\"ļ\",\"lceil\":\"⌈\",\"lcub\":\"{\",\"Lcy\":\"Л\",\"lcy\":\"л\",\"ldca\":\"⤶\",\"ldquo\":\"“\",\"ldquor\":\"„\",\"ldrdhar\":\"⥧\",\"ldrushar\":\"⥋\",\"ldsh\":\"↲\",\"le\":\"≤\",\"lE\":\"≦\",\"LeftAngleBracket\":\"⟨\",\"LeftArrowBar\":\"⇤\",\"leftarrow\":\"←\",\"LeftArrow\":\"←\",\"Leftarrow\":\"⇐\",\"LeftArrowRightArrow\":\"⇆\",\"leftarrowtail\":\"↢\",\"LeftCeiling\":\"⌈\",\"LeftDoubleBracket\":\"⟦\",\"LeftDownTeeVector\":\"⥡\",\"LeftDownVectorBar\":\"⥙\",\"LeftDownVector\":\"⇃\",\"LeftFloor\":\"⌊\",\"leftharpoondown\":\"↽\",\"leftharpoonup\":\"↼\",\"leftleftarrows\":\"⇇\",\"leftrightarrow\":\"↔\",\"LeftRightArrow\":\"↔\",\"Leftrightarrow\":\"⇔\",\"leftrightarrows\":\"⇆\",\"leftrightharpoons\":\"⇋\",\"leftrightsquigarrow\":\"↭\",\"LeftRightVector\":\"⥎\",\"LeftTeeArrow\":\"↤\",\"LeftTee\":\"⊣\",\"LeftTeeVector\":\"⥚\",\"leftthreetimes\":\"⋋\",\"LeftTriangleBar\":\"⧏\",\"LeftTriangle\":\"⊲\",\"LeftTriangleEqual\":\"⊴\",\"LeftUpDownVector\":\"⥑\",\"LeftUpTeeVector\":\"⥠\",\"LeftUpVectorBar\":\"⥘\",\"LeftUpVector\":\"↿\",\"LeftVectorBar\":\"⥒\",\"LeftVector\":\"↼\",\"lEg\":\"⪋\",\"leg\":\"⋚\",\"leq\":\"≤\",\"leqq\":\"≦\",\"leqslant\":\"⩽\",\"lescc\":\"⪨\",\"les\":\"⩽\",\"lesdot\":\"⩿\",\"lesdoto\":\"⪁\",\"lesdotor\":\"⪃\",\"lesg\":\"⋚︀\",\"lesges\":\"⪓\",\"lessapprox\":\"⪅\",\"lessdot\":\"⋖\",\"lesseqgtr\":\"⋚\",\"lesseqqgtr\":\"⪋\",\"LessEqualGreater\":\"⋚\",\"LessFullEqual\":\"≦\",\"LessGreater\":\"≶\",\"lessgtr\":\"≶\",\"LessLess\":\"⪡\",\"lesssim\":\"≲\",\"LessSlantEqual\":\"⩽\",\"LessTilde\":\"≲\",\"lfisht\":\"⥼\",\"lfloor\":\"⌊\",\"Lfr\":\"𝔏\",\"lfr\":\"𝔩\",\"lg\":\"≶\",\"lgE\":\"⪑\",\"lHar\":\"⥢\",\"lhard\":\"↽\",\"lharu\":\"↼\",\"lharul\":\"⥪\",\"lhblk\":\"▄\",\"LJcy\":\"Љ\",\"ljcy\":\"љ\",\"llarr\":\"⇇\",\"ll\":\"≪\",\"Ll\":\"⋘\",\"llcorner\":\"⌞\",\"Lleftarrow\":\"⇚\",\"llhard\":\"⥫\",\"lltri\":\"◺\",\"Lmidot\":\"Ŀ\",\"lmidot\":\"ŀ\",\"lmoustache\":\"⎰\",\"lmoust\":\"⎰\",\"lnap\":\"⪉\",\"lnapprox\":\"⪉\",\"lne\":\"⪇\",\"lnE\":\"≨\",\"lneq\":\"⪇\",\"lneqq\":\"≨\",\"lnsim\":\"⋦\",\"loang\":\"⟬\",\"loarr\":\"⇽\",\"lobrk\":\"⟦\",\"longleftarrow\":\"⟵\",\"LongLeftArrow\":\"⟵\",\"Longleftarrow\":\"⟸\",\"longleftrightarrow\":\"⟷\",\"LongLeftRightArrow\":\"⟷\",\"Longleftrightarrow\":\"⟺\",\"longmapsto\":\"⟼\",\"longrightarrow\":\"⟶\",\"LongRightArrow\":\"⟶\",\"Longrightarrow\":\"⟹\",\"looparrowleft\":\"↫\",\"looparrowright\":\"↬\",\"lopar\":\"⦅\",\"Lopf\":\"𝕃\",\"lopf\":\"𝕝\",\"loplus\":\"⨭\",\"lotimes\":\"⨴\",\"lowast\":\"∗\",\"lowbar\":\"_\",\"LowerLeftArrow\":\"↙\",\"LowerRightArrow\":\"↘\",\"loz\":\"◊\",\"lozenge\":\"◊\",\"lozf\":\"⧫\",\"lpar\":\"(\",\"lparlt\":\"⦓\",\"lrarr\":\"⇆\",\"lrcorner\":\"⌟\",\"lrhar\":\"⇋\",\"lrhard\":\"⥭\",\"lrm\":\"‎\",\"lrtri\":\"⊿\",\"lsaquo\":\"‹\",\"lscr\":\"𝓁\",\"Lscr\":\"ℒ\",\"lsh\":\"↰\",\"Lsh\":\"↰\",\"lsim\":\"≲\",\"lsime\":\"⪍\",\"lsimg\":\"⪏\",\"lsqb\":\"[\",\"lsquo\":\"‘\",\"lsquor\":\"‚\",\"Lstrok\":\"Ł\",\"lstrok\":\"ł\",\"ltcc\":\"⪦\",\"ltcir\":\"⩹\",\"lt\":\"<\",\"LT\":\"<\",\"Lt\":\"≪\",\"ltdot\":\"⋖\",\"lthree\":\"⋋\",\"ltimes\":\"⋉\",\"ltlarr\":\"⥶\",\"ltquest\":\"⩻\",\"ltri\":\"◃\",\"ltrie\":\"⊴\",\"ltrif\":\"◂\",\"ltrPar\":\"⦖\",\"lurdshar\":\"⥊\",\"luruhar\":\"⥦\",\"lvertneqq\":\"≨︀\",\"lvnE\":\"≨︀\",\"macr\":\"¯\",\"male\":\"♂\",\"malt\":\"✠\",\"maltese\":\"✠\",\"Map\":\"⤅\",\"map\":\"↦\",\"mapsto\":\"↦\",\"mapstodown\":\"↧\",\"mapstoleft\":\"↤\",\"mapstoup\":\"↥\",\"marker\":\"▮\",\"mcomma\":\"⨩\",\"Mcy\":\"М\",\"mcy\":\"м\",\"mdash\":\"—\",\"mDDot\":\"∺\",\"measuredangle\":\"∡\",\"MediumSpace\":\" \",\"Mellintrf\":\"ℳ\",\"Mfr\":\"𝔐\",\"mfr\":\"𝔪\",\"mho\":\"℧\",\"micro\":\"µ\",\"midast\":\"*\",\"midcir\":\"⫰\",\"mid\":\"∣\",\"middot\":\"·\",\"minusb\":\"⊟\",\"minus\":\"−\",\"minusd\":\"∸\",\"minusdu\":\"⨪\",\"MinusPlus\":\"∓\",\"mlcp\":\"⫛\",\"mldr\":\"…\",\"mnplus\":\"∓\",\"models\":\"⊧\",\"Mopf\":\"𝕄\",\"mopf\":\"𝕞\",\"mp\":\"∓\",\"mscr\":\"𝓂\",\"Mscr\":\"ℳ\",\"mstpos\":\"∾\",\"Mu\":\"Μ\",\"mu\":\"μ\",\"multimap\":\"⊸\",\"mumap\":\"⊸\",\"nabla\":\"∇\",\"Nacute\":\"Ń\",\"nacute\":\"ń\",\"nang\":\"∠⃒\",\"nap\":\"≉\",\"napE\":\"⩰̸\",\"napid\":\"≋̸\",\"napos\":\"ŉ\",\"napprox\":\"≉\",\"natural\":\"♮\",\"naturals\":\"ℕ\",\"natur\":\"♮\",\"nbsp\":\" \",\"nbump\":\"≎̸\",\"nbumpe\":\"≏̸\",\"ncap\":\"⩃\",\"Ncaron\":\"Ň\",\"ncaron\":\"ň\",\"Ncedil\":\"Ņ\",\"ncedil\":\"ņ\",\"ncong\":\"≇\",\"ncongdot\":\"⩭̸\",\"ncup\":\"⩂\",\"Ncy\":\"Н\",\"ncy\":\"н\",\"ndash\":\"–\",\"nearhk\":\"⤤\",\"nearr\":\"↗\",\"neArr\":\"⇗\",\"nearrow\":\"↗\",\"ne\":\"≠\",\"nedot\":\"≐̸\",\"NegativeMediumSpace\":\"​\",\"NegativeThickSpace\":\"​\",\"NegativeThinSpace\":\"​\",\"NegativeVeryThinSpace\":\"​\",\"nequiv\":\"≢\",\"nesear\":\"⤨\",\"nesim\":\"≂̸\",\"NestedGreaterGreater\":\"≫\",\"NestedLessLess\":\"≪\",\"NewLine\":\"\\\\n\",\"nexist\":\"∄\",\"nexists\":\"∄\",\"Nfr\":\"𝔑\",\"nfr\":\"𝔫\",\"ngE\":\"≧̸\",\"nge\":\"≱\",\"ngeq\":\"≱\",\"ngeqq\":\"≧̸\",\"ngeqslant\":\"⩾̸\",\"nges\":\"⩾̸\",\"nGg\":\"⋙̸\",\"ngsim\":\"≵\",\"nGt\":\"≫⃒\",\"ngt\":\"≯\",\"ngtr\":\"≯\",\"nGtv\":\"≫̸\",\"nharr\":\"↮\",\"nhArr\":\"⇎\",\"nhpar\":\"⫲\",\"ni\":\"∋\",\"nis\":\"⋼\",\"nisd\":\"⋺\",\"niv\":\"∋\",\"NJcy\":\"Њ\",\"njcy\":\"њ\",\"nlarr\":\"↚\",\"nlArr\":\"⇍\",\"nldr\":\"‥\",\"nlE\":\"≦̸\",\"nle\":\"≰\",\"nleftarrow\":\"↚\",\"nLeftarrow\":\"⇍\",\"nleftrightarrow\":\"↮\",\"nLeftrightarrow\":\"⇎\",\"nleq\":\"≰\",\"nleqq\":\"≦̸\",\"nleqslant\":\"⩽̸\",\"nles\":\"⩽̸\",\"nless\":\"≮\",\"nLl\":\"⋘̸\",\"nlsim\":\"≴\",\"nLt\":\"≪⃒\",\"nlt\":\"≮\",\"nltri\":\"⋪\",\"nltrie\":\"⋬\",\"nLtv\":\"≪̸\",\"nmid\":\"∤\",\"NoBreak\":\"⁠\",\"NonBreakingSpace\":\" \",\"nopf\":\"𝕟\",\"Nopf\":\"ℕ\",\"Not\":\"⫬\",\"not\":\"¬\",\"NotCongruent\":\"≢\",\"NotCupCap\":\"≭\",\"NotDoubleVerticalBar\":\"∦\",\"NotElement\":\"∉\",\"NotEqual\":\"≠\",\"NotEqualTilde\":\"≂̸\",\"NotExists\":\"∄\",\"NotGreater\":\"≯\",\"NotGreaterEqual\":\"≱\",\"NotGreaterFullEqual\":\"≧̸\",\"NotGreaterGreater\":\"≫̸\",\"NotGreaterLess\":\"≹\",\"NotGreaterSlantEqual\":\"⩾̸\",\"NotGreaterTilde\":\"≵\",\"NotHumpDownHump\":\"≎̸\",\"NotHumpEqual\":\"≏̸\",\"notin\":\"∉\",\"notindot\":\"⋵̸\",\"notinE\":\"⋹̸\",\"notinva\":\"∉\",\"notinvb\":\"⋷\",\"notinvc\":\"⋶\",\"NotLeftTriangleBar\":\"⧏̸\",\"NotLeftTriangle\":\"⋪\",\"NotLeftTriangleEqual\":\"⋬\",\"NotLess\":\"≮\",\"NotLessEqual\":\"≰\",\"NotLessGreater\":\"≸\",\"NotLessLess\":\"≪̸\",\"NotLessSlantEqual\":\"⩽̸\",\"NotLessTilde\":\"≴\",\"NotNestedGreaterGreater\":\"⪢̸\",\"NotNestedLessLess\":\"⪡̸\",\"notni\":\"∌\",\"notniva\":\"∌\",\"notnivb\":\"⋾\",\"notnivc\":\"⋽\",\"NotPrecedes\":\"⊀\",\"NotPrecedesEqual\":\"⪯̸\",\"NotPrecedesSlantEqual\":\"⋠\",\"NotReverseElement\":\"∌\",\"NotRightTriangleBar\":\"⧐̸\",\"NotRightTriangle\":\"⋫\",\"NotRightTriangleEqual\":\"⋭\",\"NotSquareSubset\":\"⊏̸\",\"NotSquareSubsetEqual\":\"⋢\",\"NotSquareSuperset\":\"⊐̸\",\"NotSquareSupersetEqual\":\"⋣\",\"NotSubset\":\"⊂⃒\",\"NotSubsetEqual\":\"⊈\",\"NotSucceeds\":\"⊁\",\"NotSucceedsEqual\":\"⪰̸\",\"NotSucceedsSlantEqual\":\"⋡\",\"NotSucceedsTilde\":\"≿̸\",\"NotSuperset\":\"⊃⃒\",\"NotSupersetEqual\":\"⊉\",\"NotTilde\":\"≁\",\"NotTildeEqual\":\"≄\",\"NotTildeFullEqual\":\"≇\",\"NotTildeTilde\":\"≉\",\"NotVerticalBar\":\"∤\",\"nparallel\":\"∦\",\"npar\":\"∦\",\"nparsl\":\"⫽⃥\",\"npart\":\"∂̸\",\"npolint\":\"⨔\",\"npr\":\"⊀\",\"nprcue\":\"⋠\",\"nprec\":\"⊀\",\"npreceq\":\"⪯̸\",\"npre\":\"⪯̸\",\"nrarrc\":\"⤳̸\",\"nrarr\":\"↛\",\"nrArr\":\"⇏\",\"nrarrw\":\"↝̸\",\"nrightarrow\":\"↛\",\"nRightarrow\":\"⇏\",\"nrtri\":\"⋫\",\"nrtrie\":\"⋭\",\"nsc\":\"⊁\",\"nsccue\":\"⋡\",\"nsce\":\"⪰̸\",\"Nscr\":\"𝒩\",\"nscr\":\"𝓃\",\"nshortmid\":\"∤\",\"nshortparallel\":\"∦\",\"nsim\":\"≁\",\"nsime\":\"≄\",\"nsimeq\":\"≄\",\"nsmid\":\"∤\",\"nspar\":\"∦\",\"nsqsube\":\"⋢\",\"nsqsupe\":\"⋣\",\"nsub\":\"⊄\",\"nsubE\":\"⫅̸\",\"nsube\":\"⊈\",\"nsubset\":\"⊂⃒\",\"nsubseteq\":\"⊈\",\"nsubseteqq\":\"⫅̸\",\"nsucc\":\"⊁\",\"nsucceq\":\"⪰̸\",\"nsup\":\"⊅\",\"nsupE\":\"⫆̸\",\"nsupe\":\"⊉\",\"nsupset\":\"⊃⃒\",\"nsupseteq\":\"⊉\",\"nsupseteqq\":\"⫆̸\",\"ntgl\":\"≹\",\"Ntilde\":\"Ñ\",\"ntilde\":\"ñ\",\"ntlg\":\"≸\",\"ntriangleleft\":\"⋪\",\"ntrianglelefteq\":\"⋬\",\"ntriangleright\":\"⋫\",\"ntrianglerighteq\":\"⋭\",\"Nu\":\"Ν\",\"nu\":\"ν\",\"num\":\"#\",\"numero\":\"№\",\"numsp\":\" \",\"nvap\":\"≍⃒\",\"nvdash\":\"⊬\",\"nvDash\":\"⊭\",\"nVdash\":\"⊮\",\"nVDash\":\"⊯\",\"nvge\":\"≥⃒\",\"nvgt\":\">⃒\",\"nvHarr\":\"⤄\",\"nvinfin\":\"⧞\",\"nvlArr\":\"⤂\",\"nvle\":\"≤⃒\",\"nvlt\":\"<⃒\",\"nvltrie\":\"⊴⃒\",\"nvrArr\":\"⤃\",\"nvrtrie\":\"⊵⃒\",\"nvsim\":\"∼⃒\",\"nwarhk\":\"⤣\",\"nwarr\":\"↖\",\"nwArr\":\"⇖\",\"nwarrow\":\"↖\",\"nwnear\":\"⤧\",\"Oacute\":\"Ó\",\"oacute\":\"ó\",\"oast\":\"⊛\",\"Ocirc\":\"Ô\",\"ocirc\":\"ô\",\"ocir\":\"⊚\",\"Ocy\":\"О\",\"ocy\":\"о\",\"odash\":\"⊝\",\"Odblac\":\"Ő\",\"odblac\":\"ő\",\"odiv\":\"⨸\",\"odot\":\"⊙\",\"odsold\":\"⦼\",\"OElig\":\"Œ\",\"oelig\":\"œ\",\"ofcir\":\"⦿\",\"Ofr\":\"𝔒\",\"ofr\":\"𝔬\",\"ogon\":\"˛\",\"Ograve\":\"Ò\",\"ograve\":\"ò\",\"ogt\":\"⧁\",\"ohbar\":\"⦵\",\"ohm\":\"Ω\",\"oint\":\"∮\",\"olarr\":\"↺\",\"olcir\":\"⦾\",\"olcross\":\"⦻\",\"oline\":\"‾\",\"olt\":\"⧀\",\"Omacr\":\"Ō\",\"omacr\":\"ō\",\"Omega\":\"Ω\",\"omega\":\"ω\",\"Omicron\":\"Ο\",\"omicron\":\"ο\",\"omid\":\"⦶\",\"ominus\":\"⊖\",\"Oopf\":\"𝕆\",\"oopf\":\"𝕠\",\"opar\":\"⦷\",\"OpenCurlyDoubleQuote\":\"“\",\"OpenCurlyQuote\":\"‘\",\"operp\":\"⦹\",\"oplus\":\"⊕\",\"orarr\":\"↻\",\"Or\":\"⩔\",\"or\":\"∨\",\"ord\":\"⩝\",\"order\":\"ℴ\",\"orderof\":\"ℴ\",\"ordf\":\"ª\",\"ordm\":\"º\",\"origof\":\"⊶\",\"oror\":\"⩖\",\"orslope\":\"⩗\",\"orv\":\"⩛\",\"oS\":\"Ⓢ\",\"Oscr\":\"𝒪\",\"oscr\":\"ℴ\",\"Oslash\":\"Ø\",\"oslash\":\"ø\",\"osol\":\"⊘\",\"Otilde\":\"Õ\",\"otilde\":\"õ\",\"otimesas\":\"⨶\",\"Otimes\":\"⨷\",\"otimes\":\"⊗\",\"Ouml\":\"Ö\",\"ouml\":\"ö\",\"ovbar\":\"⌽\",\"OverBar\":\"‾\",\"OverBrace\":\"⏞\",\"OverBracket\":\"⎴\",\"OverParenthesis\":\"⏜\",\"para\":\"¶\",\"parallel\":\"∥\",\"par\":\"∥\",\"parsim\":\"⫳\",\"parsl\":\"⫽\",\"part\":\"∂\",\"PartialD\":\"∂\",\"Pcy\":\"П\",\"pcy\":\"п\",\"percnt\":\"%\",\"period\":\".\",\"permil\":\"‰\",\"perp\":\"⊥\",\"pertenk\":\"‱\",\"Pfr\":\"𝔓\",\"pfr\":\"𝔭\",\"Phi\":\"Φ\",\"phi\":\"φ\",\"phiv\":\"ϕ\",\"phmmat\":\"ℳ\",\"phone\":\"☎\",\"Pi\":\"Π\",\"pi\":\"π\",\"pitchfork\":\"⋔\",\"piv\":\"ϖ\",\"planck\":\"ℏ\",\"planckh\":\"ℎ\",\"plankv\":\"ℏ\",\"plusacir\":\"⨣\",\"plusb\":\"⊞\",\"pluscir\":\"⨢\",\"plus\":\"+\",\"plusdo\":\"∔\",\"plusdu\":\"⨥\",\"pluse\":\"⩲\",\"PlusMinus\":\"±\",\"plusmn\":\"±\",\"plussim\":\"⨦\",\"plustwo\":\"⨧\",\"pm\":\"±\",\"Poincareplane\":\"ℌ\",\"pointint\":\"⨕\",\"popf\":\"𝕡\",\"Popf\":\"ℙ\",\"pound\":\"£\",\"prap\":\"⪷\",\"Pr\":\"⪻\",\"pr\":\"≺\",\"prcue\":\"≼\",\"precapprox\":\"⪷\",\"prec\":\"≺\",\"preccurlyeq\":\"≼\",\"Precedes\":\"≺\",\"PrecedesEqual\":\"⪯\",\"PrecedesSlantEqual\":\"≼\",\"PrecedesTilde\":\"≾\",\"preceq\":\"⪯\",\"precnapprox\":\"⪹\",\"precneqq\":\"⪵\",\"precnsim\":\"⋨\",\"pre\":\"⪯\",\"prE\":\"⪳\",\"precsim\":\"≾\",\"prime\":\"′\",\"Prime\":\"″\",\"primes\":\"ℙ\",\"prnap\":\"⪹\",\"prnE\":\"⪵\",\"prnsim\":\"⋨\",\"prod\":\"∏\",\"Product\":\"∏\",\"profalar\":\"⌮\",\"profline\":\"⌒\",\"profsurf\":\"⌓\",\"prop\":\"∝\",\"Proportional\":\"∝\",\"Proportion\":\"∷\",\"propto\":\"∝\",\"prsim\":\"≾\",\"prurel\":\"⊰\",\"Pscr\":\"𝒫\",\"pscr\":\"𝓅\",\"Psi\":\"Ψ\",\"psi\":\"ψ\",\"puncsp\":\" \",\"Qfr\":\"𝔔\",\"qfr\":\"𝔮\",\"qint\":\"⨌\",\"qopf\":\"𝕢\",\"Qopf\":\"ℚ\",\"qprime\":\"⁗\",\"Qscr\":\"𝒬\",\"qscr\":\"𝓆\",\"quaternions\":\"ℍ\",\"quatint\":\"⨖\",\"quest\":\"?\",\"questeq\":\"≟\",\"quot\":\"\\\\\"\",\"QUOT\":\"\\\\\"\",\"rAarr\":\"⇛\",\"race\":\"∽̱\",\"Racute\":\"Ŕ\",\"racute\":\"ŕ\",\"radic\":\"√\",\"raemptyv\":\"⦳\",\"rang\":\"⟩\",\"Rang\":\"⟫\",\"rangd\":\"⦒\",\"range\":\"⦥\",\"rangle\":\"⟩\",\"raquo\":\"»\",\"rarrap\":\"⥵\",\"rarrb\":\"⇥\",\"rarrbfs\":\"⤠\",\"rarrc\":\"⤳\",\"rarr\":\"→\",\"Rarr\":\"↠\",\"rArr\":\"⇒\",\"rarrfs\":\"⤞\",\"rarrhk\":\"↪\",\"rarrlp\":\"↬\",\"rarrpl\":\"⥅\",\"rarrsim\":\"⥴\",\"Rarrtl\":\"⤖\",\"rarrtl\":\"↣\",\"rarrw\":\"↝\",\"ratail\":\"⤚\",\"rAtail\":\"⤜\",\"ratio\":\"∶\",\"rationals\":\"ℚ\",\"rbarr\":\"⤍\",\"rBarr\":\"⤏\",\"RBarr\":\"⤐\",\"rbbrk\":\"❳\",\"rbrace\":\"}\",\"rbrack\":\"]\",\"rbrke\":\"⦌\",\"rbrksld\":\"⦎\",\"rbrkslu\":\"⦐\",\"Rcaron\":\"Ř\",\"rcaron\":\"ř\",\"Rcedil\":\"Ŗ\",\"rcedil\":\"ŗ\",\"rceil\":\"⌉\",\"rcub\":\"}\",\"Rcy\":\"Р\",\"rcy\":\"р\",\"rdca\":\"⤷\",\"rdldhar\":\"⥩\",\"rdquo\":\"”\",\"rdquor\":\"”\",\"rdsh\":\"↳\",\"real\":\"ℜ\",\"realine\":\"ℛ\",\"realpart\":\"ℜ\",\"reals\":\"ℝ\",\"Re\":\"ℜ\",\"rect\":\"▭\",\"reg\":\"®\",\"REG\":\"®\",\"ReverseElement\":\"∋\",\"ReverseEquilibrium\":\"⇋\",\"ReverseUpEquilibrium\":\"⥯\",\"rfisht\":\"⥽\",\"rfloor\":\"⌋\",\"rfr\":\"𝔯\",\"Rfr\":\"ℜ\",\"rHar\":\"⥤\",\"rhard\":\"⇁\",\"rharu\":\"⇀\",\"rharul\":\"⥬\",\"Rho\":\"Ρ\",\"rho\":\"ρ\",\"rhov\":\"ϱ\",\"RightAngleBracket\":\"⟩\",\"RightArrowBar\":\"⇥\",\"rightarrow\":\"→\",\"RightArrow\":\"→\",\"Rightarrow\":\"⇒\",\"RightArrowLeftArrow\":\"⇄\",\"rightarrowtail\":\"↣\",\"RightCeiling\":\"⌉\",\"RightDoubleBracket\":\"⟧\",\"RightDownTeeVector\":\"⥝\",\"RightDownVectorBar\":\"⥕\",\"RightDownVector\":\"⇂\",\"RightFloor\":\"⌋\",\"rightharpoondown\":\"⇁\",\"rightharpoonup\":\"⇀\",\"rightleftarrows\":\"⇄\",\"rightleftharpoons\":\"⇌\",\"rightrightarrows\":\"⇉\",\"rightsquigarrow\":\"↝\",\"RightTeeArrow\":\"↦\",\"RightTee\":\"⊢\",\"RightTeeVector\":\"⥛\",\"rightthreetimes\":\"⋌\",\"RightTriangleBar\":\"⧐\",\"RightTriangle\":\"⊳\",\"RightTriangleEqual\":\"⊵\",\"RightUpDownVector\":\"⥏\",\"RightUpTeeVector\":\"⥜\",\"RightUpVectorBar\":\"⥔\",\"RightUpVector\":\"↾\",\"RightVectorBar\":\"⥓\",\"RightVector\":\"⇀\",\"ring\":\"˚\",\"risingdotseq\":\"≓\",\"rlarr\":\"⇄\",\"rlhar\":\"⇌\",\"rlm\":\"‏\",\"rmoustache\":\"⎱\",\"rmoust\":\"⎱\",\"rnmid\":\"⫮\",\"roang\":\"⟭\",\"roarr\":\"⇾\",\"robrk\":\"⟧\",\"ropar\":\"⦆\",\"ropf\":\"𝕣\",\"Ropf\":\"ℝ\",\"roplus\":\"⨮\",\"rotimes\":\"⨵\",\"RoundImplies\":\"⥰\",\"rpar\":\")\",\"rpargt\":\"⦔\",\"rppolint\":\"⨒\",\"rrarr\":\"⇉\",\"Rrightarrow\":\"⇛\",\"rsaquo\":\"›\",\"rscr\":\"𝓇\",\"Rscr\":\"ℛ\",\"rsh\":\"↱\",\"Rsh\":\"↱\",\"rsqb\":\"]\",\"rsquo\":\"’\",\"rsquor\":\"’\",\"rthree\":\"⋌\",\"rtimes\":\"⋊\",\"rtri\":\"▹\",\"rtrie\":\"⊵\",\"rtrif\":\"▸\",\"rtriltri\":\"⧎\",\"RuleDelayed\":\"⧴\",\"ruluhar\":\"⥨\",\"rx\":\"℞\",\"Sacute\":\"Ś\",\"sacute\":\"ś\",\"sbquo\":\"‚\",\"scap\":\"⪸\",\"Scaron\":\"Š\",\"scaron\":\"š\",\"Sc\":\"⪼\",\"sc\":\"≻\",\"sccue\":\"≽\",\"sce\":\"⪰\",\"scE\":\"⪴\",\"Scedil\":\"Ş\",\"scedil\":\"ş\",\"Scirc\":\"Ŝ\",\"scirc\":\"ŝ\",\"scnap\":\"⪺\",\"scnE\":\"⪶\",\"scnsim\":\"⋩\",\"scpolint\":\"⨓\",\"scsim\":\"≿\",\"Scy\":\"С\",\"scy\":\"с\",\"sdotb\":\"⊡\",\"sdot\":\"⋅\",\"sdote\":\"⩦\",\"searhk\":\"⤥\",\"searr\":\"↘\",\"seArr\":\"⇘\",\"searrow\":\"↘\",\"sect\":\"§\",\"semi\":\";\",\"seswar\":\"⤩\",\"setminus\":\"∖\",\"setmn\":\"∖\",\"sext\":\"✶\",\"Sfr\":\"𝔖\",\"sfr\":\"𝔰\",\"sfrown\":\"⌢\",\"sharp\":\"♯\",\"SHCHcy\":\"Щ\",\"shchcy\":\"щ\",\"SHcy\":\"Ш\",\"shcy\":\"ш\",\"ShortDownArrow\":\"↓\",\"ShortLeftArrow\":\"←\",\"shortmid\":\"∣\",\"shortparallel\":\"∥\",\"ShortRightArrow\":\"→\",\"ShortUpArrow\":\"↑\",\"shy\":\"­\",\"Sigma\":\"Σ\",\"sigma\":\"σ\",\"sigmaf\":\"ς\",\"sigmav\":\"ς\",\"sim\":\"∼\",\"simdot\":\"⩪\",\"sime\":\"≃\",\"simeq\":\"≃\",\"simg\":\"⪞\",\"simgE\":\"⪠\",\"siml\":\"⪝\",\"simlE\":\"⪟\",\"simne\":\"≆\",\"simplus\":\"⨤\",\"simrarr\":\"⥲\",\"slarr\":\"←\",\"SmallCircle\":\"∘\",\"smallsetminus\":\"∖\",\"smashp\":\"⨳\",\"smeparsl\":\"⧤\",\"smid\":\"∣\",\"smile\":\"⌣\",\"smt\":\"⪪\",\"smte\":\"⪬\",\"smtes\":\"⪬︀\",\"SOFTcy\":\"Ь\",\"softcy\":\"ь\",\"solbar\":\"⌿\",\"solb\":\"⧄\",\"sol\":\"/\",\"Sopf\":\"𝕊\",\"sopf\":\"𝕤\",\"spades\":\"♠\",\"spadesuit\":\"♠\",\"spar\":\"∥\",\"sqcap\":\"⊓\",\"sqcaps\":\"⊓︀\",\"sqcup\":\"⊔\",\"sqcups\":\"⊔︀\",\"Sqrt\":\"√\",\"sqsub\":\"⊏\",\"sqsube\":\"⊑\",\"sqsubset\":\"⊏\",\"sqsubseteq\":\"⊑\",\"sqsup\":\"⊐\",\"sqsupe\":\"⊒\",\"sqsupset\":\"⊐\",\"sqsupseteq\":\"⊒\",\"square\":\"□\",\"Square\":\"□\",\"SquareIntersection\":\"⊓\",\"SquareSubset\":\"⊏\",\"SquareSubsetEqual\":\"⊑\",\"SquareSuperset\":\"⊐\",\"SquareSupersetEqual\":\"⊒\",\"SquareUnion\":\"⊔\",\"squarf\":\"▪\",\"squ\":\"□\",\"squf\":\"▪\",\"srarr\":\"→\",\"Sscr\":\"𝒮\",\"sscr\":\"𝓈\",\"ssetmn\":\"∖\",\"ssmile\":\"⌣\",\"sstarf\":\"⋆\",\"Star\":\"⋆\",\"star\":\"☆\",\"starf\":\"★\",\"straightepsilon\":\"ϵ\",\"straightphi\":\"ϕ\",\"strns\":\"¯\",\"sub\":\"⊂\",\"Sub\":\"⋐\",\"subdot\":\"⪽\",\"subE\":\"⫅\",\"sube\":\"⊆\",\"subedot\":\"⫃\",\"submult\":\"⫁\",\"subnE\":\"⫋\",\"subne\":\"⊊\",\"subplus\":\"⪿\",\"subrarr\":\"⥹\",\"subset\":\"⊂\",\"Subset\":\"⋐\",\"subseteq\":\"⊆\",\"subseteqq\":\"⫅\",\"SubsetEqual\":\"⊆\",\"subsetneq\":\"⊊\",\"subsetneqq\":\"⫋\",\"subsim\":\"⫇\",\"subsub\":\"⫕\",\"subsup\":\"⫓\",\"succapprox\":\"⪸\",\"succ\":\"≻\",\"succcurlyeq\":\"≽\",\"Succeeds\":\"≻\",\"SucceedsEqual\":\"⪰\",\"SucceedsSlantEqual\":\"≽\",\"SucceedsTilde\":\"≿\",\"succeq\":\"⪰\",\"succnapprox\":\"⪺\",\"succneqq\":\"⪶\",\"succnsim\":\"⋩\",\"succsim\":\"≿\",\"SuchThat\":\"∋\",\"sum\":\"∑\",\"Sum\":\"∑\",\"sung\":\"♪\",\"sup1\":\"¹\",\"sup2\":\"²\",\"sup3\":\"³\",\"sup\":\"⊃\",\"Sup\":\"⋑\",\"supdot\":\"⪾\",\"supdsub\":\"⫘\",\"supE\":\"⫆\",\"supe\":\"⊇\",\"supedot\":\"⫄\",\"Superset\":\"⊃\",\"SupersetEqual\":\"⊇\",\"suphsol\":\"⟉\",\"suphsub\":\"⫗\",\"suplarr\":\"⥻\",\"supmult\":\"⫂\",\"supnE\":\"⫌\",\"supne\":\"⊋\",\"supplus\":\"⫀\",\"supset\":\"⊃\",\"Supset\":\"⋑\",\"supseteq\":\"⊇\",\"supseteqq\":\"⫆\",\"supsetneq\":\"⊋\",\"supsetneqq\":\"⫌\",\"supsim\":\"⫈\",\"supsub\":\"⫔\",\"supsup\":\"⫖\",\"swarhk\":\"⤦\",\"swarr\":\"↙\",\"swArr\":\"⇙\",\"swarrow\":\"↙\",\"swnwar\":\"⤪\",\"szlig\":\"ß\",\"Tab\":\"\\\\t\",\"target\":\"⌖\",\"Tau\":\"Τ\",\"tau\":\"τ\",\"tbrk\":\"⎴\",\"Tcaron\":\"Ť\",\"tcaron\":\"ť\",\"Tcedil\":\"Ţ\",\"tcedil\":\"ţ\",\"Tcy\":\"Т\",\"tcy\":\"т\",\"tdot\":\"⃛\",\"telrec\":\"⌕\",\"Tfr\":\"𝔗\",\"tfr\":\"𝔱\",\"there4\":\"∴\",\"therefore\":\"∴\",\"Therefore\":\"∴\",\"Theta\":\"Θ\",\"theta\":\"θ\",\"thetasym\":\"ϑ\",\"thetav\":\"ϑ\",\"thickapprox\":\"≈\",\"thicksim\":\"∼\",\"ThickSpace\":\"  \",\"ThinSpace\":\" \",\"thinsp\":\" \",\"thkap\":\"≈\",\"thksim\":\"∼\",\"THORN\":\"Þ\",\"thorn\":\"þ\",\"tilde\":\"˜\",\"Tilde\":\"∼\",\"TildeEqual\":\"≃\",\"TildeFullEqual\":\"≅\",\"TildeTilde\":\"≈\",\"timesbar\":\"⨱\",\"timesb\":\"⊠\",\"times\":\"×\",\"timesd\":\"⨰\",\"tint\":\"∭\",\"toea\":\"⤨\",\"topbot\":\"⌶\",\"topcir\":\"⫱\",\"top\":\"⊤\",\"Topf\":\"𝕋\",\"topf\":\"𝕥\",\"topfork\":\"⫚\",\"tosa\":\"⤩\",\"tprime\":\"‴\",\"trade\":\"™\",\"TRADE\":\"™\",\"triangle\":\"▵\",\"triangledown\":\"▿\",\"triangleleft\":\"◃\",\"trianglelefteq\":\"⊴\",\"triangleq\":\"≜\",\"triangleright\":\"▹\",\"trianglerighteq\":\"⊵\",\"tridot\":\"◬\",\"trie\":\"≜\",\"triminus\":\"⨺\",\"TripleDot\":\"⃛\",\"triplus\":\"⨹\",\"trisb\":\"⧍\",\"tritime\":\"⨻\",\"trpezium\":\"⏢\",\"Tscr\":\"𝒯\",\"tscr\":\"𝓉\",\"TScy\":\"Ц\",\"tscy\":\"ц\",\"TSHcy\":\"Ћ\",\"tshcy\":\"ћ\",\"Tstrok\":\"Ŧ\",\"tstrok\":\"ŧ\",\"twixt\":\"≬\",\"twoheadleftarrow\":\"↞\",\"twoheadrightarrow\":\"↠\",\"Uacute\":\"Ú\",\"uacute\":\"ú\",\"uarr\":\"↑\",\"Uarr\":\"↟\",\"uArr\":\"⇑\",\"Uarrocir\":\"⥉\",\"Ubrcy\":\"Ў\",\"ubrcy\":\"ў\",\"Ubreve\":\"Ŭ\",\"ubreve\":\"ŭ\",\"Ucirc\":\"Û\",\"ucirc\":\"û\",\"Ucy\":\"У\",\"ucy\":\"у\",\"udarr\":\"⇅\",\"Udblac\":\"Ű\",\"udblac\":\"ű\",\"udhar\":\"⥮\",\"ufisht\":\"⥾\",\"Ufr\":\"𝔘\",\"ufr\":\"𝔲\",\"Ugrave\":\"Ù\",\"ugrave\":\"ù\",\"uHar\":\"⥣\",\"uharl\":\"↿\",\"uharr\":\"↾\",\"uhblk\":\"▀\",\"ulcorn\":\"⌜\",\"ulcorner\":\"⌜\",\"ulcrop\":\"⌏\",\"ultri\":\"◸\",\"Umacr\":\"Ū\",\"umacr\":\"ū\",\"uml\":\"¨\",\"UnderBar\":\"_\",\"UnderBrace\":\"⏟\",\"UnderBracket\":\"⎵\",\"UnderParenthesis\":\"⏝\",\"Union\":\"⋃\",\"UnionPlus\":\"⊎\",\"Uogon\":\"Ų\",\"uogon\":\"ų\",\"Uopf\":\"𝕌\",\"uopf\":\"𝕦\",\"UpArrowBar\":\"⤒\",\"uparrow\":\"↑\",\"UpArrow\":\"↑\",\"Uparrow\":\"⇑\",\"UpArrowDownArrow\":\"⇅\",\"updownarrow\":\"↕\",\"UpDownArrow\":\"↕\",\"Updownarrow\":\"⇕\",\"UpEquilibrium\":\"⥮\",\"upharpoonleft\":\"↿\",\"upharpoonright\":\"↾\",\"uplus\":\"⊎\",\"UpperLeftArrow\":\"↖\",\"UpperRightArrow\":\"↗\",\"upsi\":\"υ\",\"Upsi\":\"ϒ\",\"upsih\":\"ϒ\",\"Upsilon\":\"Υ\",\"upsilon\":\"υ\",\"UpTeeArrow\":\"↥\",\"UpTee\":\"⊥\",\"upuparrows\":\"⇈\",\"urcorn\":\"⌝\",\"urcorner\":\"⌝\",\"urcrop\":\"⌎\",\"Uring\":\"Ů\",\"uring\":\"ů\",\"urtri\":\"◹\",\"Uscr\":\"𝒰\",\"uscr\":\"𝓊\",\"utdot\":\"⋰\",\"Utilde\":\"Ũ\",\"utilde\":\"ũ\",\"utri\":\"▵\",\"utrif\":\"▴\",\"uuarr\":\"⇈\",\"Uuml\":\"Ü\",\"uuml\":\"ü\",\"uwangle\":\"⦧\",\"vangrt\":\"⦜\",\"varepsilon\":\"ϵ\",\"varkappa\":\"ϰ\",\"varnothing\":\"∅\",\"varphi\":\"ϕ\",\"varpi\":\"ϖ\",\"varpropto\":\"∝\",\"varr\":\"↕\",\"vArr\":\"⇕\",\"varrho\":\"ϱ\",\"varsigma\":\"ς\",\"varsubsetneq\":\"⊊︀\",\"varsubsetneqq\":\"⫋︀\",\"varsupsetneq\":\"⊋︀\",\"varsupsetneqq\":\"⫌︀\",\"vartheta\":\"ϑ\",\"vartriangleleft\":\"⊲\",\"vartriangleright\":\"⊳\",\"vBar\":\"⫨\",\"Vbar\":\"⫫\",\"vBarv\":\"⫩\",\"Vcy\":\"В\",\"vcy\":\"в\",\"vdash\":\"⊢\",\"vDash\":\"⊨\",\"Vdash\":\"⊩\",\"VDash\":\"⊫\",\"Vdashl\":\"⫦\",\"veebar\":\"⊻\",\"vee\":\"∨\",\"Vee\":\"⋁\",\"veeeq\":\"≚\",\"vellip\":\"⋮\",\"verbar\":\"|\",\"Verbar\":\"‖\",\"vert\":\"|\",\"Vert\":\"‖\",\"VerticalBar\":\"∣\",\"VerticalLine\":\"|\",\"VerticalSeparator\":\"❘\",\"VerticalTilde\":\"≀\",\"VeryThinSpace\":\" \",\"Vfr\":\"𝔙\",\"vfr\":\"𝔳\",\"vltri\":\"⊲\",\"vnsub\":\"⊂⃒\",\"vnsup\":\"⊃⃒\",\"Vopf\":\"𝕍\",\"vopf\":\"𝕧\",\"vprop\":\"∝\",\"vrtri\":\"⊳\",\"Vscr\":\"𝒱\",\"vscr\":\"𝓋\",\"vsubnE\":\"⫋︀\",\"vsubne\":\"⊊︀\",\"vsupnE\":\"⫌︀\",\"vsupne\":\"⊋︀\",\"Vvdash\":\"⊪\",\"vzigzag\":\"⦚\",\"Wcirc\":\"Ŵ\",\"wcirc\":\"ŵ\",\"wedbar\":\"⩟\",\"wedge\":\"∧\",\"Wedge\":\"⋀\",\"wedgeq\":\"≙\",\"weierp\":\"℘\",\"Wfr\":\"𝔚\",\"wfr\":\"𝔴\",\"Wopf\":\"𝕎\",\"wopf\":\"𝕨\",\"wp\":\"℘\",\"wr\":\"≀\",\"wreath\":\"≀\",\"Wscr\":\"𝒲\",\"wscr\":\"𝓌\",\"xcap\":\"⋂\",\"xcirc\":\"◯\",\"xcup\":\"⋃\",\"xdtri\":\"▽\",\"Xfr\":\"𝔛\",\"xfr\":\"𝔵\",\"xharr\":\"⟷\",\"xhArr\":\"⟺\",\"Xi\":\"Ξ\",\"xi\":\"ξ\",\"xlarr\":\"⟵\",\"xlArr\":\"⟸\",\"xmap\":\"⟼\",\"xnis\":\"⋻\",\"xodot\":\"⨀\",\"Xopf\":\"𝕏\",\"xopf\":\"𝕩\",\"xoplus\":\"⨁\",\"xotime\":\"⨂\",\"xrarr\":\"⟶\",\"xrArr\":\"⟹\",\"Xscr\":\"𝒳\",\"xscr\":\"𝓍\",\"xsqcup\":\"⨆\",\"xuplus\":\"⨄\",\"xutri\":\"△\",\"xvee\":\"⋁\",\"xwedge\":\"⋀\",\"Yacute\":\"Ý\",\"yacute\":\"ý\",\"YAcy\":\"Я\",\"yacy\":\"я\",\"Ycirc\":\"Ŷ\",\"ycirc\":\"ŷ\",\"Ycy\":\"Ы\",\"ycy\":\"ы\",\"yen\":\"¥\",\"Yfr\":\"𝔜\",\"yfr\":\"𝔶\",\"YIcy\":\"Ї\",\"yicy\":\"ї\",\"Yopf\":\"𝕐\",\"yopf\":\"𝕪\",\"Yscr\":\"𝒴\",\"yscr\":\"𝓎\",\"YUcy\":\"Ю\",\"yucy\":\"ю\",\"yuml\":\"ÿ\",\"Yuml\":\"Ÿ\",\"Zacute\":\"Ź\",\"zacute\":\"ź\",\"Zcaron\":\"Ž\",\"zcaron\":\"ž\",\"Zcy\":\"З\",\"zcy\":\"з\",\"Zdot\":\"Ż\",\"zdot\":\"ż\",\"zeetrf\":\"ℨ\",\"ZeroWidthSpace\":\"​\",\"Zeta\":\"Ζ\",\"zeta\":\"ζ\",\"zfr\":\"𝔷\",\"Zfr\":\"ℨ\",\"ZHcy\":\"Ж\",\"zhcy\":\"ж\",\"zigrarr\":\"⇝\",\"zopf\":\"𝕫\",\"Zopf\":\"ℤ\",\"Zscr\":\"𝒵\",\"zscr\":\"𝓏\",\"zwj\":\"‍\",\"zwnj\":\"‌\"}');\n      }, function (e) {\n        e.exports = JSON.parse('{\"Aacute\":\"Á\",\"aacute\":\"á\",\"Acirc\":\"Â\",\"acirc\":\"â\",\"acute\":\"´\",\"AElig\":\"Æ\",\"aelig\":\"æ\",\"Agrave\":\"À\",\"agrave\":\"à\",\"amp\":\"&\",\"AMP\":\"&\",\"Aring\":\"Å\",\"aring\":\"å\",\"Atilde\":\"Ã\",\"atilde\":\"ã\",\"Auml\":\"Ä\",\"auml\":\"ä\",\"brvbar\":\"¦\",\"Ccedil\":\"Ç\",\"ccedil\":\"ç\",\"cedil\":\"¸\",\"cent\":\"¢\",\"copy\":\"©\",\"COPY\":\"©\",\"curren\":\"¤\",\"deg\":\"°\",\"divide\":\"÷\",\"Eacute\":\"É\",\"eacute\":\"é\",\"Ecirc\":\"Ê\",\"ecirc\":\"ê\",\"Egrave\":\"È\",\"egrave\":\"è\",\"ETH\":\"Ð\",\"eth\":\"ð\",\"Euml\":\"Ë\",\"euml\":\"ë\",\"frac12\":\"½\",\"frac14\":\"¼\",\"frac34\":\"¾\",\"gt\":\">\",\"GT\":\">\",\"Iacute\":\"Í\",\"iacute\":\"í\",\"Icirc\":\"Î\",\"icirc\":\"î\",\"iexcl\":\"¡\",\"Igrave\":\"Ì\",\"igrave\":\"ì\",\"iquest\":\"¿\",\"Iuml\":\"Ï\",\"iuml\":\"ï\",\"laquo\":\"«\",\"lt\":\"<\",\"LT\":\"<\",\"macr\":\"¯\",\"micro\":\"µ\",\"middot\":\"·\",\"nbsp\":\" \",\"not\":\"¬\",\"Ntilde\":\"Ñ\",\"ntilde\":\"ñ\",\"Oacute\":\"Ó\",\"oacute\":\"ó\",\"Ocirc\":\"Ô\",\"ocirc\":\"ô\",\"Ograve\":\"Ò\",\"ograve\":\"ò\",\"ordf\":\"ª\",\"ordm\":\"º\",\"Oslash\":\"Ø\",\"oslash\":\"ø\",\"Otilde\":\"Õ\",\"otilde\":\"õ\",\"Ouml\":\"Ö\",\"ouml\":\"ö\",\"para\":\"¶\",\"plusmn\":\"±\",\"pound\":\"£\",\"quot\":\"\\\\\"\",\"QUOT\":\"\\\\\"\",\"raquo\":\"»\",\"reg\":\"®\",\"REG\":\"®\",\"sect\":\"§\",\"shy\":\"­\",\"sup1\":\"¹\",\"sup2\":\"²\",\"sup3\":\"³\",\"szlig\":\"ß\",\"THORN\":\"Þ\",\"thorn\":\"þ\",\"times\":\"×\",\"Uacute\":\"Ú\",\"uacute\":\"ú\",\"Ucirc\":\"Û\",\"ucirc\":\"û\",\"Ugrave\":\"Ù\",\"ugrave\":\"ù\",\"uml\":\"¨\",\"Uuml\":\"Ü\",\"uuml\":\"ü\",\"Yacute\":\"Ý\",\"yacute\":\"ý\",\"yen\":\"¥\",\"yuml\":\"ÿ\"}');\n      }, function (e) {\n        e.exports = JSON.parse('{\"amp\":\"&\",\"apos\":\"\\'\",\"gt\":\">\",\"lt\":\"<\",\"quot\":\"\\\\\"\"}');\n      }, function (e, t, r) {\n        \"use strict\";\n\n        var n = this && this.__importDefault || function (e) {\n          return e && e.__esModule ? e : {\n            default: e\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var i = n(r(17));\n\n        t.default = function (e) {\n          if (e >= 55296 && e <= 57343 || e > 1114111) return \"�\";\n          e in i.default && (e = i.default[e]);\n          var t = \"\";\n          return e > 65535 && (e -= 65536, t += String.fromCharCode(e >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), t += String.fromCharCode(e);\n        };\n      }, function (e) {\n        e.exports = JSON.parse('{\"0\":65533,\"128\":8364,\"130\":8218,\"131\":402,\"132\":8222,\"133\":8230,\"134\":8224,\"135\":8225,\"136\":710,\"137\":8240,\"138\":352,\"139\":8249,\"140\":338,\"142\":381,\"145\":8216,\"146\":8217,\"147\":8220,\"148\":8221,\"149\":8226,\"150\":8211,\"151\":8212,\"152\":732,\"153\":8482,\"154\":353,\"155\":8250,\"156\":339,\"158\":382,\"159\":376}');\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n\n        var n = r(1),\n            i = function () {\n          function e(e) {\n            this.current = e, this.root = e, this.entering = !0;\n          }\n\n          return e.prototype.next = function () {\n            var e = this.current,\n                t = this.entering;\n            if (null === e) return null;\n            var r = n.isContainer(e);\n            return t && r ? e.firstChild ? (this.current = e.firstChild, this.entering = !0) : this.entering = !1 : e === this.root ? this.current = null : null === e.next ? (this.current = e.parent, this.entering = !1) : (this.current = e.next, this.entering = !0), {\n              entering: t,\n              node: e\n            };\n          }, e.prototype.resumeAt = function (e, t) {\n            this.current = e, this.entering = !0 === t;\n          }, e;\n        }();\n\n        t.default = i;\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n\n        var n = r(0),\n            i = r(1),\n            s = r(2),\n            o = r(6),\n            a = n.__importDefault(r(20)),\n            l = r(5),\n            u = r(21),\n            c = r(7);\n\n        t.C_NEWLINE = 10;\n\n        var p = \"\\\\\\\\\" + s.ESCAPABLE,\n            h = new RegExp(/[!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/),\n            f = new RegExp('^(?:\"(' + p + '|[^\"\\\\x00])*\"|\\'(' + p + \"|[^'\\\\x00])*'|\\\\((\" + p + \"|[^()\\\\x00])*\\\\))\"),\n            d = /^(?:<(?:[^<>\\n\\\\\\x00]|\\\\.)*>)/,\n            g = new RegExp(\"^\" + s.ESCAPABLE),\n            m = new RegExp(\"^\" + s.ENTITY, \"i\"),\n            v = /`+/,\n            b = /^`+/,\n            y = /\\.\\.\\./g,\n            C = /--+/g,\n            x = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,\n            k = /^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\\x00-\\x20]*>/i,\n            w = /^ *(?:\\n *)?/,\n            D = /^[ \\t\\n\\x0b\\x0c\\x0d]/,\n            N = /^\\s/,\n            A = / *$/,\n            E = /^ */,\n            L = /^ *(?:\\n|$)/,\n            q = /^\\[(?:[^\\\\\\[\\]]|\\\\.){0,1000}\\]/,\n            T = /^[^\\n`\\[\\]\\\\!<&*_'\"~]+/m,\n            B = function () {\n          function e(e) {\n            this.subject = \"\", this.delimiters = null, this.brackets = null, this.pos = 0, this.lineStartNum = 0, this.lineIdx = 0, this.lineOffsets = [0], this.linePosOffset = 0, this.refmap = {}, this.options = e;\n          }\n\n          return e.prototype.sourcepos = function (e, t) {\n            var r = this.linePosOffset + this.lineOffsets[this.lineIdx],\n                n = this.lineStartNum + this.lineIdx,\n                i = [n, e + r];\n            return \"number\" == typeof t ? [i, [n, t + r]] : i;\n          }, e.prototype.nextLine = function () {\n            this.lineIdx += 1, this.linePosOffset = -this.pos;\n          }, e.prototype.match = function (e) {\n            var t = e.exec(this.subject.slice(this.pos));\n            return null === t ? null : (this.pos += t.index + t[0].length, t[0]);\n          }, e.prototype.peek = function () {\n            return this.pos < this.subject.length ? this.subject.charCodeAt(this.pos) : -1;\n          }, e.prototype.spnl = function () {\n            return this.match(w), !0;\n          }, e.prototype.parseBackticks = function (e) {\n            var t = this.pos + 1,\n                r = this.match(b);\n            if (null === r) return !1;\n\n            for (var n, s = this.pos; null !== (n = this.match(v));) {\n              if (n === r) {\n                var o = this.subject.slice(s, this.pos - r.length),\n                    a = this.sourcepos(t, this.pos),\n                    l = o.split(\"\\n\");\n\n                if (l.length > 1) {\n                  var u = c.last(l);\n                  this.lineIdx += l.length - 1, this.linePosOffset = -(this.pos - u.length - r.length), a[1] = this.sourcepos(this.pos), o = l.join(\" \");\n                }\n\n                var p = i.createNode(\"code\", a);\n                return o.length > 0 && null !== o.match(/[^ ]/) && \" \" == o[0] && \" \" == o[o.length - 1] ? p.literal = o.slice(1, o.length - 1) : p.literal = o, p.tickCount = r.length, e.appendChild(p), !0;\n              }\n            }\n\n            return this.pos = s, e.appendChild(i.text(r, this.sourcepos(t, this.pos - 1))), !0;\n          }, e.prototype.parseBackslash = function (e) {\n            var r,\n                n = this.subject;\n            this.pos += 1;\n            var s = this.pos;\n            return this.peek() === t.C_NEWLINE ? (this.pos += 1, r = i.createNode(\"linebreak\", this.sourcepos(this.pos - 1, this.pos)), e.appendChild(r), this.nextLine()) : g.test(n.charAt(this.pos)) ? (e.appendChild(i.text(n.charAt(this.pos), this.sourcepos(s, this.pos))), this.pos += 1) : e.appendChild(i.text(\"\\\\\", this.sourcepos(s, s))), !0;\n          }, e.prototype.parseAutolink = function (e) {\n            var t,\n                r,\n                n,\n                o = this.pos + 1;\n            return (t = this.match(x)) ? (r = t.slice(1, t.length - 1), (n = i.createNode(\"link\", this.sourcepos(o, this.pos))).destination = s.normalizeURI(\"mailto:\" + r), n.title = \"\", n.appendChild(i.text(r, this.sourcepos(o + 1, this.pos - 1))), e.appendChild(n), !0) : !!(t = this.match(k)) && (r = t.slice(1, t.length - 1), (n = i.createNode(\"link\", this.sourcepos(o, this.pos))).destination = s.normalizeURI(r), n.title = \"\", n.appendChild(i.text(r, this.sourcepos(o + 1, this.pos - 1))), e.appendChild(n), !0);\n          }, e.prototype.parseHtmlTag = function (e) {\n            var t = this.pos + 1,\n                r = this.match(o.reHtmlTag);\n            if (null === r) return !1;\n            var n = i.createNode(\"htmlInline\", this.sourcepos(t, this.pos));\n            return n.literal = r, e.appendChild(n), !0;\n          }, e.prototype.scanDelims = function (e) {\n            var t = 0,\n                r = this.pos;\n            if (39 === e || 34 === e) t++, this.pos++;else for (; this.peek() === e;) {\n              t++, this.pos++;\n            }\n            if (0 === t || t < 2 && 126 === e) return this.pos = r, null;\n            var n,\n                i = 0 === r ? \"\\n\" : this.subject.charAt(r - 1),\n                s = this.peek();\n            n = -1 === s ? \"\\n\" : a.default(s);\n            var o,\n                l,\n                u = N.test(n),\n                c = h.test(n),\n                p = N.test(i),\n                f = h.test(i),\n                d = !u && (!c || p || f),\n                g = !p && (!f || u || c);\n            return 95 === e ? (o = d && (!g || f), l = g && (!d || c)) : 39 === e || 34 === e ? (o = d && !g, l = g) : (o = d, l = g), this.pos = r, {\n              numdelims: t,\n              canOpen: o,\n              canClose: l\n            };\n          }, e.prototype.handleDelim = function (e, t) {\n            var r = this.scanDelims(e);\n            if (!r) return !1;\n            var n,\n                s = r.numdelims,\n                o = this.pos + 1;\n            this.pos += s, n = 39 === e ? \"’\" : 34 === e ? \"“\" : this.subject.slice(o - 1, this.pos);\n            var a = i.text(n, this.sourcepos(o, this.pos));\n            return t.appendChild(a), (r.canOpen || r.canClose) && (this.options.smart || 39 !== e && 34 !== e) && (this.delimiters = {\n              cc: e,\n              numdelims: s,\n              origdelims: s,\n              node: a,\n              previous: this.delimiters,\n              next: null,\n              canOpen: r.canOpen,\n              canClose: r.canClose\n            }, this.delimiters.previous && (this.delimiters.previous.next = this.delimiters)), !0;\n          }, e.prototype.removeDelimiter = function (e) {\n            null !== e.previous && (e.previous.next = e.next), null === e.next ? this.delimiters = e.previous : e.next.previous = e.previous;\n          }, e.prototype.removeDelimitersBetween = function (e, t) {\n            e.next !== t && (e.next = t, t.previous = e);\n          }, e.prototype.processEmphasis = function (e) {\n            var t,\n                r,\n                n,\n                s,\n                o,\n                a,\n                l,\n                u = !1,\n                c = ((t = {})[95] = [e, e, e], t[42] = [e, e, e], t[39] = [e], t[34] = [e], t[126] = [e], t);\n\n            for (n = this.delimiters; null !== n && n.previous !== e;) {\n              n = n.previous;\n            }\n\n            for (; null !== n;) {\n              var p = n.cc,\n                  h = 95 === p || 42 === p;\n\n              if (n.canClose) {\n                for (r = n.previous, l = !1; null !== r && r !== e && r !== c[p][h ? n.origdelims % 3 : 0];) {\n                  if (u = h && (n.canOpen || r.canClose) && n.origdelims % 3 != 0 && (r.origdelims + n.origdelims) % 3 == 0, r.cc === n.cc && r.canOpen && !u) {\n                    l = !0;\n                    break;\n                  }\n\n                  r = r.previous;\n                }\n\n                if (s = n, h || 126 === p) {\n                  if (l) {\n                    if (r) {\n                      var f = n.numdelims >= 2 && r.numdelims >= 2 ? 2 : 1,\n                          d = h ? 0 : 1;\n                      o = r.node, a = n.node;\n                      var g = i.createNode(h ? 1 === f ? \"emph\" : \"strong\" : \"strike\"),\n                          m = o.sourcepos[1],\n                          v = a.sourcepos[0];\n                      g.sourcepos = [[m[0], m[1] - f + 1], [v[0], v[1] + f - 1]], o.sourcepos[1][1] -= f, a.sourcepos[0][1] += f, o.literal = o.literal.slice(f), a.literal = a.literal.slice(f), r.numdelims -= f, n.numdelims -= f;\n\n                      for (var b = o.next, y = void 0; b && b !== a;) {\n                        y = b.next, b.unlink(), g.appendChild(b), b = y;\n                      }\n\n                      if (o.insertAfter(g), this.removeDelimitersBetween(r, n), r.numdelims <= d && (0 === r.numdelims && o.unlink(), this.removeDelimiter(r)), n.numdelims <= d) {\n                        0 === n.numdelims && a.unlink();\n                        var C = n.next;\n                        this.removeDelimiter(n), n = C;\n                      }\n                    }\n                  } else n = n.next;\n                } else 39 === p ? (n.node.literal = \"’\", l && (r.node.literal = \"‘\"), n = n.next) : 34 === p && (n.node.literal = \"”\", l && (r.node.literal = \"“\"), n = n.next);\n                l || (c[p][h ? s.origdelims % 3 : 0] = s.previous, s.canOpen || this.removeDelimiter(s));\n              } else n = n.next;\n            }\n\n            for (; null !== this.delimiters && this.delimiters !== e;) {\n              this.removeDelimiter(this.delimiters);\n            }\n          }, e.prototype.parseLinkTitle = function () {\n            var e = this.match(f);\n            return null === e ? null : s.unescapeString(e.substr(1, e.length - 2));\n          }, e.prototype.parseLinkDestination = function () {\n            var e = this.match(d);\n\n            if (null === e) {\n              if (60 === this.peek()) return null;\n\n              for (var t = this.pos, r = 0, n = void 0; -1 !== (n = this.peek());) {\n                if (92 === n && g.test(this.subject.charAt(this.pos + 1))) this.pos += 1, -1 !== this.peek() && (this.pos += 1);else if (40 === n) this.pos += 1, r += 1;else if (41 === n) {\n                  if (r < 1) break;\n                  this.pos += 1, r -= 1;\n                } else {\n                  if (null !== D.exec(a.default(n))) break;\n                  this.pos += 1;\n                }\n              }\n\n              return this.pos === t && 41 !== n ? null : 0 !== r ? null : (e = this.subject.substr(t, this.pos - t), s.normalizeURI(s.unescapeString(e)));\n            }\n\n            return s.normalizeURI(s.unescapeString(e.substr(1, e.length - 2)));\n          }, e.prototype.parseLinkLabel = function () {\n            var e = this.match(q);\n            return null === e || e.length > 1001 ? 0 : e.length;\n          }, e.prototype.parseOpenBracket = function (e) {\n            var t = this.pos;\n            this.pos += 1;\n            var r = i.text(\"[\", this.sourcepos(this.pos, this.pos));\n            return e.appendChild(r), this.addBracket(r, t, !1), !0;\n          }, e.prototype.parseBang = function (e) {\n            var t = this.pos;\n\n            if (this.pos += 1, 91 === this.peek()) {\n              this.pos += 1;\n              var r = i.text(\"![\", this.sourcepos(this.pos - 1, this.pos));\n              e.appendChild(r), this.addBracket(r, t + 1, !0);\n            } else {\n              r = i.text(\"!\", this.sourcepos(this.pos, this.pos));\n              e.appendChild(r);\n            }\n\n            return !0;\n          }, e.prototype.parseCloseBracket = function (e) {\n            var t = null,\n                r = null,\n                n = !1;\n            this.pos += 1;\n            var s = this.pos,\n                o = this.brackets;\n            if (null === o) return e.appendChild(i.text(\"]\", this.sourcepos(s, s))), !0;\n            if (!o.active) return e.appendChild(i.text(\"]\", this.sourcepos(s, s))), this.removeBracket(), !0;\n            var a = o.image,\n                l = this.pos;\n\n            if (40 === this.peek() && (this.pos++, this.spnl() && null !== (t = this.parseLinkDestination()) && this.spnl() && (D.test(this.subject.charAt(this.pos - 1)) && (r = this.parseLinkTitle()), 1) && this.spnl() && 41 === this.peek() ? (this.pos += 1, n = !0) : this.pos = l), !n) {\n              var u = void 0,\n                  p = this.pos,\n                  h = this.parseLinkLabel();\n\n              if (h > 2 ? u = this.subject.slice(p, p + h) : o.bracketAfter || (u = this.subject.slice(o.index, s)), 0 === h && (this.pos = l), u) {\n                var f = this.refmap[c.normalizeReference(u)];\n                f && (t = f.destination, r = f.title, n = !0);\n              }\n            }\n\n            if (n) {\n              var d = i.createNode(a ? \"image\" : \"link\");\n              d.destination = t, d.title = r || \"\", d.sourcepos = [o.startpos, this.sourcepos(this.pos)];\n\n              for (var g = o.node.next, m = void 0; g;) {\n                m = g.next, g.unlink(), d.appendChild(g), g = m;\n              }\n\n              if (e.appendChild(d), this.processEmphasis(o.previousDelimiter), this.removeBracket(), o.node.unlink(), !a) for (o = this.brackets; null !== o;) {\n                o.image || (o.active = !1), o = o.previous;\n              }\n              return !0;\n            }\n\n            return this.removeBracket(), this.pos = s, e.appendChild(i.text(\"]\", this.sourcepos(s, s))), !0;\n          }, e.prototype.addBracket = function (e, t, r) {\n            null !== this.brackets && (this.brackets.bracketAfter = !0), this.brackets = {\n              node: e,\n              startpos: this.sourcepos(t + (r ? 0 : 1)),\n              previous: this.brackets,\n              previousDelimiter: this.delimiters,\n              index: t,\n              image: r,\n              active: !0\n            };\n          }, e.prototype.removeBracket = function () {\n            this.brackets && (this.brackets = this.brackets.previous);\n          }, e.prototype.parseEntity = function (e) {\n            var t;\n            return !!(t = this.match(m)) && (e.appendChild(i.text(l.decodeHTML(t))), !0);\n          }, e.prototype.parseString = function (e) {\n            var t,\n                r = this.pos + 1;\n\n            if (t = this.match(T)) {\n              if (this.options.smart) {\n                var n = t.replace(y, \"…\").replace(C, function (e) {\n                  var t = 0,\n                      r = 0;\n                  return e.length % 3 == 0 ? r = e.length / 3 : e.length % 2 == 0 ? t = e.length / 2 : e.length % 3 == 2 ? (t = 1, r = (e.length - 2) / 3) : (t = 2, r = (e.length - 4) / 3), s.repeat(\"—\", r) + s.repeat(\"–\", t);\n                });\n                e.appendChild(i.text(n, this.sourcepos(r, this.pos)));\n              } else {\n                var o = i.text(t, this.sourcepos(r, this.pos));\n                e.appendChild(o);\n              }\n\n              return !0;\n            }\n\n            return !1;\n          }, e.prototype.parseNewline = function (e) {\n            this.pos += 1;\n            var t = e.lastChild;\n\n            if (t && \"text\" === t.type && \" \" === t.literal[t.literal.length - 1]) {\n              var r = \" \" === t.literal[t.literal.length - 2],\n                  n = t.literal.length;\n              t.literal = t.literal.replace(A, \"\");\n              var s = n - t.literal.length;\n              t.sourcepos[1][1] -= s, e.appendChild(i.createNode(r ? \"linebreak\" : \"softbreak\", this.sourcepos(this.pos - s, this.pos)));\n            } else e.appendChild(i.createNode(\"softbreak\", this.sourcepos(this.pos, this.pos)));\n\n            return this.nextLine(), this.match(E), !0;\n          }, e.prototype.parseReference = function (e, t) {\n            this.subject = e, this.pos = 0;\n            var r = null,\n                n = this.pos,\n                i = this.parseLinkLabel();\n            if (0 === i) return 0;\n            var s = this.subject.substr(0, i);\n            if (58 !== this.peek()) return this.pos = n, 0;\n            this.pos++, this.spnl();\n            var o = this.parseLinkDestination();\n            if (null === o) return this.pos = n, 0;\n            var a = this.pos;\n            this.spnl(), this.pos !== a && (r = this.parseLinkTitle()), null === r && (r = \"\", this.pos = a);\n            var l = !0;\n            if (null === this.match(L) && (\"\" === r ? l = !1 : (r = \"\", this.pos = a, l = null !== this.match(L))), !l) return this.pos = n, 0;\n            var u = c.normalizeReference(s);\n            return \"\" === u ? (this.pos = n, 0) : (t[u] || (t[u] = {\n              destination: o,\n              title: r\n            }), this.pos - n);\n          }, e.prototype.mergeTextNodes = function (e) {\n            for (var t, r = []; t = e.next();) {\n              var n = t.entering,\n                  i = t.node;\n              if (n && \"text\" === i.type) r.push(i);else if (1 === r.length) r = [];else if (r.length > 1) {\n                var s = r[0],\n                    o = r[r.length - 1];\n                s.sourcepos && o.sourcepos && (s.sourcepos[1] = o.sourcepos[1]), s.next = o.next, s.next && (s.next.prev = s);\n\n                for (var a = 1; a < r.length; a += 1) {\n                  s.literal += r[a].literal, r[a].unlink();\n                }\n\n                r = [];\n              }\n            }\n          }, e.prototype.parseInline = function (e) {\n            var r,\n                n = !1,\n                s = this.peek();\n            if (-1 === s) return !1;\n\n            switch (s) {\n              case t.C_NEWLINE:\n                n = this.parseNewline(e);\n                break;\n\n              case 92:\n                n = this.parseBackslash(e);\n                break;\n\n              case 96:\n                n = this.parseBackticks(e);\n                break;\n\n              case 42:\n              case 95:\n              case 126:\n                n = this.handleDelim(s, e);\n                break;\n\n              case 39:\n              case 34:\n                n = !!(null === (r = this.options) || void 0 === r ? void 0 : r.smart) && this.handleDelim(s, e);\n                break;\n\n              case 91:\n                n = this.parseOpenBracket(e);\n                break;\n\n              case 33:\n                n = this.parseBang(e);\n                break;\n\n              case 93:\n                n = this.parseCloseBracket(e);\n                break;\n\n              case 60:\n                n = this.parseAutolink(e) || this.parseHtmlTag(e);\n                break;\n\n              case 38:\n                n = this.parseEntity(e);\n                break;\n\n              default:\n                n = this.parseString(e);\n            }\n\n            return n || (this.pos += 1, e.appendChild(i.text(a.default(s), this.sourcepos(this.pos, this.pos + 1)))), !0;\n          }, e.prototype.parse = function (e) {\n            for (this.subject = e.stringContent.trim(), this.pos = 0, this.delimiters = null, this.brackets = null, this.lineOffsets = e.lineOffsets || [0], this.lineIdx = 0, this.linePosOffset = 0, this.lineStartNum = e.sourcepos[0][0], i.isHeading(e) && (this.lineOffsets[0] += e.level + 1); this.parseInline(e);) {\n              ;\n            }\n\n            e.stringContent = null, this.processEmphasis(null), this.mergeTextNodes(e.walker()), this.options.autoLink && u.convertExtAutoLinks(e.walker());\n          }, e;\n        }();\n\n        t.InlineParser = B;\n      }, function (e, t, r) {\n        \"use strict\";\n        /*! http://mths.be/fromcodepoint v0.2.1 by @mathias */\n\n        var n;\n        if (Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), String.fromCodePoint) n = function n(e) {\n          try {\n            return String.fromCodePoint(e);\n          } catch (e) {\n            if (e instanceof RangeError) return String.fromCharCode(65533);\n            throw e;\n          }\n        };else {\n          var i = String.fromCharCode,\n              s = Math.floor;\n\n          n = function n() {\n            var e,\n                t,\n                r = 16384,\n                n = [],\n                o = -1,\n                a = arguments.length;\n            if (!a) return \"\";\n\n            for (var l = \"\"; ++o < a;) {\n              var u = Number(arguments[o]);\n              if (!isFinite(u) || u < 0 || u > 1114111 || s(u) !== u) return String.fromCharCode(65533);\n              u <= 65535 ? n.push(u) : (e = 55296 + ((u -= 65536) >> 10), t = u % 1024 + 56320, n.push(e, t)), (o + 1 === a || n.length > r) && (l += i.apply(null, n), n.length = 0);\n            }\n\n            return l;\n          };\n        }\n        t.default = n;\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var n = r(0),\n            i = r(1);\n\n        function s(e) {\n          var t = /\\)+$/.exec(e);\n\n          if (t) {\n            for (var r = 0, n = 0, i = e; n < i.length; n++) {\n              var s = i[n];\n              \"(\" === s ? r < 0 ? r = 1 : r += 1 : \")\" === s && (r -= 1);\n            }\n\n            if (r < 0) {\n              var o = Math.min(-r, t[0].length);\n              return e.substring(0, e.length - o);\n            }\n          }\n\n          return e;\n        }\n\n        function o(e) {\n          return e.replace(/&[A-Za-z0-9]+;$/, \"\");\n        }\n\n        function a(e) {\n          for (var t, r = new RegExp(\"[\\\\w.+-]+@(?:[\\\\w-]+\\\\.)+[\\\\w-]+\", \"g\"), n = []; t = r.exec(e);) {\n            var i = t[0];\n            /[_-]+$/.test(i) || n.push({\n              linkText: i,\n              range: [t.index, t.index + i.length - 1],\n              destination: \"mailto:\" + i\n            });\n          }\n\n          return n.length ? n : null;\n        }\n\n        function l(e) {\n          for (var t, r = new RegExp(\"(www|https?://).(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+[^<\\\\s]*[^<?!.,:*_?~\\\\s]\", \"g\"), n = []; t = r.exec(e);) {\n            var i = o(s(t[0])),\n                a = \"www\" === t[1] ? \"http://\" : \"\";\n            n.push({\n              linkText: i,\n              range: [t.index, t.index + i.length - 1],\n              destination: \"\" + a + i\n            });\n          }\n\n          return n.length ? n : null;\n        }\n\n        t.parseEmailLink = a, t.parseUrlLink = l, t.convertExtAutoLinks = function (e) {\n          for (var t, r = function r() {\n            var e = t.entering,\n                r = t.node;\n\n            if (e && \"text\" === r.type) {\n              var s = r.literal,\n                  o = n.__spreadArrays(l(s) || [], a(s) || []).sort(function (e, t) {\n                return e.range[0] - t.range[0];\n              });\n\n              if (!o.length) return \"continue\";\n\n              for (var u = 0, c = r.sourcepos[0], p = c[0], h = c[1], f = function f(e, t) {\n                return [[p, h + e], [p, h + t]];\n              }, d = [], g = 0, m = o; g < m.length; g++) {\n                var v = m[g],\n                    b = v.range,\n                    y = v.destination,\n                    C = v.linkText;\n                b[0] > u && d.push(i.text(s.substring(u, b[0]), f(u, b[0] - 1)));\n                var x = i.createNode(\"link\", f.apply(void 0, b));\n                x.appendChild(i.text(C, f.apply(void 0, b))), x.destination = y, d.push(x), u = b[1] + 1;\n              }\n\n              u < s.length && d.push(i.text(s.substring(u), f(u, s.length - 1)));\n\n              for (var k = 0, w = d; k < w.length; k++) {\n                var D = w[k];\n                r.insertBefore(D);\n              }\n\n              r.unlink();\n            }\n          }; t = e.next();) {\n            r();\n          }\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var n = r(8),\n            i = r(23),\n            s = r(3),\n            o = r(2),\n            a = {\n          continue: function _continue() {\n            return 0;\n          },\n          finalize: function finalize(e, t) {\n            for (var r = t.firstChild; r;) {\n              if (s.endsWithBlankLine(r) && r.next) {\n                t.listData.tight = !1;\n                break;\n              }\n\n              for (var n = r.firstChild; n;) {\n                if (s.endsWithBlankLine(n) && (r.next || n.next)) {\n                  t.listData.tight = !1;\n                  break;\n                }\n\n                n = n.next;\n              }\n\n              r = r.next;\n            }\n          },\n          canContain: function canContain(e) {\n            return \"item\" === e;\n          },\n          acceptsLines: !1\n        },\n            l = {\n          continue: function _continue(e) {\n            var t = e.currentLine;\n            return e.indented || s.peek(t, e.nextNonspace) !== s.C_GREATERTHAN ? 1 : (e.advanceNextNonspace(), e.advanceOffset(1, !1), s.isSpaceOrTab(s.peek(t, e.offset)) && e.advanceOffset(1, !0), 0);\n          },\n          finalize: function finalize() {},\n          canContain: function canContain(e) {\n            return \"item\" !== e;\n          },\n          acceptsLines: !1\n        },\n            u = {\n          continue: function _continue(e, t) {\n            if (e.blank) {\n              if (null === t.firstChild) return 1;\n              e.advanceNextNonspace();\n            } else {\n              if (!(e.indent >= t.listData.markerOffset + t.listData.padding)) return 1;\n              e.advanceOffset(t.listData.markerOffset + t.listData.padding, !0);\n            }\n\n            return 0;\n          },\n          finalize: n.taskListItemFinalize,\n          canContain: function canContain(e) {\n            return \"item\" !== e;\n          },\n          acceptsLines: !1\n        },\n            c = {\n          continue: function _continue(e, t) {\n            var r = e.currentLine,\n                n = e.indent;\n\n            if (t.isFenced) {\n              var i = n <= 3 && r.charAt(e.nextNonspace) === t.fenceChar && r.slice(e.nextNonspace).match(s.reClosingCodeFence);\n              if (i && i[0].length >= t.fenceLength) return e.lastLineLength = e.offset + n + i[0].length, e.finalize(t, e.lineNumber), 2;\n\n              for (var o = t.fenceOffset; o > 0 && s.isSpaceOrTab(s.peek(r, e.offset));) {\n                e.advanceOffset(1, !0), o--;\n              }\n            } else if (n >= s.CODE_INDENT) e.advanceOffset(s.CODE_INDENT, !0);else {\n              if (!e.blank) return 1;\n              e.advanceNextNonspace();\n            }\n\n            return 0;\n          },\n          finalize: function finalize(e, t) {\n            var r;\n\n            if (null !== t.stringContent) {\n              if (t.isFenced) {\n                var n = t.stringContent,\n                    i = n.indexOf(\"\\n\"),\n                    s = n.slice(0, i),\n                    a = n.slice(i + 1);\n                t.info = o.unescapeString(s.trim()), t.literal = a;\n              } else t.literal = null === (r = t.stringContent) || void 0 === r ? void 0 : r.replace(/(\\n *)+$/, \"\\n\");\n\n              t.stringContent = null;\n            }\n          },\n          canContain: function canContain() {\n            return !1;\n          },\n          acceptsLines: !0\n        },\n            p = {\n          continue: function _continue(e) {\n            return e.blank ? 1 : 0;\n          },\n          finalize: function finalize(e, t) {\n            if (null !== t.stringContent) {\n              for (var r, n = !1; s.peek(t.stringContent, 0) === s.C_OPEN_BRACKET && (r = e.inlineParser.parseReference(t.stringContent, e.refmap));) {\n                t.stringContent = t.stringContent.slice(r), n = !0;\n              }\n\n              n && s.isBlank(t.stringContent) && t.unlink();\n            }\n          },\n          canContain: function canContain() {\n            return !1;\n          },\n          acceptsLines: !0\n        };\n        t.blockHandlers = {\n          document: {\n            continue: function _continue() {\n              return 0;\n            },\n            finalize: function finalize() {},\n            canContain: function canContain(e) {\n              return \"item\" !== e;\n            },\n            acceptsLines: !1\n          },\n          list: a,\n          blockQuote: l,\n          item: u,\n          heading: {\n            continue: function _continue() {\n              return 1;\n            },\n            finalize: function finalize() {},\n            canContain: function canContain() {\n              return !1;\n            },\n            acceptsLines: !1\n          },\n          thematicBreak: {\n            continue: function _continue() {\n              return 1;\n            },\n            finalize: function finalize() {},\n            canContain: function canContain() {\n              return !1;\n            },\n            acceptsLines: !1\n          },\n          codeBlock: c,\n          htmlBlock: {\n            continue: function _continue(e, t) {\n              return !e.blank || 6 !== t.htmlBlockType && 7 !== t.htmlBlockType ? 0 : 1;\n            },\n            finalize: function finalize(e, t) {\n              var r;\n              t.literal = (null === (r = t.stringContent) || void 0 === r ? void 0 : r.replace(/(\\n *)+$/, \"\")) || null, t.stringContent = null;\n            },\n            canContain: function canContain() {\n              return !1;\n            },\n            acceptsLines: !0\n          },\n          paragraph: p,\n          table: i.table,\n          tableBody: i.tableBody,\n          tableHead: i.tableHead,\n          tableRow: i.tableRow,\n          tableCell: i.tableCell,\n          tableDelimRow: i.tableDelimRow,\n          tableDelimCell: i.tableDelimCell\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.table = {\n          continue: function _continue() {\n            return 0;\n          },\n          finalize: function finalize() {},\n          canContain: function canContain(e) {\n            return \"tableHead\" === e || \"tableBody\" === e;\n          },\n          acceptsLines: !1\n        }, t.tableBody = {\n          continue: function _continue() {\n            return 0;\n          },\n          finalize: function finalize() {},\n          canContain: function canContain(e) {\n            return \"tableRow\" === e;\n          },\n          acceptsLines: !1\n        }, t.tableHead = {\n          continue: function _continue() {\n            return 1;\n          },\n          finalize: function finalize() {},\n          canContain: function canContain(e) {\n            return \"tableRow\" === e || \"tableDelimRow\" === e;\n          },\n          acceptsLines: !1\n        }, t.tableDelimRow = {\n          continue: function _continue() {\n            return 1;\n          },\n          finalize: function finalize() {},\n          canContain: function canContain(e) {\n            return \"tableDelimCell\" === e;\n          },\n          acceptsLines: !1\n        }, t.tableDelimCell = {\n          continue: function _continue() {\n            return 1;\n          },\n          finalize: function finalize() {},\n          canContain: function canContain() {\n            return !1;\n          },\n          acceptsLines: !1\n        }, t.tableRow = {\n          continue: function _continue() {\n            return 1;\n          },\n          finalize: function finalize() {},\n          canContain: function canContain(e) {\n            return \"tableCell\" === e;\n          },\n          acceptsLines: !1\n        }, t.tableCell = {\n          continue: function _continue() {\n            return 1;\n          },\n          finalize: function finalize() {},\n          canContain: function canContain() {\n            return !1;\n          },\n          acceptsLines: !1\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var n = r(2),\n            i = r(1),\n            s = r(7);\n\n        function o(e) {\n          for (var t = 0, r = 0, i = [], s = 0; s < e.length; s += 1) {\n            if (\"|\" === e[s] && \"\\\\\" !== e[s - 1]) {\n              var o = e.substring(t, s);\n              0 === t && n.isEmpty(o) ? r = s + 1 : i.push(o), t = s + 1;\n            }\n          }\n\n          if (t < e.length) {\n            o = e.substring(t, e.length);\n            n.isEmpty(o) || i.push(o);\n          }\n\n          return [r, i];\n        }\n\n        function a(e, t, r, n) {\n          for (var s = [], o = 0, a = t; o < a.length; o++) {\n            var l = a[o],\n                u = l.match(/^[ \\t]+/),\n                c = u ? u[0].length : 0,\n                p = l.trim(),\n                h = n + c,\n                f = i.createNode(e, [[r, h], [r, h + p.length - 1]]);\n            f.stringContent = p.replace(/\\\\\\|/g, \"|\"), f.columnIdx = s.length, f.lineOffsets = [h - 1], s.push(f), n += l.length + 1;\n          }\n\n          return s;\n        }\n\n        function l(e) {\n          var t = \"left\",\n              r = e.stringContent,\n              n = r[0];\n          return \":\" === r[r.length - 1] && (t = \":\" === n ? \"center\" : \"right\"), {\n            align: t\n          };\n        }\n\n        t.tableHead = function (e, t) {\n          var r = t.stringContent;\n\n          if (\"paragraph\" === t.type && !e.indented && !e.blank) {\n            var n = r.length - 1,\n                u = r.lastIndexOf(\"\\n\", n - 1) + 1,\n                c = r.slice(u, n),\n                p = e.currentLine.slice(e.nextNonspace),\n                h = o(c),\n                f = h[0],\n                d = h[1],\n                g = o(p),\n                m = g[0],\n                v = g[1],\n                b = /^[ \\t]*:?-+:?[ \\t]*$/;\n            if (!d.length || !v.length || v.some(function (e) {\n              return !b.test(e);\n            })) return 0;\n            var y = t.lineOffsets,\n                C = e.lineNumber - 1,\n                x = s.last(y) + 1,\n                k = i.createNode(\"table\", [[C, x], [e.lineNumber, e.offset]]);\n            if (k.columns = v.map(function () {\n              return {\n                align: \"left\"\n              };\n            }), t.insertAfter(k), 1 === y.length) t.unlink();else {\n              t.stringContent = r.slice(0, u);\n              var w = u - (r.lastIndexOf(\"\\n\", u - 2) + 1) - 1;\n              e.lastLineLength = y[y.length - 2] + w, e.finalize(t, C - 1);\n            }\n            e.advanceOffset(e.currentLine.length - e.offset, !1);\n            var D = i.createNode(\"tableHead\", [[C, x], [e.lineNumber, e.offset]]);\n            k.appendChild(D);\n            var N = i.createNode(\"tableRow\", [[C, x], [C, x + c.length - 1]]),\n                A = i.createNode(\"tableDelimRow\", [[e.lineNumber, e.nextNonspace + 1], [e.lineNumber, e.offset]]);\n            D.appendChild(N), D.appendChild(A), a(\"tableCell\", d, C, x + f).forEach(function (e) {\n              N.appendChild(e);\n            });\n            var E = a(\"tableDelimCell\", v, e.lineNumber, e.nextNonspace + 1 + m);\n            return E.forEach(function (e) {\n              A.appendChild(e);\n            }), k.columns = E.map(l), e.tip = k, 2;\n          }\n\n          return 0;\n        }, t.tableBody = function (e, t) {\n          if (\"table\" !== t.type && \"tableBody\" !== t.type) return 0;\n\n          if (e.advanceOffset(e.currentLine.length - e.offset, !1), e.blank) {\n            var r = t;\n            return \"tableBody\" === t.type && (r = t.parent, e.finalize(t, e.lineNumber)), e.finalize(r, e.lineNumber), 0;\n          }\n\n          var n = t;\n          \"table\" === t.type && ((n = e.addChild(\"tableBody\", e.nextNonspace)).stringContent = null);\n          var s = i.createNode(\"tableRow\", [[e.lineNumber, e.nextNonspace + 1], [e.lineNumber, e.currentLine.length]]);\n          n.appendChild(s);\n          var l = n.parent,\n              u = o(e.currentLine.slice(e.nextNonspace)),\n              c = u[0];\n          return a(\"tableCell\", u[1], e.lineNumber, e.nextNonspace + 1 + c).forEach(function (e, t) {\n            t >= l.columns.length && (e.ignored = !0), s.appendChild(e);\n          }), 2;\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n        var n = r(1);\n\n        function i(e, t) {\n          return e[0] < t[0] ? 1 : e[0] > t[0] ? -1 : e[1] < t[1] ? 1 : e[1] > t[1] ? -1 : 0;\n        }\n\n        function s(e, t) {\n          var r = e[0];\n          return 1 === i(e[1], t) ? 1 : -1 === i(r, t) ? -1 : 0;\n        }\n\n        function o(e, t) {\n          var r = e[0];\n          return e[1][0] < t ? 1 : r[0] > t ? -1 : 0;\n        }\n\n        t.getAllParents = function (e) {\n          for (var t = []; e.parent;) {\n            t.push(e.parent), e = e.parent;\n          }\n\n          return t.reverse();\n        }, t.removeNextUntil = function (e, t) {\n          if (e.parent === t.parent && e !== t) {\n            for (var r = e.next; r && r !== t;) {\n              for (var i = r.next, s = 0, o = [\"parent\", \"prev\", \"next\"]; s < o.length; s++) {\n                var a = o[s];\n                r[a] && (n.removeNodeById(r[a].id), r[a] = null);\n              }\n\n              r = i;\n            }\n\n            e.next = t.next, t.next ? t.next.prev = e : e.parent.lastChild = e;\n          }\n        }, t.getChildNodes = function (e) {\n          for (var t = [], r = e.firstChild; r;) {\n            t.push(r), r = r.next;\n          }\n\n          return t;\n        }, t.insertNodesBefore = function (e, t) {\n          for (var r = 0, n = t; r < n.length; r++) {\n            var i = n[r];\n            e.insertBefore(i);\n          }\n        }, t.prependChildNodes = function (e, t) {\n          for (var r = t.length - 1; r >= 0; r -= 1) {\n            e.prependChild(t[r]);\n          }\n        }, t.updateNextLineNumbers = function (e, t) {\n          if (e && e.parent && 0 !== t) {\n            var r,\n                n = e.parent.walker();\n\n            for (n.resumeAt(e, !0); r = n.next();) {\n              var i = r.node;\n              r.entering && (i.sourcepos[0][0] += t, i.sourcepos[1][0] += t);\n            }\n          }\n        }, t.findChildNodeAtLine = function (e, t) {\n          for (var r = e.firstChild; r;) {\n            var n = o(r.sourcepos, t);\n            if (0 === n) return r;\n            if (-1 === n) return r.prev;\n            r = r.next;\n          }\n\n          return e.lastChild;\n        }, t.findFirstNodeAtLine = function (e, t) {\n          for (var r = e.firstChild, n = null; r;) {\n            var i = o(r.sourcepos, t);\n\n            if (0 === i) {\n              if (r.sourcepos[0][0] === t || !r.firstChild) return r;\n              n = r, r = r.firstChild;\n            } else {\n              if (-1 === i) break;\n              n = r, r = r.next;\n            }\n          }\n\n          return n ? function (e) {\n            for (; e.parent && \"document\" !== e.parent.type && e.parent.sourcepos[0][0] === e.sourcepos[0][0];) {\n              e = e.parent;\n            }\n\n            return e;\n          }(function (e) {\n            for (; e.lastChild;) {\n              e = e.lastChild;\n            }\n\n            return e;\n          }(n)) : null;\n        }, t.findNodeAtPosition = function (e, t) {\n          for (var r = e, n = null; r;) {\n            var i = s(r.sourcepos, t);\n\n            if (0 === i) {\n              if (!r.firstChild) return r;\n              n = r, r = r.firstChild;\n            } else {\n              if (-1 === i) return n;\n              if (!r.next) return n;\n              r = r.next;\n            }\n          }\n\n          return r;\n        }, t.toString = function (e) {\n          return e ? \"type: \" + e.type + \", sourcepos: \" + e.sourcepos + \", firstChild: \" + (e.firstChild && e.firstChild.type) + \", lastChild: \" + (e.lastChild && e.lastChild.type) + \", prev: \" + (e.prev && e.prev.type) + \", next: \" + (e.next && e.next.type) : \"null\";\n        }, t.findNodeById = function (e) {\n          return n.getNodeById(e) || null;\n        };\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n\n        var n = r(0),\n            i = r(27),\n            s = r(8),\n            o = function (e) {\n          function t() {\n            return null !== e && e.apply(this, arguments) || this;\n          }\n\n          return n.__extends(t, e), t.prototype.item = function (e, t) {\n            var r = this.attrs(e);\n            t ? (this.tag(\"li\", r), s.taskListItemRender(this, e)) : (this.tag(\"/li\"), this.cr());\n          }, t.prototype.strike = function (e, t) {\n            t ? this.tag(\"del\", this.attrs(e)) : this.tag(\"/del\");\n          }, t.prototype.table = function (e, t) {\n            this.cr(), t ? this.tag(\"table\", this.attrs(e)) : this.tag(\"/table\"), this.cr();\n          }, t.prototype.tableHead = function (e, t) {\n            t ? this.tag(\"thead\", this.attrs(e)) : this.tag(\"/thead\"), this.cr();\n          }, t.prototype.tableBody = function (e, t) {\n            t ? this.tag(\"tbody\", this.attrs(e)) : this.tag(\"/tbody\"), this.cr();\n          }, t.prototype.tableRow = function (e, t) {\n            if (t) this.tag(\"tr\", this.attrs(e));else {\n              for (var r = e.parent.parent, n = e.lastChild.columnIdx + 1; n < r.columns.length; n += 1) {\n                this.tag(\"td\"), this.tag(\"/td\"), this.cr();\n              }\n\n              this.tag(\"/tr\");\n            }\n            this.cr();\n          }, t.prototype.tableCell = function (e, t) {\n            if (!e.ignored) {\n              var r = e.parent.parent,\n                  n = \"tableHead\" === r.type ? \"th\" : \"td\",\n                  i = r.parent,\n                  s = this.attrs(e),\n                  o = i.columns[e.columnIdx];\n              o && \"left\" !== o.align && s.push([\"align\", o.align]), t ? this.tag(n, s) : (this.tag(\"/\" + n), this.cr());\n            }\n          }, t;\n        }(i.HtmlRenderer);\n\n        t.GfmHtmlRenderer = o;\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n\n        var n = r(0),\n            i = r(28),\n            s = r(2),\n            o = /^javascript:|vbscript:|file:|data:/i,\n            a = /^data:image\\/(?:png|gif|jpeg|webp)/i,\n            l = function l(e) {\n          return o.test(e) && !a.test(e);\n        },\n            u = [\"title\", \"textarea\", \"style\", \"xmp\", \"iframe\", \"noembed\", \"noframes\", \"script\", \"plaintext\"];\n\n        var c = {\n          softbreak: \"\\n\",\n          safe: !1,\n          sourcepos: !1,\n          tagFilter: !1,\n          nodeId: !1,\n          linkAttrs: []\n        },\n            p = function (e) {\n          function t(t) {\n            void 0 === t && (t = {});\n            var r = e.call(this) || this;\n            return r.disableTags = 0, r.lastOut = \"\\n\", r.options = n.__assign(n.__assign({}, c), t), r.options.tagFilter && (r.reDisallowedTag = new RegExp(\"<(/?(?:\" + u.join(\"|\") + \")[^>]*>)\", \"ig\")), r;\n          }\n\n          return n.__extends(t, e), t.prototype.filterDisallowedTags = function (e) {\n            return this.reDisallowedTag && this.reDisallowedTag.test(e) ? e.replace(this.reDisallowedTag, function (e, t) {\n              return \"&lt;\" + t;\n            }) : e;\n          }, t.prototype.text = function (e) {\n            this.out(e.literal);\n          }, t.prototype.softbreak = function () {\n            this.lit(this.options.softbreak);\n          }, t.prototype.linebreak = function () {\n            this.tag(\"br\", [], !0), this.cr();\n          }, t.prototype.link = function (e, t) {\n            var r = this.attrs(e);\n            r.push.apply(r, this.options.linkAttrs), t ? (this.options.safe && l(e.destination) || r.push([\"href\", this.esc(e.destination)]), e.title && r.push([\"title\", this.esc(e.title)]), this.tag(\"a\", r)) : this.tag(\"/a\");\n          }, t.prototype.image = function (e, t) {\n            if (t) {\n              if (0 === this.disableTags) {\n                var r = this.attrString(this.attrs(e)),\n                    n = r ? \" \" + r : \"\",\n                    i = this.options.safe && l(e.destination) ? \"\" : this.esc(e.destination);\n                this.lit('<img src=\"' + i + '\"' + n + ' alt=\"');\n              }\n\n              this.disableTags += 1;\n            } else this.disableTags -= 1, 0 === this.disableTags && (e.title && this.lit('\" title=\"' + this.esc(e.title)), this.lit('\" />'));\n          }, t.prototype.emph = function (e, t) {\n            t ? this.tag(\"em\", this.attrs(e)) : this.tag(\"/em\");\n          }, t.prototype.strong = function (e, t) {\n            t ? this.tag(\"strong\", this.attrs(e)) : this.tag(\"/strong\");\n          }, t.prototype.paragraph = function (e, t) {\n            var r,\n                n = null === (r = e.parent) || void 0 === r ? void 0 : r.parent;\n            n && \"list\" === n.type && n.listData.tight || (t ? (this.cr(), this.tag(\"p\", this.attrs(e))) : (this.tag(\"/p\"), this.cr()));\n          }, t.prototype.heading = function (e, t) {\n            var r = \"h\" + e.level;\n            t ? (this.cr(), this.tag(r, this.attrs(e))) : (this.tag(\"/\" + r), this.cr());\n          }, t.prototype.code = function (e) {\n            this.tag(\"code\", this.attrs(e)), this.out(e.literal), this.tag(\"/code\");\n          }, t.prototype.codeBlock = function (e) {\n            var t = e.info ? e.info.split(/\\s+/) : [],\n                r = [];\n            t.length > 0 && t[0].length > 0 && r.push([\"class\", \"language-\" + this.esc(t[0])]), this.cr(), this.tag(\"pre\", this.attrs(e)), this.tag(\"code\", r), this.out(e.literal), this.tag(\"/code\"), this.tag(\"/pre\"), this.cr();\n          }, t.prototype.thematicBreak = function (e) {\n            var t = this.attrs(e);\n            this.cr(), this.tag(\"hr\", t, !0), this.cr();\n          }, t.prototype.blockQuote = function (e, t) {\n            var r = this.attrs(e);\n            t ? (this.cr(), this.tag(\"blockquote\", r), this.cr()) : (this.cr(), this.tag(\"/blockquote\"), this.cr());\n          }, t.prototype.list = function (e, t) {\n            var r = \"bullet\" === e.listData.type ? \"ul\" : \"ol\",\n                n = this.attrs(e);\n\n            if (t) {\n              var i = e.listData.start;\n              \"ol\" === r && null !== i && 1 !== i && n.push([\"start\", i.toString()]), this.cr(), this.tag(r, n), this.cr();\n            } else this.cr(), this.tag(\"/\" + r), this.cr();\n          }, t.prototype.item = function (e, t) {\n            var r = this.attrs(e);\n            t ? this.tag(\"li\", r) : (this.tag(\"/li\"), this.cr());\n          }, t.prototype.htmlInline = function (e) {\n            this.options.safe ? this.lit(\"\\x3c!-- raw HTML omitted --\\x3e\") : this.lit(this.filterDisallowedTags(e.literal));\n          }, t.prototype.htmlBlock = function (e) {\n            this.cr(), this.options.safe ? this.lit(\"\\x3c!-- raw HTML omitted --\\x3e\") : (this.options.nodeId && this.tag(\"div\", this.attrs(e)), this.lit(this.filterDisallowedTags(e.literal)), this.options.nodeId && this.tag(\"/div\")), this.cr();\n          }, t.prototype.out = function (e) {\n            e && this.lit(this.esc(e));\n          }, t.prototype.attrs = function (e) {\n            var t = [];\n\n            if (this.options.sourcepos) {\n              var r = e.sourcepos;\n              r && t.push([\"data-sourcepos\", String(r[0][0]) + \":\" + String(r[0][1]) + \"-\" + String(r[1][0]) + \":\" + String(r[1][1])]);\n            }\n\n            return this.options.nodeId && t.push([\"data-nodeid\", String(e.id)]), t;\n          }, t.prototype.esc = function (e) {\n            return s.escapeXml(e);\n          }, t.prototype.tag = function (e, t, r) {\n            void 0 === r && (r = !1), this.disableTags > 0 || (this.buffer += \"<\" + e, t && t.length > 0 && (this.buffer += \" \" + this.attrString(t)), r && (this.buffer += \" /\"), this.buffer += \">\", this.lastOut = \">\");\n          }, t.prototype.attrString = function (e) {\n            return e.map(function (e) {\n              return e[0] + '=\"' + e[1] + '\"';\n            }).join(\" \");\n          }, t;\n        }(i.Renderer);\n\n        t.HtmlRenderer = p;\n      }, function (e, t, r) {\n        \"use strict\";\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n\n        var n = function () {\n          function e() {}\n\n          return e.prototype.render = function (e) {\n            var t = e.walker(),\n                r = null;\n\n            for (this.buffer = \"\", this.lastOut = \"\\n\"; r = t.next();) {\n              var n = r.node.type;\n              this[n] && this[n](r.node, r.entering);\n            }\n\n            return this.buffer;\n          }, e.prototype.lit = function (e) {\n            e && (this.buffer += e, this.lastOut = e);\n          }, e.prototype.cr = function () {\n            \"\\n\" !== this.lastOut && this.lit(\"\\n\");\n          }, e.prototype.out = function (e) {\n            e && this.lit(e);\n          }, e.prototype.esc = function (e) {\n            return e;\n          }, e;\n        }();\n\n        t.Renderer = n;\n      }]));\n      /***/\n    },\n    /* 28 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return MarkdownRenderer;\n      });\n      /* harmony import */\n\n\n      var _toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(27);\n      /* harmony import */\n\n\n      var _toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_0__);\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n\n      var MarkdownRenderer = /*#__PURE__*/function (_GfmHtmlRenderer) {\n        _inheritsLoose(MarkdownRenderer, _GfmHtmlRenderer);\n\n        function MarkdownRenderer() {\n          return _GfmHtmlRenderer.apply(this, arguments) || this;\n        }\n\n        var _proto = MarkdownRenderer.prototype;\n\n        _proto.softbreak = function softbreak(node) {\n          var isPrevNodeHTML = node.prev && node.prev.type === 'htmlInline';\n\n          if (isPrevNodeHTML && /<br ?\\/?>/.test(node.prev.literal)) {\n            this.lit('\\n');\n          } else {\n            this.lit('<br>\\n');\n          }\n        };\n\n        _proto.item = function item(node, entering) {\n          var attrs = this.attrs(node);\n\n          if (entering) {\n            if (node.listData.task) {\n              var classNames = ['task-list-item'];\n\n              if (node.listData.checked) {\n                classNames.push('checked');\n              }\n\n              attrs.push(['class', classNames.join(' ')], ['data-te-task', '']);\n            }\n\n            this.tag('li', attrs);\n          } else {\n            this.tag('/li');\n            this.cr();\n          }\n        };\n\n        _proto.code = function code(node) {\n          var attrs = this.attrs(node);\n          attrs.push(['data-backticks', node.tickCount]);\n          this.tag('code', attrs);\n          this.out(node.literal);\n          this.tag('/code');\n        };\n\n        _proto.codeBlock = function codeBlock(node) {\n          var infoWords = node.info ? node.info.split(/\\s+/) : [];\n          var codeAttrs = [];\n\n          if (node.fenceLength > 3) {\n            codeAttrs.push(['data-backticks', node.fenceLength]);\n          }\n\n          if (infoWords.length > 0 && infoWords[0].length > 0) {\n            var lang = this.esc(infoWords[0]);\n            codeAttrs.push(['data-language', lang]);\n            codeAttrs.push(['class', \"lang-\" + lang]);\n          }\n\n          this.cr();\n          this.tag('pre', this.attrs(node));\n          this.tag('code', codeAttrs);\n          this.out(node.literal);\n          this.tag('/code');\n          this.tag('/pre');\n          this.cr();\n        };\n\n        return MarkdownRenderer;\n      }(_toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_0__[\"GfmHtmlRenderer\"]);\n      /***/\n\n    },\n    /* 29 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony import */\n\n      var tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n      /* harmony import */\n\n\n      var tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_1__);\n      /* harmony import */\n\n\n      var _utils_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n      /**\n       * @fileoverview Implements htmlSanitizer\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var HTML_ATTR_LIST_RX = new RegExp('^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|' + 'color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|' + 'ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|' + 'scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|' + 'valign|value|vspace|width|checked|mathvariant|encoding|id|name|' + 'background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)', 'g');\n      var SVG_ATTR_LIST_RX = new RegExp('^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|' + 'baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|' + 'cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|' + 'font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|' + 'height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|' + 'marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|' + 'max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|' + 'path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|' + 'requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|' + 'stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|' + 'stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|' + 'stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|' + 'underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|' + 'width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|' + 'xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)', 'g');\n      var ATTR_VALUE_BLACK_LIST_RX = {\n        href: /^(javascript:).*/g\n      };\n      /**\n       * htmlSanitizer\n       * @param {string|Node} html html or Node\n       * @param {boolean} [needHtmlText] pass true if need html text\n       * @returns {string|DocumentFragment} result\n       * @ignore\n       */\n\n      function htmlSanitizer(html, needHtmlText) {\n        var root = document.createElement('div');\n\n        if (tui_code_snippet_type_isString__WEBPACK_IMPORTED_MODULE_1___default()(html)) {\n          html = html.replace(/<!--[\\s\\S]*?-->/g, '');\n          root.innerHTML = html;\n        } else {\n          root.appendChild(html);\n        }\n\n        removeUnnecessaryTags(root);\n        leaveOnlyWhitelistAttribute(root);\n        removeInvalidAttributeValues(root);\n        return finalizeHtml(root, needHtmlText);\n      }\n      /**\n       * Remove unnecessary tags\n       * @private\n       * @param {HTMLElement} html root element\n       */\n\n\n      function removeUnnecessaryTags(html) {\n        var removedTags = _utils_dom__WEBPACK_IMPORTED_MODULE_2__[\n        /* default */\n        \"a\"].findAll(html, 'script, iframe, textarea, form, button, select, meta, style, link, title, embed, object, details, summary');\n\n        removedTags.forEach(function (node) {\n          _utils_dom__WEBPACK_IMPORTED_MODULE_2__[\n          /* default */\n          \"a\"].remove(node);\n        });\n      }\n      /**\n       * Leave only white list attributes\n       * @private\n       * @param {HTMLElement} html root element\n       */\n\n\n      function leaveOnlyWhitelistAttribute(html) {\n        _utils_dom__WEBPACK_IMPORTED_MODULE_2__[\n        /* default */\n        \"a\"].findAll(html, '*').forEach(function (node) {\n          var attrs = node.attributes;\n          var blacklist = tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(attrs).filter(function (attr) {\n            var isHTMLAttr = attr.name.match(HTML_ATTR_LIST_RX);\n            var isSVGAttr = attr.name.match(SVG_ATTR_LIST_RX);\n            return !isHTMLAttr && !isSVGAttr;\n          });\n          tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(blacklist).forEach(function (attr) {\n            // Edge svg attribute name returns uppercase bug. error guard.\n            // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/5579311/\n            if (attrs.getNamedItem(attr.name)) {\n              attrs.removeNamedItem(attr.name);\n            }\n          });\n        });\n      }\n      /**\n       * Remove invalid attribute values\n       * @private\n       * @param {HTMLElement} html root element\n       */\n\n\n      function removeInvalidAttributeValues(html) {\n        var _loop = function _loop(attr) {\n          if (ATTR_VALUE_BLACK_LIST_RX.hasOwnProperty(attr)) {\n            _utils_dom__WEBPACK_IMPORTED_MODULE_2__[\n            /* default */\n            \"a\"].findAll(html, \"[\" + attr + \"]\").forEach(function (node) {\n              var attrs = node.attributes;\n              var valueBlackListRX = ATTR_VALUE_BLACK_LIST_RX[attr];\n              var attrItem = attrs.getNamedItem(attr);\n\n              if (valueBlackListRX && attrItem && attrItem.value.toLowerCase().match(valueBlackListRX)) {\n                attrs.removeNamedItem(attr);\n              }\n            });\n          }\n        };\n\n        for (var attr in ATTR_VALUE_BLACK_LIST_RX) {\n          _loop(attr);\n        }\n      }\n      /**\n       * Finalize html result\n       * @private\n       * @param {HTMLElement} html root element\n       * @param {boolean} needHtmlText pass true if need html text\n       * @returns {string|DocumentFragment} result\n       */\n\n\n      function finalizeHtml(html, needHtmlText) {\n        var returnValue;\n\n        if (needHtmlText) {\n          returnValue = html.innerHTML;\n        } else {\n          var frag = document.createDocumentFragment();\n          var childNodes = tui_code_snippet_collection_toArray__WEBPACK_IMPORTED_MODULE_0___default()(html.childNodes);\n          var length = childNodes.length;\n\n          for (var i = 0; i < length; i += 1) {\n            frag.appendChild(childNodes[i]);\n          }\n\n          returnValue = frag;\n        }\n\n        return returnValue;\n      }\n      /* harmony default export */\n\n\n      __webpack_exports__[\"a\"] = htmlSanitizer;\n      /***/\n    },\n    /* 30 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is a function or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Check whether the given variable is a function or not.\n       * If the given variable is a function, return true.\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is function?\n       * @memberof module:type\n       */\n\n      function isFunction(obj) {\n        return obj instanceof Function;\n      }\n\n      module.exports = isFunction;\n      /***/\n    },\n    /* 31 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      (function webpackUniversalModuleDefinition(root, factory) {\n        if (true) module.exports = factory();else {}\n      })(typeof self !== 'undefined' ? self : this, function () {\n        return (\n          /******/\n          function (modules) {\n            // webpackBootstrap\n\n            /******/\n            // The module cache\n\n            /******/\n            var installedModules = {};\n            /******/\n\n            /******/\n            // The require function\n\n            /******/\n\n            function __webpack_require__(moduleId) {\n              /******/\n\n              /******/\n              // Check if module is in cache\n\n              /******/\n              if (installedModules[moduleId]) {\n                /******/\n                return installedModules[moduleId].exports;\n                /******/\n              }\n              /******/\n              // Create a new module (and put it into the cache)\n\n              /******/\n\n\n              var module = installedModules[moduleId] = {\n                /******/\n                i: moduleId,\n\n                /******/\n                l: false,\n\n                /******/\n                exports: {}\n                /******/\n\n              };\n              /******/\n\n              /******/\n              // Execute the module function\n\n              /******/\n\n              modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n              /******/\n\n              /******/\n              // Flag the module as loaded\n\n              /******/\n\n              module.l = true;\n              /******/\n\n              /******/\n              // Return the exports of the module\n\n              /******/\n\n              return module.exports;\n              /******/\n            }\n            /******/\n\n            /******/\n\n            /******/\n            // expose the modules object (__webpack_modules__)\n\n            /******/\n\n\n            __webpack_require__.m = modules;\n            /******/\n\n            /******/\n            // expose the module cache\n\n            /******/\n\n            __webpack_require__.c = installedModules;\n            /******/\n\n            /******/\n            // define getter function for harmony exports\n\n            /******/\n\n            __webpack_require__.d = function (exports, name, getter) {\n              /******/\n              if (!__webpack_require__.o(exports, name)) {\n                /******/\n                Object.defineProperty(exports, name, {\n                  /******/\n                  configurable: false,\n\n                  /******/\n                  enumerable: true,\n\n                  /******/\n                  get: getter\n                  /******/\n\n                });\n                /******/\n              }\n              /******/\n\n            };\n            /******/\n\n            /******/\n            // getDefaultExport function for compatibility with non-harmony modules\n\n            /******/\n\n\n            __webpack_require__.n = function (module) {\n              /******/\n              var getter = module && module.__esModule ?\n              /******/\n              function getDefault() {\n                return module['default'];\n              } :\n              /******/\n              function getModuleExports() {\n                return module;\n              };\n              /******/\n\n              __webpack_require__.d(getter, 'a', getter);\n              /******/\n\n\n              return getter;\n              /******/\n            };\n            /******/\n\n            /******/\n            // Object.prototype.hasOwnProperty.call\n\n            /******/\n\n\n            __webpack_require__.o = function (object, property) {\n              return Object.prototype.hasOwnProperty.call(object, property);\n            };\n            /******/\n\n            /******/\n            // __webpack_public_path__\n\n            /******/\n\n\n            __webpack_require__.p = \"\";\n            /******/\n\n            /******/\n            // Load entry module and return exports\n\n            /******/\n\n            return __webpack_require__(__webpack_require__.s = 3);\n            /******/\n          }(\n          /************************************************************************/\n\n          /******/\n          [\n          /* 0 */\n\n          /***/\n          function (module, exports, __webpack_require__) {\n            \"use strict\";\n            /**\n             * @fileoverview Implements basicRenderer\n             * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>\n             */\n\n            var Renderer = __webpack_require__(1);\n\n            var FIND_LAST_RETURN_RX = /\\n$/g,\n                FIND_BR_AND_RETURN_RX = /[ \\xA0]+\\n\\n/g,\n                FIND_MULTIPLE_EMPTYLINE_BETWEEN_TEXT_RX = /([ \\xA0]+\\n){2,}/g,\n                FIND_LINK_HREF = /href\\=\\\"(.*?)\\\"/,\n                START_OF_LINES_RX = /^/gm;\n            /**\n             * basicRenderer\n             * Basic Markdown Renderer\n             * @exports basicRenderer\n             * @augments Renderer\n             */\n\n            var basicRenderer = Renderer.factory({\n              //inlines\n              'TEXT_NODE': function TEXT_NODE(node) {\n                var managedText = this.trim(this.getSpaceCollapsedText(node.nodeValue));\n\n                if (this._isNeedEscapeBackSlash(managedText)) {\n                  managedText = this.escapeTextBackSlash(managedText);\n                }\n\n                managedText = this.escapePairedCharacters(managedText);\n\n                if (this._isNeedEscapeHtml(managedText)) {\n                  managedText = this.escapeTextHtml(managedText);\n                }\n\n                if (this._isNeedEscape(managedText)) {\n                  managedText = this.escapeText(managedText);\n                }\n\n                return this.getSpaceControlled(managedText, node);\n              },\n              'CODE TEXT_NODE': function CODETEXT_NODE(node) {\n                return node.nodeValue;\n              },\n              'EM, I': function EMI(node, subContent) {\n                var res = '';\n\n                if (!this.isEmptyText(subContent)) {\n                  res = '*' + subContent + '*';\n                }\n\n                return res;\n              },\n              'STRONG, B': function STRONGB(node, subContent) {\n                var res = '';\n\n                if (!this.isEmptyText(subContent)) {\n                  res = '**' + subContent + '**';\n                }\n\n                return res;\n              },\n              'A': function A(node, subContent) {\n                var res = subContent;\n                var title = '';\n                var foundedHref, url; //상황에따라 href속성은 상황에 따라 값을 예측하기 힘듬\n                //그래서 html에 적용된 그대로를 사용\n\n                foundedHref = FIND_LINK_HREF.exec(node.outerHTML);\n\n                if (foundedHref) {\n                  url = foundedHref[1].replace(/&amp;/g, '&');\n                }\n\n                if (node.title) {\n                  title = ' \"' + node.title + '\"';\n                }\n\n                if (!this.isEmptyText(subContent) && url) {\n                  res = '[' + this.escapeTextForLink(subContent) + '](' + url + title + ')';\n                }\n\n                return res;\n              },\n              'IMG': function IMG(node) {\n                var res = '',\n                    src = node.getAttribute('src'),\n                    alt = node.alt;\n\n                if (src) {\n                  res = '![' + this.escapeTextForLink(alt) + '](' + src + ')';\n                }\n\n                return res;\n              },\n              'BR': function BR() {\n                return '  \\n';\n              },\n              'CODE': function CODE(node, subContent) {\n                var backticks, numBackticks;\n                var res = '';\n\n                if (!this.isEmptyText(subContent)) {\n                  numBackticks = parseInt(node.getAttribute('data-backticks'), 10);\n                  backticks = isNaN(numBackticks) ? '`' : Array(numBackticks + 1).join('`');\n                  res = backticks + subContent + backticks;\n                }\n\n                return res;\n              },\n              //Paragraphs\n              'P': function P(node, subContent) {\n                var res = ''; //convert multiple brs to one br\n\n                subContent = subContent.replace(FIND_MULTIPLE_EMPTYLINE_BETWEEN_TEXT_RX, '  \\n');\n\n                if (!this.isEmptyText(subContent)) {\n                  res = '\\n\\n' + subContent + '\\n\\n';\n                }\n\n                return res;\n              },\n              'BLOCKQUOTE P': function BLOCKQUOTEP(node, subContent) {\n                return subContent;\n              },\n              'LI P': function LIP(node, subContent) {\n                var res = '';\n\n                if (!this.isEmptyText(subContent)) {\n                  res = subContent;\n                }\n\n                return res;\n              },\n              //Headings\n              'H1, H2, H3, H4, H5, H6': function H1H2H3H4H5H6(node, subContent) {\n                var res = '',\n                    headingNumber = parseInt(node.tagName.charAt(1), 10);\n\n                while (headingNumber) {\n                  res += '#';\n                  headingNumber -= 1;\n                }\n\n                res += ' ';\n                res += subContent;\n                return '\\n\\n' + res + '\\n\\n';\n              },\n              'LI H1, LI H2, LI H3, LI H4, LI H5, LI H6': function LIH1LIH2LIH3LIH4LIH5LIH6(node, subContent) {\n                var headingNumber = parseInt(node.tagName.charAt(1), 10);\n                return Array(headingNumber + 1).join('#') + ' ' + subContent;\n              },\n              //List\n              'UL, OL': function ULOL(node, subContent) {\n                return '\\n\\n' + subContent + '\\n\\n';\n              },\n              'LI OL, LI UL': function LIOLLIUL(node, subContent) {\n                var res, processedSubContent; //remove last br of li\n\n                processedSubContent = subContent.replace(FIND_BR_AND_RETURN_RX, '\\n'); //parent LI converter add \\n too, so we remove last return\n\n                processedSubContent = processedSubContent.replace(FIND_LAST_RETURN_RX, '');\n                res = processedSubContent.replace(START_OF_LINES_RX, '    ');\n                return '\\n' + res;\n              },\n              'UL LI': function ULLI(node, subContent) {\n                var res = ''; //convert multiple brs to one br\n\n                subContent = subContent.replace(FIND_MULTIPLE_EMPTYLINE_BETWEEN_TEXT_RX, '  \\n');\n\n                if (node.firstChild && node.firstChild.tagName === 'P') {\n                  res += '\\n';\n                }\n\n                res += '* ' + subContent + '\\n';\n                return res;\n              },\n              'OL LI': function OLLI(node, subContent) {\n                var res = '';\n                var liCounter = parseInt(node.parentNode.getAttribute('start') || 1, 10);\n\n                while (node.previousSibling) {\n                  node = node.previousSibling;\n\n                  if (node.nodeType === 1 && node.tagName === 'LI') {\n                    liCounter += 1;\n                  }\n                } //convert multiple brs to one br\n\n\n                subContent = subContent.replace(FIND_MULTIPLE_EMPTYLINE_BETWEEN_TEXT_RX, '  \\n');\n\n                if (node.firstChild && node.firstChild.tagName === 'P') {\n                  res += '\\n';\n                }\n\n                res += liCounter + '. ' + subContent + '\\n';\n                return res;\n              },\n              //HR\n              'HR': function HR() {\n                return '\\n\\n- - -\\n\\n';\n              },\n              //Blockquote\n              'BLOCKQUOTE': function BLOCKQUOTE(node, subContent) {\n                var res, trimmedText; //convert multiple brs to one emptyline\n\n                subContent = subContent.replace(FIND_MULTIPLE_EMPTYLINE_BETWEEN_TEXT_RX, '\\n\\n');\n                trimmedText = this.trim(subContent);\n                res = trimmedText.replace(START_OF_LINES_RX, '> ');\n                return '\\n\\n' + res + '\\n\\n';\n              },\n              //Code Block\n              'PRE CODE': function PRECODE(node, subContent) {\n                var res, lastNremoved;\n                lastNremoved = subContent.replace(FIND_LAST_RETURN_RX, '');\n                res = lastNremoved.replace(START_OF_LINES_RX, '    ');\n                return '\\n\\n' + res + '\\n\\n';\n              }\n            });\n            module.exports = basicRenderer;\n            /***/\n          },\n          /* 1 */\n\n          /***/\n          function (module, exports, __webpack_require__) {\n            \"use strict\";\n            /**\n             * @fileoverview Implements Renderer\n             * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>\n             */\n\n            var FIND_LEAD_SPACE_RX = /^\\u0020/,\n                FIND_TRAIL_SPACE_RX = /.+\\u0020$/,\n                FIND_SPACE_RETURN_TAB_RX = /[\\n\\s\\t]+/g,\n                //find first and last characters for trim\n            FIND_CHAR_TO_TRIM_RX = /^[\\u0020\\r\\n\\t]+|[\\u0020\\r\\n\\t]+$/g,\n                //find space more than one\n            FIND_SPACE_MORE_THAN_ONE_RX = /[\\u0020]+/g,\n                //find characters that need escape\n            FIND_CHAR_TO_ESCAPE_RX = /[>(){}\\[\\]+-.!#|]/g,\n                // find characters to be escaped in links or images\n            FIND_CHAR_TO_ESCAPE_IN_LINK_RX = /[\\[\\]]/g,\n                // find markdown image syntax\n            FIND_MARKDOWN_IMAGE_SYNTAX_RX = /!\\[.*\\]\\(.*\\)/g;\n            var TEXT_NODE = 3;\n            /**\n             * forEachOwnProperties\n             * Iterate properties of object\n             * from https://github.com/nhnent/fe.code-snippet/blob/master/src/collection.js\n             * @param {object} obj object to iterate\n             * @param {function} iteratee callback function\n             * @param {*} [context] context of callback\n             */\n\n            function forEachOwnProperties(obj, iteratee, context) {\n              var key;\n              context = context || null;\n\n              for (key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                  if (iteratee.call(context, obj[key], key, obj) === false) {\n                    break;\n                  }\n                }\n              }\n            }\n            /**\n             * Renderer\n             * @exports Renderer\n             * @constructor\n             * @param {object} [rules] rules to add\n             * @class\n             */\n\n\n            function Renderer(rules) {\n              this.rules = {};\n\n              if (rules) {\n                this.addRules(rules);\n              }\n            }\n            /**\n             * Line feed replacement text\n             * @type string\n             */\n\n\n            Renderer.prototype.lineFeedReplacement = \"\\u200B\\u200B\";\n            /**\n             * addRule\n             * Add rule\n             * @param {string} selectorString rule selector\n             * @param {function} converter converter function\n             */\n\n            Renderer.prototype.addRule = function (selectorString, converter) {\n              var selectors = selectorString.split(', '),\n                  selector = selectors.pop();\n              converter.fname = selectorString;\n\n              while (selector) {\n                this._setConverterWithSelector(selector, converter);\n\n                selector = selectors.pop();\n              }\n            };\n            /**\n             * addRules\n             * Add rules using object\n             * @param {object} rules key(rule selector), value(converter function)\n             */\n\n\n            Renderer.prototype.addRules = function (rules) {\n              forEachOwnProperties(rules, function (converter, selectorString) {\n                this.addRule(selectorString, converter);\n              }, this);\n            };\n            /**\n             * Whether if inline node or not\n             * @param {Node} node Element\n             * @returns {boolean}\n             */\n\n\n            function isInlineNode(node) {\n              var tag = node.tagName;\n              return tag === 'S' || tag === 'B' || tag === 'I' || tag === 'EM' || tag === 'STRONG' || tag === 'A' || tag === 'IMG' || tag === 'CODE';\n            }\n            /**\n             * Returns HTML string of an element using given subContent\n             * @param {Node} node Element\n             * @param {string} subContent string content of node\n             * @returns {string}\n             */\n\n\n            function getRawHtmlString(node, subContent) {\n              var tempNode = node.cloneNode(false);\n              tempNode.innerHTML = subContent;\n              return tempNode.outerHTML;\n            }\n            /**\n             * getSpaceControlled\n             * Remove flanked space of dom node\n             * @param {string} content text content\n             * @param {HTMLElement} node current node\n             * @returns {string} result\n             */\n\n\n            Renderer.prototype.getSpaceControlled = function (content, node) {\n              var lead = '',\n                  trail = '',\n                  text;\n\n              if (node.previousSibling && (node.previousSibling.nodeType === TEXT_NODE || isInlineNode(node.previousSibling))) {\n                text = node.previousSibling.innerHTML || node.previousSibling.nodeValue;\n\n                if (FIND_TRAIL_SPACE_RX.test(text) || FIND_LEAD_SPACE_RX.test(node.innerHTML || node.nodeValue)) {\n                  lead = ' ';\n                }\n              }\n\n              if (node.nextSibling && (node.nextSibling.nodeType === TEXT_NODE || isInlineNode(node.nextSibling))) {\n                text = node.nextSibling.innerHTML || node.nextSibling.nodeValue;\n\n                if (FIND_LEAD_SPACE_RX.test(text) || FIND_TRAIL_SPACE_RX.test(node.innerHTML || node.nodeValue)) {\n                  trail = ' ';\n                }\n              }\n\n              return lead + content + trail;\n            };\n            /**\n             * convert\n             * Convert dom node to markdown using dom node and subContent\n             * @param {HTMLElement} node node to convert\n             * @param {string} subContent child nodes converted text\n             * @returns {string} converted text\n             */\n\n\n            Renderer.prototype.convert = function (node, subContent) {\n              var result,\n                  converter = this._getConverter(node);\n\n              if (node && node.nodeType === Node.ELEMENT_NODE && node.hasAttribute('data-tomark-pass')) {\n                node.removeAttribute('data-tomark-pass');\n                result = getRawHtmlString(node, subContent);\n              } else if (converter) {\n                result = converter.call(this, node, subContent);\n              } else if (node) {\n                result = this.getSpaceControlled(this._getInlineHtml(node, subContent), node);\n              }\n\n              return result || '';\n            };\n\n            Renderer.prototype._getInlineHtml = function (node, subContent) {\n              var html = node.outerHTML,\n                  tagName = node.tagName,\n                  escapedSubContent = subContent.replace(/\\$/g, '$$$$'); // escape $: replace all $ char to $$ before we throw this string to replace\n\n              return html.replace(new RegExp('(<' + tagName + ' ?.*?>).*(</' + tagName + '>)', 'i'), '$1' + escapedSubContent + '$2');\n            };\n            /**\n             * _getConverter\n             * Get converter function for node\n             * @private\n             * @param {HTMLElement} node node\n             * @returns {function} converter function\n             */\n\n\n            Renderer.prototype._getConverter = function (node) {\n              var rulePointer = this.rules,\n                  converter;\n\n              while (node && rulePointer) {\n                rulePointer = this._getNextRule(rulePointer, this._getRuleNameFromNode(node));\n                node = this._getPrevNode(node);\n\n                if (rulePointer && rulePointer.converter) {\n                  converter = rulePointer.converter;\n                }\n              }\n\n              return converter;\n            };\n            /**\n             * _getNextRule\n             * Get next rule object\n             * @private\n             * @param {object} ruleObj rule object\n             * @param {string} ruleName rule tag name to find\n             * @returns {object} rule Object\n             */\n\n\n            Renderer.prototype._getNextRule = function (ruleObj, ruleName) {\n              return ruleObj[ruleName];\n            };\n            /**\n             * _getRuleNameFromNode\n             * Get proper rule tag name from node\n             * @private\n             * @param {HTMLElement} node node\n             * @returns {string} rule tag name\n             */\n\n\n            Renderer.prototype._getRuleNameFromNode = function (node) {\n              return node.tagName || 'TEXT_NODE';\n            };\n            /**\n             * _getPrevNode\n             * Get node's available parent node\n             * @private\n             * @param {HTMLElement} node node\n             * @returns {HTMLElement | undefined} result\n             */\n\n\n            Renderer.prototype._getPrevNode = function (node) {\n              var parentNode = node.parentNode;\n              var previousNode;\n\n              if (parentNode && !parentNode.__htmlRootByToMark) {\n                previousNode = parentNode;\n              }\n\n              return previousNode;\n            };\n            /**\n             * _setConverterWithSelector\n             * Set converter for selector\n             * @private\n             * @param {string} selectors rule selector\n             * @param {function} converter converter function\n             */\n\n\n            Renderer.prototype._setConverterWithSelector = function (selectors, converter) {\n              var rulePointer = this.rules;\n\n              this._eachSelector(selectors, function (ruleElem) {\n                if (!rulePointer[ruleElem]) {\n                  rulePointer[ruleElem] = {};\n                }\n\n                rulePointer = rulePointer[ruleElem];\n              });\n\n              rulePointer.converter = converter;\n            };\n            /**\n             * _eachSelector\n             * Iterate each selectors\n             * @private\n             * @param {string} selectors rule selectors\n             * @param {function} iteratee callback\n             */\n\n\n            Renderer.prototype._eachSelector = function (selectors, iteratee) {\n              var selectorArray, selectorIndex;\n              selectorArray = selectors.split(' ');\n              selectorIndex = selectorArray.length - 1;\n\n              while (selectorIndex >= 0) {\n                iteratee(selectorArray[selectorIndex]);\n                selectorIndex -= 1;\n              }\n            };\n            /**\n             * trim\n             * Trim text\n             * @param {string} text text be trimed\n             * @returns {string} trimed text\n             */\n\n\n            Renderer.prototype.trim = function (text) {\n              return text.replace(FIND_CHAR_TO_TRIM_RX, '');\n            };\n            /**\n             * isEmptyText\n             * Returns whether text empty or not\n             * @param {string} text text be checked\n             * @returns {boolean} result\n             */\n\n\n            Renderer.prototype.isEmptyText = function (text) {\n              return text.replace(FIND_SPACE_RETURN_TAB_RX, '') === '';\n            };\n            /**\n             * getSpaceCollapsedText\n             * Collape space more than 2\n             * @param {string} text text be collapsed\n             * @returns {string} result\n             */\n\n\n            Renderer.prototype.getSpaceCollapsedText = function (text) {\n              return text.replace(FIND_SPACE_MORE_THAN_ONE_RX, ' ');\n            };\n            /**\n             * Backslash escape to text\n             * Apply backslash escape to text\n             * @param {string} text text be processed\n             * @returns {string} processed text\n             */\n\n\n            Renderer.prototype.escapeText = function (text) {\n              return text.replace(FIND_CHAR_TO_ESCAPE_RX, function (matched) {\n                return '\\\\' + matched;\n              });\n            };\n            /**\n             * Escape given text for link\n             * @param {string} text - text be processed\n             * @returns {string} - processed text\n             */\n\n\n            Renderer.prototype.escapeTextForLink = function (text) {\n              var imageSyntaxRanges = [];\n              var result = FIND_MARKDOWN_IMAGE_SYNTAX_RX.exec(text);\n\n              while (result) {\n                imageSyntaxRanges.push([result.index, result.index + result[0].length]);\n                result = FIND_MARKDOWN_IMAGE_SYNTAX_RX.exec(text);\n              }\n\n              return text.replace(FIND_CHAR_TO_ESCAPE_IN_LINK_RX, function (matched, offset) {\n                var isDelimiter = imageSyntaxRanges.some(function (range) {\n                  return offset > range[0] && offset < range[1];\n                });\n                return isDelimiter ? matched : '\\\\' + matched;\n              });\n            };\n            /**\n             * Backslash escape to text for html\n             * Apply backslash escape to text\n             * @param {string} text text be processed\n             * @returns {string} processed text\n             */\n\n\n            Renderer.prototype.escapeTextHtml = function (text) {\n              return text.replace(new RegExp(Renderer.markdownTextToEscapeHtmlRx.source, 'g'), function (matched) {\n                return '\\\\' + matched;\n              });\n            };\n            /**\n             * Backslash is using for escape ASCII punctuation character.\n             * https://spec.commonmark.org/0.29/#backslash-escapes\n             * If user input backslash as text, backslash is kept by inserting backslash.\n             * For example, if input text is \"\\$\", this text is changed \"\\\\$\"\n             * @param {string} text text be processed\n             * @returns {string} processed text\n             */\n\n\n            Renderer.prototype.escapeTextBackSlash = function (text) {\n              return text.replace(new RegExp(Renderer.markdownTextToEscapeBackSlashRx.source, 'g'), function (matched) {\n                return '\\\\' + matched;\n              });\n            };\n            /**\n             * Escapes in markdown paired characters\n             * @param {string} text Text to escape\n             * @returns {string} escaped text\n             */\n\n\n            Renderer.prototype.escapePairedCharacters = function (text) {\n              return text.replace(new RegExp(Renderer.markdownTextToEscapePairedCharsRx.source, 'g'), function (matched) {\n                return '\\\\' + matched;\n              });\n            };\n\n            Renderer.markdownTextToEscapeRx = {\n              codeblock: /(^ {4}[^\\n]+\\n*)+/,\n              hr: /^ *((\\* *){3,}|(- *){3,} *|(_ *){3,}) */,\n              heading: /^(#{1,6}) +[\\s\\S]+/,\n              lheading: /^([^\\n]+)\\n *(=|-){2,} */,\n              blockquote: /^( *>[^\\n]+.*)+/,\n              list: /^ *(\\*+|-+|\\d+\\.) [\\s\\S]+/,\n              def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +[\"(]([^\\n]+)[\")])? */,\n              link: /!?\\[.*\\]\\(.*\\)/,\n              reflink: /!?\\[.*\\]\\s*\\[([^\\]]*)\\]/,\n              verticalBar: /\\u007C/,\n              codeblockGfm: /^(`{3,})/,\n              codeblockTildes: /^(~{3,})/\n            };\n            Renderer.markdownTextToEscapeHtmlRx = /<([a-zA-Z_][a-zA-Z0-9\\-\\._]*)(\\s|[^\\\\/>])*\\/?>|<(\\/)([a-zA-Z_][a-zA-Z0-9\\-\\._]*)\\s*\\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\\-\\.:/]*)>/;\n            Renderer.markdownTextToEscapeBackSlashRx = /\\\\[!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~\\\\]/;\n            Renderer.markdownTextToEscapePairedCharsRx = /[*_~`]/;\n\n            Renderer.prototype._isNeedEscape = function (text) {\n              var res = false;\n              var markdownTextToEscapeRx = Renderer.markdownTextToEscapeRx;\n              var type;\n\n              for (type in markdownTextToEscapeRx) {\n                if (markdownTextToEscapeRx.hasOwnProperty(type) && markdownTextToEscapeRx[type].test(text)) {\n                  res = true;\n                  break;\n                }\n              }\n\n              return res;\n            };\n\n            Renderer.prototype._isNeedEscapeHtml = function (text) {\n              return Renderer.markdownTextToEscapeHtmlRx.test(text);\n            };\n\n            Renderer.prototype._isNeedEscapeBackSlash = function (text) {\n              return Renderer.markdownTextToEscapeBackSlashRx.test(text);\n            };\n            /**\n             * Clone rules\n             * @param {object} destination object for apply rules\n             * @param {object} source source object for clone rules\n             */\n\n\n            function cloneRules(destination, source) {\n              forEachOwnProperties(source, function (value, key) {\n                if (key !== 'converter') {\n                  if (!destination[key]) {\n                    destination[key] = {};\n                  }\n\n                  cloneRules(destination[key], value);\n                } else {\n                  destination[key] = value;\n                }\n              });\n            }\n\n            Renderer.prototype.mix = function (renderer) {\n              cloneRules(this.rules, renderer.rules);\n            };\n            /**\n             * Renderer factory\n             * Return new renderer\n             * @param {Renderer} srcRenderer renderer to extend\n             * @param {object} rules rule object, key(rule selector), value(converter function)\n             * @returns {Renderer} renderer\n             */\n\n\n            Renderer.factory = function (srcRenderer, rules) {\n              var renderer = new Renderer();\n\n              if (!rules) {\n                rules = srcRenderer;\n              } else {\n                renderer.mix(srcRenderer);\n              }\n\n              renderer.addRules(rules);\n              return renderer;\n            };\n\n            module.exports = Renderer;\n            /***/\n          },\n          /* 2 */\n\n          /***/\n          function (module, exports, __webpack_require__) {\n            \"use strict\";\n            /**\n             * @fileoverview Implements Github flavored markdown renderer\n             * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>\n             */\n\n            var Renderer = __webpack_require__(1),\n                basicRenderer = __webpack_require__(0);\n            /**\n             * gfmRenderer\n             * github flavored Markdown Renderer\n             *\n             * we didnt render gfm br here because we need distingush returns that made by block with br\n             * so we render gfm br later in toMark.js finalize function\n             * @exports gfmRenderer\n             * @augments Renderer\n             */\n\n\n            var gfmRenderer = Renderer.factory(basicRenderer, {\n              'DEL, S': function DELS(node, subContent) {\n                return '~~' + subContent + '~~';\n              },\n              'PRE CODE': function PRECODE(node, subContent) {\n                var backticks;\n                var language = '';\n                var numberOfBackticks = node.getAttribute('data-backticks');\n\n                if (node.getAttribute('data-language')) {\n                  language = ' ' + node.getAttribute('data-language');\n                }\n\n                numberOfBackticks = parseInt(numberOfBackticks, 10);\n                backticks = isNaN(numberOfBackticks) ? '```' : Array(numberOfBackticks + 1).join('`');\n                subContent = subContent.replace(/(\\r\\n)|(\\r)|(\\n)/g, this.lineFeedReplacement);\n                return '\\n\\n' + backticks + language + '\\n' + subContent + '\\n' + backticks + '\\n\\n';\n              },\n              'PRE': function PRE(node, subContent) {\n                return subContent;\n              },\n              'UL LI': function ULLI(node, subContent) {\n                return basicRenderer.convert(node, makeTaskIfNeed(node, subContent));\n              },\n              'OL LI': function OLLI(node, subContent) {\n                return basicRenderer.convert(node, makeTaskIfNeed(node, subContent));\n              },\n              //Table\n              'TABLE': function TABLE(node, subContent) {\n                return '\\n\\n' + subContent + '\\n\\n';\n              },\n              'TBODY, TFOOT': function TBODYTFOOT(node, subContent) {\n                return subContent;\n              },\n              'TR TD, TR TH': function TRTDTRTH(node, subContent) {\n                subContent = subContent.replace(/(\\r\\n)|(\\r)|(\\n)/g, '');\n                return ' ' + subContent + ' |';\n              },\n              'TD BR, TH BR': function TDBRTHBR() {\n                return '<br>';\n              },\n              'TR': function TR(node, subContent) {\n                return '|' + subContent + '\\n';\n              },\n              'THEAD': function THEAD(node, subContent) {\n                var i,\n                    ths,\n                    thsLength,\n                    result = '';\n                ths = findChildTag(findChildTag(node, 'TR')[0], 'TH');\n                thsLength = ths.length;\n\n                for (i = 0; i < thsLength; i += 1) {\n                  result += ' ' + makeTableHeadAlignText(ths[i]) + ' |';\n                }\n\n                return subContent ? subContent + '|' + result + '\\n' : '';\n              }\n            });\n            /**\n             * Make task Markdown string if need\n             * @param {HTMLElement} node Passed HTML Element\n             * @param {string} subContent node's content\n             * @returns {string}\n             */\n\n            function makeTaskIfNeed(node, subContent) {\n              var condition;\n\n              if (node.className.indexOf('task-list-item') !== -1) {\n                condition = node.className.indexOf('checked') !== -1 ? 'x' : ' ';\n                subContent = '[' + condition + '] ' + subContent;\n              }\n\n              return subContent;\n            }\n            /**\n             * Make table head align text\n             * @param {HTMLElement} th Table head cell element\n             * @returns {string}\n             */\n\n\n            function makeTableHeadAlignText(th) {\n              var align, leftAlignValue, rightAlignValue, textLength;\n              align = th.align;\n              textLength = th.textContent ? th.textContent.length : th.innerText.length;\n              leftAlignValue = '';\n              rightAlignValue = '';\n\n              if (align) {\n                if (align === 'left') {\n                  leftAlignValue = ':';\n                  textLength -= 1;\n                } else if (align === 'right') {\n                  rightAlignValue = ':';\n                  textLength -= 1;\n                } else if (align === 'center') {\n                  rightAlignValue = ':';\n                  leftAlignValue = ':';\n                  textLength -= 2;\n                }\n              }\n\n              return leftAlignValue + repeatString('-', textLength) + rightAlignValue;\n            }\n            /**\n             * Find child element of given tag name\n             * @param {HTMLElement} node starting element\n             * @param {string} tagName Tag name for search\n             * @returns {Array.<HTMLElement>}\n             */\n\n\n            function findChildTag(node, tagName) {\n              var i,\n                  childNodes = node.childNodes,\n                  childLength = childNodes.length,\n                  result = [];\n\n              for (i = 0; i < childLength; i += 1) {\n                if (childNodes[i].tagName && childNodes[i].tagName === tagName) {\n                  result.push(childNodes[i]);\n                }\n              }\n\n              return result;\n            }\n            /**\n             * Repeat given string\n             * @param {string} pattern String for repeat\n             * @param {number} count Amount of repeat\n             * @returns {string}\n             */\n\n\n            function repeatString(pattern, count) {\n              var result = pattern;\n              count = Math.max(count, 3);\n\n              while (count > 1) {\n                result += pattern;\n                count -= 1;\n              }\n\n              return result;\n            }\n\n            module.exports = gfmRenderer;\n            /***/\n          },\n          /* 3 */\n\n          /***/\n          function (module, exports, __webpack_require__) {\n            \"use strict\";\n            /**\n             * @fileoverview Implements entry point\n             * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>\n             */\n\n            var toMark = __webpack_require__(4);\n\n            var Renderer = __webpack_require__(1);\n\n            var basicRenderer = __webpack_require__(0);\n\n            var gfmRenderer = __webpack_require__(2);\n\n            toMark.Renderer = Renderer;\n            toMark.basicRenderer = basicRenderer;\n            toMark.gfmRenderer = gfmRenderer;\n            module.exports = toMark;\n            /***/\n          },\n          /* 4 */\n\n          /***/\n          function (module, exports, __webpack_require__) {\n            \"use strict\";\n            /**\n             * @fileoverview Implements toMark\n             * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>\n             */\n\n            var DomRunner = __webpack_require__(5),\n                toDom = __webpack_require__(6),\n                basicRenderer = __webpack_require__(0),\n                gfmRenderer = __webpack_require__(2);\n\n            var FIND_UNUSED_BRS_RX = /[ \\xA0]+(\\n\\n)/g,\n                FIND_FIRST_LAST_WITH_SPACE_RETURNS_RX = /^[\\n]+|[\\s\\n]+$/g,\n                FIND_MULTIPLE_BRS_RX = /([ \\xA0]+\\n){2,}/g,\n                FIND_RETURNS_RX = /([ \\xA0]){2,}\\n/g,\n                FIND_RETURNS_AND_SPACE_RX = /[ \\xA0\\n]+/g;\n            /**\n             * toMark\n             * @exports toMark\n             * @param {string} htmlStr html string to convert\n             * @param {object} options option\n             * @param {boolean} options.gfm if this property is false turn off it cant parse gfm\n             * @param {Renderer} options.renderer pass renderer to use\n             * @returns {string} converted markdown text\n             * @example\n             * toMark('<h1>hello world</h1>'); // \"# hello world\"\n             * toMark('<del>strike</del>'); // \"~~strike~~\"\n             * toMark('<del>strike</del>', {gfm: false}); // \"strike\"\n             */\n\n            function toMark(htmlStr, options) {\n              var runner,\n                  isGfm = true,\n                  renderer;\n\n              if (!htmlStr) {\n                return '';\n              }\n\n              renderer = gfmRenderer;\n\n              if (options) {\n                isGfm = options.gfm;\n\n                if (isGfm === false) {\n                  renderer = basicRenderer;\n                }\n\n                renderer = options.renderer || renderer;\n              }\n\n              runner = new DomRunner(toDom(htmlStr));\n              return finalize(parse(runner, renderer), isGfm, renderer.lineFeedReplacement);\n            }\n            /**\n             * parse\n             * Parse dom to markdown\n             * @param {DomRunner} runner runner\n             * @param {Renderer} renderer renderer\n             * @returns {string} markdown text\n             */\n\n\n            function parse(runner, renderer) {\n              var markdownContent = '';\n\n              while (runner.next()) {\n                markdownContent += tracker(runner, renderer);\n              }\n\n              return markdownContent;\n            }\n            /**\n             * finalize\n             * Remove first and last return character\n             * @param {string} text text to finalize\n             * @param {boolean} isGfm isGfm flag\n             * @param {string} lineFeedReplacement Line feed replacement text\n             * @returns {string} result\n             */\n\n\n            function finalize(text, isGfm, lineFeedReplacement) {\n              //collapse return and <br>\n              //BR뒤에 바로 \\n이 이어지면 BR은 불필요하다\n              text = text.replace(FIND_UNUSED_BRS_RX, '\\n'); //console.log(2, JSON.stringify(text));\n              //collapse multiple br\n              //두개 이상의 BR개행은 한개로\n\n              text = text.replace(FIND_MULTIPLE_BRS_RX, '\\n\\n'); //console.log(3, JSON.stringify(text));\n\n              text = text.replace(FIND_RETURNS_AND_SPACE_RX, function (matched) {\n                var returnCount = (matched.match(/\\n/g) || []).length;\n\n                if (returnCount >= 3) {\n                  return '\\n\\n';\n                } else if (matched >= 1) {\n                  return '\\n';\n                }\n\n                return matched;\n              }); //console.log(3, JSON.stringify(text));\n              //remove first and last \\n\n              //시작과 마지막 개행제거\n\n              text = text.replace(FIND_FIRST_LAST_WITH_SPACE_RETURNS_RX, ''); //console.log(JSON.stringify(text));\n\n              text = text.replace(new RegExp(lineFeedReplacement, 'g'), '\\n'); //in gfm replace '  \\n' make by <br> to '\\n'\n              //gfm모드인경우 임의 개행에 스페이스를 제거\n\n              if (isGfm) {\n                text = text.replace(FIND_RETURNS_RX, '\\n');\n              } //console.log(7, JSON.stringify(text));\n\n\n              return text;\n            }\n            /**\n             * tracker\n             * Iterate childNodes and process conversion using recursive call\n             * @param {DomRunner} runner dom runner\n             * @param {Renderer} renderer renderer to use\n             * @returns {string} processed text\n             */\n\n\n            function tracker(runner, renderer) {\n              var i,\n                  t,\n                  subContent = '',\n                  content;\n              var node = runner.getNode();\n\n              for (i = 0, t = node.childNodes.length; i < t; i += 1) {\n                runner.next();\n                subContent += tracker(runner, renderer);\n              }\n\n              content = renderer.convert(node, subContent);\n              return content;\n            }\n\n            module.exports = toMark;\n            /***/\n          },\n          /* 5 */\n\n          /***/\n          function (module, exports, __webpack_require__) {\n            \"use strict\";\n            /**\n             * @fileoverview Implements DomRunner\n             * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>\n             */\n\n            /**\n             * Node Type Value\n             */\n\n            var NODE = {\n              ELEMENT_NODE: 1,\n              ATTRIBUTE_NODE: 2,\n              TEXT_NODE: 3\n            };\n            /**\n             * DomRunner\n             * @exports DomRunner\n             * @constructor\n             * @class\n             * @param {HTMLElement} node A root node that it has nodes to iterate(not iterate itself and its any siblings)\n             */\n\n            function DomRunner(node) {\n              this._normalizeTextChildren(node);\n\n              this._root = node;\n              this._current = node;\n            }\n            /**\n             * next\n             * Iterate next node\n             * @returns {HTMLElement} next node\n             */\n\n\n            DomRunner.prototype.next = function () {\n              var current = this._current,\n                  node;\n\n              if (this._current) {\n                node = this._getNextNode(current);\n\n                while (this._isNeedNextSearch(node, current)) {\n                  current = current.parentNode;\n                  node = current.nextSibling;\n                }\n\n                this._current = node;\n              }\n\n              return this._current;\n            };\n            /**\n             * getNode\n             * Return current node\n             * @returns {HTMLElement} current node\n             */\n\n\n            DomRunner.prototype.getNode = function () {\n              this._normalizeTextChildren(this._current);\n\n              return this._current;\n            };\n\n            DomRunner.prototype._normalizeTextChildren = function (node) {\n              var childNode, nextNode;\n\n              if (!node || node.childNodes.length < 2) {\n                return;\n              }\n\n              childNode = node.firstChild;\n\n              while (childNode.nextSibling) {\n                nextNode = childNode.nextSibling;\n\n                if (childNode.nodeType === NODE.TEXT_NODE && nextNode.nodeType === NODE.TEXT_NODE) {\n                  childNode.nodeValue += nextNode.nodeValue;\n                  node.removeChild(nextNode);\n                } else {\n                  childNode = nextNode;\n                }\n              }\n            };\n            /**\n             * getNodeText\n             * Get current node's text content\n             * @returns {string} text\n             */\n\n\n            DomRunner.prototype.getNodeText = function () {\n              var node = this.getNode(),\n                  text;\n\n              if (node.nodeType === NODE.TEXT_NODE) {\n                text = node.nodeValue;\n              } else {\n                text = node.textContent || node.innerText;\n              }\n\n              return text;\n            };\n            /**\n             * _isNeedNextSearch\n             * Check if there is next node to iterate\n             * @private\n             * @param {HTMLElement} node next node\n             * @param {HTMLElement} current next node\n             * @returns {boolean} result\n             */\n\n\n            DomRunner.prototype._isNeedNextSearch = function (node, current) {\n              return !node && current !== this._root && current.parentNode !== this._root;\n            };\n            /**\n             * _getNextNode\n             * Return available next node\n             * @private\n             * @param {HTMLElement} current current node\n             * @returns {node} next node\n             */\n\n\n            DomRunner.prototype._getNextNode = function (current) {\n              return current.firstChild || current.nextSibling;\n            };\n\n            DomRunner.NODE_TYPE = NODE;\n            module.exports = DomRunner;\n            /***/\n          },\n          /* 6 */\n\n          /***/\n          function (module, exports, __webpack_require__) {\n            \"use strict\";\n            /**\n             * @fileoverview Implements toDom\n             * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>\n             */\n\n            var FIND_FIRST_LAST_SPACE_OR_RETURN_OR_TAB_RX = /^[\\s\\r\\n\\t]+|[\\s\\r\\n\\t]+$/g,\n                FIND_RETURN_OR_TAB_BETWEEN_TAGS_RX = />[\\r\\n\\t]+</g,\n                FIND_WHOLE_SPACE_MORE_THAN_ONE_BETWEEN_TAGS_RX = />[ ]+</g;\n            /**\n             * toDom\n             * @exports toDom\n             * @param {HTMLElement|string} html DOM Node root or HTML string\n             * @returns {HTMLElement[]} dom element\n             */\n\n            function toDom(html) {\n              var wrapper;\n\n              if (Object.prototype.toString.call(html) === '[object String]') {\n                wrapper = document.createElement('div');\n                wrapper.innerHTML = preProcess(html);\n              } else {\n                wrapper = html;\n              }\n\n              wrapper.__htmlRootByToMark = true;\n              return wrapper;\n            }\n            /**\n             * Pre process for html string\n             * @param {string} html Source HTML string\n             * @returns {string}\n             */\n\n\n            function preProcess(html) {\n              //trim text\n              html = html.replace(FIND_FIRST_LAST_SPACE_OR_RETURN_OR_TAB_RX, ''); //trim between tags\n\n              html = html.replace(FIND_RETURN_OR_TAB_BETWEEN_TAGS_RX, '><'); //remove spaces more than 1(if need more space, must use &nbsp)\n\n              html = html.replace(FIND_WHOLE_SPACE_MORE_THAN_ONE_BETWEEN_TAGS_RX, '> <');\n              return html;\n            }\n\n            toDom.preProcess = preProcess;\n            module.exports = toDom;\n            /***/\n          }\n          /******/\n          ])\n        );\n      });\n      /***/\n\n    },\n    /* 32 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Get HTML element's design classes.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isUndefined = __webpack_require__(7);\n      /**\n       * Get HTML element's design classes.\n       * @param {(HTMLElement|SVGElement)} element target element\n       * @returns {string} element css class name\n       * @memberof module:domUtil\n       */\n\n\n      function getClass(element) {\n        if (!element || !element.className) {\n          return '';\n        }\n\n        if (isUndefined(element.className.baseVal)) {\n          return element.className;\n        }\n\n        return element.className.baseVal;\n      }\n\n      module.exports = getClass;\n      /***/\n    },\n    /* 33 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is a number or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Check whether the given variable is a number or not.\n       * If the given variable is a number, return true.\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is number?\n       * @memberof module:type\n       */\n\n      function isNumber(obj) {\n        return typeof obj === 'number' || obj instanceof Number;\n      }\n\n      module.exports = isNumber;\n      /***/\n    },\n    /* 34 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony import */\n\n      var tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18);\n      /* harmony import */\n\n\n      var tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19);\n      /* harmony import */\n\n\n      var tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_1__);\n      /* harmony import */\n\n\n      var _preview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(38);\n      /* harmony import */\n\n\n      var _markdownRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(28);\n      /* harmony import */\n\n\n      var _utils_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(0);\n      /* harmony import */\n\n\n      var _scroll_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(17);\n      /* harmony import */\n\n\n      var _scroll_cache_offsetInfo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(23);\n\n      function _assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements markdown preview\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var htmlRenderer = new _markdownRenderer__WEBPACK_IMPORTED_MODULE_3__[\n      /* default */\n      \"a\"]({\n        nodeId: true\n      });\n      /**\n       * Class Markdown Preview\n       * @param {HTMLElement} el - base element\n       * @param {EventManager} eventManager - event manager\n       * @param {Convertor} convertor - convertor\n       * @param {boolean} isViewer - true for view only mode\n       * @ignore\n       */\n\n      var MarkdownPreview = /*#__PURE__*/function (_Preview) {\n        _inheritsLoose(MarkdownPreview, _Preview);\n\n        function MarkdownPreview(el, eventManager, convertor, isViewer) {\n          var _this;\n\n          _this = _Preview.call(this, el, eventManager, convertor, isViewer) || this;\n\n          _this._initEvent();\n\n          _this.lazyRunner.registerLazyRunFunction('invokeCodeBlock', _this.invokeCodeBlockPlugins, _this.delayCodeBlockTime, _assertThisInitialized(_this));\n\n          return _this;\n        }\n        /**\n         * Initialize event\n         * @private\n         */\n\n\n        var _proto = MarkdownPreview.prototype;\n\n        _proto._initEvent = function _initEvent() {\n          var _this2 = this;\n\n          this.eventManager.listen('contentChangedFromMarkdown', this.update.bind(this)); // need to implement a listener function for 'previewNeedsRefresh' event\n          // to support third-party plugins which requires re-executing script for every re-render\n\n          tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_0___default()(this.el, 'scroll', function (event) {\n            _this2.eventManager.emit('scroll', {\n              source: 'preview',\n              data: Object(_scroll_helper__WEBPACK_IMPORTED_MODULE_5__[\n              /* findAdjacentElementToScrollTop */\n              \"a\"])(event.target.scrollTop, _this2._previewContent)\n            });\n          });\n        };\n\n        _proto.update = function update(changed) {\n          var nodes = changed.nodes,\n              removedNodeRange = changed.removedNodeRange;\n          var contentEl = this._previewContent;\n          var newHtml = this.eventManager.emitReduce('convertorAfterMarkdownToHtmlConverted', nodes.map(function (node) {\n            return htmlRenderer.render(node);\n          }).join(''));\n\n          if (!removedNodeRange) {\n            contentEl.insertAdjacentHTML('afterbegin', newHtml);\n          } else {\n            var startNodeId = removedNodeRange[0],\n                endNodeId = removedNodeRange[1];\n            var startEl = contentEl.querySelector(\"[data-nodeid=\\\"\" + startNodeId + \"\\\"]\");\n            var endEl = contentEl.querySelector(\"[data-nodeid=\\\"\" + endNodeId + \"\\\"]\");\n\n            if (startEl) {\n              startEl.insertAdjacentHTML('beforebegin', newHtml);\n              var el = startEl;\n\n              while (el !== endEl) {\n                var nextEl = el.nextElementSibling;\n                el.parentNode.removeChild(el);\n                Object(_scroll_cache_offsetInfo__WEBPACK_IMPORTED_MODULE_6__[\n                /* removeOffsetInfoByNode */\n                \"c\"])(el);\n                el = nextEl;\n              }\n\n              if (el.parentNode) {\n                _utils_dom__WEBPACK_IMPORTED_MODULE_4__[\n                /* default */\n                \"a\"].remove(el);\n\n                Object(_scroll_cache_offsetInfo__WEBPACK_IMPORTED_MODULE_6__[\n                /* removeOffsetInfoByNode */\n                \"c\"])(el);\n              }\n            }\n          }\n\n          this.eventManager.emit('previewRenderAfter', this);\n          var codeBlockEls = this.getCodeBlockElements(nodes.map(function (node) {\n            return node.id;\n          }));\n\n          if (codeBlockEls.length) {\n            this.lazyRunner.run('invokeCodeBlock', codeBlockEls);\n          }\n        }\n        /**\n         * render\n         * @param {string} html - html string to render\n         * @override\n         */\n        ;\n\n        _proto.render = function render(html) {\n          _Preview.prototype.render.call(this, html);\n\n          this.eventManager.emit('previewRenderAfter', this);\n        };\n\n        _proto.remove = function remove() {\n          tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_1___default()(this.el, 'scroll');\n          this.el = null;\n        };\n\n        return MarkdownPreview;\n      }(_preview__WEBPACK_IMPORTED_MODULE_2__[\n      /* default */\n      \"a\"]);\n      /* harmony default export */\n\n\n      __webpack_exports__[\"a\"] = MarkdownPreview;\n      /***/\n    },\n    /* 35 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony import */\n\n      var tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);\n      /* harmony import */\n\n\n      var tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1__);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isFalsy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(43);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isFalsy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_type_isFalsy__WEBPACK_IMPORTED_MODULE_2__);\n      /* harmony import */\n\n\n      var tui_code_snippet_enum_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(44);\n      /* harmony import */\n\n\n      var tui_code_snippet_enum_enum__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_enum_enum__WEBPACK_IMPORTED_MODULE_3__);\n      /* harmony import */\n\n\n      var _utils_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22);\n      /**\n       * @fileoverview Implements EventManager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var eventList = ['previewBeforeHook', 'previewRenderAfter', 'previewNeedsRefresh', 'addImageBlobHook', 'setMarkdownAfter', 'contentChangedFromWysiwyg', 'changeFromWysiwyg', 'contentChangedFromMarkdown', 'changeFromMarkdown', 'change', 'changeModeToWysiwyg', 'changeModeToMarkdown', 'changeModeBefore', 'changeMode', 'changePreviewStyle', 'changePreviewTabPreview', 'changePreviewTabWrite', 'openPopupAddLink', 'openPopupAddImage', 'openPopupAddTable', 'openPopupTableUtils', 'openHeadingSelect', 'openPopupCodeBlockLanguages', 'openPopupCodeBlockEditor', 'openDropdownToolbar', 'closePopupCodeBlockLanguages', 'closePopupCodeBlockEditor', 'closeAllPopup', 'command', 'addCommandBefore', 'htmlUpdate', 'markdownUpdate', 'renderedHtmlUpdated', 'removeEditor', 'convertorAfterMarkdownToHtmlConverted', 'convertorBeforeHtmlToMarkdownConverted', 'convertorAfterHtmlToMarkdownConverted', 'stateChange', 'wysiwygSetValueAfter', 'wysiwygSetValueBefore', 'wysiwygGetValueBefore', 'wysiwygProcessHTMLText', 'wysiwygRangeChangeAfter', 'wysiwygKeyEvent', 'scroll', 'click', 'mousedown', 'mouseover', 'mouseout', 'mouseup', 'contextmenu', 'keydown', 'keyup', 'keyMap', 'load', 'focus', 'blur', 'paste', 'pasteBefore', 'willPaste', 'copy', 'copyBefore', 'copyAfter', 'cut', 'cutAfter', 'drop', 'show', 'hide', 'changeLanguage', 'requireScrollSync', 'requireScrollIntoView', 'setCodeBlockLanguages'];\n      /**\n       * Class EventManager\n       * @ignore\n       */\n\n      var EventManager = /*#__PURE__*/function () {\n        function EventManager() {\n          this.events = new _utils_map__WEBPACK_IMPORTED_MODULE_4__[\n          /* default */\n          \"a\"]();\n          this.TYPE = new tui_code_snippet_enum_enum__WEBPACK_IMPORTED_MODULE_3___default.a(eventList);\n        }\n        /**\n         * Listen event and bind event handler\n         * @param {string} typeStr Event type string\n         * @param {function} handler Event handler\n         */\n\n\n        var _proto = EventManager.prototype;\n\n        _proto.listen = function listen(typeStr, handler) {\n          var typeInfo = this._getTypeInfo(typeStr);\n\n          var eventHandlers = this.events.get(typeInfo.type) || [];\n\n          if (!this._hasEventType(typeInfo.type)) {\n            throw new Error(\"There is no event type \" + typeInfo.type);\n          }\n\n          if (typeInfo.namespace) {\n            handler.namespace = typeInfo.namespace;\n          }\n\n          eventHandlers.push(handler);\n          this.events.set(typeInfo.type, eventHandlers);\n        }\n        /**\n         * Emit event\n         * @param {string} eventName Event name to emit\n         * @returns {Array}\n         */\n        ;\n\n        _proto.emit = function emit() {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var typeStr = args.shift();\n\n          var typeInfo = this._getTypeInfo(typeStr);\n\n          var eventHandlers = this.events.get(typeInfo.type);\n          var results;\n\n          if (eventHandlers) {\n            tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0___default()(eventHandlers, function (handler) {\n              var result = handler.apply(void 0, args);\n\n              if (!tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default()(result)) {\n                results = results || [];\n                results.push(result);\n              }\n            });\n          }\n\n          return results;\n        }\n        /**\n         * Emit given event and return result\n         * @param {string} eventName Event name to emit\n         * @param {string} sourceText Source text to change\n         * @returns {string}\n         */\n        ;\n\n        _proto.emitReduce = function emitReduce() {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          var type = args.shift();\n          var eventHandlers = this.events.get(type);\n\n          if (eventHandlers) {\n            tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0___default()(eventHandlers, function (handler) {\n              var result = handler.apply(void 0, args);\n\n              if (!tui_code_snippet_type_isFalsy__WEBPACK_IMPORTED_MODULE_2___default()(result)) {\n                args[0] = result;\n              }\n            });\n          }\n\n          return args[0];\n        }\n        /**\n         * Get event type and namespace\n         * @param {string} typeStr Event type name\n         * @returns {{type: string, namespace: string}}\n         * @private\n         */\n        ;\n\n        _proto._getTypeInfo = function _getTypeInfo(typeStr) {\n          var splited = typeStr.split('.');\n          return {\n            type: splited[0],\n            namespace: splited[1]\n          };\n        }\n        /**\n         * Check whether event type exists or not\n         * @param {string} type Event type name\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._hasEventType = function _hasEventType(type) {\n          return !tui_code_snippet_type_isUndefined__WEBPACK_IMPORTED_MODULE_1___default()(this.TYPE[this._getTypeInfo(type).type]);\n        }\n        /**\n         * Add event type when given event not exists\n         * @param {string} type Event type name\n         */\n        ;\n\n        _proto.addEventType = function addEventType(type) {\n          if (this._hasEventType(type)) {\n            throw new Error(\"There is already have event type \" + type);\n          }\n\n          this.TYPE.set(type);\n        }\n        /**\n         * Remove event handler from given event type\n         * @param {string} typeStr Event type name\n         * @param {function} [handler] - registered event handler\n         */\n        ;\n\n        _proto.removeEventHandler = function removeEventHandler(typeStr, handler) {\n          var _this = this;\n\n          var _this$_getTypeInfo = this._getTypeInfo(typeStr),\n              type = _this$_getTypeInfo.type,\n              namespace = _this$_getTypeInfo.namespace;\n\n          if (type && handler) {\n            this._removeEventHandlerWithHandler(type, handler);\n          } else if (type && !namespace) {\n            // dont use dot notation cuz eslint\n            this.events.delete(type);\n          } else if (!type && namespace) {\n            this.events.forEach(function (eventHandlers, eventType) {\n              _this._removeEventHandlerWithTypeInfo(eventType, namespace);\n            });\n          } else if (type && namespace) {\n            this._removeEventHandlerWithTypeInfo(type, namespace);\n          }\n        }\n        /**\n         * Remove event handler with event handler\n         * @param {string} type - event type name\n         * @param {function} handler - event handler\n         * @private\n         */\n        ;\n\n        _proto._removeEventHandlerWithHandler = function _removeEventHandlerWithHandler(type, handler) {\n          var eventHandlers = this.events.get(type) || [];\n          var handlerIndex = eventHandlers.indexOf(handler);\n\n          if (handlerIndex >= 0) {\n            eventHandlers.splice(handlerIndex, 1);\n          }\n        }\n        /**\n         * Remove event handler with event type information\n         * @param {string} type Event type name\n         * @param {string} namespace Event namespace\n         * @private\n         */\n        ;\n\n        _proto._removeEventHandlerWithTypeInfo = function _removeEventHandlerWithTypeInfo(type, namespace) {\n          var handlersToSurvive = [];\n          var eventHandlers = this.events.get(type);\n\n          if (!eventHandlers) {\n            return;\n          }\n\n          eventHandlers.map(function (handler) {\n            if (handler.namespace !== namespace) {\n              handlersToSurvive.push(handler);\n            }\n\n            return null;\n          });\n          this.events.set(type, handlersToSurvive);\n        };\n\n        return EventManager;\n      }();\n      /* harmony default export */\n\n\n      __webpack_exports__[\"a\"] = EventManager;\n      /***/\n    },\n    /* 36 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony import */\n\n      var _toast_ui_to_mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(31);\n      /* harmony import */\n\n\n      var _toast_ui_to_mark__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_toast_ui_to_mark__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var _toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27);\n      /* harmony import */\n\n\n      var _toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_1__);\n      /* harmony import */\n\n\n      var _markdownRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(28);\n      /* harmony import */\n\n\n      var _htmlSanitizer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(29);\n      /* harmony import */\n\n\n      var _utils_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(0);\n      /**\n       * @fileoverview Convertor have responsible to convert markdown and html\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n      // This regular expression refere markdownIt.\n      // https://github.com/markdown-it/markdown-it/blob/master/lib/common/html_re.js\n\n\n      var attrName = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n      var unquoted = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\n      var singleQuoted = \"'[^']*'\";\n      var doubleQuoted = '\"[^\"]*\"';\n      var attrValue = \"(?:\" + unquoted + \"|\" + singleQuoted + \"|\" + doubleQuoted + \")\";\n      var attribute = \"(?:\\\\s+\" + attrName + \"(?:\\\\s*=\\\\s*\" + attrValue + \")?)*\\\\s*\";\n      var openingTag = \"(\\\\\\\\<|<)([A-Za-z][A-Za-z0-9\\\\-]*\" + attribute + \")(\\\\/?>)\";\n      var HTML_TAG_RX = new RegExp(openingTag, 'g');\n      /**\n       * Class Convertor\n       * @param {EventManager} em - EventManager instance\n       * @ignore\n       */\n\n      var Convertor = /*#__PURE__*/function () {\n        function Convertor(em, options) {\n          if (options === void 0) {\n            options = {};\n          }\n\n          var _options = options,\n              linkAttribute = _options.linkAttribute;\n          var linkAttrs = [];\n\n          if (linkAttribute) {\n            Object.keys(linkAttribute).forEach(function (linkAttrName) {\n              linkAttrs.push([linkAttrName, linkAttribute[linkAttrName]]);\n            });\n          }\n\n          this.mdReader = new _toast_ui_toastmark__WEBPACK_IMPORTED_MODULE_1__[\"Parser\"]({\n            disallowedHtmlBlockTags: ['br']\n          });\n          this.htmlWriter = new _markdownRenderer__WEBPACK_IMPORTED_MODULE_2__[\n          /* default */\n          \"a\"]({\n            linkAttrs: linkAttrs\n          });\n          this.eventManager = em;\n        }\n        /**\n         * _markdownToHtmlWithCodeHighlight\n         * Convert markdown to html with Codehighlight\n         * @param {string} markdown markdown text\n         * @returns {string} html text\n         * @private\n         */\n\n\n        var _proto = Convertor.prototype;\n\n        _proto._markdownToHtmlWithCodeHighlight = function _markdownToHtmlWithCodeHighlight(markdown) {\n          markdown = this._replaceImgAttrToDataProp(markdown);\n          return this.htmlWriter.render(this.mdReader.parse(markdown));\n        }\n        /**\n         * _markdownToHtml\n         * Convert markdown to html\n         * @param {string} markdown markdown text\n         * @param {object} env environment sandbox for markdownit\n         * @returns {string} html text\n         * @private\n         */\n        ;\n\n        _proto._markdownToHtml = function _markdownToHtml(markdown) {\n          markdown = markdown.replace(HTML_TAG_RX, function (match, $1, $2, $3) {\n            return match[0] !== '\\\\' ? \"\" + $1 + $2 + \" data-tomark-pass \" + $3 : match;\n          });\n          markdown = this._replaceImgAttrToDataProp(markdown);\n          return this.htmlWriter.render(this.mdReader.parse(markdown));\n        }\n        /**\n         * Replace 'onerror' attribute of img tag to data property string\n         * @param {string} markdown markdown text\n         * @returns {string} replaced markdown text\n         * @private\n         */\n        ;\n\n        _proto._replaceImgAttrToDataProp = function _replaceImgAttrToDataProp(markdown) {\n          var onerrorStripeRegex = /(<img[^>]*)(onerror\\s*=\\s*[\\\\\"']?[^\\\\\"']*[\\\\\"']?)(.*)/i;\n\n          while (onerrorStripeRegex.exec(markdown)) {\n            markdown = markdown.replace(onerrorStripeRegex, '$1$3');\n          }\n\n          return markdown;\n        }\n        /**\n         * Remove BR's data-tomark-pass attribute text when br in code element\n         * @param {string} renderedHTML Rendered HTML string from markdown editor\n         * @returns {string}\n         * @private\n         */\n        ;\n\n        _proto._removeBrToMarkPassAttributeInCode = function _removeBrToMarkPassAttributeInCode(renderedHTML) {\n          var wrapper = _utils_dom__WEBPACK_IMPORTED_MODULE_4__[\n          /* default */\n          \"a\"].createElementWith(\"<div>\" + renderedHTML + \"</div>\");\n\n          _utils_dom__WEBPACK_IMPORTED_MODULE_4__[\n          /* default */\n          \"a\"].findAll(wrapper, 'code, pre').forEach(function (codeOrPre) {\n            var codeEelement = codeOrPre;\n            codeEelement.innerHTML = codeEelement.innerHTML.replace(/\\sdata-tomark-pass\\s(\\/?)&gt;/g, '$1&gt;');\n          });\n\n          renderedHTML = wrapper.innerHTML;\n          return renderedHTML;\n        }\n        /**\n         * toHTMLWithCodeHightlight\n         * Convert markdown to html with Codehighlight\n         * emit convertorAfterMarkdownToHtmlConverted\n         * @param {string} markdown markdown text\n         * @returns {string} html text\n         */\n        ;\n\n        _proto.toHTMLWithCodeHightlight = function toHTMLWithCodeHightlight(markdown) {\n          var html = this._markdownToHtmlWithCodeHighlight(markdown);\n\n          html = this.eventManager.emitReduce('convertorAfterMarkdownToHtmlConverted', html);\n          return html;\n        }\n        /**\n         * toHTML\n         * Convert markdown to html\n         * emit convertorAfterMarkdownToHtmlConverted\n         * @param {string} markdown markdown text\n         * @returns {string} html text\n         */\n        ;\n\n        _proto.toHTML = function toHTML(markdown) {\n          var html = this._markdownToHtml(markdown);\n\n          html = this.eventManager.emitReduce('convertorAfterMarkdownToHtmlConverted', html);\n          html = this._removeBrToMarkPassAttributeInCode(html);\n          return html;\n        };\n\n        _proto.initHtmlSanitizer = function initHtmlSanitizer() {\n          this.eventManager.listen('convertorAfterMarkdownToHtmlConverted', function (html) {\n            return Object(_htmlSanitizer__WEBPACK_IMPORTED_MODULE_3__[\n            /* default */\n            \"a\"])(html, true);\n          });\n        }\n        /**\n         * toMarkdown\n         * Convert html to markdown\n         * emit convertorAfterHtmlToMarkdownConverted\n         * @param {string} html html text\n         * @param {object | null} toMarkOptions - toMark library options\n         * @returns {string} markdown text\n         */\n        ;\n\n        _proto.toMarkdown = function toMarkdown(html, toMarkOptions) {\n          var resultArray = [];\n          html = this.eventManager.emitReduce('convertorBeforeHtmlToMarkdownConverted', html);\n          html = this._appendAttributeForLinkIfNeed(html);\n          html = this._appendAttributeForBrIfNeed(html);\n\n          var markdown = _toast_ui_to_mark__WEBPACK_IMPORTED_MODULE_0___default()(html, toMarkOptions);\n\n          markdown = this.eventManager.emitReduce('convertorAfterHtmlToMarkdownConverted', markdown);\n          markdown = this._removeNewlinesBeforeAfterAndBlockElement(markdown);\n          markdown.split('\\n').forEach(function (line, index) {\n            var FIND_TABLE_RX = /^(<br>)+\\||\\|[^|]*\\|/gi;\n            var FIND_CODE_RX = /`[^`]*<br>[^`]*`/gi;\n            var FIND_BRS_BEFORE_TABLE = /^(<br>)+\\|/gi;\n\n            if (FIND_TABLE_RX.test(line)) {\n              line = line.replace(FIND_BRS_BEFORE_TABLE, function (match) {\n                return match.replace(/<br>/gi, '<br>\\n');\n              });\n            } else if (!FIND_CODE_RX.test(line)) {\n              line = line.replace(/<br>/gi, '<br>\\n');\n            }\n\n            resultArray[index] = line;\n          });\n          return resultArray.join('\\n');\n        };\n\n        _proto._removeNewlinesBeforeAfterAndBlockElement = function _removeNewlinesBeforeAfterAndBlockElement(markdown) {\n          // Newlines('\\n\\n') are created on to-mark.\n          var NEWLINES_BEFORE_BLOCK_RX = /<br>\\n\\n(#{1,6} .*|```|\\||(\\*+|-+|\\d+\\.) .*| *>[^\\n]+.*)/g;\n          var NEWLINES_AFTER_BLOCK_RX = /(#{1,6} .*|```|\\|)\\n\\n<br>/g;\n          markdown = markdown.replace(NEWLINES_BEFORE_BLOCK_RX, '<br>$1');\n          markdown = markdown.replace(NEWLINES_AFTER_BLOCK_RX, '$1\\n<br>');\n          return markdown;\n        };\n\n        _proto._appendAttributeForLinkIfNeed = function _appendAttributeForLinkIfNeed(html) {\n          var LINK_RX = /!?\\[.*\\]\\(<\\s*a[^>]*>(.*?)<\\s*\\/\\s*a>\\)/gi;\n          return html.replace(LINK_RX, function (match) {\n            return match.replace(/<a /gi, '<a data-tomark-pass=\"\" ');\n          });\n        };\n\n        _proto._appendAttributeForBrIfNeed = function _appendAttributeForBrIfNeed(html) {\n          var FIND_BR_RX = /<br>/gi;\n          var FIND_DOUBLE_BR_RX = /<br \\/><br \\/>/gi;\n          var FIND_PASSING_AND_NORMAL_BR_RX = /<br data-tomark-pass \\/><br \\/>(.)/gi;\n          var FIRST_TWO_BRS_BEFORE_RX = /([^>]|<\\/a>|<\\/code>|<\\/span>|<\\/b>|<\\/i>|<\\/s>|<img [^>]*>)/;\n          var TWO_BRS_RX = /<br data-tomark-pass \\/><br data-tomark-pass \\/>/;\n          var FIND_FIRST_TWO_BRS_RX = new RegExp(FIRST_TWO_BRS_BEFORE_RX.source + TWO_BRS_RX.source, 'g');\n          var FIND_ATTRI_WITH_EMTPY_STR_RX = /<br data-tomark-pass=\"\">/gi;\n          html = html.replace(FIND_BR_RX, '<br />');\n          html = html.replace(FIND_DOUBLE_BR_RX, '<br data-tomark-pass /><br data-tomark-pass />');\n          html = html.replace(FIND_ATTRI_WITH_EMTPY_STR_RX, '<br data-tomark-pass />');\n          html = html.replace(FIND_PASSING_AND_NORMAL_BR_RX, '<br data-tomark-pass /><br data-tomark-pass />$1');\n          html = html.replace(FIND_FIRST_TWO_BRS_RX, '$1<br /><br />'); // Preserve <br> when there is only one empty line before or after a block element.\n\n          html = html.replace(/(.)<br \\/><br \\/>(<h[1-6]>|<pre>|<table>|<ul>|<ol>|<blockquote>)/g, '$1<br /><br data-tomark-pass />$2');\n          html = html.replace(/(<\\/h[1-6]>|<\\/pre>|<\\/table>|<\\/ul>|<\\/ol>|<\\/blockquote>)<br \\/>(.)/g, '$1<br data-tomark-pass />$2');\n          return html;\n        };\n\n        return Convertor;\n      }();\n      /* harmony default export */\n\n\n      __webpack_exports__[\"a\"] = Convertor;\n      /***/\n    },\n    /* 37 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return invokePlugins;\n      });\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_type_isArray__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isFunction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(30);\n      /* harmony import */\n\n\n      var tui_code_snippet_type_isFunction__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_type_isFunction__WEBPACK_IMPORTED_MODULE_1__);\n      /**\n       * Invoke plugins\n       * @param {Array.<Function|Array>} plugins - list of plugin function only or\n       *                                  plugin function with options\n       * @param {Editor|Viewer} editor - editor or viewer instance\n       */\n\n\n      function invokePlugins(plugins, editor) {\n        plugins.forEach(function (plugin) {\n          if (tui_code_snippet_type_isFunction__WEBPACK_IMPORTED_MODULE_1___default()(plugin)) {\n            plugin(editor);\n          } else if (tui_code_snippet_type_isArray__WEBPACK_IMPORTED_MODULE_0___default()(plugin)) {\n            var pluginFn = plugin[0],\n                _plugin$ = plugin[1],\n                options = _plugin$ === void 0 ? {} : _plugin$;\n            pluginFn(editor, options);\n          }\n        });\n      }\n      /***/\n\n    },\n    /* 38 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\"; // EXTERNAL MODULE: ./node_modules/tui-code-snippet/domUtil/css.js\n\n      var css = __webpack_require__(3);\n\n      var css_default = /*#__PURE__*/__webpack_require__.n(css); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isString.js\n\n\n      var isString = __webpack_require__(8);\n\n      var isString_default = /*#__PURE__*/__webpack_require__.n(isString); // CONCATENATED MODULE: ./src/js/lazyRunner.js\n\n      /**\n       * @fileoverview Implements LazyRunner\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class LazyRunner\n       * @ignore\n       */\n\n\n      var lazyRunner_LazyRunner = /*#__PURE__*/function () {\n        function LazyRunner() {\n          this.globalTOID = null;\n          this.lazyRunFunctions = {};\n        }\n\n        var _proto = LazyRunner.prototype;\n\n        _proto.run = function run(fn, params, context, delay) {\n          var TOID;\n\n          if (isString_default()(fn)) {\n            TOID = this._runRegisteredRun(fn, params, context, delay);\n          } else {\n            TOID = this._runSingleRun(fn, params, context, delay, this.globalTOID);\n            this.globalTOID = TOID;\n          }\n\n          return TOID;\n        };\n\n        _proto.registerLazyRunFunction = function registerLazyRunFunction(name, fn, delay, context) {\n          context = context || this;\n          this.lazyRunFunctions[name] = {\n            fn: fn,\n            delay: delay,\n            context: context,\n            TOID: null\n          };\n        };\n\n        _proto._runSingleRun = function _runSingleRun(fn, params, context, delay, TOID) {\n          this._clearTOIDIfNeed(TOID);\n\n          TOID = setTimeout(function () {\n            fn.call(context, params);\n          }, delay);\n          return TOID;\n        };\n\n        _proto._runRegisteredRun = function _runRegisteredRun(lazyRunName, params, context, delay) {\n          var lazyRunFunction = this.lazyRunFunctions[lazyRunName];\n          var fn = lazyRunFunction.fn;\n          var TOID = lazyRunFunction.TOID;\n          delay = delay || lazyRunFunction.delay;\n          context = context || lazyRunFunction.context;\n          TOID = this._runSingleRun(fn, params, context, delay, TOID);\n          lazyRunFunction.TOID = TOID;\n          return TOID;\n        };\n\n        _proto._clearTOIDIfNeed = function _clearTOIDIfNeed(TOID) {\n          if (TOID) {\n            clearTimeout(TOID);\n          }\n        };\n\n        return LazyRunner;\n      }();\n      /* harmony default export */\n\n\n      var lazyRunner = lazyRunner_LazyRunner; // EXTERNAL MODULE: ./src/js/utils/dom.js\n\n      var dom = __webpack_require__(0); // EXTERNAL MODULE: ./src/js/codeBlockManager.js\n\n\n      var codeBlockManager = __webpack_require__(26); // CONCATENATED MODULE: ./src/js/preview.js\n\n      /**\n       * @fileoverview Implements preview\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class Preview\n       * @param {HTMLElement} el - Container element for preview\n       * @param {EventManager} eventManager -  Event manager instance\n       * @param {Convertor} convertor - Convertor instance\n       * @param {boolean} isViewer - whether viewer mode or not\n       * @ignore\n       */\n\n\n      var preview_Preview = /*#__PURE__*/function () {\n        function Preview(el, eventManager, convertor, isViewer) {\n          this.eventManager = eventManager;\n          this.convertor = convertor;\n          this.el = el;\n          this.isViewer = !!isViewer;\n          this.delayCodeBlockTime = 500;\n\n          this._initContentSection();\n\n          this.lazyRunner = new lazyRunner();\n        }\n        /**\n         * Initialize content selection\n         * @private\n         */\n\n\n        var _proto = Preview.prototype;\n\n        _proto._initContentSection = function _initContentSection() {\n          this._previewContent = dom[\"a\"\n          /* default */\n          ].createElementWith(\"<div class=\\\"tui-editor-contents\\\"></div>\");\n          this.el.appendChild(this._previewContent);\n        };\n\n        _proto.getCodeBlockElements = function getCodeBlockElements(nodeIds) {\n          var contentEl = this._previewContent;\n          var codeEls = [];\n          var targetEls;\n\n          if (nodeIds) {\n            targetEls = nodeIds.map(function (id) {\n              return contentEl.querySelector(\"[data-nodeid=\\\"\" + id + \"\\\"]\");\n            }).filter(Boolean);\n          } else {\n            targetEls = [contentEl];\n          }\n\n          targetEls.forEach(function (targetEl) {\n            codeEls.push.apply(codeEls, dom[\"a\"\n            /* default */\n            ].findAll(targetEl, 'code[data-language]'));\n          });\n          return codeEls;\n        };\n\n        _proto.invokeCodeBlockPlugins = function invokeCodeBlockPlugins(codeBlocks) {\n          codeBlocks.forEach(function (codeBlock) {\n            var lang = codeBlock.getAttribute('data-language');\n            var html = codeBlockManager[\"a\"\n            /* default */\n            ].createCodeBlockHtml(lang, codeBlock.textContent);\n            codeBlock.innerHTML = html;\n          });\n        }\n        /**\n         * Refresh rendering\n         * @param {string} markdown Markdown text\n         */\n        ;\n\n        _proto.refresh = function refresh(markdown) {\n          if (markdown === void 0) {\n            markdown = '';\n          }\n\n          this.render(this.convertor.toHTMLWithCodeHightlight(markdown));\n          this.invokeCodeBlockPlugins(this.getCodeBlockElements());\n        }\n        /**\n         * get html string\n         * @returns {string} - html preview string\n         */\n        ;\n\n        _proto.getHTML = function getHTML() {\n          return this._previewContent.innerHTML;\n        }\n        /**\n         * set html string\n         * @param {string} html - html preview string\n         */\n        ;\n\n        _proto.setHTML = function setHTML(html) {\n          this._previewContent.innerHTML = html;\n        }\n        /**\n         * Render HTML on preview\n         * @param {string} html HTML string\n         */\n        ;\n\n        _proto.render = function render(html) {\n          var _previewContent = this._previewContent;\n          html = this.eventManager.emit('previewBeforeHook', html) || html;\n          dom[\"a\"\n          /* default */\n          ].empty(_previewContent);\n          _previewContent.innerHTML = html;\n        }\n        /**\n         * Set preview height\n         * @param {number} height - Height for preview container\n         */\n        ;\n\n        _proto.setHeight = function setHeight(height) {\n          css_default()(this.el, {\n            height: height + \"px\"\n          });\n        }\n        /**\n         * set min height\n         * @param {number} minHeight - min height\n         */\n        ;\n\n        _proto.setMinHeight = function setMinHeight(minHeight) {\n          css_default()(this.el, {\n            minHeight: minHeight + \"px\"\n          });\n        }\n        /**\n         * Is Preview visible\n         * @returns {boolean} result\n         */\n        ;\n\n        _proto.isVisible = function isVisible() {\n          return this.el.style.display !== 'none';\n        };\n\n        return Preview;\n      }();\n      /* harmony default export */\n\n\n      var preview = __webpack_exports__[\"a\"] = preview_Preview;\n      /***/\n    },\n    /* 39 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Set className value\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isArray = __webpack_require__(21);\n\n      var isUndefined = __webpack_require__(7);\n      /**\n       * Set className value\n       * @param {(HTMLElement|SVGElement)} element - target element\n       * @param {(string|string[])} cssClass - class names\n       * @private\n       */\n\n\n      function setClassName(element, cssClass) {\n        cssClass = isArray(cssClass) ? cssClass.join(' ') : cssClass;\n        cssClass = cssClass.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n        if (isUndefined(element.className.baseVal)) {\n          element.className = cssClass;\n          return;\n        }\n\n        element.className.baseVal = cssClass;\n      }\n\n      module.exports = setClassName;\n      /***/\n    },\n    /* 40 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Get event collection for specific HTML element\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var EVENT_KEY = '_feEventKey';\n      /**\n       * Get event collection for specific HTML element\n       * @param {HTMLElement} element - HTML element\n       * @param {string} type - event type\n       * @returns {array}\n       * @private\n       */\n\n      function safeEvent(element, type) {\n        var events = element[EVENT_KEY];\n        var handlers;\n\n        if (!events) {\n          events = element[EVENT_KEY] = {};\n        }\n\n        handlers = events[type];\n\n        if (!handlers) {\n          handlers = events[type] = [];\n        }\n\n        return handlers;\n      }\n\n      module.exports = safeEvent;\n      /***/\n    },\n    /* 41 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is truthy or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isExisty = __webpack_require__(25);\n      /**\n       * Check whether the given variable is truthy or not.\n       * If the given variable is not null or not undefined or not false, returns true.\n       * (It regards 0 as true)\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is truthy?\n       * @memberof module:type\n       */\n\n\n      function isTruthy(obj) {\n        return isExisty(obj) && obj !== false;\n      }\n\n      module.exports = isTruthy;\n      /***/\n    },\n    /* 42 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Send hostname on DOMContentLoaded.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isUndefined = __webpack_require__(7);\n\n      var imagePing = __webpack_require__(48);\n\n      var ms7days = 7 * 24 * 60 * 60 * 1000;\n      /**\n       * Check if the date has passed 7 days\n       * @param {number} date - milliseconds\n       * @returns {boolean}\n       * @private\n       */\n\n      function isExpired(date) {\n        var now = new Date().getTime();\n        return now - date > ms7days;\n      }\n      /**\n       * Send hostname on DOMContentLoaded.\n       * To prevent hostname set tui.usageStatistics to false.\n       * @param {string} appName - application name\n       * @param {string} trackingId - GA tracking ID\n       * @ignore\n       */\n\n\n      function sendHostname(appName, trackingId) {\n        var url = 'https://www.google-analytics.com/collect';\n        var hostname = location.hostname;\n        var hitType = 'event';\n        var eventCategory = 'use';\n        var applicationKeyForStorage = 'TOAST UI ' + appName + ' for ' + hostname + ': Statistics';\n        var date = window.localStorage.getItem(applicationKeyForStorage); // skip if the flag is defined and is set to false explicitly\n\n        if (!isUndefined(window.tui) && window.tui.usageStatistics === false) {\n          return;\n        } // skip if not pass seven days old\n\n\n        if (date && !isExpired(date)) {\n          return;\n        }\n\n        window.localStorage.setItem(applicationKeyForStorage, new Date().getTime());\n        setTimeout(function () {\n          if (document.readyState === 'interactive' || document.readyState === 'complete') {\n            imagePing(url, {\n              v: 1,\n              t: hitType,\n              tid: trackingId,\n              cid: hostname,\n              dp: hostname,\n              dh: appName,\n              el: appName,\n              ec: eventCategory\n            });\n          }\n        }, 1000);\n      }\n\n      module.exports = sendHostname;\n      /***/\n    },\n    /* 43 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is falsy or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isTruthy = __webpack_require__(41);\n      /**\n       * Check whether the given variable is falsy or not.\n       * If the given variable is null or undefined or false, returns true.\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is falsy?\n       * @memberof module:type\n       */\n\n\n      function isFalsy(obj) {\n        return !isTruthy(obj);\n      }\n\n      module.exports = isFalsy;\n      /***/\n    },\n    /* 44 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview This module provides a Enum Constructor.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       * @example\n       * // node, commonjs\n       * var Enum = require('tui-code-snippet/enum/enum');\n       */\n\n      var isNumber = __webpack_require__(33);\n\n      var isArray = __webpack_require__(21);\n\n      var toArray = __webpack_require__(2);\n\n      var forEach = __webpack_require__(24);\n      /**\n       * Check whether the defineProperty() method is supported.\n       * @type {boolean}\n       * @ignore\n       */\n\n\n      var isSupportDefinedProperty = function () {\n        try {\n          Object.defineProperty({}, 'x', {});\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }();\n      /**\n       * A unique value of a constant.\n       * @type {number}\n       * @ignore\n       */\n\n\n      var enumValue = 0;\n      /**\n       * Make a constant-list that has unique values.\n       * In modern browsers (except IE8 and lower),\n       *  a value defined once can not be changed.\n       *\n       * @param {...string|string[]} itemList Constant-list (An array of string is available)\n       * @class\n       *\n       * @example\n       * var Enum = require('tui-code-snippet/enum/enum'); // node, commonjs\n       *\n       * var MYENUM = new Enum('TYPE1', 'TYPE2');\n       * var MYENUM2 = new Enum(['TYPE1', 'TYPE2']);\n       *\n       * //usage\n       * if (value === MYENUM.TYPE1) {\n       *      ....\n       * }\n       *\n       * //add (If a duplicate name is inputted, will be disregarded.)\n       * MYENUM.set('TYPE3', 'TYPE4');\n       *\n       * //get name of a constant by a value\n       * MYENUM.getName(MYENUM.TYPE1); // 'TYPE1'\n       *\n       * // In modern browsers (except IE8 and lower), a value can not be changed in constants.\n       * var originalValue = MYENUM.TYPE1;\n       * MYENUM.TYPE1 = 1234; // maybe TypeError\n       * MYENUM.TYPE1 === originalValue; // true\n       **/\n\n      function Enum(itemList) {\n        if (itemList) {\n          this.set.apply(this, arguments);\n        }\n      }\n      /**\n       * Define a constants-list\n       * @param {...string|string[]} itemList Constant-list (An array of string is available)\n       */\n\n\n      Enum.prototype.set = function (itemList) {\n        var self = this;\n\n        if (!isArray(itemList)) {\n          itemList = toArray(arguments);\n        }\n\n        forEach(itemList, function itemListIteratee(item) {\n          self._addItem(item);\n        });\n      };\n      /**\n       * Return a key of the constant.\n       * @param {number} value A value of the constant.\n       * @returns {string|undefined} Key of the constant.\n       */\n\n\n      Enum.prototype.getName = function (value) {\n        var self = this;\n        var foundedKey;\n        forEach(this, function (itemValue, key) {\n          // eslint-disable-line consistent-return\n          if (self._isEnumItem(key) && value === itemValue) {\n            foundedKey = key;\n            return false;\n          }\n        });\n        return foundedKey;\n      };\n      /**\n       * Create a constant.\n       * @private\n       * @param {string} name Constant name. (It will be a key of a constant)\n       */\n\n\n      Enum.prototype._addItem = function (name) {\n        var value;\n\n        if (!this.hasOwnProperty(name)) {\n          value = this._makeEnumValue();\n\n          if (isSupportDefinedProperty) {\n            Object.defineProperty(this, name, {\n              enumerable: true,\n              configurable: false,\n              writable: false,\n              value: value\n            });\n          } else {\n            this[name] = value;\n          }\n        }\n      };\n      /**\n       * Return a unique value for assigning to a constant.\n       * @private\n       * @returns {number} A unique value\n       */\n\n\n      Enum.prototype._makeEnumValue = function () {\n        var value;\n        value = enumValue;\n        enumValue += 1;\n        return value;\n      };\n      /**\n       * Return whether a constant from the given key is in instance or not.\n       * @param {string} key - A constant key\n       * @returns {boolean} Result\n       * @private\n       */\n\n\n      Enum.prototype._isEnumItem = function (key) {\n        return isNumber(this[key]);\n      };\n\n      module.exports = Enum;\n      /***/\n    },\n    /* 45 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony import */\n\n      var tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);\n      /* harmony import */\n\n\n      var tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var tui_code_snippet_object_extend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n      /* harmony import */\n\n\n      var tui_code_snippet_object_extend__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_object_extend__WEBPACK_IMPORTED_MODULE_1__);\n      /* harmony import */\n\n\n      var tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18);\n      /* harmony import */\n\n\n      var tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_2__);\n      /* harmony import */\n\n\n      var tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19);\n      /* harmony import */\n\n\n      var tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_3__);\n      /* harmony import */\n\n\n      var _mdPreview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(34);\n      /* harmony import */\n\n\n      var _eventManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(35);\n      /* harmony import */\n\n\n      var _commandManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1);\n      /* harmony import */\n\n\n      var _convertor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(36);\n      /* harmony import */\n\n\n      var _utils_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(0);\n      /* harmony import */\n\n\n      var _codeBlockManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(26);\n      /* harmony import */\n\n\n      var _pluginHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(37);\n      /**\n       * @fileoverview Implements editor preivew\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var TASK_ATTR_NAME = 'data-te-task';\n      var TASK_CHECKED_CLASS_NAME = 'checked';\n      /**\n       * Class ToastUIEditorViewer\n       * @param {object} options Option object\n       *     @param {HTMLElement} options.el - container element\n       *     @param {string} [options.initialValue] Editor's initial value\n       *     @param {Object} [options.events] - Events\n       *         @param {function} [options.events.load] - It would be emitted when editor fully load\n       *         @param {function} [options.events.change] - It would be emitted when content changed\n       *         @param {function} [options.events.stateChange] - It would be emitted when format change by cursor position\n       *         @param {function} [options.events.focus] - It would be emitted when editor get focus\n       *         @param {function} [options.events.blur] - It would be emitted when editor loose focus\n       *     @param {Object} [options.hooks] - Hooks\n       *         @param {function} [options.hooks.previewBeforeHook] - Submit preview to hook URL before preview be shown\n       *     @param {Array.<function|Array>} [options.plugins] - Array of plugins. A plugin can be either a function or an array in the form of [function, options].\n       */\n\n      var ToastUIEditorViewer = /*#__PURE__*/function () {\n        function ToastUIEditorViewer(options) {\n          var _this = this;\n\n          this.options = tui_code_snippet_object_extend__WEBPACK_IMPORTED_MODULE_1___default()({\n            useDefaultHTMLSanitizer: true,\n            customConvertor: null\n          }, options);\n          this.codeBlockLanguages = [];\n          this.eventManager = new _eventManager__WEBPACK_IMPORTED_MODULE_5__[\n          /* default */\n          \"a\"]();\n          this.commandManager = new _commandManager__WEBPACK_IMPORTED_MODULE_6__[\n          /* default */\n          \"a\"](this);\n\n          if (this.options.customConvertor) {\n            // eslint-disable-next-line new-cap\n            this.convertor = new this.options.customConvertor(this.eventManager);\n          } else {\n            this.convertor = new _convertor__WEBPACK_IMPORTED_MODULE_7__[\n            /* default */\n            \"a\"](this.eventManager);\n          }\n\n          if (this.options.useDefaultHTMLSanitizer) {\n            this.convertor.initHtmlSanitizer();\n          }\n\n          if (this.options.hooks) {\n            tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0___default()(this.options.hooks, function (fn, key) {\n              _this.addHook(key, fn);\n            });\n          }\n\n          if (this.options.events) {\n            tui_code_snippet_collection_forEachOwnProperties__WEBPACK_IMPORTED_MODULE_0___default()(this.options.events, function (fn, key) {\n              _this.on(key, fn);\n            });\n          }\n\n          var _this$options = this.options,\n              el = _this$options.el,\n              initialValue = _this$options.initialValue;\n          var existingHTML = el.innerHTML;\n          el.innerHTML = '';\n          this.preview = new _mdPreview__WEBPACK_IMPORTED_MODULE_4__[\n          /* default */\n          \"a\"](el, this.eventManager, this.convertor, true);\n          tui_code_snippet_domEvent_on__WEBPACK_IMPORTED_MODULE_2___default()(this.preview.el, 'mousedown', this._toggleTask.bind(this));\n\n          if (this.options.plugins) {\n            Object(_pluginHelper__WEBPACK_IMPORTED_MODULE_10__[\n            /* invokePlugins */\n            \"a\"])(this.options.plugins, this);\n          }\n\n          if (initialValue) {\n            this.setMarkdown(initialValue);\n          } else if (existingHTML) {\n            this.preview.setHTML(existingHTML);\n          }\n\n          this.eventManager.emit('load', this);\n        }\n        /**\n         * Toggle task by detecting mousedown event.\n         * @param {MouseEvent} ev - event\n         * @private\n         */\n\n\n        var _proto = ToastUIEditorViewer.prototype;\n\n        _proto._toggleTask = function _toggleTask(ev) {\n          var style = getComputedStyle(ev.target, ':before');\n\n          if (ev.target.hasAttribute(TASK_ATTR_NAME) && _utils_dom__WEBPACK_IMPORTED_MODULE_8__[\n          /* default */\n          \"a\"].isInsideTaskBox(style, ev.offsetX, ev.offsetY)) {\n            _utils_dom__WEBPACK_IMPORTED_MODULE_8__[\n            /* default */\n            \"a\"].toggleClass(ev.target, TASK_CHECKED_CLASS_NAME);\n\n            this.eventManager.emit('change', {\n              source: 'viewer',\n              data: ev\n            });\n          }\n        }\n        /**\n         * Set content for preview\n         * @param {string} markdown Markdown text\n         */\n        ;\n\n        _proto.setMarkdown = function setMarkdown(markdown) {\n          this.markdownValue = markdown = markdown || '';\n          this.preview.refresh(this.markdownValue);\n          this.eventManager.emit('setMarkdownAfter', this.markdownValue);\n        }\n        /**\n         * Bind eventHandler to event type\n         * @param {string} type Event type\n         * @param {function} handler Event handler\n         */\n        ;\n\n        _proto.on = function on(type, handler) {\n          this.eventManager.listen(type, handler);\n        }\n        /**\n         * Unbind eventHandler from event type\n         * @param {string} type Event type\n         */\n        ;\n\n        _proto.off = function off(type) {\n          this.eventManager.removeEventHandler(type);\n        }\n        /**\n         * Remove Viewer preview from document\n         */\n        ;\n\n        _proto.remove = function remove() {\n          this.eventManager.emit('removeEditor');\n          tui_code_snippet_domEvent_off__WEBPACK_IMPORTED_MODULE_3___default()(this.preview.el, 'mousedown', this._toggleTask.bind(this));\n          this.preview.remove();\n          this.options = null;\n          this.eventManager = null;\n          this.commandManager = null;\n          this.convertor = null;\n          this.preview = null;\n        }\n        /**\n         * Add hook to Viewer preview's event\n         * @param {string} type Event type\n         * @param {function} handler Event handler\n         */\n        ;\n\n        _proto.addHook = function addHook(type, handler) {\n          this.eventManager.removeEventHandler(type);\n          this.eventManager.listen(type, handler);\n        }\n        /**\n         * Return true\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.isViewer = function isViewer() {\n          return true;\n        }\n        /**\n         * Return false\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.isMarkdownMode = function isMarkdownMode() {\n          return false;\n        }\n        /**\n         * Return false\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.isWysiwygMode = function isWysiwygMode() {\n          return false;\n        }\n        /**\n         * Set code block languages\n         * @param {Array} languages - code lauguage list\n         */\n        ;\n\n        _proto.setCodeBlockLanguages = function setCodeBlockLanguages(languages) {\n          var _this2 = this;\n\n          if (languages === void 0) {\n            languages = [];\n          }\n\n          languages.forEach(function (lang) {\n            if (_this2.codeBlockLanguages.indexOf(lang) < 0) {\n              _this2.codeBlockLanguages.push(lang);\n            }\n          });\n        };\n\n        return ToastUIEditorViewer;\n      }();\n      /**\n       * Check whether is viewer (using in plugins)\n       * @type {boolean}\n       * @ignore\n       */\n\n\n      ToastUIEditorViewer.isViewer = true;\n      /**\n       * domUtil instance\n       * @type {DomUtil}\n       * @ignore\n       */\n\n      ToastUIEditorViewer.domUtils = _utils_dom__WEBPACK_IMPORTED_MODULE_8__[\n      /* default */\n      \"a\"];\n      /**\n       * CodeBlockManager instance using in plugins\n       * @type {CodeBlockManager}\n       * @ignore\n       */\n\n      ToastUIEditorViewer.codeBlockManager = _codeBlockManager__WEBPACK_IMPORTED_MODULE_9__[\n      /* default */\n      \"a\"];\n      /**\n       * WwCodeBlockManager class using in plugins\n       * @type {Class.<WwCodeBlockManager>}\n       * @ignore\n       */\n\n      ToastUIEditorViewer.WwCodeBlockManager = null;\n      /**\n       * WwTableManager class using in plugins\n       * @type {Class.<WwTableManager>}\n       * @ignore\n       */\n\n      ToastUIEditorViewer.WwTableManager = null;\n      /**\n       * WwTableManager class using in plugins\n       * @type {Class.<WwTableSelectionManager>}\n       * @ignore\n       */\n\n      ToastUIEditorViewer.WwTableSelectionManager = null;\n      /* harmony default export */\n\n      __webpack_exports__[\"a\"] = ToastUIEditorViewer;\n      /***/\n    },\n    /* 46 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Creates a debounced function that delays invoking fn until after delay milliseconds has elapsed since the last time the debouced function was invoked.\n       * @author NHN FE Development Lab <dl_javascript.nhn.com>\n       */\n\n      /**\n       * @module tricks\n       */\n\n      /**\n       * Creates a debounced function that delays invoking fn until after delay milliseconds has elapsed\n       * since the last time the debouced function was invoked.\n       * @param {function} fn The function to debounce.\n       * @param {number} [delay=0] The number of milliseconds to delay\n       * @returns {function} debounced function.\n       * @memberof module:tricks\n       * @example\n       * var debounce = require('tui-code-snippet/tricks/debounce'); // node, commonjs\n       *\n       * function someMethodToInvokeDebounced() {}\n       *\n       * var debounced = debounce(someMethodToInvokeDebounced, 300);\n       *\n       * // invoke repeatedly\n       * debounced();\n       * debounced();\n       * debounced();\n       * debounced();\n       * debounced();\n       * debounced();    // last invoke of debounced()\n       *\n       * // invoke someMethodToInvokeDebounced() after 300 milliseconds.\n       */\n\n      function debounce(fn, delay) {\n        var timer, args;\n        /* istanbul ignore next */\n\n        delay = delay || 0;\n\n        function debounced() {\n          // eslint-disable-line require-jsdoc\n          args = Array.prototype.slice.call(arguments);\n          window.clearTimeout(timer);\n          timer = window.setTimeout(function () {\n            fn.apply(null, args);\n          }, delay);\n        }\n\n        return debounced;\n      }\n\n      module.exports = debounce;\n      /***/\n    },\n    /* 47 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is null or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Check whether the given variable is null or not.\n       * If the given variable(arguments[0]) is null, returns true.\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is null?\n       * @memberof module:type\n       */\n\n      function isNull(obj) {\n        return obj === null;\n      }\n\n      module.exports = isNull;\n      /***/\n    },\n    /* 48 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Request image ping.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var forEachOwnProperties = __webpack_require__(9);\n      /**\n       * @module request\n       */\n\n      /**\n       * Request image ping.\n       * @param {String} url url for ping request\n       * @param {Object} trackingInfo infos for make query string\n       * @returns {HTMLElement}\n       * @memberof module:request\n       * @example\n       * var imagePing = require('tui-code-snippet/request/imagePing'); // node, commonjs\n       *\n       * imagePing('https://www.google-analytics.com/collect', {\n       *     v: 1,\n       *     t: 'event',\n       *     tid: 'trackingid',\n       *     cid: 'cid',\n       *     dp: 'dp',\n       *     dh: 'dh'\n       * });\n       */\n\n\n      function imagePing(url, trackingInfo) {\n        var trackingElement = document.createElement('img');\n        var queryString = '';\n        forEachOwnProperties(trackingInfo, function (value, key) {\n          queryString += '&' + key + '=' + value;\n        });\n        queryString = queryString.substring(1);\n        trackingElement.src = url + '?' + queryString;\n        trackingElement.style.display = 'none';\n        document.body.appendChild(trackingElement);\n        document.body.removeChild(trackingElement);\n        return trackingElement;\n      }\n\n      module.exports = imagePing;\n      /***/\n    },\n    /* 49 */\n\n    /***/\n    function (module, exports, __webpack_require__) {// extracted by mini-css-extract-plugin\n\n      /***/\n    },\n    /* 50 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is an object or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Check whether the given variable is an object or not.\n       * If the given variable is an object, return true.\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is object?\n       * @memberof module:type\n       */\n\n      function isObject(obj) {\n        return obj === Object(obj);\n      }\n\n      module.exports = isObject;\n      /***/\n    },\n    /* 51 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      !function (e, t) {\n        \"use strict\";\n\n        function n(e, t, n) {\n          this.root = this.currentNode = e, this.nodeType = t, this.filter = n || ue;\n        }\n\n        function o(e, t) {\n          for (var n = e.length; n--;) {\n            if (!t(e[n])) return !1;\n          }\n\n          return !0;\n        }\n\n        function i(e) {\n          return e.nodeType === M && !!pe[e.nodeName];\n        }\n\n        function r(e) {\n          switch (e.nodeType) {\n            case H:\n              return me;\n\n            case M:\n            case z:\n              if (de && Ce.has(e)) return Ce.get(e);\n              break;\n\n            default:\n              return ge;\n          }\n\n          var t;\n          return t = o(e.childNodes, a) ? fe.test(e.nodeName) ? me : ve : Ne, de && Ce.set(e, t), t;\n        }\n\n        function a(e) {\n          return r(e) === me;\n        }\n\n        function s(e) {\n          return r(e) === ve;\n        }\n\n        function d(e) {\n          return r(e) === Ne;\n        }\n\n        function l(e, t) {\n          var o = new n(t, q, s);\n          return o.currentNode = e, o;\n        }\n\n        function c(e, t) {\n          return e = l(e, t).previousNode(), e !== t ? e : null;\n        }\n\n        function h(e, t) {\n          return e = l(e, t).nextNode(), e !== t ? e : null;\n        }\n\n        function u(e) {\n          return !e.textContent && !e.querySelector(\"IMG\");\n        }\n\n        function f(e, t) {\n          return !i(e) && e.nodeType === t.nodeType && e.nodeName === t.nodeName && \"A\" !== e.nodeName && e.className === t.className && (!e.style && !t.style || e.style.cssText === t.style.cssText);\n        }\n\n        function p(e, t, n) {\n          if (e.nodeName !== t) return !1;\n\n          for (var o in n) {\n            if (e.getAttribute(o) !== n[o]) return !1;\n          }\n\n          return !0;\n        }\n\n        function g(e, t, n, o) {\n          for (; e && e !== t;) {\n            if (p(e, n, o)) return e;\n            e = e.parentNode;\n          }\n\n          return null;\n        }\n\n        function m(e, t, n) {\n          for (; e && e !== t;) {\n            if (n.test(e.nodeName)) return e;\n            e = e.parentNode;\n          }\n\n          return null;\n        }\n\n        function v(e, t) {\n          for (; t;) {\n            if (t === e) return !0;\n            t = t.parentNode;\n          }\n\n          return !1;\n        }\n\n        function N(e, t, n) {\n          var o,\n              i,\n              r,\n              a,\n              s,\n              d = \"\";\n          return e && e !== t && (d = N(e.parentNode, t, n), e.nodeType === M && (d += (d ? \">\" : \"\") + e.nodeName, (o = e.id) && (d += \"#\" + o), (i = e.className.trim()) && (r = i.split(/\\s\\s*/), r.sort(), d += \".\", d += r.join(\".\")), (a = e.dir) && (d += \"[dir=\" + a + \"]\"), r && (s = n.classNames, ce.call(r, s.highlight) > -1 && (d += \"[backgroundColor=\" + e.style.backgroundColor.replace(/ /g, \"\") + \"]\"), ce.call(r, s.colour) > -1 && (d += \"[color=\" + e.style.color.replace(/ /g, \"\") + \"]\"), ce.call(r, s.fontFamily) > -1 && (d += \"[fontFamily=\" + e.style.fontFamily.replace(/ /g, \"\") + \"]\"), ce.call(r, s.fontSize) > -1 && (d += \"[fontSize=\" + e.style.fontSize + \"]\")))), d;\n        }\n\n        function C(e) {\n          var t = e.nodeType;\n          return t === M || t === z ? e.childNodes.length : e.length || 0;\n        }\n\n        function _(e) {\n          var t = e.parentNode;\n          return t && t.removeChild(e), e;\n        }\n\n        function S(e, t) {\n          var n = e.parentNode;\n          n && n.replaceChild(t, e);\n        }\n\n        function y(e) {\n          for (var t = e.ownerDocument.createDocumentFragment(), n = e.childNodes, o = n ? n.length : 0; o--;) {\n            t.appendChild(e.firstChild);\n          }\n\n          return t;\n        }\n\n        function T(e, n, o, i) {\n          var r,\n              a,\n              s,\n              d = e.createElement(n);\n          if (o instanceof Array && (i = o, o = null), o) for (r in o) {\n            o[r] !== t && d.setAttribute(r, o[r]);\n          }\n          if (i) for (a = 0, s = i.length; a < s; a += 1) {\n            d.appendChild(i[a]);\n          }\n          return d;\n        }\n\n        function E(e, t) {\n          var n,\n              o,\n              r = t.__squire__,\n              s = e.ownerDocument,\n              d = e;\n          if (e === t && ((o = e.firstChild) && \"BR\" !== o.nodeName || (n = r.createDefaultBlock(), o ? e.replaceChild(n, o) : e.appendChild(n), e = n, n = null)), e.nodeType === H) return d;\n\n          if (a(e)) {\n            for (o = e.firstChild; re && o && o.nodeType === H && !o.data;) {\n              e.removeChild(o), o = e.firstChild;\n            }\n\n            o || (re ? (n = s.createTextNode(K), r._didAddZWS()) : n = s.createTextNode(\"\"));\n          } else if (ie) {\n            for (; e.nodeType !== H && !i(e);) {\n              if (!(o = e.firstChild)) {\n                n = s.createTextNode(\"\");\n                break;\n              }\n\n              e = o;\n            }\n\n            e.nodeType === H ? /^ +$/.test(e.data) && (e.data = \"\") : i(e) && e.parentNode.insertBefore(s.createTextNode(\"\"), e);\n          } else if (\"HR\" !== e.nodeName && !e.querySelector(\"BR\")) for (n = T(s, \"BR\"); (o = e.lastElementChild) && !a(o);) {\n            e = o;\n          }\n\n          if (n) try {\n            e.appendChild(n);\n          } catch (t) {\n            r.didError({\n              name: \"Squire: fixCursor – \" + t,\n              message: \"Parent: \" + e.nodeName + \"/\" + e.innerHTML + \" appendChild: \" + n.nodeName\n            });\n          }\n          return d;\n        }\n\n        function b(e, t) {\n          var n,\n              o,\n              i,\n              r,\n              s = e.childNodes,\n              l = e.ownerDocument,\n              c = null,\n              h = t.__squire__._config;\n\n          for (n = 0, o = s.length; n < o; n += 1) {\n            i = s[n], r = \"BR\" === i.nodeName, !r && a(i) ? (c || (c = T(l, h.blockTag, h.blockAttributes)), c.appendChild(i), n -= 1, o -= 1) : (r || c) && (c || (c = T(l, h.blockTag, h.blockAttributes)), E(c, t), r ? e.replaceChild(c, i) : (e.insertBefore(c, i), n += 1, o += 1), c = null), d(i) && b(i, t);\n          }\n\n          return c && e.appendChild(E(c, t)), e;\n        }\n\n        function k(e, t, n, o) {\n          var i,\n              r,\n              a,\n              s = e.nodeType;\n          if (s === H && e !== n) return k(e.parentNode, e.splitText(t), n, o);\n\n          if (s === M) {\n            if (\"number\" == typeof t && (t = t < e.childNodes.length ? e.childNodes[t] : null), e === n) return t;\n\n            for (i = e.parentNode, r = e.cloneNode(!1); t;) {\n              a = t.nextSibling, r.appendChild(t), t = a;\n            }\n\n            return \"OL\" === e.nodeName && g(e, o, \"BLOCKQUOTE\") && (r.start = (+e.start || 1) + e.childNodes.length - 1), E(e, o), E(r, o), (a = e.nextSibling) ? i.insertBefore(r, a) : i.appendChild(r), k(i, r, n, o);\n          }\n\n          return t;\n        }\n\n        function x(e, t) {\n          for (var n, o, i, r = e.childNodes, s = r.length, d = []; s--;) {\n            if (n = r[s], o = s && r[s - 1], s && a(n) && f(n, o) && !pe[n.nodeName]) t.startContainer === n && (t.startContainer = o, t.startOffset += C(o)), t.endContainer === n && (t.endContainer = o, t.endOffset += C(o)), t.startContainer === e && (t.startOffset > s ? t.startOffset -= 1 : t.startOffset === s && (t.startContainer = o, t.startOffset = C(o))), t.endContainer === e && (t.endOffset > s ? t.endOffset -= 1 : t.endOffset === s && (t.endContainer = o, t.endOffset = C(o))), _(n), n.nodeType === H ? o.appendData(n.data) : d.push(y(n));else if (n.nodeType === M) {\n              for (i = d.length; i--;) {\n                n.appendChild(d.pop());\n              }\n\n              x(n, t);\n            }\n          }\n        }\n\n        function A(e, t) {\n          if (e.nodeType === H && (e = e.parentNode), e.nodeType === M) {\n            var n = {\n              startContainer: t.startContainer,\n              startOffset: t.startOffset,\n              endContainer: t.endContainer,\n              endOffset: t.endOffset\n            };\n            x(e, n), t.setStart(n.startContainer, n.startOffset), t.setEnd(n.endContainer, n.endOffset);\n          }\n        }\n\n        function L(e) {\n          var t = e.nodeName;\n          return \"TD\" === t || \"TH\" === t || \"TR\" === t || \"TBODY\" === t || \"THEAD\" === t;\n        }\n\n        function B(e, t, n, o) {\n          var i,\n              r,\n              a,\n              s = t;\n\n          if (!L(e) || !L(t)) {\n            for (; (i = s.parentNode) && i !== o && i.nodeType === M && 1 === i.childNodes.length;) {\n              s = i;\n            }\n\n            _(s), a = e.childNodes.length, r = e.lastChild, r && \"BR\" === r.nodeName && (e.removeChild(r), a -= 1), e.appendChild(y(t)), n.setStart(e, a), n.collapse(!0), A(e, n), J && (r = e.lastChild) && \"BR\" === r.nodeName && e.removeChild(r);\n          }\n        }\n\n        function O(e, t) {\n          var n,\n              o,\n              i = e.previousSibling,\n              r = e.firstChild,\n              a = e.ownerDocument,\n              s = \"LI\" === e.nodeName;\n          if ((!s || r && /^[OU]L$/.test(r.nodeName)) && !L(e)) if (i && f(i, e) && i.isContentEditable && e.isContentEditable) {\n            if (!d(i)) {\n              if (!s) return;\n              o = T(a, \"DIV\"), o.appendChild(y(i)), i.appendChild(o);\n            }\n\n            _(e), n = !d(e), i.appendChild(y(e)), n && b(i, t), r && O(r, t);\n          } else s && (i = T(a, \"DIV\"), e.insertBefore(i, r), E(i, t));\n        }\n\n        function R(e) {\n          this.isShiftDown = e.shiftKey;\n        }\n\n        function D(e, t, n) {\n          var o, i;\n          if (e || (e = {}), t) for (o in t) {\n            !n && o in e || (i = t[o], e[o] = i && i.constructor === Object ? D(e[o], i, n) : i);\n          }\n          return e;\n        }\n\n        function P(e, t) {\n          e.nodeType === W && (e = e.body);\n          var n,\n              o = e.ownerDocument,\n              i = o.defaultView;\n          this._win = i, this._doc = o, this._root = e, this._events = {}, this._isFocused = !1, this._lastSelection = null, ae && this.addEventListener(\"beforedeactivate\", this.getSelection), this._hasZWS = !1, this._lastAnchorNode = null, this._lastFocusNode = null, this._path = \"\", this._willUpdatePath = !1, \"onselectionchange\" in o ? this.addEventListener(\"selectionchange\", this._updatePathOnEvent) : (this.addEventListener(\"keyup\", this._updatePathOnEvent), this.addEventListener(\"mouseup\", this._updatePathOnEvent)), this._undoIndex = -1, this._undoStack = [], this._undoStackLength = 0, this._isInUndoState = !1, this._ignoreChange = !1, this._ignoreAllChanges = !1, se ? (n = new MutationObserver(this._docWasChanged.bind(this)), n.observe(e, {\n            childList: !0,\n            attributes: !0,\n            characterData: !0,\n            subtree: !0\n          }), this._mutation = n) : this.addEventListener(\"keyup\", this._keyUpDetectChange), this._restoreSelection = !1, this.addEventListener(\"blur\", U), this.addEventListener(\"mousedown\", I), this.addEventListener(\"touchstart\", I), this.addEventListener(\"focus\", w), this._awaitingPaste = !1, this.addEventListener(X ? \"beforecut\" : \"cut\", nt), this.addEventListener(\"copy\", ot), this.addEventListener(\"keydown\", R), this.addEventListener(\"keyup\", R), this.addEventListener(X ? \"beforepaste\" : \"paste\", it), this.addEventListener(\"drop\", rt), this.addEventListener(J ? \"keypress\" : \"keydown\", Ie), this._keyHandlers = Object.create(He), this.setConfig(t), X && (i.Text.prototype.splitText = function (e) {\n            var t = this.ownerDocument.createTextNode(this.data.slice(e)),\n                n = this.nextSibling,\n                o = this.parentNode,\n                i = this.length - e;\n            return n ? o.insertBefore(t, n) : o.appendChild(t), i && this.deleteData(e, i), t;\n          }), e.setAttribute(\"contenteditable\", \"true\");\n\n          try {\n            o.execCommand(\"enableObjectResizing\", !1, \"false\"), o.execCommand(\"enableInlineTableEditing\", !1, \"false\");\n          } catch (e) {}\n\n          e.__squire__ = this, this.setHTML(\"\");\n        }\n\n        function U() {\n          this._restoreSelection = !0;\n        }\n\n        function I() {\n          this._restoreSelection = !1;\n        }\n\n        function w() {\n          this._restoreSelection && this.setSelection(this._lastSelection);\n        }\n\n        function F(e, t, n) {\n          var o, i;\n\n          for (o = t.firstChild; o; o = i) {\n            if (i = o.nextSibling, a(o)) {\n              if (o.nodeType === H || \"BR\" === o.nodeName || \"IMG\" === o.nodeName) {\n                n.appendChild(o);\n                continue;\n              }\n            } else if (s(o)) {\n              n.appendChild(e.createDefaultBlock([F(e, o, e._doc.createDocumentFragment())]));\n              continue;\n            }\n\n            F(e, o, n);\n          }\n\n          return n;\n        }\n\n        var M = 1,\n            H = 3,\n            W = 9,\n            z = 11,\n            q = 1,\n            K = \"​\",\n            G = e.defaultView,\n            Z = navigator.userAgent,\n            j = /Android/.test(Z),\n            Q = /iP(?:ad|hone|od)/.test(Z),\n            $ = /Mac OS X/.test(Z),\n            V = /Windows NT/.test(Z),\n            Y = /Gecko\\//.test(Z),\n            X = /Trident\\/[456]\\./.test(Z),\n            J = !!G.opera,\n            ee = /Edge\\//.test(Z),\n            te = !ee && /WebKit\\//.test(Z),\n            ne = /Trident\\/[4567]\\./.test(Z),\n            oe = $ ? \"meta-\" : \"ctrl-\",\n            ie = X || J,\n            re = X || te,\n            ae = X,\n            se = \"undefined\" != typeof MutationObserver,\n            de = \"undefined\" != typeof WeakMap,\n            le = /[^ \\t\\r\\n]/,\n            ce = Array.prototype.indexOf;\n        Object.create || (Object.create = function (e) {\n          var t = function t() {};\n\n          return t.prototype = e, new t();\n        });\n\n        var he = {\n          1: 1,\n          2: 2,\n          3: 4,\n          8: 128,\n          9: 256,\n          11: 1024\n        },\n            ue = function ue() {\n          return !0;\n        };\n\n        n.prototype.nextNode = function () {\n          for (var e, t = this.currentNode, n = this.root, o = this.nodeType, i = this.filter;;) {\n            for (e = t.firstChild; !e && t && t !== n;) {\n              (e = t.nextSibling) || (t = t.parentNode);\n            }\n\n            if (!e) return null;\n            if (he[e.nodeType] & o && i(e)) return this.currentNode = e, e;\n            t = e;\n          }\n        }, n.prototype.previousNode = function () {\n          for (var e, t = this.currentNode, n = this.root, o = this.nodeType, i = this.filter;;) {\n            if (t === n) return null;\n            if (e = t.previousSibling) for (; t = e.lastChild;) {\n              e = t;\n            } else e = t.parentNode;\n            if (!e) return null;\n            if (he[e.nodeType] & o && i(e)) return this.currentNode = e, e;\n            t = e;\n          }\n        }, n.prototype.previousPONode = function () {\n          for (var e, t = this.currentNode, n = this.root, o = this.nodeType, i = this.filter;;) {\n            for (e = t.lastChild; !e && t && t !== n;) {\n              (e = t.previousSibling) || (t = t.parentNode);\n            }\n\n            if (!e) return null;\n            if (he[e.nodeType] & o && i(e)) return this.currentNode = e, e;\n            t = e;\n          }\n        };\n\n        var fe = /^(?:#text|A(?:BBR|CRONYM)?|B(?:R|D[IO])?|C(?:ITE|ODE)|D(?:ATA|EL|FN)|EM|FONT|I(?:FRAME|MG|NPUT|NS)?|KBD|Q|R(?:P|T|UBY)|S(?:AMP|MALL|PAN|TR(?:IKE|ONG)|U[BP])?|TIME|U|VAR|WBR)$/,\n            pe = {\n          BR: 1,\n          HR: 1,\n          IFRAME: 1,\n          IMG: 1,\n          INPUT: 1\n        },\n            ge = 0,\n            me = 1,\n            ve = 2,\n            Ne = 3,\n            Ce = de ? new WeakMap() : null,\n            _e = function _e(e, t) {\n          for (var n = e.childNodes; t && e.nodeType === M;) {\n            e = n[t - 1], n = e.childNodes, t = n.length;\n          }\n\n          return e;\n        },\n            Se = function Se(e, t) {\n          if (e.nodeType === M) {\n            var n = e.childNodes;\n            if (t < n.length) e = n[t];else {\n              for (; e && !e.nextSibling;) {\n                e = e.parentNode;\n              }\n\n              e && (e = e.nextSibling);\n            }\n          }\n\n          return e;\n        },\n            ye = function ye(e, t) {\n          var n,\n              o,\n              i,\n              r,\n              a = e.startContainer,\n              s = e.startOffset,\n              d = e.endContainer,\n              l = e.endOffset;\n          a.nodeType === H ? (n = a.parentNode, o = n.childNodes, s === a.length ? (s = ce.call(o, a) + 1, e.collapsed && (d = n, l = s)) : (s && (r = a.splitText(s), d === a ? (l -= s, d = r) : d === n && (l += 1), a = r), s = ce.call(o, a)), a = n) : o = a.childNodes, i = o.length, s === i ? a.appendChild(t) : a.insertBefore(t, o[s]), a === d && (l += o.length - i), e.setStart(a, s), e.setEnd(d, l);\n        },\n            Te = function Te(e, t, n) {\n          var o = e.startContainer,\n              i = e.startOffset,\n              r = e.endContainer,\n              a = e.endOffset;\n          t || (t = e.commonAncestorContainer), t.nodeType === H && (t = t.parentNode);\n\n          for (var s, d, l, c, h, u = k(r, a, t, n), f = k(o, i, t, n), p = t.ownerDocument.createDocumentFragment(); f !== u;) {\n            s = f.nextSibling, p.appendChild(f), f = s;\n          }\n\n          return o = t, i = u ? ce.call(t.childNodes, u) : t.childNodes.length, l = t.childNodes[i], d = l && l.previousSibling, d && d.nodeType === H && l.nodeType === H && (o = d, i = d.length, c = d.data, h = l.data, \" \" === c.charAt(c.length - 1) && \" \" === h.charAt(0) && (h = \" \" + h.slice(1)), d.appendData(h), _(l)), e.setStart(o, i), e.collapse(!0), E(t, n), p;\n        },\n            Ee = function Ee(e, t) {\n          var n,\n              o,\n              i = Le(e, t),\n              r = Be(e, t),\n              a = i !== r;\n          return xe(e), Ae(e, i, r, t), n = Te(e, null, t), xe(e), a && (r = Be(e, t), i && r && i !== r && B(i, r, e, t)), i && E(i, t), o = t.firstChild, o && \"BR\" !== o.nodeName ? e.collapse(!0) : (E(t, t), e.selectNodeContents(t.firstChild)), n;\n        },\n            be = function be(e, t, n) {\n          var o, i, r, s, l, u, f, p, v, N;\n\n          for (b(t, n), o = t; o = h(o, n);) {\n            E(o, n);\n          }\n\n          if (e.collapsed || Ee(e, n), xe(e), e.collapse(!1), s = g(e.endContainer, n, \"BLOCKQUOTE\") || n, i = Le(e, n), f = h(t, t), i && f && !m(f, t, /PRE|TABLE|H[1-6]|OL|UL|BLOCKQUOTE/)) {\n            if (Ae(e, i, i, n), e.collapse(!0), l = e.endContainer, u = e.endOffset, et(i, n, !1), a(l) && (p = k(l, u, c(l, n), n), l = p.parentNode, u = ce.call(l.childNodes, p)), u !== C(l)) for (r = n.ownerDocument.createDocumentFragment(); o = l.childNodes[u];) {\n              r.appendChild(o);\n            }\n            B(l, f, e, n), u = ce.call(l.parentNode.childNodes, l) + 1, l = l.parentNode, e.setEnd(l, u);\n          }\n\n          C(t) && (Ae(e, s, s, n), p = k(e.endContainer, e.endOffset, s, n), v = p ? p.previousSibling : s.lastChild, s.insertBefore(t, p), p ? e.setEndBefore(p) : e.setEnd(s, C(s)), i = Be(e, n), xe(e), l = e.endContainer, u = e.endOffset, p && d(p) && O(p, n), p = v && v.nextSibling, p && d(p) && O(p, n), e.setEnd(l, u)), r && (N = e.cloneRange(), B(i, r, N, n), e.setEnd(N.endContainer, N.endOffset)), xe(e);\n        },\n            ke = function ke(e, t, n) {\n          var o = t.ownerDocument.createRange();\n\n          if (o.selectNode(t), n) {\n            var i = e.compareBoundaryPoints(3, o) > -1,\n                r = e.compareBoundaryPoints(1, o) < 1;\n            return !i && !r;\n          }\n\n          var a = e.compareBoundaryPoints(0, o) < 1,\n              s = e.compareBoundaryPoints(2, o) > -1;\n          return a && s;\n        },\n            xe = function xe(e) {\n          for (var t, n = e.startContainer, o = e.startOffset, r = e.endContainer, a = e.endOffset, s = !0; n.nodeType !== H && (t = n.childNodes[o]) && !i(t);) {\n            n = t, o = 0;\n          }\n\n          if (a) for (; r.nodeType !== H;) {\n            if (!(t = r.childNodes[a - 1]) || i(t)) {\n              if (s && t && \"BR\" === t.nodeName) {\n                a -= 1, s = !1;\n                continue;\n              }\n\n              break;\n            }\n\n            r = t, a = C(r);\n          } else for (; r.nodeType !== H && (t = r.firstChild) && !i(t);) {\n            r = t;\n          }\n          e.collapsed ? (e.setStart(r, a), e.setEnd(n, o)) : (e.setStart(n, o), e.setEnd(r, a));\n        },\n            Ae = function Ae(e, t, n, o) {\n          var i,\n              r = e.startContainer,\n              a = e.startOffset,\n              s = e.endContainer,\n              d = e.endOffset,\n              l = !0;\n\n          for (t || (t = e.commonAncestorContainer), n || (n = t); !a && r !== t && r !== o;) {\n            i = r.parentNode, a = ce.call(i.childNodes, r), r = i;\n          }\n\n          for (;;) {\n            if (l && s.nodeType !== H && s.childNodes[d] && \"BR\" === s.childNodes[d].nodeName && (d += 1, l = !1), s === n || s === o || d !== C(s)) break;\n            i = s.parentNode, d = ce.call(i.childNodes, s) + 1, s = i;\n          }\n\n          e.setStart(r, a), e.setEnd(s, d);\n        },\n            Le = function Le(e, t) {\n          var n,\n              o = e.startContainer;\n          return a(o) ? n = c(o, t) : o !== t && s(o) ? n = o : (n = _e(o, e.startOffset), n = h(n, t)), n && ke(e, n, !0) ? n : null;\n        },\n            Be = function Be(e, t) {\n          var n,\n              o,\n              i = e.endContainer;\n          if (a(i)) n = c(i, t);else if (i !== t && s(i)) n = i;else {\n            if (!(n = Se(i, e.endOffset)) || !v(t, n)) for (n = t; o = n.lastChild;) {\n              n = o;\n            }\n            n = c(n, t);\n          }\n          return n && ke(e, n, !0) ? n : null;\n        },\n            Oe = new n(null, 4 | q, function (e) {\n          return e.nodeType === H ? le.test(e.data) : \"IMG\" === e.nodeName;\n        }),\n            Re = function Re(e, t) {\n          var n,\n              o = e.startContainer,\n              i = e.startOffset;\n\n          if (Oe.root = null, o.nodeType === H) {\n            if (i) return !1;\n            n = o;\n          } else if (n = Se(o, i), n && !v(t, n) && (n = null), !n && (n = _e(o, i), n.nodeType === H && n.length)) return !1;\n\n          return Oe.currentNode = n, Oe.root = Le(e, t), !Oe.previousNode();\n        },\n            De = function De(e, t) {\n          var n,\n              o = e.endContainer,\n              i = e.endOffset;\n\n          if (Oe.root = null, o.nodeType === H) {\n            if ((n = o.data.length) && i < n) return !1;\n            Oe.currentNode = o;\n          } else Oe.currentNode = _e(o, i);\n\n          return Oe.root = Be(e, t), !Oe.nextNode();\n        },\n            Pe = function Pe(e, t) {\n          var n,\n              o = Le(e, t),\n              i = Be(e, t);\n          o && i && (n = o.parentNode, e.setStart(n, ce.call(n.childNodes, o)), n = i.parentNode, e.setEnd(n, ce.call(n.childNodes, i) + 1));\n        },\n            Ue = {\n          8: \"backspace\",\n          9: \"tab\",\n          13: \"enter\",\n          32: \"space\",\n          33: \"pageup\",\n          34: \"pagedown\",\n          37: \"left\",\n          39: \"right\",\n          46: \"delete\",\n          219: \"[\",\n          221: \"]\"\n        },\n            Ie = function Ie(e) {\n          var t = e.keyCode,\n              n = Ue[t],\n              o = \"\",\n              i = this.getSelection();\n          e.defaultPrevented || (n || (n = String.fromCharCode(t).toLowerCase(), /^[A-Za-z0-9]$/.test(n) || (n = \"\")), J && 46 === e.which && (n = \".\"), 111 < t && t < 124 && (n = \"f\" + (t - 111)), \"backspace\" !== n && \"delete\" !== n && (e.altKey && (o += \"alt-\"), e.ctrlKey && (o += \"ctrl-\"), e.metaKey && (o += \"meta-\")), e.shiftKey && (o += \"shift-\"), n = o + n, this._keyHandlers[n] ? this._keyHandlers[n](this, e, i) : i.collapsed || e.isComposing || e.ctrlKey || e.metaKey || 1 !== (ne ? n : e.key || n).length || (this.saveUndoState(i), Ee(i, this._root), this._ensureBottomLine(), this.setSelection(i), this._updatePath(i, !0)));\n        },\n            we = function we(e) {\n          return function (t, n) {\n            n.preventDefault(), t[e]();\n          };\n        },\n            Fe = function Fe(e, t) {\n          return t = t || null, function (n, o) {\n            o.preventDefault();\n            var i = n.getSelection();\n            n.hasFormat(e, null, i) ? n.changeFormat(null, {\n              tag: e\n            }, i) : n.changeFormat({\n              tag: e\n            }, t, i);\n          };\n        },\n            Me = function Me(e, t) {\n          try {\n            t || (t = e.getSelection());\n            var n,\n                o = t.startContainer;\n\n            for (o.nodeType === H && (o = o.parentNode), n = o; a(n) && (!n.textContent || n.textContent === K);) {\n              o = n, n = o.parentNode;\n            }\n\n            o !== n && (t.setStart(n, ce.call(n.childNodes, o)), t.collapse(!0), n.removeChild(o), s(n) || (n = c(n, e._root)), E(n, e._root), xe(t)), o === e._root && (o = o.firstChild) && \"BR\" === o.nodeName && _(o), e._ensureBottomLine(), e.setSelection(t), e._updatePath(t, !0);\n          } catch (t) {\n            e.didError(t);\n          }\n        },\n            He = {\n          enter: function enter(e, t, n) {\n            var o,\n                i,\n                r,\n                a,\n                s,\n                d = e._root;\n            if (t.preventDefault(), e._recordUndoState(n), yt(n.startContainer, d, e), e._removeZWS(), e._getRangeAndRemoveBookmark(n), n.collapsed || Ee(n, d), (o = Le(n, d)) && (i = g(o, d, \"PRE\"))) return xe(n), r = n.startContainer, a = n.startOffset, r.nodeType !== H && (r = e._doc.createTextNode(\"\"), i.insertBefore(r, i.firstChild)), t.shiftKey || \"\\n\" !== r.data.charAt(a - 1) && !Re(n, d) || \"\\n\" !== r.data.charAt(a) && !De(n, d) ? (r.insertData(a, \"\\n\"), E(i, d), r.length === a + 1 ? n.setStartAfter(r) : n.setStart(r, a + 1)) : (r.deleteData(a && a - 1, a ? 2 : 1), s = k(r, a && a - 1, d, d), r = s.previousSibling, r.textContent || _(r), r = e.createDefaultBlock(), s.parentNode.insertBefore(r, s), s.textContent || _(s), n.setStart(r, 0)), n.collapse(!0), e.setSelection(n), e._updatePath(n, !0), void e._docWasChanged();\n            if (!o || t.shiftKey || /^T[HD]$/.test(o.nodeName)) return i = g(n.endContainer, d, \"A\"), i && (i = i.parentNode, Ae(n, i, i, d), n.collapse(!1)), ye(n, e.createElement(\"BR\")), n.collapse(!1), e.setSelection(n), void e._updatePath(n, !0);\n\n            if ((i = g(o, d, \"LI\")) && (o = i), u(o)) {\n              if (g(o, d, \"UL\") || g(o, d, \"OL\")) return e.decreaseListLevel(n);\n              if (g(o, d, \"BLOCKQUOTE\")) return e.modifyBlocks(mt, n);\n            }\n\n            for (s = ft(e, o, n.startContainer, n.startOffset), ct(o), Ye(o), E(o, d); s.nodeType === M;) {\n              var l,\n                  c = s.firstChild;\n\n              if (\"A\" === s.nodeName && (!s.textContent || s.textContent === K)) {\n                c = e._doc.createTextNode(\"\"), S(s, c), s = c;\n                break;\n              }\n\n              for (; c && c.nodeType === H && !c.data && (l = c.nextSibling) && \"BR\" !== l.nodeName;) {\n                _(c), c = l;\n              }\n\n              if (!c || \"BR\" === c.nodeName || c.nodeType === H && !J) break;\n              s = c;\n            }\n\n            n = e.createRange(s, 0), e.setSelection(n), e._updatePath(n, !0);\n          },\n          \"shift-enter\": function shiftEnter(e, t, n) {\n            return e._keyHandlers.enter(e, t, n);\n          },\n          backspace: function backspace(e, t, n) {\n            var o = e._root;\n            if (e._removeZWS(), e.saveUndoState(n), n.collapsed) {\n              if (Re(n, o)) {\n                t.preventDefault();\n                var i,\n                    r = Le(n, o);\n                if (!r) return;\n\n                if (b(r.parentNode, o), i = c(r, o)) {\n                  if (!i.isContentEditable) {\n                    for (; !i.parentNode.isContentEditable;) {\n                      i = i.parentNode;\n                    }\n\n                    return void _(i);\n                  }\n\n                  for (B(i, r, n, o), r = i.parentNode; r !== o && !r.nextSibling;) {\n                    r = r.parentNode;\n                  }\n\n                  r !== o && (r = r.nextSibling) && O(r, o), e.setSelection(n);\n                } else if (r) {\n                  if (g(r, o, \"UL\") || g(r, o, \"OL\")) return e.decreaseListLevel(n);\n                  if (g(r, o, \"BLOCKQUOTE\")) return e.modifyBlocks(gt, n);\n                  e.setSelection(n), e._updatePath(n, !0);\n                }\n              } else e.setSelection(n), setTimeout(function () {\n                Me(e);\n              }, 0);\n            } else t.preventDefault(), Ee(n, o), Me(e, n);\n          },\n          delete: function _delete(e, t, n) {\n            var o,\n                i,\n                r,\n                a,\n                s,\n                d,\n                l = e._root;\n            if (e._removeZWS(), e.saveUndoState(n), n.collapsed) {\n              if (De(n, l)) {\n                if (t.preventDefault(), !(o = Le(n, l))) return;\n\n                if (b(o.parentNode, l), i = h(o, l)) {\n                  if (!i.isContentEditable) {\n                    for (; !i.parentNode.isContentEditable;) {\n                      i = i.parentNode;\n                    }\n\n                    return void _(i);\n                  }\n\n                  for (B(o, i, n, l), i = o.parentNode; i !== l && !i.nextSibling;) {\n                    i = i.parentNode;\n                  }\n\n                  i !== l && (i = i.nextSibling) && O(i, l), e.setSelection(n), e._updatePath(n, !0);\n                }\n              } else {\n                if (r = n.cloneRange(), Ae(n, l, l, l), a = n.endContainer, s = n.endOffset, a.nodeType === M && (d = a.childNodes[s]) && \"IMG\" === d.nodeName) return t.preventDefault(), _(d), xe(n), void Me(e, n);\n                e.setSelection(r), setTimeout(function () {\n                  Me(e);\n                }, 0);\n              }\n            } else t.preventDefault(), Ee(n, l), Me(e, n);\n          },\n          tab: function tab(e, t, n) {\n            var o,\n                i,\n                r = e._root;\n            if (e._removeZWS(), n.collapsed && Re(n, r)) for (o = Le(n, r); i = o.parentNode;) {\n              if (\"UL\" === i.nodeName || \"OL\" === i.nodeName) {\n                t.preventDefault(), e.increaseListLevel(n);\n                break;\n              }\n\n              o = i;\n            }\n          },\n          \"shift-tab\": function shiftTab(e, t, n) {\n            var o,\n                i = e._root;\n            e._removeZWS(), n.collapsed && Re(n, i) && (o = n.startContainer, (g(o, i, \"UL\") || g(o, i, \"OL\")) && (t.preventDefault(), e.decreaseListLevel(n)));\n          },\n          space: function space(e, t, n) {\n            var o,\n                i = e._root;\n            if (e._recordUndoState(n), yt(n.startContainer, i, e), e._getRangeAndRemoveBookmark(n), o = n.endContainer, n.collapsed && n.endOffset === C(o)) do {\n              if (\"A\" === o.nodeName) {\n                n.setStartAfter(o);\n                break;\n              }\n            } while (!o.nextSibling && (o = o.parentNode) && o !== i);\n            n.collapsed || (Ee(n, i), e._ensureBottomLine(), e.setSelection(n), e._updatePath(n, !0)), e.setSelection(n);\n          },\n          left: function left(e) {\n            e._removeZWS();\n          },\n          right: function right(e) {\n            e._removeZWS();\n          }\n        };\n\n        $ && Y && (He[\"meta-left\"] = function (e, t) {\n          t.preventDefault();\n          var n = lt(e);\n          n && n.modify && n.modify(\"move\", \"backward\", \"lineboundary\");\n        }, He[\"meta-right\"] = function (e, t) {\n          t.preventDefault();\n          var n = lt(e);\n          n && n.modify && n.modify(\"move\", \"forward\", \"lineboundary\");\n        }), $ || (He.pageup = function (e) {\n          e.moveCursorToStart();\n        }, He.pagedown = function (e) {\n          e.moveCursorToEnd();\n        }), He[oe + \"b\"] = Fe(\"B\"), He[oe + \"i\"] = Fe(\"I\"), He[oe + \"u\"] = Fe(\"U\"), He[oe + \"shift-7\"] = Fe(\"S\"), He[oe + \"shift-5\"] = Fe(\"SUB\", {\n          tag: \"SUP\"\n        }), He[oe + \"shift-6\"] = Fe(\"SUP\", {\n          tag: \"SUB\"\n        }), He[oe + \"shift-8\"] = we(\"makeUnorderedList\"), He[oe + \"shift-9\"] = we(\"makeOrderedList\"), He[oe + \"[\"] = we(\"decreaseQuoteLevel\"), He[oe + \"]\"] = we(\"increaseQuoteLevel\"), He[oe + \"d\"] = we(\"toggleCode\"), He[oe + \"y\"] = we(\"redo\"), He[oe + \"z\"] = we(\"undo\"), He[oe + \"shift-z\"] = we(\"redo\");\n\n        var We = {\n          1: 10,\n          2: 13,\n          3: 16,\n          4: 18,\n          5: 24,\n          6: 32,\n          7: 48\n        },\n            ze = {\n          backgroundColor: {\n            regexp: le,\n            replace: function replace(e, t, n) {\n              return T(e, \"SPAN\", {\n                class: t.highlight,\n                style: \"background-color:\" + n\n              });\n            }\n          },\n          color: {\n            regexp: le,\n            replace: function replace(e, t, n) {\n              return T(e, \"SPAN\", {\n                class: t.colour,\n                style: \"color:\" + n\n              });\n            }\n          },\n          fontWeight: {\n            regexp: /^bold|^700/i,\n            replace: function replace(e) {\n              return T(e, \"B\");\n            }\n          },\n          fontStyle: {\n            regexp: /^italic/i,\n            replace: function replace(e) {\n              return T(e, \"I\");\n            }\n          },\n          fontFamily: {\n            regexp: le,\n            replace: function replace(e, t, n) {\n              return T(e, \"SPAN\", {\n                class: t.fontFamily,\n                style: \"font-family:\" + n\n              });\n            }\n          },\n          fontSize: {\n            regexp: le,\n            replace: function replace(e, t, n) {\n              return T(e, \"SPAN\", {\n                class: t.fontSize,\n                style: \"font-size:\" + n\n              });\n            }\n          },\n          textDecoration: {\n            regexp: /^underline/i,\n            replace: function replace(e) {\n              return T(e, \"U\");\n            }\n          }\n        },\n            qe = function qe(e) {\n          return function (t, n) {\n            var o = T(t.ownerDocument, e);\n            return n.replaceChild(o, t), o.appendChild(y(t)), o;\n          };\n        },\n            Ke = function Ke(e, t, n) {\n          var o,\n              i,\n              r,\n              a,\n              s,\n              d,\n              l = e.style,\n              c = e.ownerDocument;\n\n          for (o in ze) {\n            i = ze[o], (r = l[o]) && i.regexp.test(r) && (d = i.replace(c, n.classNames, r), s || (s = d), a && a.appendChild(d), a = d, e.style[o] = \"\");\n          }\n\n          return s && (a.appendChild(y(e)), \"SPAN\" === e.nodeName ? t.replaceChild(s, e) : e.appendChild(s)), a || e;\n        },\n            Ge = {\n          P: Ke,\n          SPAN: Ke,\n          STRONG: qe(\"B\"),\n          EM: qe(\"I\"),\n          INS: qe(\"U\"),\n          STRIKE: qe(\"S\"),\n          FONT: function FONT(e, t, n) {\n            var o,\n                i,\n                r,\n                a,\n                s,\n                d = e.face,\n                l = e.size,\n                c = e.color,\n                h = e.ownerDocument,\n                u = n.classNames;\n            return d && (o = T(h, \"SPAN\", {\n              class: u.fontFamily,\n              style: \"font-family:\" + d\n            }), s = o, a = o), l && (i = T(h, \"SPAN\", {\n              class: u.fontSize,\n              style: \"font-size:\" + We[l] + \"px\"\n            }), s || (s = i), a && a.appendChild(i), a = i), c && /^#?([\\dA-F]{3}){1,2}$/i.test(c) && (\"#\" !== c.charAt(0) && (c = \"#\" + c), r = T(h, \"SPAN\", {\n              class: u.colour,\n              style: \"color:\" + c\n            }), s || (s = r), a && a.appendChild(r), a = r), s || (s = a = T(h, \"SPAN\")), t.replaceChild(s, e), a.appendChild(y(e)), a;\n          },\n          TT: function TT(e, t, n) {\n            var o = T(e.ownerDocument, \"SPAN\", {\n              class: n.classNames.fontFamily,\n              style: 'font-family:menlo,consolas,\"courier new\",monospace'\n            });\n            return t.replaceChild(o, e), o.appendChild(y(e)), o;\n          }\n        },\n            Ze = /^(?:A(?:DDRESS|RTICLE|SIDE|UDIO)|BLOCKQUOTE|CAPTION|D(?:[DLT]|IV)|F(?:IGURE|IGCAPTION|OOTER)|H[1-6]|HEADER|HR|L(?:ABEL|EGEND|I)|O(?:L|UTPUT)|P(?:RE)?|SECTION|T(?:ABLE|BODY|D|FOOT|H|HEAD|R)|COL(?:GROUP)?|UL)$/,\n            je = /^(?:HEAD|META|STYLE)/,\n            Qe = new n(null, 4 | q),\n            $e = function $e(e, t) {\n          var n,\n              o = t.allowedBlocks,\n              i = !1,\n              r = o.length;\n\n          if (r) {\n            for (n = 0; n < r; n += 1) {\n              o[n] = o[n].toUpperCase();\n            }\n\n            i = new RegExp(o.join(\"|\")).test(e);\n          }\n\n          return Ze.test(e) || i;\n        },\n            Ve = function e(t, n, o) {\n          var i,\n              r,\n              s,\n              d,\n              l,\n              c,\n              h,\n              u,\n              f,\n              p,\n              g,\n              m,\n              v = t.childNodes;\n\n          for (i = t; a(i);) {\n            i = i.parentNode;\n          }\n\n          for (Qe.root = i, r = 0, s = v.length; r < s; r += 1) {\n            if (d = v[r], l = d.nodeName, c = d.nodeType, h = Ge[l], c === M) {\n              if (u = d.childNodes.length, h) d = h(d, t, n);else {\n                if (je.test(l)) {\n                  t.removeChild(d), r -= 1, s -= 1;\n                  continue;\n                }\n\n                if (!$e(l, n) && !a(d)) {\n                  r -= 1, s += u - 1, t.replaceChild(y(d), d);\n                  continue;\n                }\n              }\n              u && e(d, n, o || \"PRE\" === l);\n            } else {\n              if (c === H) {\n                if (g = d.data, f = !le.test(g.charAt(0)), p = !le.test(g.charAt(g.length - 1)), o || !f && !p) continue;\n\n                if (f) {\n                  for (Qe.currentNode = d; (m = Qe.previousPONode()) && !(\"IMG\" === (l = m.nodeName) || \"#text\" === l && le.test(m.data));) {\n                    if (!a(m)) {\n                      m = null;\n                      break;\n                    }\n                  }\n\n                  g = g.replace(/^[ \\t\\r\\n]+/g, m ? \" \" : \"\");\n                }\n\n                if (p) {\n                  for (Qe.currentNode = d; (m = Qe.nextNode()) && !(\"IMG\" === l || \"#text\" === l && le.test(m.data));) {\n                    if (!a(m)) {\n                      m = null;\n                      break;\n                    }\n                  }\n\n                  g = g.replace(/[ \\t\\r\\n]+$/g, m ? \" \" : \"\");\n                }\n\n                if (g) {\n                  d.data = g;\n                  continue;\n                }\n              }\n\n              t.removeChild(d), r -= 1, s -= 1;\n            }\n          }\n\n          return t;\n        },\n            Ye = function e(t) {\n          for (var n, o = t.childNodes, r = o.length; r--;) {\n            n = o[r], n.nodeType !== M || i(n) ? n.nodeType !== H || n.data || t.removeChild(n) : (e(n), a(n) && !n.firstChild && t.removeChild(n));\n          }\n        },\n            Xe = function Xe(e) {\n          return e.nodeType === M ? \"BR\" === e.nodeName || \"IMG\" === e.nodeName : le.test(e.data);\n        },\n            Je = function Je(e, t) {\n          for (var o, i = e.parentNode; a(i);) {\n            i = i.parentNode;\n          }\n\n          return o = new n(i, 4 | q, Xe), o.currentNode = e, !!o.nextNode() || t && !o.previousNode();\n        },\n            et = function et(e, t, n) {\n          var o,\n              i,\n              r,\n              s = e.querySelectorAll(\"BR\"),\n              d = [],\n              l = s.length;\n\n          for (o = 0; o < l; o += 1) {\n            d[o] = Je(s[o], n);\n          }\n\n          for (; l--;) {\n            i = s[l], (r = i.parentNode) && (d[l] ? a(r) || b(r, t) : _(i));\n          }\n        },\n            tt = function tt(e, t, n, o) {\n          var i,\n              r,\n              a = t.ownerDocument.body,\n              s = o.willCutCopy;\n          et(t, n, !0), t.setAttribute(\"style\", \"position:fixed;overflow:hidden;bottom:100%;right:100%;\"), a.appendChild(t), i = t.innerHTML, r = t.innerText || t.textContent, s && (i = s(i)), V && (r = r.replace(/\\r?\\n/g, \"\\r\\n\")), e.setData(\"text/html\", i), e.setData(\"text/plain\", r), a.removeChild(t);\n        },\n            nt = function nt(e) {\n          var t,\n              n,\n              o,\n              i,\n              r,\n              a,\n              s,\n              d = e.clipboardData,\n              l = this.getSelection(),\n              c = this._root,\n              h = this;\n          if (l.collapsed) return void e.preventDefault();\n          if (this.saveUndoState(l), ee || Q || !d) setTimeout(function () {\n            try {\n              h._ensureBottomLine();\n            } catch (e) {\n              h.didError(e);\n            }\n          }, 0);else {\n            for (t = Le(l, c), n = Be(l, c), o = t === n && t || c, i = Ee(l, c), r = l.commonAncestorContainer, r.nodeType === H && (r = r.parentNode); r && r !== o;) {\n              a = r.cloneNode(!1), a.appendChild(i), i = a, r = r.parentNode;\n            }\n\n            s = this.createElement(\"div\"), s.appendChild(i), tt(d, s, c, this._config), e.preventDefault();\n          }\n          this.setSelection(l);\n        },\n            ot = function ot(e) {\n          var t,\n              n,\n              o,\n              i,\n              r,\n              a,\n              s,\n              d = e.clipboardData,\n              l = this.getSelection(),\n              c = this._root;\n\n          if (!ee && !Q && d) {\n            for (t = Le(l, c), n = Be(l, c), o = t === n && t || c, l = l.cloneRange(), xe(l), Ae(l, o, o, c), i = l.cloneContents(), r = l.commonAncestorContainer, r.nodeType === H && (r = r.parentNode); r && r !== o;) {\n              a = r.cloneNode(!1), a.appendChild(i), i = a, r = r.parentNode;\n            }\n\n            s = this.createElement(\"div\"), s.appendChild(i), tt(d, s, c, this._config), e.preventDefault();\n          }\n        },\n            it = function it(e) {\n          var t,\n              n,\n              o,\n              i,\n              r,\n              a = e.clipboardData,\n              s = a && a.items,\n              d = this.isShiftDown,\n              l = !1,\n              c = !1,\n              h = null,\n              u = this;\n\n          if (ee && s) {\n            for (t = s.length; t--;) {\n              !d && /^image\\/.*/.test(s[t].type) && (c = !0);\n            }\n\n            c || (s = null);\n          }\n\n          if (s) {\n            for (e.preventDefault(), t = s.length; t--;) {\n              if (n = s[t], o = n.type, !d && \"text/html\" === o) return void n.getAsString(function (e) {\n                u.insertHTML(e, !0);\n              });\n              \"text/plain\" === o && (h = n), !d && /^image\\/.*/.test(o) && (c = !0);\n            }\n\n            return void (c ? (this.fireEvent(\"dragover\", {\n              dataTransfer: a,\n              preventDefault: function preventDefault() {\n                l = !0;\n              }\n            }), l && this.fireEvent(\"drop\", {\n              dataTransfer: a\n            })) : h && h.getAsString(function (e) {\n              u.insertPlainText(e, !0);\n            }));\n          }\n\n          if (i = a && a.types, !ee && i && (ce.call(i, \"text/html\") > -1 || !Y && ce.call(i, \"text/plain\") > -1 && ce.call(i, \"text/rtf\") < 0)) return e.preventDefault(), void (!d && (r = a.getData(\"text/html\")) ? this.insertHTML(r, !0) : ((r = a.getData(\"text/plain\")) || (r = a.getData(\"text/uri-list\"))) && this.insertPlainText(r, !0));\n          this._awaitingPaste = !0;\n          var f = this._doc.body,\n              p = this.getSelection(),\n              g = p.startContainer,\n              m = p.startOffset,\n              v = p.endContainer,\n              N = p.endOffset,\n              C = this.createElement(\"DIV\", {\n            contenteditable: \"true\",\n            style: \"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;\"\n          });\n          f.appendChild(C), p.selectNodeContents(C), this.setSelection(p), setTimeout(function () {\n            try {\n              u._awaitingPaste = !1;\n\n              for (var e, t, n = \"\", o = C; C = o;) {\n                o = C.nextSibling, _(C), e = C.firstChild, e && e === C.lastChild && \"DIV\" === e.nodeName && (C = e), n += C.innerHTML;\n              }\n\n              t = u.createRange(g, m, v, N), u.setSelection(t), n && u.insertHTML(n, !0);\n            } catch (e) {\n              u.didError(e);\n            }\n          }, 0);\n        },\n            rt = function rt(e) {\n          for (var t = e.dataTransfer.types, n = t.length, o = !1, i = !1; n--;) {\n            switch (t[n]) {\n              case \"text/plain\":\n                o = !0;\n                break;\n\n              case \"text/html\":\n                i = !0;\n                break;\n\n              default:\n                return;\n            }\n          }\n\n          (i || o) && this.saveUndoState();\n        },\n            at = P.prototype,\n            st = function st(e, t, n) {\n          var o = n._doc,\n              i = e ? DOMPurify.sanitize(e, {\n            ALLOW_UNKNOWN_PROTOCOLS: !0,\n            WHOLE_DOCUMENT: !1,\n            RETURN_DOM: !0,\n            RETURN_DOM_FRAGMENT: !0\n          }) : null;\n          return i ? o.importNode(i, !0) : o.createDocumentFragment();\n        };\n\n        at.setConfig = function (e) {\n          return e = D({\n            blockTag: \"DIV\",\n            blockAttributes: null,\n            tagAttributes: {\n              blockquote: null,\n              ul: null,\n              ol: null,\n              li: null,\n              a: null\n            },\n            classNames: {\n              colour: \"colour\",\n              fontFamily: \"font\",\n              fontSize: \"size\",\n              highlight: \"highlight\"\n            },\n            leafNodeNames: pe,\n            undo: {\n              documentSizeThreshold: -1,\n              undoLimit: -1\n            },\n            isInsertedHTMLSanitized: !0,\n            isSetHTMLSanitized: !0,\n            sanitizeToDOMFragment: \"undefined\" != typeof DOMPurify && DOMPurify.isSupported ? st : null,\n            willCutCopy: null,\n            allowedBlocks: []\n          }, e, !0), e.blockTag = e.blockTag.toUpperCase(), this._config = e, this;\n        }, at.createElement = function (e, t, n) {\n          return T(this._doc, e, t, n);\n        }, at.createDefaultBlock = function (e) {\n          var t = this._config;\n          return E(this.createElement(t.blockTag, t.blockAttributes, e), this._root);\n        }, at.didError = function (e) {\n          console.log(e);\n        }, at.getDocument = function () {\n          return this._doc;\n        }, at.getRoot = function () {\n          return this._root;\n        }, at.modifyDocument = function (e) {\n          var t = this._mutation;\n          t && (t.takeRecords().length && this._docWasChanged(), t.disconnect()), this._ignoreAllChanges = !0, e(), this._ignoreAllChanges = !1, t && (t.observe(this._root, {\n            childList: !0,\n            attributes: !0,\n            characterData: !0,\n            subtree: !0\n          }), this._ignoreChange = !1);\n        };\n        var dt = {\n          pathChange: 1,\n          select: 1,\n          input: 1,\n          undoStateChange: 1\n        };\n        at.fireEvent = function (e, t) {\n          var n,\n              o,\n              i,\n              r = this._events[e];\n          if (/^(?:focus|blur)/.test(e)) if (n = this._root === this._doc.activeElement, \"focus\" === e) {\n            if (!n || this._isFocused) return this;\n            this._isFocused = !0;\n          } else {\n            if (n || !this._isFocused) return this;\n            this._isFocused = !1;\n          }\n          if (r) for (t || (t = {}), t.type !== e && (t.type = e), r = r.slice(), o = r.length; o--;) {\n            i = r[o];\n\n            try {\n              i.handleEvent ? i.handleEvent(t) : i.call(this, t);\n            } catch (t) {\n              t.details = \"Squire: fireEvent error. Event type: \" + e, this.didError(t);\n            }\n          }\n          return this;\n        }, at.destroy = function () {\n          var e,\n              t = this._events;\n\n          for (e in t) {\n            this.removeEventListener(e);\n          }\n\n          this._mutation && this._mutation.disconnect(), delete this._root.__squire__, this._undoIndex = -1, this._undoStack = [], this._undoStackLength = 0;\n        }, at.handleEvent = function (e) {\n          this.fireEvent(e.type, e);\n        }, at.addEventListener = function (e, t) {\n          var n = this._events[e],\n              o = this._root;\n          return t ? (n || (n = this._events[e] = [], dt[e] || (\"selectionchange\" === e && (o = this._doc), o.addEventListener(e, this, !0))), n.push(t), this) : (this.didError({\n            name: \"Squire: addEventListener with null or undefined fn\",\n            message: \"Event type: \" + e\n          }), this);\n        }, at.removeEventListener = function (e, t) {\n          var n,\n              o = this._events[e],\n              i = this._root;\n\n          if (o) {\n            if (t) for (n = o.length; n--;) {\n              o[n] === t && o.splice(n, 1);\n            } else o.length = 0;\n            o.length || (delete this._events[e], dt[e] || (\"selectionchange\" === e && (i = this._doc), i.removeEventListener(e, this, !0)));\n          }\n\n          return this;\n        }, at.createRange = function (e, t, n, o) {\n          if (e instanceof this._win.Range) return e.cloneRange();\n\n          var i = this._doc.createRange();\n\n          return i.setStart(e, t), n ? i.setEnd(n, o) : i.setEnd(e, t), i;\n        }, at.getCursorPosition = function (e) {\n          if (!e && !(e = this.getSelection()) || !e.getBoundingClientRect) return null;\n          var t,\n              n,\n              o = e.getBoundingClientRect();\n          return o && !o.top && (this._ignoreChange = !0, t = this._doc.createElement(\"SPAN\"), t.textContent = K, ye(e, t), o = t.getBoundingClientRect(), n = t.parentNode, n.removeChild(t), A(n, e)), o;\n        }, at._moveCursorTo = function (e) {\n          var t = this._root,\n              n = this.createRange(t, e ? 0 : t.childNodes.length);\n          return xe(n), this.setSelection(n), this;\n        }, at.moveCursorToStart = function () {\n          return this._moveCursorTo(!0);\n        }, at.moveCursorToEnd = function () {\n          return this._moveCursorTo(!1);\n        };\n\n        var lt = function lt(e) {\n          return e._win.getSelection() || null;\n        };\n\n        at.setSelection = function (e) {\n          if (e) if (this._lastSelection = e, this._isFocused) {\n            if (j && !this._restoreSelection) U.call(this), this.blur(), this.focus();else {\n              Q && this._win.focus();\n              var t = lt(this);\n              t && (t.removeAllRanges(), t.addRange(e));\n            }\n          } else U.call(this);\n          return this;\n        }, at.getSelection = function () {\n          var e,\n              t,\n              n,\n              o,\n              r = lt(this),\n              a = this._root;\n          return this._isFocused && r && r.rangeCount && (e = r.getRangeAt(0).cloneRange(), t = e.startContainer, n = e.endContainer, t && i(t) && e.setStartBefore(t), n && i(n) && e.setEndBefore(n)), e && v(a, e.commonAncestorContainer) ? this._lastSelection = e : (e = this._lastSelection, o = e.commonAncestorContainer, v(o.ownerDocument, o) || (e = null)), e || (e = this.createRange(a.firstChild, 0)), e;\n        }, at.getSelectedText = function () {\n          var e = this.getSelection();\n          if (!e || e.collapsed) return \"\";\n          var t,\n              o = new n(e.commonAncestorContainer, 4 | q, function (t) {\n            return ke(e, t, !0);\n          }),\n              i = e.startContainer,\n              r = e.endContainer,\n              s = o.currentNode = i,\n              d = \"\",\n              l = !1;\n\n          for (o.filter(s) || (s = o.nextNode()); s;) {\n            s.nodeType === H ? (t = s.data) && /\\S/.test(t) && (s === r && (t = t.slice(0, e.endOffset)), s === i && (t = t.slice(e.startOffset)), d += t, l = !0) : (\"BR\" === s.nodeName || l && !a(s)) && (d += \"\\n\", l = !1), s = o.nextNode();\n          }\n\n          return d;\n        }, at.getPath = function () {\n          return this._path;\n        };\n\n        var ct = function ct(e, t) {\n          for (var o, i, r, s = new n(e, 4); i = s.nextNode();) {\n            for (; (r = i.data.indexOf(K)) > -1 && (!t || i.parentNode !== t);) {\n              if (1 === i.length) {\n                do {\n                  o = i.parentNode, o.removeChild(i), i = o, s.currentNode = o;\n                } while (a(i) && !C(i));\n\n                break;\n              }\n\n              i.deleteData(r, 1);\n            }\n          }\n        };\n\n        at._didAddZWS = function () {\n          this._hasZWS = !0;\n        }, at._removeZWS = function () {\n          this._hasZWS && (ct(this._root), this._hasZWS = !1);\n        }, at._updatePath = function (e, t) {\n          if (e) {\n            var n,\n                o = e.startContainer,\n                i = e.endContainer;\n            (t || o !== this._lastAnchorNode || i !== this._lastFocusNode) && (this._lastAnchorNode = o, this._lastFocusNode = i, n = o && i ? o === i ? N(i, this._root, this._config) : \"(selection)\" : \"\", this._path !== n && (this._path = n, this.fireEvent(\"pathChange\", {\n              path: n\n            }))), this.fireEvent(e.collapsed ? \"cursor\" : \"select\", {\n              range: e\n            });\n          }\n        }, at._updatePathOnEvent = function (e) {\n          var t = this;\n          t._isFocused && !t._willUpdatePath && (t._willUpdatePath = !0, setTimeout(function () {\n            t._willUpdatePath = !1, t._updatePath(t.getSelection());\n          }, 0));\n        }, at.focus = function () {\n          if (ne) {\n            try {\n              this._root.setActive();\n            } catch (e) {}\n\n            this.fireEvent(\"focus\");\n          } else this._root.focus();\n\n          return this;\n        }, at.blur = function () {\n          return this._root.blur(), ne && this.fireEvent(\"blur\"), this;\n        };\n        var ht = \"squire-selection-end\";\n        at._saveRangeToBookmark = function (e) {\n          var t,\n              n = this.createElement(\"INPUT\", {\n            id: \"squire-selection-start\",\n            type: \"hidden\"\n          }),\n              o = this.createElement(\"INPUT\", {\n            id: ht,\n            type: \"hidden\"\n          });\n          ye(e, n), e.collapse(!1), ye(e, o), 2 & n.compareDocumentPosition(o) && (n.id = ht, o.id = \"squire-selection-start\", t = n, n = o, o = t), e.setStartAfter(n), e.setEndBefore(o);\n        }, at._getRangeAndRemoveBookmark = function (e) {\n          var t = this._root,\n              n = t.querySelector(\"#squire-selection-start\"),\n              o = t.querySelector(\"#\" + ht);\n\n          if (n && o) {\n            var i = n.parentNode,\n                r = o.parentNode,\n                a = ce.call(i.childNodes, n),\n                s = ce.call(r.childNodes, o);\n            i === r && (s -= 1), _(n), _(o), e || (e = this._doc.createRange()), e.setStart(i, a), e.setEnd(r, s), A(i, e), i !== r && A(r, e), e.collapsed && (i = e.startContainer, i.nodeType === H && (r = i.childNodes[e.startOffset], r && r.nodeType === H || (r = i.childNodes[e.startOffset - 1]), r && r.nodeType === H && (e.setStart(r, 0), e.collapse(!0))));\n          }\n\n          return e || null;\n        }, at._keyUpDetectChange = function (e) {\n          var t = e.keyCode;\n          e.ctrlKey || e.metaKey || e.altKey || !(t < 16 || t > 20) || !(t < 33 || t > 45) || this._docWasChanged();\n        }, at._docWasChanged = function () {\n          if (de && (Ce = new WeakMap()), !this._ignoreAllChanges) {\n            if (se && this._ignoreChange) return void (this._ignoreChange = !1);\n            this._isInUndoState && (this._isInUndoState = !1, this.fireEvent(\"undoStateChange\", {\n              canUndo: !0,\n              canRedo: !1\n            })), this.fireEvent(\"input\");\n          }\n        }, at._recordUndoState = function (e, t) {\n          if (!this._isInUndoState || t) {\n            var n,\n                o = this._undoIndex,\n                i = this._undoStack,\n                r = this._config.undo,\n                a = r.documentSizeThreshold,\n                s = r.undoLimit;\n            t || (o += 1), o < this._undoStackLength && (i.length = this._undoStackLength = o), e && this._saveRangeToBookmark(e), n = this._getHTML(), a > -1 && 2 * n.length > a && s > -1 && o > s && (i.splice(0, o - s), o = s, this._undoStackLength = s), i[o] = n, this._undoIndex = o, this._undoStackLength += 1, this._isInUndoState = !0;\n          }\n        }, at.saveUndoState = function (e) {\n          return e === t && (e = this.getSelection()), this._recordUndoState(e, this._isInUndoState), this._getRangeAndRemoveBookmark(e), this;\n        }, at.undo = function () {\n          if (0 !== this._undoIndex || !this._isInUndoState) {\n            this._recordUndoState(this.getSelection(), !1), this._undoIndex -= 1, this._setHTML(this._undoStack[this._undoIndex]);\n\n            var e = this._getRangeAndRemoveBookmark();\n\n            e && this.setSelection(e), this._isInUndoState = !0, this.fireEvent(\"undoStateChange\", {\n              canUndo: 0 !== this._undoIndex,\n              canRedo: !0\n            }), this.fireEvent(\"input\");\n          }\n\n          return this;\n        }, at.redo = function () {\n          var e = this._undoIndex,\n              t = this._undoStackLength;\n\n          if (e + 1 < t && this._isInUndoState) {\n            this._undoIndex += 1, this._setHTML(this._undoStack[this._undoIndex]);\n\n            var n = this._getRangeAndRemoveBookmark();\n\n            n && this.setSelection(n), this.fireEvent(\"undoStateChange\", {\n              canUndo: !0,\n              canRedo: e + 2 < t\n            }), this.fireEvent(\"input\");\n          }\n\n          return this;\n        }, at.hasFormat = function (e, t, o) {\n          if (e = e.toUpperCase(), t || (t = {}), !o && !(o = this.getSelection())) return !1;\n          !o.collapsed && o.startContainer.nodeType === H && o.startOffset === o.startContainer.length && o.startContainer.nextSibling && o.setStartBefore(o.startContainer.nextSibling), !o.collapsed && o.endContainer.nodeType === H && 0 === o.endOffset && o.endContainer.previousSibling && o.setEndAfter(o.endContainer.previousSibling);\n          var i,\n              r,\n              a = this._root,\n              s = o.commonAncestorContainer;\n          if (g(s, a, e, t)) return !0;\n          if (s.nodeType === H) return !1;\n          i = new n(s, 4, function (e) {\n            return ke(o, e, !0);\n          });\n\n          for (var d = !1; r = i.nextNode();) {\n            if (!g(r, a, e, t)) return !1;\n            d = !0;\n          }\n\n          return d;\n        }, at.getFontInfo = function (e) {\n          var n,\n              o,\n              i,\n              r = {\n            color: t,\n            backgroundColor: t,\n            family: t,\n            size: t\n          },\n              a = 0;\n          if (!e && !(e = this.getSelection())) return r;\n          if (n = e.commonAncestorContainer, e.collapsed || n.nodeType === H) for (n.nodeType === H && (n = n.parentNode); a < 4 && n;) {\n            (o = n.style) && (!r.color && (i = o.color) && (r.color = i, a += 1), !r.backgroundColor && (i = o.backgroundColor) && (r.backgroundColor = i, a += 1), !r.family && (i = o.fontFamily) && (r.family = i, a += 1), !r.size && (i = o.fontSize) && (r.size = i, a += 1)), n = n.parentNode;\n          }\n          return r;\n        }, at._addFormat = function (e, t, o) {\n          var i,\n              r,\n              s,\n              d,\n              l,\n              c,\n              h,\n              u,\n              f = this._root;\n\n          if (o.collapsed) {\n            for (i = E(this.createElement(e, t), f), ye(o, i), o.setStart(i.firstChild, i.firstChild.length), o.collapse(!0), u = i; a(u);) {\n              u = u.parentNode;\n            }\n\n            ct(u, i);\n          } else {\n            if (r = new n(o.commonAncestorContainer, 4 | q, function (e) {\n              return (e.nodeType === H || \"BR\" === e.nodeName || \"IMG\" === e.nodeName) && ke(o, e, !0);\n            }), s = o.startContainer, l = o.startOffset, d = o.endContainer, c = o.endOffset, r.currentNode = s, r.filter(s) || (s = r.nextNode(), l = 0), !s) return o;\n\n            do {\n              h = r.currentNode, !g(h, f, e, t) && (h === d && h.length > c && h.splitText(c), h === s && l && (h = h.splitText(l), d === s && (d = h, c -= l), s = h, l = 0), i = this.createElement(e, t), S(h, i), i.appendChild(h));\n            } while (r.nextNode());\n\n            d.nodeType !== H && (h.nodeType === H ? (d = h, c = h.length) : (d = h.parentNode, c = 1)), o = this.createRange(s, l, d, c);\n          }\n\n          return o;\n        }, at._removeFormat = function (e, t, n, o) {\n          this._saveRangeToBookmark(n);\n\n          var i,\n              r = this._doc;\n          n.collapsed && (re ? (i = r.createTextNode(K), this._didAddZWS()) : i = r.createTextNode(\"\"), ye(n, i));\n\n          for (var s = n.commonAncestorContainer; a(s);) {\n            s = s.parentNode;\n          }\n\n          var d = n.startContainer,\n              l = n.startOffset,\n              c = n.endContainer,\n              h = n.endOffset,\n              u = [],\n              f = function f(e, t) {\n            if (!ke(n, e, !1)) {\n              var o,\n                  i,\n                  r = e.nodeType === H;\n              if (!ke(n, e, !0)) return void (\"INPUT\" === e.nodeName || r && !e.data || u.push([t, e]));\n              if (r) e === c && h !== e.length && u.push([t, e.splitText(h)]), e === d && l && (e.splitText(l), u.push([t, e]));else for (o = e.firstChild; o; o = i) {\n                i = o.nextSibling, f(o, t);\n              }\n            }\n          },\n              g = Array.prototype.filter.call(s.getElementsByTagName(e), function (o) {\n            return ke(n, o, !0) && p(o, e, t);\n          });\n\n          return o || g.forEach(function (e) {\n            f(e, e);\n          }), u.forEach(function (e) {\n            var t = e[0].cloneNode(!1),\n                n = e[1];\n            S(n, t), t.appendChild(n);\n          }), g.forEach(function (e) {\n            S(e, y(e));\n          }), this._getRangeAndRemoveBookmark(n), i && n.collapse(!1), A(s, n), n;\n        }, at.changeFormat = function (e, t, n, o) {\n          return n || (n = this.getSelection()) ? (this.saveUndoState(n), t && (n = this._removeFormat(t.tag.toUpperCase(), t.attributes || {}, n, o)), e && (n = this._addFormat(e.tag.toUpperCase(), e.attributes || {}, n)), this.setSelection(n), this._updatePath(n, !0), se || this._docWasChanged(), this) : this;\n        };\n\n        var ut = {\n          DT: \"DD\",\n          DD: \"DT\",\n          LI: \"LI\",\n          PRE: \"PRE\"\n        },\n            ft = function ft(e, t, n, o) {\n          var i = ut[t.nodeName],\n              r = null,\n              a = k(n, o, t.parentNode, e._root),\n              s = e._config;\n          return i || (i = s.blockTag, r = s.blockAttributes), p(a, i, r) || (t = T(a.ownerDocument, i, r), a.dir && (t.dir = a.dir), S(a, t), t.appendChild(y(a)), a = t), a;\n        };\n\n        at.forEachBlock = function (e, t, n) {\n          if (!n && !(n = this.getSelection())) return this;\n          t && this.saveUndoState(n);\n          var o = this._root,\n              i = Le(n, o),\n              r = Be(n, o);\n          if (i && r) do {\n            if (e(i) || i === r) break;\n          } while (i = h(i, o));\n          return t && (this.setSelection(n), this._updatePath(n, !0), se || this._docWasChanged()), this;\n        }, at.modifyBlocks = function (e, t) {\n          if (!t && !(t = this.getSelection())) return this;\n\n          this._recordUndoState(t, this._isInUndoState);\n\n          var n,\n              o = this._root;\n          return Pe(t, o), Ae(t, o, o, o), n = Te(t, o, o), ye(t, e.call(this, n)), t.endOffset < t.endContainer.childNodes.length && O(t.endContainer.childNodes[t.endOffset], o), O(t.startContainer.childNodes[t.startOffset], o), this._getRangeAndRemoveBookmark(t), this.setSelection(t), this._updatePath(t, !0), se || this._docWasChanged(), this;\n        };\n\n        var pt = function pt(e) {\n          return this.createElement(\"BLOCKQUOTE\", this._config.tagAttributes.blockquote, [e]);\n        },\n            gt = function gt(e) {\n          var t = this._root,\n              n = e.querySelectorAll(\"blockquote\");\n          return Array.prototype.filter.call(n, function (e) {\n            return !g(e.parentNode, t, \"BLOCKQUOTE\");\n          }).forEach(function (e) {\n            S(e, y(e));\n          }), e;\n        },\n            mt = function mt() {\n          return this.createDefaultBlock([this.createElement(\"INPUT\", {\n            id: \"squire-selection-start\",\n            type: \"hidden\"\n          }), this.createElement(\"INPUT\", {\n            id: ht,\n            type: \"hidden\"\n          })]);\n        },\n            vt = function vt(e, t, n) {\n          for (var o, i, r, a, s = l(t, e._root), d = e._config.tagAttributes, c = d[n.toLowerCase()], h = d.li; o = s.nextNode();) {\n            \"LI\" === o.parentNode.nodeName && (o = o.parentNode, s.currentNode = o.lastChild), \"LI\" !== o.nodeName ? (a = e.createElement(\"LI\", h), o.dir && (a.dir = o.dir), (r = o.previousSibling) && r.nodeName === n ? (r.appendChild(a), _(o)) : S(o, e.createElement(n, c, [a])), a.appendChild(y(o)), s.currentNode = a) : (o = o.parentNode, (i = o.nodeName) !== n && /^[OU]L$/.test(i) && S(o, e.createElement(n, c, [y(o)])));\n          }\n        },\n            Nt = function Nt(e) {\n          return vt(this, e, \"UL\"), e;\n        },\n            Ct = function Ct(e) {\n          return vt(this, e, \"OL\"), e;\n        },\n            _t = function _t(e) {\n          var t,\n              n,\n              o,\n              i,\n              r,\n              a = e.querySelectorAll(\"UL, OL\"),\n              d = e.querySelectorAll(\"LI\"),\n              l = this._root;\n\n          for (t = 0, n = a.length; t < n; t += 1) {\n            o = a[t], i = y(o), b(i, l), S(o, i);\n          }\n\n          for (t = 0, n = d.length; t < n; t += 1) {\n            r = d[t], s(r) ? S(r, this.createDefaultBlock([y(r)])) : (b(r, l), S(r, y(r)));\n          }\n\n          return e;\n        },\n            St = function St(e, t) {\n          for (var n = e.commonAncestorContainer, o = e.startContainer, i = e.endContainer; n && n !== t && !/^[OU]L$/.test(n.nodeName);) {\n            n = n.parentNode;\n          }\n\n          if (!n || n === t) return null;\n\n          for (o === n && (o = o.childNodes[e.startOffset]), i === n && (i = i.childNodes[e.endOffset]); o && o.parentNode !== n;) {\n            o = o.parentNode;\n          }\n\n          for (; i && i.parentNode !== n;) {\n            i = i.parentNode;\n          }\n\n          return [n, o, i];\n        };\n\n        at.increaseListLevel = function (e) {\n          if (!e && !(e = this.getSelection())) return this.focus();\n          var t = this._root,\n              n = St(e, t);\n          if (!n) return this.focus();\n          var o = n[0],\n              i = n[1],\n              r = n[2];\n          if (!i || i === o.firstChild) return this.focus();\n\n          this._recordUndoState(e, this._isInUndoState);\n\n          var a,\n              s,\n              d = o.nodeName,\n              l = i.previousSibling;\n          l.nodeName !== d && (a = this._config.tagAttributes[d.toLowerCase()], l = this.createElement(d, a), o.insertBefore(l, i));\n\n          do {\n            s = i === r ? null : i.nextSibling, l.appendChild(i);\n          } while (i = s);\n\n          return s = l.nextSibling, s && O(s, t), this._getRangeAndRemoveBookmark(e), this.setSelection(e), this._updatePath(e, !0), se || this._docWasChanged(), this.focus();\n        }, at.decreaseListLevel = function (e) {\n          if (!e && !(e = this.getSelection())) return this.focus();\n          var t = this._root,\n              n = St(e, t);\n          if (!n) return this.focus();\n          var o = n[0],\n              i = n[1],\n              r = n[2];\n          i || (i = o.firstChild), r || (r = o.lastChild), this._recordUndoState(e, this._isInUndoState);\n          var a,\n              s = o.parentNode,\n              d = r.nextSibling ? k(o, r.nextSibling, s, t) : o.nextSibling;\n\n          if (s !== t && \"LI\" === s.nodeName) {\n            for (s = s.parentNode; d;) {\n              a = d.nextSibling, r.appendChild(d), d = a;\n            }\n\n            d = o.parentNode.nextSibling;\n          }\n\n          var l = !/^[OU]L$/.test(s.nodeName);\n\n          do {\n            a = i === r ? null : i.nextSibling, o.removeChild(i), l && \"LI\" === i.nodeName && (i = this.createDefaultBlock([y(i)])), s.insertBefore(i, d);\n          } while (i = a);\n\n          return o.firstChild || _(o), d && O(d, t), this._getRangeAndRemoveBookmark(e), this.setSelection(e), this._updatePath(e, !0), se || this._docWasChanged(), this.focus();\n        }, at._ensureBottomLine = function () {\n          var e = this._root,\n              t = e.lastElementChild;\n          t && t.nodeName === this._config.blockTag && s(t) || e.appendChild(this.createDefaultBlock());\n        }, at.setKeyHandler = function (e, t) {\n          return this._keyHandlers[e] = t, this;\n        }, at._getHTML = function () {\n          return this._root.innerHTML;\n        }, at._setHTML = function (e) {\n          var t = this._root,\n              n = t;\n          n.innerHTML = e;\n\n          do {\n            E(n, t);\n          } while (n = h(n, t));\n\n          this._ignoreChange = !0;\n        }, at.getHTML = function (e) {\n          var t,\n              n,\n              o,\n              i,\n              r,\n              a,\n              s = [];\n          if (e && (a = this.getSelection()) && this._saveRangeToBookmark(a), ie) for (t = this._root, n = t; n = h(n, t);) {\n            n.textContent || n.querySelector(\"BR\") || (o = this.createElement(\"BR\"), n.appendChild(o), s.push(o));\n          }\n          if (i = this._getHTML().replace(/\\u200B/g, \"\"), ie) for (r = s.length; r--;) {\n            _(s[r]);\n          }\n          return a && this._getRangeAndRemoveBookmark(a), i;\n        }, at.setHTML = function (e) {\n          var t,\n              n,\n              o,\n              i = this._config,\n              r = i.isSetHTMLSanitized ? i.sanitizeToDOMFragment : null,\n              a = this._root;\n          \"function\" == typeof r ? n = r(e, !1, this) : (t = this.createElement(\"DIV\"), t.innerHTML = e, n = this._doc.createDocumentFragment(), n.appendChild(y(t))), Ve(n, i), et(n, a, !1), b(n, a);\n\n          for (var s = n; s = h(s, a);) {\n            E(s, a);\n          }\n\n          for (this._ignoreChange = !0; o = a.lastChild;) {\n            a.removeChild(o);\n          }\n\n          a.appendChild(n), E(a, a), this._undoIndex = -1, this._undoStack.length = 0, this._undoStackLength = 0, this._isInUndoState = !1;\n          var d = this._getRangeAndRemoveBookmark() || this.createRange(a.firstChild, 0);\n          return this.saveUndoState(d), this._lastSelection = d, U.call(this), this._updatePath(d, !0), this;\n        }, at.insertElement = function (e, t) {\n          if (t || (t = this.getSelection()), t.collapse(!0), a(e)) ye(t, e), t.setStartAfter(e);else {\n            for (var n, o, i = this._root, r = Le(t, i) || i; r !== i && !r.nextSibling;) {\n              r = r.parentNode;\n            }\n\n            r !== i && (n = r.parentNode, o = k(n, r.nextSibling, i, i)), o ? i.insertBefore(e, o) : (i.appendChild(e), o = this.createDefaultBlock(), i.appendChild(o)), t.setStart(o, 0), t.setEnd(o, 0), xe(t);\n          }\n          return this.focus(), this.setSelection(t), this._updatePath(t), se || this._docWasChanged(), this;\n        }, at.insertImage = function (e, t) {\n          var n = this.createElement(\"IMG\", D({\n            src: e\n          }, t, !0));\n          return this.insertElement(n), n;\n        }, at.linkRegExp = /\\b((?:(?:ht|f)tps?:\\/\\/|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,}\\/)(?:[^\\s()<>]+|\\([^\\s()<>]+\\))+(?:\\((?:[^\\s()<>]+|(?:\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]))|([\\w\\-.%+]+@(?:[\\w\\-]+\\.)+[A-Z]{2,}\\b)(?:\\?[^&?\\s]+=[^&?\\s]+(?:&[^&?\\s]+=[^&?\\s]+)*)?/i;\n\n        var yt = function yt(e, t, o) {\n          var i,\n              r,\n              a,\n              s,\n              d,\n              l,\n              c,\n              h = e.ownerDocument,\n              u = new n(e, 4, function (e) {\n            return !g(e, t, \"A\");\n          }),\n              f = o.linkRegExp,\n              p = o._config.tagAttributes.a;\n          if (f) for (; i = u.nextNode();) {\n            for (r = i.data, a = i.parentNode; s = f.exec(r);) {\n              d = s.index, l = d + s[0].length, d && (c = h.createTextNode(r.slice(0, d)), a.insertBefore(c, i)), c = o.createElement(\"A\", D({\n                href: s[1] ? /^(?:ht|f)tps?:/i.test(s[1]) ? s[1] : \"http://\" + s[1] : \"mailto:\" + s[0]\n              }, p, !1)), c.textContent = r.slice(d, l), a.insertBefore(c, i), i.data = r = r.slice(l);\n            }\n          }\n        };\n\n        at.insertHTML = function (e, t) {\n          var n,\n              o,\n              i,\n              r,\n              a,\n              s,\n              d,\n              l = this._config,\n              c = l.isInsertedHTMLSanitized ? l.sanitizeToDOMFragment : null,\n              u = this.getSelection(),\n              f = this._doc;\n          \"function\" == typeof c ? r = c(e, t, this) : (t && (n = e.indexOf(\"\\x3c!--StartFragment--\\x3e\"), o = e.lastIndexOf(\"\\x3c!--EndFragment--\\x3e\"), n > -1 && o > -1 && (e = e.slice(n + 20, o))), /<\\/td>((?!<\\/tr>)[\\s\\S])*$/i.test(e) && (e = \"<TR>\" + e + \"</TR>\"), /<\\/tr>((?!<\\/table>)[\\s\\S])*$/i.test(e) && (e = \"<TABLE>\" + e + \"</TABLE>\"), i = this.createElement(\"DIV\"), i.innerHTML = e, r = f.createDocumentFragment(), r.appendChild(y(i))), this.saveUndoState(u);\n\n          try {\n            for (a = this._root, s = r, d = {\n              fragment: r,\n              preventDefault: function preventDefault() {\n                this.defaultPrevented = !0;\n              },\n              defaultPrevented: !1\n            }, yt(r, r, this), Ve(r, l), et(r, a, !1), Ye(r), r.normalize(); s = h(s, r);) {\n              E(s, a);\n            }\n\n            t && this.fireEvent(\"willPaste\", d), d.defaultPrevented || (be(u, d.fragment, a), se || this._docWasChanged(), u.collapse(!1), this._ensureBottomLine()), this.setSelection(u), this._updatePath(u, !0), t && this.focus();\n          } catch (e) {\n            this.didError(e);\n          }\n\n          return this;\n        };\n\n        var Tt = function Tt(e) {\n          return e.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\").split('\"').join(\"&quot;\");\n        };\n\n        at.insertPlainText = function (e, t) {\n          var n = this.getSelection();\n\n          if (n.collapsed && g(n.startContainer, this._root, \"PRE\")) {\n            var o,\n                i,\n                r = n.startContainer,\n                a = n.startOffset;\n            return r && r.nodeType === H || (o = this._doc.createTextNode(\"\"), r.insertBefore(o, r.childNodes[a]), r = o, a = 0), i = {\n              text: e,\n              preventDefault: function preventDefault() {\n                this.defaultPrevented = !0;\n              },\n              defaultPrevented: !1\n            }, t && this.fireEvent(\"willPaste\", i), i.defaultPrevented || (e = i.text, r.insertData(a, e), n.setStart(r, a + e.length), n.collapse(!0)), this.setSelection(n), this;\n          }\n\n          var s,\n              d,\n              l,\n              c,\n              h = e.split(\"\\n\"),\n              u = this._config,\n              f = u.blockTag,\n              p = u.blockAttributes,\n              m = \"</\" + f + \">\",\n              v = \"<\" + f;\n\n          for (s in p) {\n            v += \" \" + s + '=\"' + Tt(p[s]) + '\"';\n          }\n\n          for (v += \">\", d = 0, l = h.length; d < l; d += 1) {\n            c = h[d], c = Tt(c).replace(/ (?= )/g, \"&nbsp;\"), h[d] = v + (c || \"<BR>\") + m;\n          }\n\n          return this.insertHTML(h.join(\"\"), t);\n        };\n\n        var Et = function Et(e, t, n) {\n          return function () {\n            return this[e](t, n), this.focus();\n          };\n        };\n\n        at.addStyles = function (e) {\n          if (e) {\n            var t = this._doc.documentElement.firstChild,\n                n = this.createElement(\"STYLE\", {\n              type: \"text/css\"\n            });\n            n.appendChild(this._doc.createTextNode(e)), t.appendChild(n);\n          }\n\n          return this;\n        }, at.bold = Et(\"changeFormat\", {\n          tag: \"B\"\n        }), at.italic = Et(\"changeFormat\", {\n          tag: \"I\"\n        }), at.underline = Et(\"changeFormat\", {\n          tag: \"U\"\n        }), at.strikethrough = Et(\"changeFormat\", {\n          tag: \"S\"\n        }), at.subscript = Et(\"changeFormat\", {\n          tag: \"SUB\"\n        }, {\n          tag: \"SUP\"\n        }), at.superscript = Et(\"changeFormat\", {\n          tag: \"SUP\"\n        }, {\n          tag: \"SUB\"\n        }), at.removeBold = Et(\"changeFormat\", null, {\n          tag: \"B\"\n        }), at.removeItalic = Et(\"changeFormat\", null, {\n          tag: \"I\"\n        }), at.removeUnderline = Et(\"changeFormat\", null, {\n          tag: \"U\"\n        }), at.removeStrikethrough = Et(\"changeFormat\", null, {\n          tag: \"S\"\n        }), at.removeSubscript = Et(\"changeFormat\", null, {\n          tag: \"SUB\"\n        }), at.removeSuperscript = Et(\"changeFormat\", null, {\n          tag: \"SUP\"\n        }), at.makeLink = function (e, t) {\n          var n = this.getSelection();\n\n          if (n.collapsed) {\n            var o = e.indexOf(\":\") + 1;\n            if (o) for (; \"/\" === e[o];) {\n              o += 1;\n            }\n            ye(n, this._doc.createTextNode(e.slice(o)));\n          }\n\n          return t = D(D({\n            href: e\n          }, t, !0), this._config.tagAttributes.a, !1), this.changeFormat({\n            tag: \"A\",\n            attributes: t\n          }, {\n            tag: \"A\"\n          }, n), this.focus();\n        }, at.removeLink = function () {\n          return this.changeFormat(null, {\n            tag: \"A\"\n          }, this.getSelection(), !0), this.focus();\n        }, at.setFontFace = function (e) {\n          var t = this._config.classNames.fontFamily;\n          return this.changeFormat(e ? {\n            tag: \"SPAN\",\n            attributes: {\n              class: t,\n              style: \"font-family: \" + e + \", sans-serif;\"\n            }\n          } : null, {\n            tag: \"SPAN\",\n            attributes: {\n              class: t\n            }\n          }), this.focus();\n        }, at.setFontSize = function (e) {\n          var t = this._config.classNames.fontSize;\n          return this.changeFormat(e ? {\n            tag: \"SPAN\",\n            attributes: {\n              class: t,\n              style: \"font-size: \" + (\"number\" == typeof e ? e + \"px\" : e)\n            }\n          } : null, {\n            tag: \"SPAN\",\n            attributes: {\n              class: t\n            }\n          }), this.focus();\n        }, at.setTextColour = function (e) {\n          var t = this._config.classNames.colour;\n          return this.changeFormat(e ? {\n            tag: \"SPAN\",\n            attributes: {\n              class: t,\n              style: \"color:\" + e\n            }\n          } : null, {\n            tag: \"SPAN\",\n            attributes: {\n              class: t\n            }\n          }), this.focus();\n        }, at.setHighlightColour = function (e) {\n          var t = this._config.classNames.highlight;\n          return this.changeFormat(e ? {\n            tag: \"SPAN\",\n            attributes: {\n              class: t,\n              style: \"background-color:\" + e\n            }\n          } : e, {\n            tag: \"SPAN\",\n            attributes: {\n              class: t\n            }\n          }), this.focus();\n        }, at.setTextAlignment = function (e) {\n          return this.forEachBlock(function (t) {\n            var n = t.className.split(/\\s+/).filter(function (e) {\n              return !!e && !/^align/.test(e);\n            }).join(\" \");\n            e ? (t.className = n + \" align-\" + e, t.style.textAlign = e) : (t.className = n, t.style.textAlign = \"\");\n          }, !0), this.focus();\n        }, at.setTextDirection = function (e) {\n          return this.forEachBlock(function (t) {\n            e ? t.dir = e : t.removeAttribute(\"dir\");\n          }, !0), this.focus();\n        };\n\n        var bt = function bt(e) {\n          for (var t, o = this._root, i = this._doc, r = i.createDocumentFragment(), a = l(e, o); t = a.nextNode();) {\n            var s,\n                d,\n                c = t.querySelectorAll(\"BR\"),\n                h = [],\n                u = c.length;\n\n            for (s = 0; s < u; s += 1) {\n              h[s] = Je(c[s], !1);\n            }\n\n            for (; u--;) {\n              d = c[u], h[u] ? S(d, i.createTextNode(\"\\n\")) : _(d);\n            }\n\n            for (c = t.querySelectorAll(\"CODE\"), u = c.length; u--;) {\n              _(c[u]);\n            }\n\n            r.childNodes.length && r.appendChild(i.createTextNode(\"\\n\")), r.appendChild(y(t));\n          }\n\n          for (a = new n(r, 4); t = a.nextNode();) {\n            t.data = t.data.replace(/ /g, \" \");\n          }\n\n          return r.normalize(), E(this.createElement(\"PRE\", this._config.tagAttributes.pre, [r]), o);\n        },\n            kt = function kt(e) {\n          for (var t, o, i, r, a, s, d = this._doc, l = this._root, c = e.querySelectorAll(\"PRE\"), h = c.length; h--;) {\n            for (t = c[h], o = new n(t, 4); i = o.nextNode();) {\n              for (r = i.data, r = r.replace(/ (?= )/g, \" \"), a = d.createDocumentFragment(); (s = r.indexOf(\"\\n\")) > -1;) {\n                a.appendChild(d.createTextNode(r.slice(0, s))), a.appendChild(d.createElement(\"BR\")), r = r.slice(s + 1);\n              }\n\n              i.parentNode.insertBefore(a, i), i.data = r;\n            }\n\n            b(t, l), S(t, y(t));\n          }\n\n          return e;\n        };\n\n        at.code = function () {\n          var e = this.getSelection();\n          return e.collapsed || d(e.commonAncestorContainer) ? this.modifyBlocks(bt, e) : this.changeFormat({\n            tag: \"CODE\",\n            attributes: this._config.tagAttributes.code\n          }, null, e), this.focus();\n        }, at.removeCode = function () {\n          var e = this.getSelection();\n          return g(e.commonAncestorContainer, this._root, \"PRE\") ? this.modifyBlocks(kt, e) : this.changeFormat(null, {\n            tag: \"CODE\"\n          }, e), this.focus();\n        }, at.toggleCode = function () {\n          return this.hasFormat(\"PRE\") || this.hasFormat(\"CODE\") ? this.removeCode() : this.code(), this;\n        }, at.removeAllFormatting = function (e) {\n          if (!e && !(e = this.getSelection()) || e.collapsed) return this;\n\n          for (var t = this._root, n = e.commonAncestorContainer; n && !s(n);) {\n            n = n.parentNode;\n          }\n\n          if (n || (Pe(e, t), n = t), n.nodeType === H) return this;\n          this.saveUndoState(e), Ae(e, n, n, t);\n\n          for (var o, i, r = n.ownerDocument, a = e.startContainer, d = e.startOffset, l = e.endContainer, c = e.endOffset, h = r.createDocumentFragment(), u = r.createDocumentFragment(), f = k(l, c, n, t), p = k(a, d, n, t); p !== f;) {\n            o = p.nextSibling, h.appendChild(p), p = o;\n          }\n\n          return F(this, h, u), u.normalize(), p = u.firstChild, o = u.lastChild, i = n.childNodes, p ? (n.insertBefore(u, f), d = ce.call(i, p), c = ce.call(i, o) + 1) : (d = ce.call(i, f), c = d), e.setStart(n, d), e.setEnd(n, c), A(n, e), xe(e), this.setSelection(e), this._updatePath(e, !0), this.focus();\n        }, at.increaseQuoteLevel = Et(\"modifyBlocks\", pt), at.decreaseQuoteLevel = Et(\"modifyBlocks\", gt), at.makeUnorderedList = Et(\"modifyBlocks\", Nt), at.makeOrderedList = Et(\"modifyBlocks\", Ct), at.removeList = Et(\"modifyBlocks\", _t), P.isInline = a, P.isBlock = s, P.isContainer = d, P.getBlockWalker = l, P.getPreviousBlock = c, P.getNextBlock = h, P.areAlike = f, P.hasTagAttributes = p, P.getNearest = g, P.isOrContains = v, P.detach = _, P.replaceWith = S, P.empty = y, P.getNodeBefore = _e, P.getNodeAfter = Se, P.insertNodeInRange = ye, P.extractContentsOfRange = Te, P.deleteContentsOfRange = Ee, P.insertTreeFragmentIntoRange = be, P.isNodeContainedInRange = ke, P.moveRangeBoundariesDownTree = xe, P.moveRangeBoundariesUpTree = Ae, P.getStartBlockOfRange = Le, P.getEndBlockOfRange = Be, P.contentWalker = Oe, P.rangeDoesStartAtBlockBoundary = Re, P.rangeDoesEndAtBlockBoundary = De, P.expandRangeToBlockBoundaries = Pe, P.onPaste = it, P.addLinks = yt, P.splitBlock = ft, P.startSelectionId = \"squire-selection-start\", P.endSelectionId = ht, true ? module.exports = P : undefined;\n      }(document);\n      /***/\n    },\n    /* 52 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview Check whether the given variable is a string or not.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Check whether the given variable is a boolean or not.\n       *  If the given variable is a boolean, return true.\n       * @param {*} obj - Target for checking\n       * @returns {boolean} Is boolean?\n       * @memberof module:type\n       */\n\n      function isBoolean(obj) {\n        return typeof obj === 'boolean' || obj instanceof Boolean;\n      }\n\n      module.exports = isBoolean;\n      /***/\n    },\n    /* 53 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* WEBPACK VAR INJECTION */\n\n      (function (global) {\n        /**\r\n        * A collection of shims that provide minimal functionality of the ES6 collections.\r\n        *\r\n        * These implementations are not meant to be used outside of the ResizeObserver\r\n        * modules as they cover only a limited range of use cases.\r\n        */\n\n        /* eslint-disable require-jsdoc, valid-jsdoc */\n        var MapShim = function () {\n          if (typeof Map !== 'undefined') {\n            return Map;\n          }\n          /**\r\n           * Returns index in provided array that matches the specified key.\r\n           *\r\n           * @param {Array<Array>} arr\r\n           * @param {*} key\r\n           * @returns {number}\r\n           */\n\n\n          function getIndex(arr, key) {\n            var result = -1;\n            arr.some(function (entry, index) {\n              if (entry[0] === key) {\n                result = index;\n                return true;\n              }\n\n              return false;\n            });\n            return result;\n          }\n\n          return (\n            /** @class */\n            function () {\n              function class_1() {\n                this.__entries__ = [];\n              }\n\n              Object.defineProperty(class_1.prototype, \"size\", {\n                /**\r\n                 * @returns {boolean}\r\n                 */\n                get: function get() {\n                  return this.__entries__.length;\n                },\n                enumerable: true,\n                configurable: true\n              });\n              /**\r\n               * @param {*} key\r\n               * @returns {*}\r\n               */\n\n              class_1.prototype.get = function (key) {\n                var index = getIndex(this.__entries__, key);\n                var entry = this.__entries__[index];\n                return entry && entry[1];\n              };\n              /**\r\n               * @param {*} key\r\n               * @param {*} value\r\n               * @returns {void}\r\n               */\n\n\n              class_1.prototype.set = function (key, value) {\n                var index = getIndex(this.__entries__, key);\n\n                if (~index) {\n                  this.__entries__[index][1] = value;\n                } else {\n                  this.__entries__.push([key, value]);\n                }\n              };\n              /**\r\n               * @param {*} key\r\n               * @returns {void}\r\n               */\n\n\n              class_1.prototype.delete = function (key) {\n                var entries = this.__entries__;\n                var index = getIndex(entries, key);\n\n                if (~index) {\n                  entries.splice(index, 1);\n                }\n              };\n              /**\r\n               * @param {*} key\r\n               * @returns {void}\r\n               */\n\n\n              class_1.prototype.has = function (key) {\n                return !!~getIndex(this.__entries__, key);\n              };\n              /**\r\n               * @returns {void}\r\n               */\n\n\n              class_1.prototype.clear = function () {\n                this.__entries__.splice(0);\n              };\n              /**\r\n               * @param {Function} callback\r\n               * @param {*} [ctx=null]\r\n               * @returns {void}\r\n               */\n\n\n              class_1.prototype.forEach = function (callback, ctx) {\n                if (ctx === void 0) {\n                  ctx = null;\n                }\n\n                for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n                  var entry = _a[_i];\n                  callback.call(ctx, entry[1], entry[0]);\n                }\n              };\n\n              return class_1;\n            }()\n          );\n        }();\n        /**\r\n         * Detects whether window and document objects are available in current environment.\r\n         */\n\n\n        var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document; // Returns global object of a current environment.\n\n        var global$1 = function () {\n          if (typeof global !== 'undefined' && global.Math === Math) {\n            return global;\n          }\n\n          if (typeof self !== 'undefined' && self.Math === Math) {\n            return self;\n          }\n\n          if (typeof window !== 'undefined' && window.Math === Math) {\n            return window;\n          } // eslint-disable-next-line no-new-func\n\n\n          return Function('return this')();\n        }();\n        /**\r\n         * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n         * first one is not supported.\r\n         *\r\n         * @returns {number} Requests' identifier.\r\n         */\n\n\n        var requestAnimationFrame$1 = function () {\n          if (typeof requestAnimationFrame === 'function') {\n            // It's required to use a bounded function because IE sometimes throws\n            // an \"Invalid calling object\" error if rAF is invoked without the global\n            // object on the left hand side.\n            return requestAnimationFrame.bind(global$1);\n          }\n\n          return function (callback) {\n            return setTimeout(function () {\n              return callback(Date.now());\n            }, 1000 / 60);\n          };\n        }(); // Defines minimum timeout before adding a trailing call.\n\n\n        var trailingTimeout = 2;\n        /**\r\n         * Creates a wrapper function which ensures that provided callback will be\r\n         * invoked only once during the specified delay period.\r\n         *\r\n         * @param {Function} callback - Function to be invoked after the delay period.\r\n         * @param {number} delay - Delay after which to invoke callback.\r\n         * @returns {Function}\r\n         */\n\n        function throttle(callback, delay) {\n          var leadingCall = false,\n              trailingCall = false,\n              lastCallTime = 0;\n          /**\r\n           * Invokes the original callback function and schedules new invocation if\r\n           * the \"proxy\" was called during current request.\r\n           *\r\n           * @returns {void}\r\n           */\n\n          function resolvePending() {\n            if (leadingCall) {\n              leadingCall = false;\n              callback();\n            }\n\n            if (trailingCall) {\n              proxy();\n            }\n          }\n          /**\r\n           * Callback invoked after the specified delay. It will further postpone\r\n           * invocation of the original function delegating it to the\r\n           * requestAnimationFrame.\r\n           *\r\n           * @returns {void}\r\n           */\n\n\n          function timeoutCallback() {\n            requestAnimationFrame$1(resolvePending);\n          }\n          /**\r\n           * Schedules invocation of the original function.\r\n           *\r\n           * @returns {void}\r\n           */\n\n\n          function proxy() {\n            var timeStamp = Date.now();\n\n            if (leadingCall) {\n              // Reject immediately following calls.\n              if (timeStamp - lastCallTime < trailingTimeout) {\n                return;\n              } // Schedule new call to be in invoked when the pending one is resolved.\n              // This is important for \"transitions\" which never actually start\n              // immediately so there is a chance that we might miss one if change\n              // happens amids the pending invocation.\n\n\n              trailingCall = true;\n            } else {\n              leadingCall = true;\n              trailingCall = false;\n              setTimeout(timeoutCallback, delay);\n            }\n\n            lastCallTime = timeStamp;\n          }\n\n          return proxy;\n        } // Minimum delay before invoking the update of observers.\n\n\n        var REFRESH_DELAY = 20; // A list of substrings of CSS properties used to find transition events that\n        // might affect dimensions of observed elements.\n\n        var transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight']; // Check if MutationObserver is available.\n\n        var mutationObserverSupported = typeof MutationObserver !== 'undefined';\n        /**\r\n         * Singleton controller class which handles updates of ResizeObserver instances.\r\n         */\n\n        var ResizeObserverController =\n        /** @class */\n        function () {\n          /**\r\n           * Creates a new instance of ResizeObserverController.\r\n           *\r\n           * @private\r\n           */\n          function ResizeObserverController() {\n            /**\r\n             * Indicates whether DOM listeners have been added.\r\n             *\r\n             * @private {boolean}\r\n             */\n            this.connected_ = false;\n            /**\r\n             * Tells that controller has subscribed for Mutation Events.\r\n             *\r\n             * @private {boolean}\r\n             */\n\n            this.mutationEventsAdded_ = false;\n            /**\r\n             * Keeps reference to the instance of MutationObserver.\r\n             *\r\n             * @private {MutationObserver}\r\n             */\n\n            this.mutationsObserver_ = null;\n            /**\r\n             * A list of connected observers.\r\n             *\r\n             * @private {Array<ResizeObserverSPI>}\r\n             */\n\n            this.observers_ = [];\n            this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n            this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n          }\n          /**\r\n           * Adds observer to observers list.\r\n           *\r\n           * @param {ResizeObserverSPI} observer - Observer to be added.\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverController.prototype.addObserver = function (observer) {\n            if (!~this.observers_.indexOf(observer)) {\n              this.observers_.push(observer);\n            } // Add listeners if they haven't been added yet.\n\n\n            if (!this.connected_) {\n              this.connect_();\n            }\n          };\n          /**\r\n           * Removes observer from observers list.\r\n           *\r\n           * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverController.prototype.removeObserver = function (observer) {\n            var observers = this.observers_;\n            var index = observers.indexOf(observer); // Remove observer if it's present in registry.\n\n            if (~index) {\n              observers.splice(index, 1);\n            } // Remove listeners if controller has no connected observers.\n\n\n            if (!observers.length && this.connected_) {\n              this.disconnect_();\n            }\n          };\n          /**\r\n           * Invokes the update of observers. It will continue running updates insofar\r\n           * it detects changes.\r\n           *\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverController.prototype.refresh = function () {\n            var changesDetected = this.updateObservers_(); // Continue running updates if changes have been detected as there might\n            // be future ones caused by CSS transitions.\n\n            if (changesDetected) {\n              this.refresh();\n            }\n          };\n          /**\r\n           * Updates every observer from observers list and notifies them of queued\r\n           * entries.\r\n           *\r\n           * @private\r\n           * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n           *      dimensions of it's elements.\r\n           */\n\n\n          ResizeObserverController.prototype.updateObservers_ = function () {\n            // Collect observers that have active observations.\n            var activeObservers = this.observers_.filter(function (observer) {\n              return observer.gatherActive(), observer.hasActive();\n            }); // Deliver notifications in a separate cycle in order to avoid any\n            // collisions between observers, e.g. when multiple instances of\n            // ResizeObserver are tracking the same element and the callback of one\n            // of them changes content dimensions of the observed target. Sometimes\n            // this may result in notifications being blocked for the rest of observers.\n\n            activeObservers.forEach(function (observer) {\n              return observer.broadcastActive();\n            });\n            return activeObservers.length > 0;\n          };\n          /**\r\n           * Initializes DOM listeners.\r\n           *\r\n           * @private\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverController.prototype.connect_ = function () {\n            // Do nothing if running in a non-browser environment or if listeners\n            // have been already added.\n            if (!isBrowser || this.connected_) {\n              return;\n            } // Subscription to the \"Transitionend\" event is used as a workaround for\n            // delayed transitions. This way it's possible to capture at least the\n            // final state of an element.\n\n\n            document.addEventListener('transitionend', this.onTransitionEnd_);\n            window.addEventListener('resize', this.refresh);\n\n            if (mutationObserverSupported) {\n              this.mutationsObserver_ = new MutationObserver(this.refresh);\n              this.mutationsObserver_.observe(document, {\n                attributes: true,\n                childList: true,\n                characterData: true,\n                subtree: true\n              });\n            } else {\n              document.addEventListener('DOMSubtreeModified', this.refresh);\n              this.mutationEventsAdded_ = true;\n            }\n\n            this.connected_ = true;\n          };\n          /**\r\n           * Removes DOM listeners.\r\n           *\r\n           * @private\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverController.prototype.disconnect_ = function () {\n            // Do nothing if running in a non-browser environment or if listeners\n            // have been already removed.\n            if (!isBrowser || !this.connected_) {\n              return;\n            }\n\n            document.removeEventListener('transitionend', this.onTransitionEnd_);\n            window.removeEventListener('resize', this.refresh);\n\n            if (this.mutationsObserver_) {\n              this.mutationsObserver_.disconnect();\n            }\n\n            if (this.mutationEventsAdded_) {\n              document.removeEventListener('DOMSubtreeModified', this.refresh);\n            }\n\n            this.mutationsObserver_ = null;\n            this.mutationEventsAdded_ = false;\n            this.connected_ = false;\n          };\n          /**\r\n           * \"Transitionend\" event handler.\r\n           *\r\n           * @private\r\n           * @param {TransitionEvent} event\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n            var _b = _a.propertyName,\n                propertyName = _b === void 0 ? '' : _b; // Detect whether transition may affect dimensions of an element.\n\n            var isReflowProperty = transitionKeys.some(function (key) {\n              return !!~propertyName.indexOf(key);\n            });\n\n            if (isReflowProperty) {\n              this.refresh();\n            }\n          };\n          /**\r\n           * Returns instance of the ResizeObserverController.\r\n           *\r\n           * @returns {ResizeObserverController}\r\n           */\n\n\n          ResizeObserverController.getInstance = function () {\n            if (!this.instance_) {\n              this.instance_ = new ResizeObserverController();\n            }\n\n            return this.instance_;\n          };\n          /**\r\n           * Holds reference to the controller's instance.\r\n           *\r\n           * @private {ResizeObserverController}\r\n           */\n\n\n          ResizeObserverController.instance_ = null;\n          return ResizeObserverController;\n        }();\n        /**\r\n         * Defines non-writable/enumerable properties of the provided target object.\r\n         *\r\n         * @param {Object} target - Object for which to define properties.\r\n         * @param {Object} props - Properties to be defined.\r\n         * @returns {Object} Target object.\r\n         */\n\n\n        var defineConfigurable = function defineConfigurable(target, props) {\n          for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n            var key = _a[_i];\n            Object.defineProperty(target, key, {\n              value: props[key],\n              enumerable: false,\n              writable: false,\n              configurable: true\n            });\n          }\n\n          return target;\n        };\n        /**\r\n         * Returns the global object associated with provided element.\r\n         *\r\n         * @param {Object} target\r\n         * @returns {Object}\r\n         */\n\n\n        var getWindowOf = function getWindowOf(target) {\n          // Assume that the element is an instance of Node, which means that it\n          // has the \"ownerDocument\" property from which we can retrieve a\n          // corresponding global object.\n          var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local global object if it's not possible extract one from\n          // provided element.\n\n          return ownerGlobal || global$1;\n        }; // Placeholder of an empty content rectangle.\n\n\n        var emptyRect = createRectInit(0, 0, 0, 0);\n        /**\r\n         * Converts provided string to a number.\r\n         *\r\n         * @param {number|string} value\r\n         * @returns {number}\r\n         */\n\n        function toFloat(value) {\n          return parseFloat(value) || 0;\n        }\n        /**\r\n         * Extracts borders size from provided styles.\r\n         *\r\n         * @param {CSSStyleDeclaration} styles\r\n         * @param {...string} positions - Borders positions (top, right, ...)\r\n         * @returns {number}\r\n         */\n\n\n        function getBordersSize(styles) {\n          var positions = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            positions[_i - 1] = arguments[_i];\n          }\n\n          return positions.reduce(function (size, position) {\n            var value = styles['border-' + position + '-width'];\n            return size + toFloat(value);\n          }, 0);\n        }\n        /**\r\n         * Extracts paddings sizes from provided styles.\r\n         *\r\n         * @param {CSSStyleDeclaration} styles\r\n         * @returns {Object} Paddings box.\r\n         */\n\n\n        function getPaddings(styles) {\n          var positions = ['top', 'right', 'bottom', 'left'];\n          var paddings = {};\n\n          for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n            var position = positions_1[_i];\n            var value = styles['padding-' + position];\n            paddings[position] = toFloat(value);\n          }\n\n          return paddings;\n        }\n        /**\r\n         * Calculates content rectangle of provided SVG element.\r\n         *\r\n         * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n         *      to be calculated.\r\n         * @returns {DOMRectInit}\r\n         */\n\n\n        function getSVGContentRect(target) {\n          var bbox = target.getBBox();\n          return createRectInit(0, 0, bbox.width, bbox.height);\n        }\n        /**\r\n         * Calculates content rectangle of provided HTMLElement.\r\n         *\r\n         * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n         * @returns {DOMRectInit}\r\n         */\n\n\n        function getHTMLElementContentRect(target) {\n          // Client width & height properties can't be\n          // used exclusively as they provide rounded values.\n          var clientWidth = target.clientWidth,\n              clientHeight = target.clientHeight; // By this condition we can catch all non-replaced inline, hidden and\n          // detached elements. Though elements with width & height properties less\n          // than 0.5 will be discarded as well.\n          //\n          // Without it we would need to implement separate methods for each of\n          // those cases and it's not possible to perform a precise and performance\n          // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n          // gives wrong results for elements with width & height less than 0.5.\n\n          if (!clientWidth && !clientHeight) {\n            return emptyRect;\n          }\n\n          var styles = getWindowOf(target).getComputedStyle(target);\n          var paddings = getPaddings(styles);\n          var horizPad = paddings.left + paddings.right;\n          var vertPad = paddings.top + paddings.bottom; // Computed styles of width & height are being used because they are the\n          // only dimensions available to JS that contain non-rounded values. It could\n          // be possible to utilize the getBoundingClientRect if only it's data wasn't\n          // affected by CSS transformations let alone paddings, borders and scroll bars.\n\n          var width = toFloat(styles.width),\n              height = toFloat(styles.height); // Width & height include paddings and borders when the 'border-box' box\n          // model is applied (except for IE).\n\n          if (styles.boxSizing === 'border-box') {\n            // Following conditions are required to handle Internet Explorer which\n            // doesn't include paddings and borders to computed CSS dimensions.\n            //\n            // We can say that if CSS dimensions + paddings are equal to the \"client\"\n            // properties then it's either IE, and thus we don't need to subtract\n            // anything, or an element merely doesn't have paddings/borders styles.\n            if (Math.round(width + horizPad) !== clientWidth) {\n              width -= getBordersSize(styles, 'left', 'right') + horizPad;\n            }\n\n            if (Math.round(height + vertPad) !== clientHeight) {\n              height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n            }\n          } // Following steps can't be applied to the document's root element as its\n          // client[Width/Height] properties represent viewport area of the window.\n          // Besides, it's as well not necessary as the <html> itself neither has\n          // rendered scroll bars nor it can be clipped.\n\n\n          if (!isDocumentElement(target)) {\n            // In some browsers (only in Firefox, actually) CSS width & height\n            // include scroll bars size which can be removed at this step as scroll\n            // bars are the only difference between rounded dimensions + paddings\n            // and \"client\" properties, though that is not always true in Chrome.\n            var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n            var horizScrollbar = Math.round(height + vertPad) - clientHeight; // Chrome has a rather weird rounding of \"client\" properties.\n            // E.g. for an element with content width of 314.2px it sometimes gives\n            // the client width of 315px and for the width of 314.7px it may give\n            // 314px. And it doesn't happen all the time. So just ignore this delta\n            // as a non-relevant.\n\n            if (Math.abs(vertScrollbar) !== 1) {\n              width -= vertScrollbar;\n            }\n\n            if (Math.abs(horizScrollbar) !== 1) {\n              height -= horizScrollbar;\n            }\n          }\n\n          return createRectInit(paddings.left, paddings.top, width, height);\n        }\n        /**\r\n         * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n         *\r\n         * @param {Element} target - Element to be checked.\r\n         * @returns {boolean}\r\n         */\n\n\n        var isSVGGraphicsElement = function () {\n          // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n          // interface.\n          if (typeof SVGGraphicsElement !== 'undefined') {\n            return function (target) {\n              return target instanceof getWindowOf(target).SVGGraphicsElement;\n            };\n          } // If it's so, then check that element is at least an instance of the\n          // SVGElement and that it has the \"getBBox\" method.\n          // eslint-disable-next-line no-extra-parens\n\n\n          return function (target) {\n            return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function';\n          };\n        }();\n        /**\r\n         * Checks whether provided element is a document element (<html>).\r\n         *\r\n         * @param {Element} target - Element to be checked.\r\n         * @returns {boolean}\r\n         */\n\n\n        function isDocumentElement(target) {\n          return target === getWindowOf(target).document.documentElement;\n        }\n        /**\r\n         * Calculates an appropriate content rectangle for provided html or svg element.\r\n         *\r\n         * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n         * @returns {DOMRectInit}\r\n         */\n\n\n        function getContentRect(target) {\n          if (!isBrowser) {\n            return emptyRect;\n          }\n\n          if (isSVGGraphicsElement(target)) {\n            return getSVGContentRect(target);\n          }\n\n          return getHTMLElementContentRect(target);\n        }\n        /**\r\n         * Creates rectangle with an interface of the DOMRectReadOnly.\r\n         * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n         *\r\n         * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n         * @returns {DOMRectReadOnly}\r\n         */\n\n\n        function createReadOnlyRect(_a) {\n          var x = _a.x,\n              y = _a.y,\n              width = _a.width,\n              height = _a.height; // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n\n          var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n          var rect = Object.create(Constr.prototype); // Rectangle's properties are not writable and non-enumerable.\n\n          defineConfigurable(rect, {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            top: y,\n            right: x + width,\n            bottom: height + y,\n            left: x\n          });\n          return rect;\n        }\n        /**\r\n         * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n         * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n         *\r\n         * @param {number} x - X coordinate.\r\n         * @param {number} y - Y coordinate.\r\n         * @param {number} width - Rectangle's width.\r\n         * @param {number} height - Rectangle's height.\r\n         * @returns {DOMRectInit}\r\n         */\n\n\n        function createRectInit(x, y, width, height) {\n          return {\n            x: x,\n            y: y,\n            width: width,\n            height: height\n          };\n        }\n        /**\r\n         * Class that is responsible for computations of the content rectangle of\r\n         * provided DOM element and for keeping track of it's changes.\r\n         */\n\n\n        var ResizeObservation =\n        /** @class */\n        function () {\n          /**\r\n           * Creates an instance of ResizeObservation.\r\n           *\r\n           * @param {Element} target - Element to be observed.\r\n           */\n          function ResizeObservation(target) {\n            /**\r\n             * Broadcasted width of content rectangle.\r\n             *\r\n             * @type {number}\r\n             */\n            this.broadcastWidth = 0;\n            /**\r\n             * Broadcasted height of content rectangle.\r\n             *\r\n             * @type {number}\r\n             */\n\n            this.broadcastHeight = 0;\n            /**\r\n             * Reference to the last observed content rectangle.\r\n             *\r\n             * @private {DOMRectInit}\r\n             */\n\n            this.contentRect_ = createRectInit(0, 0, 0, 0);\n            this.target = target;\n          }\n          /**\r\n           * Updates content rectangle and tells whether it's width or height properties\r\n           * have changed since the last broadcast.\r\n           *\r\n           * @returns {boolean}\r\n           */\n\n\n          ResizeObservation.prototype.isActive = function () {\n            var rect = getContentRect(this.target);\n            this.contentRect_ = rect;\n            return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n          };\n          /**\r\n           * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n           * from the corresponding properties of the last observed content rectangle.\r\n           *\r\n           * @returns {DOMRectInit} Last observed content rectangle.\r\n           */\n\n\n          ResizeObservation.prototype.broadcastRect = function () {\n            var rect = this.contentRect_;\n            this.broadcastWidth = rect.width;\n            this.broadcastHeight = rect.height;\n            return rect;\n          };\n\n          return ResizeObservation;\n        }();\n\n        var ResizeObserverEntry =\n        /** @class */\n        function () {\n          /**\r\n           * Creates an instance of ResizeObserverEntry.\r\n           *\r\n           * @param {Element} target - Element that is being observed.\r\n           * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n           */\n          function ResizeObserverEntry(target, rectInit) {\n            var contentRect = createReadOnlyRect(rectInit); // According to the specification following properties are not writable\n            // and are also not enumerable in the native implementation.\n            //\n            // Property accessors are not being used as they'd require to define a\n            // private WeakMap storage which may cause memory leaks in browsers that\n            // don't support this type of collections.\n\n            defineConfigurable(this, {\n              target: target,\n              contentRect: contentRect\n            });\n          }\n\n          return ResizeObserverEntry;\n        }();\n\n        var ResizeObserverSPI =\n        /** @class */\n        function () {\n          /**\r\n           * Creates a new instance of ResizeObserver.\r\n           *\r\n           * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n           *      when one of the observed elements changes it's content dimensions.\r\n           * @param {ResizeObserverController} controller - Controller instance which\r\n           *      is responsible for the updates of observer.\r\n           * @param {ResizeObserver} callbackCtx - Reference to the public\r\n           *      ResizeObserver instance which will be passed to callback function.\r\n           */\n          function ResizeObserverSPI(callback, controller, callbackCtx) {\n            /**\r\n             * Collection of resize observations that have detected changes in dimensions\r\n             * of elements.\r\n             *\r\n             * @private {Array<ResizeObservation>}\r\n             */\n            this.activeObservations_ = [];\n            /**\r\n             * Registry of the ResizeObservation instances.\r\n             *\r\n             * @private {Map<Element, ResizeObservation>}\r\n             */\n\n            this.observations_ = new MapShim();\n\n            if (typeof callback !== 'function') {\n              throw new TypeError('The callback provided as parameter 1 is not a function.');\n            }\n\n            this.callback_ = callback;\n            this.controller_ = controller;\n            this.callbackCtx_ = callbackCtx;\n          }\n          /**\r\n           * Starts observing provided element.\r\n           *\r\n           * @param {Element} target - Element to be observed.\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverSPI.prototype.observe = function (target) {\n            if (!arguments.length) {\n              throw new TypeError('1 argument required, but only 0 present.');\n            } // Do nothing if current environment doesn't have the Element interface.\n\n\n            if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n              return;\n            }\n\n            if (!(target instanceof getWindowOf(target).Element)) {\n              throw new TypeError('parameter 1 is not of type \"Element\".');\n            }\n\n            var observations = this.observations_; // Do nothing if element is already being observed.\n\n            if (observations.has(target)) {\n              return;\n            }\n\n            observations.set(target, new ResizeObservation(target));\n            this.controller_.addObserver(this); // Force the update of observations.\n\n            this.controller_.refresh();\n          };\n          /**\r\n           * Stops observing provided element.\r\n           *\r\n           * @param {Element} target - Element to stop observing.\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverSPI.prototype.unobserve = function (target) {\n            if (!arguments.length) {\n              throw new TypeError('1 argument required, but only 0 present.');\n            } // Do nothing if current environment doesn't have the Element interface.\n\n\n            if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n              return;\n            }\n\n            if (!(target instanceof getWindowOf(target).Element)) {\n              throw new TypeError('parameter 1 is not of type \"Element\".');\n            }\n\n            var observations = this.observations_; // Do nothing if element is not being observed.\n\n            if (!observations.has(target)) {\n              return;\n            }\n\n            observations.delete(target);\n\n            if (!observations.size) {\n              this.controller_.removeObserver(this);\n            }\n          };\n          /**\r\n           * Stops observing all elements.\r\n           *\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverSPI.prototype.disconnect = function () {\n            this.clearActive();\n            this.observations_.clear();\n            this.controller_.removeObserver(this);\n          };\n          /**\r\n           * Collects observation instances the associated element of which has changed\r\n           * it's content rectangle.\r\n           *\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverSPI.prototype.gatherActive = function () {\n            var _this = this;\n\n            this.clearActive();\n            this.observations_.forEach(function (observation) {\n              if (observation.isActive()) {\n                _this.activeObservations_.push(observation);\n              }\n            });\n          };\n          /**\r\n           * Invokes initial callback function with a list of ResizeObserverEntry\r\n           * instances collected from active resize observations.\r\n           *\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverSPI.prototype.broadcastActive = function () {\n            // Do nothing if observer doesn't have active observations.\n            if (!this.hasActive()) {\n              return;\n            }\n\n            var ctx = this.callbackCtx_; // Create ResizeObserverEntry instance for every active observation.\n\n            var entries = this.activeObservations_.map(function (observation) {\n              return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n            });\n            this.callback_.call(ctx, entries, ctx);\n            this.clearActive();\n          };\n          /**\r\n           * Clears the collection of active observations.\r\n           *\r\n           * @returns {void}\r\n           */\n\n\n          ResizeObserverSPI.prototype.clearActive = function () {\n            this.activeObservations_.splice(0);\n          };\n          /**\r\n           * Tells whether observer has active observations.\r\n           *\r\n           * @returns {boolean}\r\n           */\n\n\n          ResizeObserverSPI.prototype.hasActive = function () {\n            return this.activeObservations_.length > 0;\n          };\n\n          return ResizeObserverSPI;\n        }(); // Registry of internal observers. If WeakMap is not available use current shim\n        // for the Map collection as it has all required methods and because WeakMap\n        // can't be fully polyfilled anyway.\n\n\n        var observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n        /**\r\n         * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n         * exposing only those methods and properties that are defined in the spec.\r\n         */\n\n        var ResizeObserver =\n        /** @class */\n        function () {\n          /**\r\n           * Creates a new instance of ResizeObserver.\r\n           *\r\n           * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n           *      dimensions of the observed elements change.\r\n           */\n          function ResizeObserver(callback) {\n            if (!(this instanceof ResizeObserver)) {\n              throw new TypeError('Cannot call a class as a function.');\n            }\n\n            if (!arguments.length) {\n              throw new TypeError('1 argument required, but only 0 present.');\n            }\n\n            var controller = ResizeObserverController.getInstance();\n            var observer = new ResizeObserverSPI(callback, controller, this);\n            observers.set(this, observer);\n          }\n\n          return ResizeObserver;\n        }(); // Expose public methods of ResizeObserver.\n\n\n        ['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n          ResizeObserver.prototype[method] = function () {\n            var _a;\n\n            return (_a = observers.get(this))[method].apply(_a, arguments);\n          };\n        });\n\n        var index = function () {\n          // Export existing implementation if available.\n          if (typeof global$1.ResizeObserver !== 'undefined') {\n            return global$1.ResizeObserver;\n          }\n\n          return ResizeObserver;\n        }();\n        /* harmony default export */\n\n\n        __webpack_exports__[\"a\"] = index;\n        /* WEBPACK VAR INJECTION */\n      }).call(this, __webpack_require__(55));\n      /***/\n    },\n    /* 54 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /**\n       * @fileoverview This module provides some functions for custom events. And it is implemented in the observer design pattern.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var extend = __webpack_require__(4);\n\n      var isExisty = __webpack_require__(25);\n\n      var isString = __webpack_require__(8);\n\n      var isObject = __webpack_require__(50);\n\n      var isArray = __webpack_require__(21);\n\n      var isFunction = __webpack_require__(30);\n\n      var forEach = __webpack_require__(24);\n\n      var R_EVENTNAME_SPLIT = /\\s+/g;\n      /**\n       * @class\n       * @example\n       * // node, commonjs\n       * var CustomEvents = require('tui-code-snippet/customEvents/customEvents');\n       */\n\n      function CustomEvents() {\n        /**\n           * @type {HandlerItem[]}\n           */\n        this.events = null;\n        /**\n           * only for checking specific context event was binded\n           * @type {object[]}\n           */\n\n        this.contexts = null;\n      }\n      /**\n       * Mixin custom events feature to specific constructor\n       * @param {function} func - constructor\n       * @example\n       * var CustomEvents = require('tui-code-snippet/customEvents/customEvents'); // node, commonjs\n       *\n       * var model;\n       * function Model() {\n       *     this.name = '';\n       * }\n       * CustomEvents.mixin(Model);\n       *\n       * model = new Model();\n       * model.on('change', function() { this.name = 'model'; }, this);\n       * model.fire('change');\n       * alert(model.name); // 'model';\n       */\n\n\n      CustomEvents.mixin = function (func) {\n        extend(func.prototype, CustomEvents.prototype);\n      };\n      /**\n       * Get HandlerItem object\n       * @param {function} handler - handler function\n       * @param {object} [context] - context for handler\n       * @returns {HandlerItem} HandlerItem object\n       * @private\n       */\n\n\n      CustomEvents.prototype._getHandlerItem = function (handler, context) {\n        var item = {\n          handler: handler\n        };\n\n        if (context) {\n          item.context = context;\n        }\n\n        return item;\n      };\n      /**\n       * Get event object safely\n       * @param {string} [eventName] - create sub event map if not exist.\n       * @returns {(object|array)} event object. if you supplied `eventName`\n       *  parameter then make new array and return it\n       * @private\n       */\n\n\n      CustomEvents.prototype._safeEvent = function (eventName) {\n        var events = this.events;\n        var byName;\n\n        if (!events) {\n          events = this.events = {};\n        }\n\n        if (eventName) {\n          byName = events[eventName];\n\n          if (!byName) {\n            byName = [];\n            events[eventName] = byName;\n          }\n\n          events = byName;\n        }\n\n        return events;\n      };\n      /**\n       * Get context array safely\n       * @returns {array} context array\n       * @private\n       */\n\n\n      CustomEvents.prototype._safeContext = function () {\n        var context = this.contexts;\n\n        if (!context) {\n          context = this.contexts = [];\n        }\n\n        return context;\n      };\n      /**\n       * Get index of context\n       * @param {object} ctx - context that used for bind custom event\n       * @returns {number} index of context\n       * @private\n       */\n\n\n      CustomEvents.prototype._indexOfContext = function (ctx) {\n        var context = this._safeContext();\n\n        var index = 0;\n\n        while (context[index]) {\n          if (ctx === context[index][0]) {\n            return index;\n          }\n\n          index += 1;\n        }\n\n        return -1;\n      };\n      /**\n       * Memorize supplied context for recognize supplied object is context or\n       *  name: handler pair object when off()\n       * @param {object} ctx - context object to memorize\n       * @private\n       */\n\n\n      CustomEvents.prototype._memorizeContext = function (ctx) {\n        var context, index;\n\n        if (!isExisty(ctx)) {\n          return;\n        }\n\n        context = this._safeContext();\n        index = this._indexOfContext(ctx);\n\n        if (index > -1) {\n          context[index][1] += 1;\n        } else {\n          context.push([ctx, 1]);\n        }\n      };\n      /**\n       * Forget supplied context object\n       * @param {object} ctx - context object to forget\n       * @private\n       */\n\n\n      CustomEvents.prototype._forgetContext = function (ctx) {\n        var context, contextIndex;\n\n        if (!isExisty(ctx)) {\n          return;\n        }\n\n        context = this._safeContext();\n        contextIndex = this._indexOfContext(ctx);\n\n        if (contextIndex > -1) {\n          context[contextIndex][1] -= 1;\n\n          if (context[contextIndex][1] <= 0) {\n            context.splice(contextIndex, 1);\n          }\n        }\n      };\n      /**\n       * Bind event handler\n       * @param {(string|{name:string, handler:function})} eventName - custom\n       *  event name or an object {eventName: handler}\n       * @param {(function|object)} [handler] - handler function or context\n       * @param {object} [context] - context for binding\n       * @private\n       */\n\n\n      CustomEvents.prototype._bindEvent = function (eventName, handler, context) {\n        var events = this._safeEvent(eventName);\n\n        this._memorizeContext(context);\n\n        events.push(this._getHandlerItem(handler, context));\n      };\n      /**\n       * Bind event handlers\n       * @param {(string|{name:string, handler:function})} eventName - custom\n       *  event name or an object {eventName: handler}\n       * @param {(function|object)} [handler] - handler function or context\n       * @param {object} [context] - context for binding\n       * //-- #1. Get Module --//\n       * var CustomEvents = require('tui-code-snippet/customEvents/customEvents'); // node, commonjs\n       *\n       * //-- #2. Use method --//\n       * // # 2.1 Basic Usage\n       * CustomEvents.on('onload', handler);\n       *\n       * // # 2.2 With context\n       * CustomEvents.on('onload', handler, myObj);\n       *\n       * // # 2.3 Bind by object that name, handler pairs\n       * CustomEvents.on({\n       *     'play': handler,\n       *     'pause': handler2\n       * });\n       *\n       * // # 2.4 Bind by object that name, handler pairs with context object\n       * CustomEvents.on({\n       *     'play': handler\n       * }, myObj);\n       */\n\n\n      CustomEvents.prototype.on = function (eventName, handler, context) {\n        var self = this;\n\n        if (isString(eventName)) {\n          // [syntax 1, 2]\n          eventName = eventName.split(R_EVENTNAME_SPLIT);\n          forEach(eventName, function (name) {\n            self._bindEvent(name, handler, context);\n          });\n        } else if (isObject(eventName)) {\n          // [syntax 3, 4]\n          context = handler;\n          forEach(eventName, function (func, name) {\n            self.on(name, func, context);\n          });\n        }\n      };\n      /**\n       * Bind one-shot event handlers\n       * @param {(string|{name:string,handler:function})} eventName - custom\n       *  event name or an object {eventName: handler}\n       * @param {function|object} [handler] - handler function or context\n       * @param {object} [context] - context for binding\n       */\n\n\n      CustomEvents.prototype.once = function (eventName, handler, context) {\n        var self = this;\n\n        if (isObject(eventName)) {\n          context = handler;\n          forEach(eventName, function (func, name) {\n            self.once(name, func, context);\n          });\n          return;\n        }\n\n        function onceHandler() {\n          // eslint-disable-line require-jsdoc\n          handler.apply(context, arguments);\n          self.off(eventName, onceHandler, context);\n        }\n\n        this.on(eventName, onceHandler, context);\n      };\n      /**\n       * Splice supplied array by callback result\n       * @param {array} arr - array to splice\n       * @param {function} predicate - function return boolean\n       * @private\n       */\n\n\n      CustomEvents.prototype._spliceMatches = function (arr, predicate) {\n        var i = 0;\n        var len;\n\n        if (!isArray(arr)) {\n          return;\n        }\n\n        for (len = arr.length; i < len; i += 1) {\n          if (predicate(arr[i]) === true) {\n            arr.splice(i, 1);\n            len -= 1;\n            i -= 1;\n          }\n        }\n      };\n      /**\n       * Get matcher for unbind specific handler events\n       * @param {function} handler - handler function\n       * @returns {function} handler matcher\n       * @private\n       */\n\n\n      CustomEvents.prototype._matchHandler = function (handler) {\n        var self = this;\n        return function (item) {\n          var needRemove = handler === item.handler;\n\n          if (needRemove) {\n            self._forgetContext(item.context);\n          }\n\n          return needRemove;\n        };\n      };\n      /**\n       * Get matcher for unbind specific context events\n       * @param {object} context - context\n       * @returns {function} object matcher\n       * @private\n       */\n\n\n      CustomEvents.prototype._matchContext = function (context) {\n        var self = this;\n        return function (item) {\n          var needRemove = context === item.context;\n\n          if (needRemove) {\n            self._forgetContext(item.context);\n          }\n\n          return needRemove;\n        };\n      };\n      /**\n       * Get matcher for unbind specific hander, context pair events\n       * @param {function} handler - handler function\n       * @param {object} context - context\n       * @returns {function} handler, context matcher\n       * @private\n       */\n\n\n      CustomEvents.prototype._matchHandlerAndContext = function (handler, context) {\n        var self = this;\n        return function (item) {\n          var matchHandler = handler === item.handler;\n          var matchContext = context === item.context;\n          var needRemove = matchHandler && matchContext;\n\n          if (needRemove) {\n            self._forgetContext(item.context);\n          }\n\n          return needRemove;\n        };\n      };\n      /**\n       * Unbind event by event name\n       * @param {string} eventName - custom event name to unbind\n       * @param {function} [handler] - handler function\n       * @private\n       */\n\n\n      CustomEvents.prototype._offByEventName = function (eventName, handler) {\n        var self = this;\n        var andByHandler = isFunction(handler);\n\n        var matchHandler = self._matchHandler(handler);\n\n        eventName = eventName.split(R_EVENTNAME_SPLIT);\n        forEach(eventName, function (name) {\n          var handlerItems = self._safeEvent(name);\n\n          if (andByHandler) {\n            self._spliceMatches(handlerItems, matchHandler);\n          } else {\n            forEach(handlerItems, function (item) {\n              self._forgetContext(item.context);\n            });\n            self.events[name] = [];\n          }\n        });\n      };\n      /**\n       * Unbind event by handler function\n       * @param {function} handler - handler function\n       * @private\n       */\n\n\n      CustomEvents.prototype._offByHandler = function (handler) {\n        var self = this;\n\n        var matchHandler = this._matchHandler(handler);\n\n        forEach(this._safeEvent(), function (handlerItems) {\n          self._spliceMatches(handlerItems, matchHandler);\n        });\n      };\n      /**\n       * Unbind event by object(name: handler pair object or context object)\n       * @param {object} obj - context or {name: handler} pair object\n       * @param {function} handler - handler function\n       * @private\n       */\n\n\n      CustomEvents.prototype._offByObject = function (obj, handler) {\n        var self = this;\n        var matchFunc;\n\n        if (this._indexOfContext(obj) < 0) {\n          forEach(obj, function (func, name) {\n            self.off(name, func);\n          });\n        } else if (isString(handler)) {\n          matchFunc = this._matchContext(obj);\n\n          self._spliceMatches(this._safeEvent(handler), matchFunc);\n        } else if (isFunction(handler)) {\n          matchFunc = this._matchHandlerAndContext(handler, obj);\n          forEach(this._safeEvent(), function (handlerItems) {\n            self._spliceMatches(handlerItems, matchFunc);\n          });\n        } else {\n          matchFunc = this._matchContext(obj);\n          forEach(this._safeEvent(), function (handlerItems) {\n            self._spliceMatches(handlerItems, matchFunc);\n          });\n        }\n      };\n      /**\n       * Unbind custom events\n       * @param {(string|object|function)} eventName - event name or context or\n       *  {name: handler} pair object or handler function\n       * @param {(function)} handler - handler function\n       * @example\n       * //-- #1. Get Module --//\n       * var CustomEvents = require('tui-code-snippet/customEvents/customEvents'); // node, commonjs\n       *\n       * //-- #2. Use method --//\n       * // # 2.1 off by event name\n       * CustomEvents.off('onload');\n       *\n       * // # 2.2 off by event name and handler\n       * CustomEvents.off('play', handler);\n       *\n       * // # 2.3 off by handler\n       * CustomEvents.off(handler);\n       *\n       * // # 2.4 off by context\n       * CustomEvents.off(myObj);\n       *\n       * // # 2.5 off by context and handler\n       * CustomEvents.off(myObj, handler);\n       *\n       * // # 2.6 off by context and event name\n       * CustomEvents.off(myObj, 'onload');\n       *\n       * // # 2.7 off by an Object.<string, function> that is {eventName: handler}\n       * CustomEvents.off({\n       *   'play': handler,\n       *   'pause': handler2\n       * });\n       *\n       * // # 2.8 off the all events\n       * CustomEvents.off();\n       */\n\n\n      CustomEvents.prototype.off = function (eventName, handler) {\n        if (isString(eventName)) {\n          // [syntax 1, 2]\n          this._offByEventName(eventName, handler);\n        } else if (!arguments.length) {\n          // [syntax 8]\n          this.events = {};\n          this.contexts = [];\n        } else if (isFunction(eventName)) {\n          // [syntax 3]\n          this._offByHandler(eventName);\n        } else if (isObject(eventName)) {\n          // [syntax 4, 5, 6]\n          this._offByObject(eventName, handler);\n        }\n      };\n      /**\n       * Fire custom event\n       * @param {string} eventName - name of custom event\n       */\n\n\n      CustomEvents.prototype.fire = function (eventName) {\n        // eslint-disable-line\n        this.invoke.apply(this, arguments);\n      };\n      /**\n       * Fire a event and returns the result of operation 'boolean AND' with all\n       *  listener's results.\n       *\n       * So, It is different from {@link CustomEvents#fire}.\n       *\n       * In service code, use this as a before event in component level usually\n       *  for notifying that the event is cancelable.\n       * @param {string} eventName - Custom event name\n       * @param {...*} data - Data for event\n       * @returns {boolean} The result of operation 'boolean AND'\n       * @example\n       * var map = new Map();\n       * map.on({\n       *     'beforeZoom': function() {\n       *         // It should cancel the 'zoom' event by some conditions.\n       *         if (that.disabled && this.getState()) {\n       *             return false;\n       *         }\n       *         return true;\n       *     }\n       * });\n       *\n       * if (this.invoke('beforeZoom')) {    // check the result of 'beforeZoom'\n       *     // if true,\n       *     // doSomething\n       * }\n       */\n\n\n      CustomEvents.prototype.invoke = function (eventName) {\n        var events, args, index, item;\n\n        if (!this.hasListener(eventName)) {\n          return true;\n        }\n\n        events = this._safeEvent(eventName);\n        args = Array.prototype.slice.call(arguments, 1);\n        index = 0;\n\n        while (events[index]) {\n          item = events[index];\n\n          if (item.handler.apply(item.context, args) === false) {\n            return false;\n          }\n\n          index += 1;\n        }\n\n        return true;\n      };\n      /**\n       * Return whether at least one of the handlers is registered in the given\n       *  event name.\n       * @param {string} eventName - Custom event name\n       * @returns {boolean} Is there at least one handler in event name?\n       */\n\n\n      CustomEvents.prototype.hasListener = function (eventName) {\n        return this.getListenerLength(eventName) > 0;\n      };\n      /**\n       * Return a count of events registered.\n       * @param {string} eventName - Custom event name\n       * @returns {number} number of event\n       */\n\n\n      CustomEvents.prototype.getListenerLength = function (eventName) {\n        var events = this._safeEvent(eventName);\n\n        return events.length;\n      };\n\n      module.exports = CustomEvents;\n      /***/\n    },\n    /* 55 */\n\n    /***/\n    function (module, exports) {\n      var g; // This works in non-strict mode\n\n      g = function () {\n        return this;\n      }();\n\n      try {\n        // This works if eval is allowed (see CSP)\n        g = g || new Function(\"return this\")();\n      } catch (e) {\n        // This works if the window reference is available\n        if (typeof window === \"object\") g = window;\n      } // g can still be undefined, but nothing to do about it...\n      // We return undefined, instead of nothing here, so it's\n      // easier to handle this case. if(!global) { ...}\n\n\n      module.exports = g;\n      /***/\n    },\n    /* 56 */\n\n    /***/\n    function (module, exports, __webpack_require__) {// extracted by mini-css-extract-plugin\n\n      /***/\n    },,\n    /* 57 */\n\n    /* 58 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\"; // ESM COMPAT FLAG\n\n      __webpack_require__.r(__webpack_exports__); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/collection/forEachOwnProperties.js\n\n\n      var forEachOwnProperties = __webpack_require__(9);\n\n      var forEachOwnProperties_default = /*#__PURE__*/__webpack_require__.n(forEachOwnProperties); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isExisty.js\n\n\n      var isExisty = __webpack_require__(25);\n\n      var isExisty_default = /*#__PURE__*/__webpack_require__.n(isExisty); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isUndefined.js\n\n\n      var isUndefined = __webpack_require__(7);\n\n      var isUndefined_default = /*#__PURE__*/__webpack_require__.n(isUndefined); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isNumber.js\n\n\n      var isNumber = __webpack_require__(33);\n\n      var isNumber_default = /*#__PURE__*/__webpack_require__.n(isNumber); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/object/extend.js\n\n\n      var extend = __webpack_require__(4);\n\n      var extend_default = /*#__PURE__*/__webpack_require__.n(extend); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/domUtil/css.js\n\n\n      var css = __webpack_require__(3);\n\n      var css_default = /*#__PURE__*/__webpack_require__.n(css); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/domUtil/addClass.js\n\n\n      var addClass = __webpack_require__(5);\n\n      var addClass_default = /*#__PURE__*/__webpack_require__.n(addClass); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/domUtil/removeClass.js\n\n\n      var removeClass = __webpack_require__(6);\n\n      var removeClass_default = /*#__PURE__*/__webpack_require__.n(removeClass); // EXTERNAL MODULE: ./src/js/utils/common.js\n\n\n      var utils_common = __webpack_require__(15); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isBoolean.js\n\n\n      var isBoolean = __webpack_require__(52);\n\n      var isBoolean_default = /*#__PURE__*/__webpack_require__.n(isBoolean); // EXTERNAL MODULE: external {\"commonjs\":\"codemirror\",\"commonjs2\":\"codemirror\",\"amd\":\"codemirror\",\"root\":[\"CodeMirror\"]}\n\n\n      var external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_ = __webpack_require__(14);\n\n      var external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_); // CONCATENATED MODULE: ./src/js/codemirror/fixOrderedListNumber.js\n\n      /**\n       * @fileoverview codemirror extension for fix ordered list number\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var listRE = /^(\\s*)((\\d+)([.)]\\s(?:\\[(?:x|\\s)\\]\\s)?))(.*)/;\n      /**\n       * simple wrapper for indentLess command\n       * to run fixOrderedListNumber on Shift-Tab\n       * @param {CodeMirror} cm - CodeMirror instance\n       * @returns {CodeMirror.Pass|null} - next command\n       * @ignore\n       */\n\n      external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.commands.indentLessOrderedList = function (cm) {\n        if (cm.getOption('disableInput')) {\n          return external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.Pass;\n        }\n\n        cm.execCommand('indentLess');\n        cm.execCommand('fixOrderedListNumber');\n        return null;\n      };\n      /**\n       * fix ordered list number\n       * @param {CodeMirror} cm - CodeMirror instance\n       * @returns {CodeMirror.Pass|null} - next command\n       * @ignore\n       */\n\n\n      external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.commands.fixOrderedListNumber = function (cm) {\n        if (cm.getOption('disableInput')) {\n          return external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.Pass;\n        }\n\n        var ranges = cm.listSelections();\n\n        for (var i = 0; i < ranges.length; i += 1) {\n          var pos = ranges[i].head;\n          var lineNumber = findFirstListItem(pos.line, cm);\n\n          if (lineNumber >= 0) {\n            var lineText = cm.getLine(lineNumber);\n\n            var _listRE$exec = listRE.exec(lineText),\n                indent = _listRE$exec[1],\n                index = _listRE$exec[3];\n\n            fixNumber(lineNumber, indent.length, parseInt(index, 10), cm);\n          }\n        }\n\n        return null;\n      };\n      /**\n       * fix list numbers\n       * @param {number} lineNumber - line number of list item to be normalized\n       * @param {number} prevIndentLength - previous indent length\n       * @param {number} startIndex - start index\n       * @param {CodeMirror} cm - CodeMirror instance\n       * @returns {number} - next line number\n       * @ignore\n       */\n\n\n      function fixNumber(lineNumber, prevIndentLength, startIndex, cm) {\n        var indent, delimiter, text, indentLength;\n        var index = startIndex;\n        var lineText = cm.getLine(lineNumber);\n\n        do {\n          var _listRE$exec2 = listRE.exec(lineText);\n\n          indent = _listRE$exec2[1];\n          delimiter = _listRE$exec2[4];\n          text = _listRE$exec2[5];\n          indentLength = indent.length;\n\n          if (indentLength === prevIndentLength) {\n            // fix number\n            cm.replaceRange(\"\" + indent + index + delimiter + text, {\n              line: lineNumber,\n              ch: 0\n            }, {\n              line: lineNumber,\n              ch: lineText.length\n            });\n            index += 1;\n            lineNumber += 1;\n          } else if (indentLength > prevIndentLength) {\n            // nested list start\n            lineNumber = fixNumber(lineNumber, indentLength, 1, cm);\n          } else {\n            // nested list end\n            return lineNumber;\n          }\n\n          lineText = cm.getLine(lineNumber);\n        } while (listRE.test(lineText));\n\n        return lineNumber;\n      }\n      /**\n       * find line number of list item which contains given lineNumber\n       * @param {number} lineNumber - line number of list item\n       * @param {CodeMirror} cm - CodeMirror instance\n       * @returns {number} - line number of first list item\n       * @ignore\n       */\n\n\n      function findFirstListItem(lineNumber, cm) {\n        var nextLineNumber = lineNumber;\n        var lineText = cm.getLine(lineNumber);\n\n        while (listRE.test(lineText)) {\n          nextLineNumber -= 1;\n          lineText = cm.getLine(nextLineNumber);\n        }\n\n        if (lineNumber === nextLineNumber) {\n          nextLineNumber = -1;\n        } else {\n          nextLineNumber += 1;\n        }\n\n        return nextLineNumber;\n      } // CONCATENATED MODULE: ./src/js/codemirror/overlay.js\n      // CodeMirror, copyright (c) by Marijn Haverbeke and others\n      // Distributed under an MIT license: http://codemirror.net/LICENSE\n      // Utility function that allows modes to be combined. The mode given\n      // as the base argument takes care of most of the normal mode\n      // functionality, but a second (typically simple) mode is used, which\n      // can override the style of text. Both modes get to parse all of the\n      // text, but when both assign a non-null style to a piece of code, the\n      // overlay wins, unless the combine argument was true and not overridden,\n      // or state.overlay.combineTokens was true, in which case the styles are\n      // combined.\n\n      /**\n       * @modifier NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /*eslint-disable */\n\n\n      external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.overlayMode = function (base, overlay, combine) {\n        return {\n          startState: function startState() {\n            return {\n              base: external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.startState(base),\n              overlay: external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.startState(overlay),\n              basePos: 0,\n              baseCur: null,\n              overlayPos: 0,\n              overlayCur: null,\n              streamSeen: null\n            };\n          },\n          copyState: function copyState(state) {\n            return {\n              base: external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.copyState(base, state.base),\n              overlay: external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.copyState(overlay, state.overlay),\n              basePos: state.basePos,\n              baseCur: null,\n              overlayPos: state.overlayPos,\n              overlayCur: null\n            };\n          },\n          token: function token(stream, state) {\n            if (stream != state.streamSeen || Math.min(state.basePos, state.overlayPos) < stream.start) {\n              state.streamSeen = stream;\n              state.basePos = state.overlayPos = stream.start;\n            }\n\n            if (stream.start == state.basePos) {\n              state.baseCur = base.token(stream, state.base);\n              state.basePos = stream.pos;\n            }\n\n            if (stream.start == state.overlayPos) {\n              stream.pos = stream.start;\n              state.overlayCur = overlay.token(stream, state.overlay);\n              state.overlayPos = stream.pos;\n            }\n\n            stream.pos = Math.min(state.basePos, state.overlayPos); // state.overlay.combineTokens always takes precedence over combine,\n            // unless set to null\n\n            if (state.overlayCur == null) return state.baseCur;else if (state.baseCur != null && state.overlay.combineTokens || combine && state.overlay.combineTokens == null) return state.baseCur + ' ' + state.overlayCur;else return state.overlayCur;\n          },\n          indent: base.indent && function (state, textAfter) {\n            return base.indent(state.base, textAfter);\n          },\n          electricChars: base.electricChars,\n          innerMode: function innerMode(state) {\n            return {\n              state: state.base,\n              mode: base\n            };\n          },\n          blankLine: function blankLine(state) {\n            if (base.blankLine) base.blankLine(state.base);\n            if (overlay.blankLine) overlay.blankLine(state.overlay);\n          }\n        };\n      }; // CONCATENATED MODULE: ./src/js/codemirror/continuelist.js\n      // CodeMirror, copyright (c) by Marijn Haverbeke and others\n      // Distributed under an MIT license: http://codemirror.net/LICENSE\n\n      /**\n       * @modifier NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /*eslint-disable */\n\n\n      var continuelist_listRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/,\n          emptyListRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/,\n          unorderedListRE = /[*+-]\\s/;\n\n      external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.commands.indentOrderedList = function (cm) {\n        if (cm.getOption('disableInput')) return external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.Pass;\n        var ranges = cm.listSelections();\n\n        for (var i = 0; i < ranges.length; i++) {\n          var pos = ranges[i].head;\n          var line = cm.getLine(pos.line);\n          var cursorBeforeTextInline = line.substr(0, pos.ch);\n\n          if (continuelist_listRE.test(cursorBeforeTextInline) || cm.somethingSelected()) {\n            cm.indentSelection('add');\n          } else {\n            cm.execCommand('insertSoftTab');\n          }\n        }\n\n        cm.execCommand('fixOrderedListNumber');\n      };\n\n      external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.commands.newlineAndIndentContinueMarkdownList = function (cm) {\n        if (cm.getOption('disableInput')) return external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.Pass;\n        var ranges = cm.listSelections(),\n            replacements = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          var pos = ranges[i].head;\n          var line = cm.getLine(pos.line),\n              match = continuelist_listRE.exec(line);\n          var cursorBeforeBullet = /^\\s*$/.test(line.slice(0, pos.ch));\n\n          if (!ranges[i].empty() || !match || cursorBeforeBullet) {\n            cm.execCommand('newlineAndIndent');\n            return;\n          }\n\n          if (emptyListRE.test(line)) {\n            if (!/>\\s*$/.test(line)) cm.replaceRange('', {\n              line: pos.line,\n              ch: 0\n            }, {\n              line: pos.line,\n              ch: pos.ch + 1\n            });\n            replacements[i] = '\\n';\n          } else {\n            var indent = match[1],\n                after = match[5];\n            var numbered = !(unorderedListRE.test(match[2]) || match[2].indexOf('>') >= 0);\n            var bullet = numbered ? parseInt(match[3], 10) + 1 + match[4] : match[2].replace('x', ' ');\n            replacements[i] = '\\n' + indent + bullet + after;\n            if (numbered) incrementRemainingMarkdownListNumbers(cm, pos);\n          }\n        }\n\n        cm.replaceSelections(replacements);\n      }; // Auto-updating Markdown list numbers when a new item is added to the\n      // middle of a list\n\n\n      function incrementRemainingMarkdownListNumbers(cm, pos) {\n        var startLine = pos.line,\n            lookAhead = 0,\n            skipCount = 0;\n        var startItem = continuelist_listRE.exec(cm.getLine(startLine)),\n            startIndent = startItem[1];\n\n        do {\n          lookAhead += 1;\n          var nextLineNumber = startLine + lookAhead;\n          var nextLine = cm.getLine(nextLineNumber),\n              nextItem = continuelist_listRE.exec(nextLine);\n\n          if (nextItem) {\n            var nextIndent = nextItem[1];\n            var newNumber = parseInt(startItem[3], 10) + lookAhead - skipCount;\n            var nextNumber = parseInt(nextItem[3], 10),\n                itemNumber = nextNumber;\n\n            if (startIndent === nextIndent && !isNaN(nextNumber)) {\n              if (newNumber === nextNumber) itemNumber = nextNumber + 1;\n              if (newNumber > nextNumber) itemNumber = newNumber + 1;\n              cm.replaceRange(nextLine.replace(continuelist_listRE, nextIndent + itemNumber + nextItem[4] + nextItem[5]), {\n                line: nextLineNumber,\n                ch: 0\n              }, {\n                line: nextLineNumber,\n                ch: nextLine.length\n              });\n            } else {\n              if (startIndent.length > nextIndent.length) return; // This doesn't run if the next line immediatley indents, as it is\n              // not clear of the users intention (new indented item or same level)\n\n              if (startIndent.length < nextIndent.length && lookAhead === 1) return;\n              skipCount += 1;\n            }\n          }\n        } while (nextItem);\n      } // CONCATENATED MODULE: ./src/js/codemirror/arrowKeyFunction.js\n      // CodeMirror, copyright (c) by Marijn Haverbeke and others\n      // Distributed under an MIT license: http://codemirror.net/LICENSE\n\n      /**\n       * @modifier NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /*eslint-disable */\n\n\n      external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.commands.replaceLineTextToUpper = function (cm) {\n        if (cm.getOption('disableInput')) {\n          return external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.Pass;\n        }\n\n        var ranges = cm.listSelections();\n        var lineAdjustment = -1;\n\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          var from = range.anchor;\n          var to = range.head;\n\n          if (isSameLineSelection(range) && to.line > 0) {\n            replaceSingleLine(cm, from, to, lineAdjustment);\n          } else if (!isRangeCollapsed(range)) {\n            var topLine = from.line < to.line ? from.line : to.line;\n\n            if (topLine > 0) {\n              var upper = from.line === topLine ? from : to;\n              var bottom = from.line === topLine ? to : from;\n              replaceMultiLine(cm, upper, bottom, lineAdjustment);\n            }\n          }\n        }\n      };\n\n      external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.commands.replaceLineTextToLower = function (cm) {\n        if (cm.getOption('disableInput')) {\n          return external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.Pass;\n        }\n\n        var ranges = cm.listSelections();\n        var lineAdjustment = 1;\n\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          var from = range.anchor;\n          var to = range.head;\n          var isLastLine = to.line === cm.lastLine();\n\n          if (isSameLineSelection(range) && !isLastLine) {\n            replaceSingleLine(cm, from, to, lineAdjustment);\n          } else if (!isRangeCollapsed(range)) {\n            var topLine = from.line < to.line ? from.line : to.line;\n            var upper = from.line === topLine ? from : to;\n            var bottom = from.line === topLine ? to : from;\n\n            if (bottom.line < cm.lastLine()) {\n              replaceMultiLine(cm, upper, bottom, lineAdjustment);\n            }\n          }\n        }\n      };\n\n      function isRangeCollapsed(range) {\n        return isSameLineSelection(range) && range.anchor.ch === range.head.ch;\n      }\n\n      function isSameLineSelection(range) {\n        return range.anchor.line === range.head.line;\n      }\n\n      function replaceSingleLine(cm, from, to, lineAdjustment) {\n        var currentLine = cm.getLine(to.line);\n        var replacement = cm.getLine(to.line + lineAdjustment);\n        var range = {\n          anchor: from,\n          head: to\n        };\n        cm.replaceRange(replacement, {\n          line: to.line,\n          ch: 0\n        }, {\n          line: to.line,\n          ch: currentLine.length\n        }, '+input');\n        cm.replaceRange(currentLine, {\n          line: to.line + lineAdjustment,\n          ch: 0\n        }, {\n          line: to.line + lineAdjustment,\n          ch: replacement.length\n        }, '+input');\n\n        if (isRangeCollapsed(range)) {\n          cm.setCursor({\n            line: to.line + lineAdjustment,\n            ch: to.ch\n          });\n        } else {\n          cm.setSelection({\n            line: from.line + lineAdjustment,\n            ch: from.ch\n          }, {\n            line: to.line + lineAdjustment,\n            ch: to.ch\n          });\n        }\n      }\n\n      function replaceMultiLine(cm, upper, bottom, lineAdjustment) {\n        var rangeContent = cm.getRange({\n          line: upper.line,\n          ch: 0\n        }, {\n          line: bottom.line,\n          ch: cm.getLine(bottom.line).length\n        });\n        var edgeLineOfConcern = lineAdjustment > 0 ? bottom : upper;\n        var replacement = cm.getLine(edgeLineOfConcern.line + lineAdjustment);\n        var targetLine;\n\n        if (lineAdjustment > 0) {\n          targetLine = upper;\n        } else {\n          targetLine = bottom;\n        }\n\n        cm.replaceRange(replacement, {\n          line: targetLine.line,\n          ch: 0\n        }, {\n          line: targetLine.line,\n          ch: cm.getLine(targetLine.line).length\n        }, '+input');\n        cm.replaceRange(rangeContent, {\n          line: upper.line + lineAdjustment,\n          ch: 0\n        }, {\n          line: bottom.line + lineAdjustment,\n          ch: cm.getLine(bottom.line + lineAdjustment).length\n        }, '+input');\n        cm.setSelection({\n          line: upper.line + lineAdjustment,\n          ch: upper.ch\n        }, {\n          line: bottom.line + lineAdjustment,\n          ch: bottom.ch\n        });\n      } // CONCATENATED MODULE: ./src/js/codemirror/placeholder.js\n      // CodeMirror, copyright (c) by Marijn Haverbeke and others\n      // Distributed under an MIT license: http://codemirror.net/LICENSE\n\n      /**\n       * @modifier NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /* eslint-disable */\n\n\n      external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.defineOption('placeholder', '', function (cm, val, old) {\n        var prev = old && old != external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.Init;\n\n        if (val && !prev) {\n          cm.on('blur', onBlur);\n          cm.on('change', onChange);\n          cm.on('swapDoc', onChange);\n          onChange(cm);\n        } else if (!val && prev) {\n          cm.off('blur', onBlur);\n          cm.off('change', onChange);\n          cm.off('swapDoc', onChange);\n          clearPlaceholder(cm);\n          var wrapper = cm.getWrapperElement();\n          wrapper.className = wrapper.className.replace(' CodeMirror-empty', '');\n        }\n\n        if (val && !cm.hasFocus()) onBlur(cm);\n      });\n\n      function clearPlaceholder(cm) {\n        if (cm.state.placeholder) {\n          cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n          cm.state.placeholder = null;\n        }\n      }\n\n      function setPlaceholder(cm) {\n        clearPlaceholder(cm);\n        var elt = cm.state.placeholder = document.createElement('pre');\n        elt.style.cssText = 'height: 0; overflow: visible';\n        elt.className = 'CodeMirror-placeholder';\n        var placeHolder = cm.getOption('placeholder');\n        if (typeof placeHolder == 'string') placeHolder = document.createTextNode(placeHolder);\n        elt.appendChild(placeHolder);\n        cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n      }\n\n      function onBlur(cm) {\n        if (isEmpty(cm)) setPlaceholder(cm);\n      }\n\n      function onChange(cm) {\n        var wrapper = cm.getWrapperElement(),\n            empty = isEmpty(cm);\n        wrapper.className = wrapper.className.replace(' CodeMirror-empty', '') + (empty ? ' CodeMirror-empty' : '');\n        if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n      }\n\n      function isEmpty(cm) {\n        return cm.lineCount() === 1 && cm.getLine(0) === '';\n      } // CONCATENATED MODULE: ./src/js/codeMirrorExt.js\n\n      /**\n       * @fileoverview Implements CodeBlockExt\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class CodeMirrorExt\n       * @param {HTMLElement} el - container jquery element\n       * @param {Object} [options={}] - codeMirror options\n       */\n\n\n      var codeMirrorExt_CodeMirrorExt = /*#__PURE__*/function () {\n        function CodeMirrorExt(el, options) {\n          if (options === void 0) {\n            options = {};\n          }\n\n          this.editorContainerEl = el;\n          /**\n           * CodeMirror instance\n           * @type {CodeMirror.EditorFromTextArea}\n           * @private\n           */\n\n          this.cm = null;\n\n          this._init(options);\n        }\n        /**\n         * init\n         * @param {Object} options - codeMirror option\n         * @private\n         */\n\n\n        var _proto = CodeMirrorExt.prototype;\n\n        _proto._init = function _init(options) {\n          var cmTextarea = document.createElement('textarea');\n          this.editorContainerEl.appendChild(cmTextarea);\n          options = extend_default()({\n            lineWrapping: true,\n            theme: 'default',\n            extraKeys: {\n              'Shift-Tab': 'indentLess',\n              'Alt-Up': 'replaceLineTextToUpper',\n              'Alt-Down': 'replaceLineTextToLower'\n            },\n            indentUnit: 4,\n            cursorScrollMargin: 12,\n            specialCharPlaceholder: function specialCharPlaceholder() {\n              return document.createElement('span');\n            }\n          }, options);\n          this.cm = external_commonjs_codemirror_commonjs2_codemirror_amd_codemirror_root_CodeMirror_default.a.fromTextArea(cmTextarea, options);\n        }\n        /**\n         * getCurrentRange\n         * @returns {Object} - selection range\n         */\n        ;\n\n        _proto.getCurrentRange = function getCurrentRange() {\n          var from = this.cm.getCursor('from');\n          var to = this.cm.getCursor('to');\n          return {\n            from: from,\n            to: to,\n            collapsed: from.line === to.line && from.ch === to.ch\n          };\n        }\n        /**\n         * Set focus to current Editor\n         */\n        ;\n\n        _proto.focus = function focus() {\n          this.cm.focus();\n        }\n        /**\n         * blur focus to current Editor\n         */\n        ;\n\n        _proto.blur = function blur() {\n          this.cm.getInputField().blur();\n        }\n        /**\n         * Remove Editor from document\n         */\n        ;\n\n        _proto.remove = function remove() {\n          this.cm.toTextArea();\n        }\n        /**\n         * Set Editor value\n         * @param {string} markdown - Markdown syntax text\n         * @param {boolean} [cursorToEnd=true] - move cursor to contents end\n         */\n        ;\n\n        _proto.setValue = function setValue(markdown, cursorToEnd) {\n          if (cursorToEnd === void 0) {\n            cursorToEnd = true;\n          }\n\n          this.cm.setValue(markdown);\n\n          if (cursorToEnd) {\n            this.moveCursorToEnd();\n          }\n\n          this.cm.doc.clearHistory();\n          this.cm.refresh();\n        }\n        /**\n         * Get editor value\n         * @returns {string} - codeMirror text value\n         */\n        ;\n\n        _proto.getValue = function getValue() {\n          return this.cm.getValue('\\n');\n        }\n        /**\n         * Get CodeMirror instance\n         * @returns {CodeMirror}\n         */\n        ;\n\n        _proto.getEditor = function getEditor() {\n          return this.cm;\n        }\n        /**\n         * Reset Editor\n         */\n        ;\n\n        _proto.reset = function reset() {\n          this.setValue('');\n        }\n        /**\n         * Get current caret position\n         * @returns {{from: {line: number, ch: number}, to: {line: number, ch: number}}}\n         */\n        ;\n\n        _proto.getCaretPosition = function getCaretPosition() {\n          return this.cm.cursorCoords();\n        }\n        /**\n         * Add widget\n         * @param {object} selection - Selection object\n         * @param {HTMLElement} node - Widget node\n         * @param {string} style - Adding style \"over\" or \"bottom\"\n         * @param {number} offset - Adding offset\n         */\n        ;\n\n        _proto.addWidget = function addWidget(selection, node, style, offset) {\n          if (offset) {\n            selection.ch += offset;\n          }\n\n          this.cm.addWidget(selection.end, node, true, style);\n        }\n        /**\n         * Replace selection with given replacement content\n         * @param {string} content - Replacement content text\n         * @param {object} selection - Selection object\n         */\n        ;\n\n        _proto.replaceSelection = function replaceSelection(content, selection) {\n          if (selection) {\n            this.cm.setSelection(selection.from, selection.to);\n          }\n\n          this.cm.replaceSelection(content);\n          this.focus();\n        }\n        /**\n         * Replace selection with replacement content and offset\n         * @param {string} content - Replacement content text\n         * @param {number} offset - Offset\n         * @param {number} overwriteLength - Length to overwrite\n         */\n        ;\n\n        _proto.replaceRelativeOffset = function replaceRelativeOffset(content, offset, overwriteLength) {\n          var cursor = this.cm.getCursor();\n          var selection = {\n            from: {\n              line: cursor.line,\n              ch: cursor.ch + offset\n            },\n            to: {\n              line: cursor.line,\n              ch: cursor.ch + offset + overwriteLength\n            }\n          };\n          this.replaceSelection(content, selection);\n        }\n        /**\n         * Set Editor height\n         * @param {number} height - Editor height\n         */\n        ;\n\n        _proto.setHeight = function setHeight(height) {\n          var contentWrapper = this.getWrapperElement();\n          css_default()(contentWrapper, {\n            height: height + \"px\"\n          });\n        }\n        /**\n         * set min height\n         * @param {number} minHeight - min height\n         */\n        ;\n\n        _proto.setMinHeight = function setMinHeight(minHeight) {\n          var contentWrapper = this.getWrapperElement();\n          css_default()(contentWrapper, {\n            minHeight: minHeight + \"px\"\n          });\n        }\n        /**\n         * Set the placeholder to CodeMirror\n         * @param {string} placeholder - placeholder to set\n         */\n        ;\n\n        _proto.setPlaceholder = function setPlaceholder(placeholder) {\n          if (placeholder) {\n            this.cm.setOption('placeholder', placeholder);\n          }\n        }\n        /**\n         * get code mirror wrapper element\n         * @returns {HTMLElement} - code mirror wrapper element\n         */\n        ;\n\n        _proto.getWrapperElement = function getWrapperElement() {\n          return this.cm.getWrapperElement();\n        }\n        /**\n         * get code mirror cursor\n         * @param {string} [start='head'] - which end of the selection. 'from'|'to'|'head'|'anchor'\n         * @returns {Cursor} - code mirror cursor\n         */\n        ;\n\n        _proto.getCursor = function getCursor(start) {\n          return this.cm.getCursor(start);\n        }\n        /**\n         * Set cursor position to end\n         */\n        ;\n\n        _proto.moveCursorToEnd = function moveCursorToEnd() {\n          var doc = this.getEditor().getDoc();\n          var lastLine = doc.lastLine();\n          doc.setCursor(lastLine, doc.getLine(lastLine).length);\n        }\n        /**\n         * Set cursor position to start\n         */\n        ;\n\n        _proto.moveCursorToStart = function moveCursorToStart() {\n          var doc = this.getEditor().getDoc();\n          var firstLine = doc.firstLine();\n          doc.setCursor(firstLine, 0);\n        }\n        /**\n         * Scroll Editor content to Top\n         * @param {number} value - Scroll amount\n         * @returns {number} - changed scroll top\n         */\n        ;\n\n        _proto.scrollTop = function scrollTop(value) {\n          if (value) {\n            this.cm.scrollTo(0, value);\n          }\n\n          return this.cm.getScrollInfo().top;\n        }\n        /**\n         * Get start, end position of current selection\n         * @returns {{start: {line: *, ch: *}, end: {line: *, ch: *}}}\n         */\n        ;\n\n        _proto.getRange = function getRange() {\n          var start = this.cm.getCursor('from');\n          var end = this.cm.getCursor('to');\n          return {\n            start: {\n              line: start.line,\n              ch: start.ch\n            },\n            end: {\n              line: end.line,\n              ch: end.ch\n            }\n          };\n        }\n        /**\n         * add codemirror event handler\n         * @param {string} type - event type\n         * @param {function} func - handler function\n         */\n        ;\n\n        _proto.on = function on(type, func) {\n          this.cm.on(type, func);\n        }\n        /**\n         * remove codemirror event handler\n         * @param {string} type - event type\n         * @param {function} func - handler function\n         */\n        ;\n\n        _proto.off = function off(type, func) {\n          this.cm.off(type, func);\n        };\n\n        return CodeMirrorExt;\n      }();\n      /* harmony default export */\n\n\n      var codeMirrorExt = codeMirrorExt_CodeMirrorExt; // CONCATENATED MODULE: ./src/js/keyMapper.js\n\n      /**\n       * @fileoverview Implements KeyMapper\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Constant of key mapping\n       * @type {string[]}\n       * @ignore\n       */\n\n      var KEYBOARD_MAP = ['', // [0]\n      '', // [1]\n      '', // [2]\n      'CANCEL', // [3]\n      '', // [4]\n      '', // [5]\n      'HELP', // [6]\n      '', // [7]\n      'BACK_SPACE', // [8]\n      'TAB', // [9]\n      '', // [10]\n      '', // [11]\n      'CLEAR', // [12]\n      'ENTER', // [13]\n      'ENTER_SPECIAL', // [14]\n      '', // [15]\n      '', // [16] SHIFT\n      '', // [17] CONTROL\n      '', // [18] ALT\n      'PAUSE', // [19]\n      'CAPS_LOCK', // [20]\n      'KANA', // [21]\n      'EISU', // [22]\n      'JUNJA', // [23]\n      'FINAL', // [24]\n      'HANJA', // [25]\n      '', // [26]\n      'ESCAPE', // [27]\n      'CONVERT', // [28]\n      'NONCONVERT', // [29]\n      'ACCEPT', // [30]\n      'MODECHANGE', // [31]\n      'SPACE', // [32]\n      'PAGE_UP', // [33]\n      'PAGE_DOWN', // [34]\n      'END', // [35]\n      'HOME', // [36]\n      'LEFT', // [37]\n      'UP', // [38]\n      'RIGHT', // [39]\n      'DOWN', // [40]\n      'SELECT', // [41]\n      'PRINT', // [42]\n      'EXECUTE', // [43]\n      'PRINTSCREEN', // [44]\n      'INSERT', // [45]\n      'DELETE', // [46]\n      '', // [47]\n      '0', // [48]\n      '1', // [49]\n      '2', // [50]\n      '3', // [51]\n      '4', // [52]\n      '5', // [53]\n      '6', // [54]\n      '7', // [55]\n      '8', // [56]\n      '9', // [57]\n      ':', // [58]\n      ';', // [59]\n      '<', // [60]\n      '=', // [61]\n      '>', // [62]\n      '?', // [63]\n      'AT', // [64]\n      'A', // [65]\n      'B', // [66]\n      'C', // [67]\n      'D', // [68]\n      'E', // [69]\n      'F', // [70]\n      'G', // [71]\n      'H', // [72]\n      'I', // [73]\n      'J', // [74]\n      'K', // [75]\n      'L', // [76]\n      'M', // [77]\n      'N', // [78]\n      'O', // [79]\n      'P', // [80]\n      'Q', // [81]\n      'R', // [82]\n      'S', // [83]\n      'T', // [84]\n      'U', // [85]\n      'V', // [86]\n      'W', // [87]\n      'X', // [88]\n      'Y', // [89]\n      'Z', // [90]\n      '', // [91] META\n      '', // [92]\n      'CONTEXT_MENU', // [93]\n      '', // [94]\n      'SLEEP', // [95]\n      'NUMPAD0', // [96]\n      'NUMPAD1', // [97]\n      'NUMPAD2', // [98]\n      'NUMPAD3', // [99]\n      'NUMPAD4', // [100]\n      'NUMPAD5', // [101]\n      'NUMPAD6', // [102]\n      'NUMPAD7', // [103]\n      'NUMPAD8', // [104]\n      'NUMPAD9', // [105]\n      'MULTIPLY', // [106]\n      'ADD', // [107]\n      'SEPARATOR', // [108]\n      'SUBTRACT', // [109]\n      'DECIMAL', // [110]\n      'DIVIDE', // [111]\n      'F1', // [112]\n      'F2', // [113]\n      'F3', // [114]\n      'F4', // [115]\n      'F5', // [116]\n      'F6', // [117]\n      'F7', // [118]\n      'F8', // [119]\n      'F9', // [120]\n      'F10', // [121]\n      'F11', // [122]\n      'F12', // [123]\n      'F13', // [124]\n      'F14', // [125]\n      'F15', // [126]\n      'F16', // [127]\n      'F17', // [128]\n      'F18', // [129]\n      'F19', // [130]\n      'F20', // [131]\n      'F21', // [132]\n      'F22', // [133]\n      'F23', // [134]\n      'F24', // [135]\n      '', // [136]\n      '', // [137]\n      '', // [138]\n      '', // [139]\n      '', // [140]\n      '', // [141]\n      '', // [142]\n      '', // [143]\n      'NUM_LOCK', // [144]\n      'SCROLL_LOCK', // [145]\n      'WIN_OEM_FJ_JISHO', // [146]\n      'WIN_OEM_FJ_MASSHOU', // [147]\n      'WIN_OEM_FJ_TOUROKU', // [148]\n      'WIN_OEM_FJ_LOYA', // [149]\n      'WIN_OEM_FJ_ROYA', // [150]\n      '', // [151]\n      '', // [152]\n      '', // [153]\n      '', // [154]\n      '', // [155]\n      '', // [156]\n      '', // [157]\n      '', // [158]\n      '', // [159]\n      '@', // [160]\n      '!', // [161]\n      '\"', // [162]\n      '#', // [163]\n      '$', // [164]\n      '%', // [165]\n      '&', // [166]\n      '_', // [167]\n      '(', // [168]\n      ')', // [169]\n      '*', // [170]\n      '+', // [171]\n      '|', // [172]\n      '-', // [173]\n      '{', // [174]\n      '}', // [175]\n      '~', // [176]\n      '', // [177]\n      '', // [178]\n      '', // [179]\n      '', // [180]\n      'VOLUME_MUTE', // [181]\n      'VOLUME_DOWN', // [182]\n      'VOLUME_UP', // [183]\n      '', // [184]\n      '', // [185]\n      ';', // [186]\n      '=', // [187]\n      ',', // [188]\n      '-', // [189]\n      '.', // [190]\n      '/', // [191]\n      '`', // [192]\n      '', // [193]\n      '', // [194]\n      '', // [195]\n      '', // [196]\n      '', // [197]\n      '', // [198]\n      '', // [199]\n      '', // [200]\n      '', // [201]\n      '', // [202]\n      '', // [203]\n      '', // [204]\n      '', // [205]\n      '', // [206]\n      '', // [207]\n      '', // [208]\n      '', // [209]\n      '', // [210]\n      '', // [211]\n      '', // [212]\n      '', // [213]\n      '', // [214]\n      '', // [215]\n      '', // [216]\n      '', // [217]\n      '', // [218]\n      '[', // [219]\n      '\\\\', // [220]\n      ']', // [221]\n      \"'\", // [222]\n      '', // [223]\n      'META', // [224]\n      'ALTGR', // [225]\n      '', // [226]\n      'WIN_ICO_HELP', // [227]\n      'WIN_ICO_00', // [228]\n      '', // [229]\n      'WIN_ICO_CLEAR', // [230]\n      '', // [231]\n      '', // [232]\n      'WIN_OEM_RESET', // [233]\n      'WIN_OEM_JUMP', // [234]\n      'WIN_OEM_PA1', // [235]\n      'WIN_OEM_PA2', // [236]\n      'WIN_OEM_PA3', // [237]\n      'WIN_OEM_WSCTRL', // [238]\n      'WIN_OEM_CUSEL', // [239]\n      'WIN_OEM_ATTN', // [240]\n      'WIN_OEM_FINISH', // [241]\n      'WIN_OEM_COPY', // [242]\n      'WIN_OEM_AUTO', // [243]\n      'WIN_OEM_ENLW', // [244]\n      'WIN_OEM_BACKTAB', // [245]\n      'ATTN', // [246]\n      'CRSEL', // [247]\n      'EXSEL', // [248]\n      'EREOF', // [249]\n      'PLAY', // [250]\n      'ZOOM', // [251]\n      '', // [252]\n      'PA1', // [253]\n      'WIN_OEM_CLEAR', // [254]\n      '' // [255]\n      ];\n      var sharedInstance;\n      /**\n       * Class KeyMapper\n       * @param {object} [options] options\n       * @param {string} options.splitter splitter string default is +\n       * @ignore\n       */\n\n      var KeyMapper = /*#__PURE__*/function () {\n        function KeyMapper(options) {\n          this._setSplitter(options);\n        }\n        /**\n         * Set key splitter\n         * @param {object} options Option object\n         * @private\n         */\n\n\n        var _proto = KeyMapper.prototype;\n\n        _proto._setSplitter = function _setSplitter(options) {\n          var splitter = options ? options.splitter : '+';\n          this._splitter = splitter;\n        }\n        /**\n         * Convert event to keyMap\n         * @param {event} event Event object\n         * @returns {string}\n         */\n        ;\n\n        _proto.convert = function convert(event) {\n          var keyMap = [];\n\n          if (event.shiftKey) {\n            keyMap.push('SHIFT');\n          }\n\n          if (event.ctrlKey) {\n            keyMap.push('CTRL');\n          }\n\n          if (event.metaKey) {\n            keyMap.push('META');\n          }\n\n          if (event.altKey) {\n            keyMap.push('ALT');\n          }\n\n          var keyChar = this._getKeyCodeChar(event.keyCode);\n\n          if (keyChar) {\n            keyMap.push(keyChar);\n          }\n\n          return keyMap.join(this._splitter);\n        }\n        /**\n         * Get character from key code\n         * @param {number} keyCode Key code\n         * @returns {string}\n         * @private\n         */\n        ;\n\n        _proto._getKeyCodeChar = function _getKeyCodeChar(keyCode) {\n          var keyCodeCharacter = KEYBOARD_MAP[keyCode];\n          return keyCodeCharacter;\n        }\n        /**\n         * Get sharedInstance\n         * @returns {KeyMapper}\n         */\n        ;\n\n        KeyMapper.getSharedInstance = function getSharedInstance() {\n          if (!sharedInstance) {\n            sharedInstance = new KeyMapper();\n          }\n\n          return sharedInstance;\n        }\n        /**\n         * get key code for a character\n         * @param {string} char - a character to be converted\n         * @returns {number} key code for the char\n         * @static\n         */\n        ;\n\n        KeyMapper.keyCode = function keyCode(char) {\n          return KEYBOARD_MAP.indexOf(char);\n        };\n\n        return KeyMapper;\n      }();\n      /* harmony default export */\n\n\n      var keyMapper = KeyMapper; // CONCATENATED MODULE: ./src/js/mdListManager.js\n\n      /**\n       * @fileoverview Implements markdown list manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var FIND_LIST_RX = /^[ \\t]*([-*]|[\\d]+\\.)( \\[[ xX]])? /;\n      var FIND_TASK_LIST_RX = /^[ \\t]*([*-] |[\\d]+\\. )(\\[[ xX]] )/;\n      var FIND_UL_RX = /^[ \\t]*[-*] .*/;\n      var FIND_OL_TASK_RX = /^[ \\t]*[\\d]+\\. \\[[ xX]] .*/;\n      var LIST_SYNTAX_RX = /([*-] |[\\d]+\\. )/;\n      var TASK_SYNTAX_RX = /([-*] |[\\d]+\\. )(\\[[ xX]] )/;\n      var LIST_OR_TASK_SYNTAX_RX = /([-*]|[\\d]+\\.)( \\[[ xX]])? /;\n      var UL_TASK_SYNTAX_RX = /([-*])( \\[[ xX]]) /;\n      var OL_SYNTAX_RX = /([\\d])+\\.( \\[[ xX]])? /;\n      var FIND_TABLE_RX = /^\\|([-\\s\\w\\d\\t<>?!@#$%^&*()_=+\\\\/'\";: \\r[\\]]*\\|+)+/i;\n      var FIND_HEADING_RX = /^#+\\s/;\n      var FIND_BLOCK_RX = /^ {0,3}(```|\\||>)/;\n      /**\n       * Class MdListManager\n       * @param {MarkdownEditor} mde - MarkdownEditor instance\n       * @ignore\n       */\n\n      var MdListManager = /*#__PURE__*/function () {\n        function MdListManager(mde) {\n          this.cm = mde.getEditor();\n          this.doc = this.cm.getDoc();\n          this.toastMark = mde.getToastMark();\n          /**\n           * Name property\n           * @type {string}\n           */\n\n          this.name = 'list';\n        }\n        /**\n         * Sort line number of selection descending\n         * @param {{from, to}} range start, end CodeMirror range information\n         * @returns {{start: {number}, end: {number}}}\n         * @private\n         */\n\n\n        var _proto = MdListManager.prototype;\n\n        _proto._createSortedLineRange = function _createSortedLineRange(range) {\n          var isReversed = range.from.line > range.to.line;\n          var rangeStart = {\n            line: isReversed ? range.to.line : range.from.line,\n            ch: 0\n          };\n          var rangeEnd = {\n            line: isReversed ? range.from.line : range.to.line,\n            ch: 0\n          };\n          return {\n            start: rangeStart.line,\n            end: rangeEnd.line\n          };\n        }\n        /**\n         * For odering the ol list, search preivous lines and\n         * calculate ordinal number when find ol list\n         * @param {number} lineNumber lineNumber\n         * @returns {number}\n         * @private\n         */\n        ;\n\n        _proto._calculateOrdinalNumber = function _calculateOrdinalNumber(lineNumber) {\n          var ordinalNumber = 1;\n\n          for (var i = lineNumber - 1; i >= 0; i -= 1) {\n            var depth = this._getListDepth(i);\n\n            if (depth === 1 && OL_SYNTAX_RX.exec(this.doc.getLine(i))) {\n              ordinalNumber = parseInt(RegExp.$1, 10) + 1;\n              break;\n            } else if (depth === 0) {\n              break;\n            }\n          }\n\n          return ordinalNumber;\n        };\n\n        _proto._isListLine = function _isListLine(lineNumber) {\n          return !!FIND_LIST_RX.exec(this.doc.getLine(lineNumber));\n        }\n        /**\n         * If text already have sytax for heading, table and code block,\n         * can not change to list.\n         * @param {number} lineNumber lineNumber\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isCanBeList = function _isCanBeList(lineNumber) {\n          var line = this.doc.getLine(lineNumber);\n          return !FIND_BLOCK_RX.test(line) && !FIND_TABLE_RX.test(line) && !FIND_HEADING_RX.test(line);\n        }\n        /**\n         * Return a function for change according to type\n         * @param {string} type ol, ul, task\n         * @returns {Function}\n         * @private\n         */\n        ;\n\n        _proto._getChangeFn = function _getChangeFn(type) {\n          var _this = this;\n\n          var fn;\n\n          switch (type) {\n            case 'ol':\n            case 'ul':\n              fn = function fn(lineNumber) {\n                return _this._changeToList(lineNumber, type);\n              };\n\n              break;\n\n            case 'task':\n              fn = function fn(lineNumber) {\n                return _this._changeToTask(lineNumber);\n              };\n\n              break;\n\n            default:\n              break;\n          }\n\n          return fn;\n        }\n        /**\n         * Change syntax by traversing each line selected.\n         * @param {{from, to}} range start, end CodeMirror range information\n         * @param {string} type ol, ul, task\n         */\n        ;\n\n        _proto.changeSyntax = function changeSyntax(range, type) {\n          var newListLine = [];\n\n          var lineRange = this._createSortedLineRange(range);\n\n          var startLineNumber = lineRange.start,\n              endLineNumber = lineRange.end;\n\n          var changeFn = this._getChangeFn(type);\n\n          for (var lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber += 1) {\n            if (!this._isCanBeList(lineNumber)) {\n              break;\n            } // If text of lineNumber is not list, cache for inserting blank line\n\n\n            if (!this._isListLine(lineNumber)) {\n              newListLine.push(lineNumber);\n            }\n\n            changeFn(lineNumber);\n          } // Should insert blank line before and after new list\n\n\n          this._insertBlankLineForNewList(newListLine);\n\n          this.cm.focus();\n        };\n\n        _proto._replaceLineText = function _replaceLineText(text, lineNumber) {\n          this.doc.replaceRange(text, {\n            line: lineNumber,\n            ch: 0\n          });\n        }\n        /**\n         * change to list according to the type.\n         * @param {number} lineNumber line number\n         * @param {string} type ol, ul\n         * @private\n         */\n        ;\n\n        _proto._changeToList = function _changeToList(lineNumber, type) {\n          var _this2 = this;\n\n          if (this._isListLine(lineNumber)) {\n            // If type is ol, need ordinal number.\n            this._changeSameDepthList(lineNumber, type === 'ol' ? function (lineNum, ordinalNumber) {\n              _this2._replaceListTypeToOL(lineNum, ordinalNumber);\n            } : function (lineNum) {\n              _this2._replaceListTypeToUL(lineNum);\n            });\n          } else {\n            this._replaceLineText(type === 'ol' ? this._calculateOrdinalNumber(lineNumber) + \". \" : '* ', lineNumber);\n          }\n        }\n        /**\n         * change to task list according\n         * @param {number} lineNumber line number\n         * @private\n         */\n        ;\n\n        _proto._changeToTask = function _changeToTask(lineNumber) {\n          if (FIND_TASK_LIST_RX.exec(this.doc.getLine(lineNumber))) {\n            this._replaceLineTextByRegexp(lineNumber, TASK_SYNTAX_RX, '$1');\n          } else if (this._isListLine(lineNumber)) {\n            this._replaceLineTextByRegexp(lineNumber, LIST_SYNTAX_RX, '$1[ ] ');\n          } else {\n            this._replaceLineText('* [ ] ', lineNumber);\n          }\n        };\n\n        _proto._getListDepth = function _getListDepth(lineNumber) {\n          var depth = 0;\n          var text = this.doc.getLine(lineNumber);\n\n          if (text) {\n            var mdNode = this.toastMark.findFirstNodeAtLine(lineNumber + 1);\n\n            while (mdNode && mdNode.type !== 'document') {\n              if (mdNode.type === 'list') {\n                depth += 1;\n              }\n\n              mdNode = mdNode.parent;\n            }\n          }\n\n          return depth;\n        };\n\n        _proto._findSameDepthList = function _findSameDepthList(listNumber, depth, isIncrease) {\n          var lineCount = this.doc.lineCount();\n          var result = [];\n          var i = listNumber;\n          var currentLineDepth;\n\n          while (isIncrease ? i < lineCount - 1 : i > 0) {\n            i = isIncrease ? i + 1 : i - 1;\n            currentLineDepth = this._getListDepth(i);\n\n            if (currentLineDepth === depth) {\n              result.push(i);\n            } else if (currentLineDepth < depth) {\n              break;\n            }\n          }\n\n          return result;\n        }\n        /**\n         * Find Sampe depth list before and after the line number,\n         * and then same depth lines change using replacer function\n         * @param {number} lineNumber line number\n         * @param {Function} replacer The function should be called with line numbers and ordinal number as arguments.\n         * @private\n         */\n        ;\n\n        _proto._changeSameDepthList = function _changeSameDepthList(lineNumber, replacer) {\n          var depth = this._getListDepth(lineNumber);\n\n          var backwardList = this._findSameDepthList(lineNumber, depth, false).reverse();\n\n          var forwardList = this._findSameDepthList(lineNumber, depth, true);\n\n          var sameDepthList = backwardList.concat([lineNumber]).concat(forwardList);\n          sameDepthList.forEach(function (lineNum, i) {\n            replacer(lineNum, i + 1);\n          });\n        }\n        /**\n         * Replace text using regular expression\n         * @param {number} lineNumber Line number\n         * @param {RegExp} regexp Regexp for find list syntax\n         * @param {string} replacePattern Replacement string\n         * @private\n         */\n        ;\n\n        _proto._replaceLineTextByRegexp = function _replaceLineTextByRegexp(lineNumber, regexp, replacePattern) {\n          var line = this.doc.getLine(lineNumber);\n          var currentLineStart = {\n            line: lineNumber,\n            ch: 0\n          };\n          var currentLineEnd = {\n            line: lineNumber,\n            ch: line.length\n          };\n          line = line.replace(regexp, replacePattern);\n          this.doc.replaceRange(line, currentLineStart, currentLineEnd);\n        };\n\n        _proto._replaceListTypeToUL = function _replaceListTypeToUL(lineNumber) {\n          var lineText = this.doc.getLine(lineNumber);\n\n          if (UL_TASK_SYNTAX_RX.exec(lineText)) {\n            this._replaceLineTextByRegexp(lineNumber, UL_TASK_SYNTAX_RX, '$1 ');\n          } else if (OL_SYNTAX_RX.exec(lineText)) {\n            this._replaceLineTextByRegexp(lineNumber, OL_SYNTAX_RX, '* ');\n          }\n        };\n\n        _proto._replaceListTypeToOL = function _replaceListTypeToOL(lineNumber, ordinalNumber) {\n          var lineText = this.doc.getLine(lineNumber);\n\n          if (FIND_UL_RX.exec(lineText) || FIND_OL_TASK_RX.exec(lineText)) {\n            this._replaceLineTextByRegexp(lineNumber, LIST_OR_TASK_SYNTAX_RX, ordinalNumber + \". \");\n          } else if (OL_SYNTAX_RX.exec(lineText)) {\n            if (parseInt(RegExp.$1, 10) !== ordinalNumber) {\n              this._replaceLineTextByRegexp(lineNumber, OL_SYNTAX_RX, ordinalNumber + \". \");\n            }\n          }\n        }\n        /**\n         * The new list must have a blank line before and after.\n         * @param {Array} newListLines lines that changed to list\n         * @private\n         */\n        ;\n\n        _proto._insertBlankLineForNewList = function _insertBlankLineForNewList(newListLines) {\n          var length = newListLines.length;\n\n          if (length) {\n            var startLineNumber = newListLines[0];\n            var endLineNumber = newListLines[length - 1];\n\n            if (this._isNotBlankNotListLine(endLineNumber + 1)) {\n              this.doc.replaceRange('\\n', {\n                line: endLineNumber,\n                ch: this.doc.getLine(endLineNumber).length\n              });\n            }\n\n            if (startLineNumber > 0 && this._isNotBlankNotListLine(startLineNumber - 1)) {\n              this.doc.replaceRange('\\n', {\n                line: startLineNumber,\n                ch: 0\n              });\n            }\n          }\n        };\n\n        _proto._isNotBlankNotListLine = function _isNotBlankNotListLine(lineNumber) {\n          return !!this.doc.getLine(lineNumber) && !this._isListLine(lineNumber);\n        };\n\n        return MdListManager;\n      }();\n      /* harmony default export */\n\n\n      var mdListManager = MdListManager; // CONCATENATED MODULE: ./src/js/componentManager.js\n\n      /**\n       * @fileoverview Implements ComponentManager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class ComponentManager\n       * @param {MarkdownEditor|WysiwygEditor} editor - Editor instance\n       * @ignore\n       */\n\n      var ComponentManager = /*#__PURE__*/function () {\n        function ComponentManager(editor) {\n          /**\n           * private\n           * @type {object}\n           * @private\n           */\n          this._managers = {};\n          this._editor = editor;\n        }\n        /**\n         * addManager\n         * Add manager\n         * @param {string|function} nameOrConstructor Manager name or constructor\n         * @param {function} [ManagerConstructor] Constructor\n         */\n\n\n        var _proto = ComponentManager.prototype;\n\n        _proto.addManager = function addManager(nameOrConstructor, ManagerConstructor) {\n          if (!ManagerConstructor) {\n            ManagerConstructor = nameOrConstructor;\n            nameOrConstructor = null;\n          }\n\n          var instance = new ManagerConstructor(this._editor);\n          this._managers[nameOrConstructor || instance.name] = instance;\n        }\n        /**\n         * getManager\n         * Get manager by manager name\n         * @param {string} name Manager name\n         * @returns {object} manager\n         */\n        ;\n\n        _proto.getManager = function getManager(name) {\n          return this._managers[name];\n        }\n        /**\n         * Remove Manager.\n         * @param {string} name - manager name\n         */\n        ;\n\n        _proto.removeManager = function removeManager(name) {\n          var manager = this.getManager(name);\n\n          if (!manager) {\n            return;\n          }\n\n          if (manager.destroy) {\n            manager.destroy();\n          }\n\n          delete this._managers[name];\n        };\n\n        return ComponentManager;\n      }();\n      /* harmony default export */\n\n\n      var componentManager = ComponentManager; // CONCATENATED MODULE: ./src/js/mdTextObject.js\n\n      /**\n       * @fileoverview Implements markdown textObject\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class Markdown textObject\n       * @param {MarkdownEditor} mde - MarkdownEditor instance\n       * @param {object} range - range\n       */\n\n      var MdTextObject = /*#__PURE__*/function () {\n        function MdTextObject(mde, range) {\n          this._mde = mde;\n          this.setRange(range || mde.getRange());\n        }\n        /**\n         * Set start\n         * @param {object} rangeStart Start of range\n         * @private\n         */\n\n\n        var _proto = MdTextObject.prototype;\n\n        _proto._setStart = function _setStart(rangeStart) {\n          this._start = rangeStart;\n        }\n        /**\n         * Set end\n         * @param {object} rangeEnd End of range\n         * @private\n         */\n        ;\n\n        _proto._setEnd = function _setEnd(rangeEnd) {\n          this._end = rangeEnd;\n        }\n        /**\n         * Set range to given range\n         * @param {object} range Range object\n         */\n        ;\n\n        _proto.setRange = function setRange(range) {\n          this._setStart(range.start);\n\n          this._setEnd(range.end);\n        }\n        /**\n         * Set start to end\n         * @param {object} range Range object\n         */\n        ;\n\n        _proto.setEndBeforeRange = function setEndBeforeRange(range) {\n          this._setEnd(range.start);\n        }\n        /**\n         * Expand startOffset by 1\n         */\n        ;\n\n        _proto.expandStartOffset = function expandStartOffset() {\n          var start = this._start;\n\n          if (start.ch !== 0) {\n            start.ch -= 1;\n          }\n        }\n        /**\n         * Expand endOffset by 1\n         */\n        ;\n\n        _proto.expandEndOffset = function expandEndOffset() {\n          var end = this._end;\n\n          if (end.ch < this._mde.getEditor().getDoc().getLine(end.line).length) {\n            end.ch += 1;\n          }\n        }\n        /**\n         * Get current selection's text content\n         * @returns {{start: {line: number, ch: number}, end: {line: number, ch: number}}}\n         */\n        ;\n\n        _proto.getTextContent = function getTextContent() {\n          return this._mde.getEditor().getRange(this._start, this._end);\n        }\n        /**\n         * Replace current selection's content with given text content\n         * @param {string} content Replacement content\n         */\n        ;\n\n        _proto.replaceContent = function replaceContent(content) {\n          this._mde.getEditor().replaceRange(content, this._start, this._end, '+input');\n        }\n        /**\n         * Delete current selection's content\n         */\n        ;\n\n        _proto.deleteContent = function deleteContent() {\n          this._mde.getEditor().replaceRange('', this._start, this._end, '+delete');\n        }\n        /**\n         * peek StartBeforeOffset\n         * @param {number} offset Offset\n         * @returns {{start: {line: number, ch: number}, end: {line: number, ch: number}}}\n         */\n        ;\n\n        _proto.peekStartBeforeOffset = function peekStartBeforeOffset(offset) {\n          var peekStart = {\n            line: this._start.line,\n            ch: Math.max(this._start.ch - offset, 0)\n          };\n          return this._mde.getEditor().getRange(peekStart, this._start);\n        };\n\n        return MdTextObject;\n      }();\n      /* harmony default export */\n\n\n      var mdTextObject = MdTextObject; // EXTERNAL MODULE: ./src/js/utils/markdown.js\n\n      var markdown = __webpack_require__(12); // CONCATENATED MODULE: ./src/js/markdownEditor.js\n\n\n      function _extends() {\n        _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }\n\n          return target;\n        };\n\n        return _extends.apply(this, arguments);\n      }\n\n      function _assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements markdown editor\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var markdownEditor_keyMapper = keyMapper.getSharedInstance();\n      var tokenTypes = {\n        strong: 'strong',\n        emph: 'em',\n        strike: 'strikethrough',\n        thematicBreak: 'hr',\n        blockQuote: 'quote',\n        code: 'comment',\n        codeBlock: 'comment'\n      };\n      var defaultState = {\n        strong: false,\n        emph: false,\n        strike: false,\n        thematicBreak: false,\n        blockQuote: false,\n        code: false,\n        codeBlock: false,\n        list: false,\n        taskList: false,\n        orderedList: false,\n        heading: false,\n        table: false,\n        source: 'markdown'\n      };\n      /**\n       * Class MarkdownEditor\n       * @param {HTMLElement} el - container element\n       * @param {EventManager} eventManager - event manager\n       * @param {Object} options - options of editor\n       */\n\n      var markdownEditor_MarkdownEditor = /*#__PURE__*/function (_CodeMirrorExt) {\n        _inheritsLoose(MarkdownEditor, _CodeMirrorExt);\n\n        function MarkdownEditor(el, eventManager, toastMark, options) {\n          var _this;\n\n          _this = _CodeMirrorExt.call(this, el, {\n            dragDrop: true,\n            allowDropFileTypes: ['image'],\n            extraKeys: {\n              Enter: 'newlineAndIndentContinueMarkdownList',\n              Tab: 'indentOrderedList',\n              'Shift-Tab': 'indentLessOrderedList'\n            },\n            viewportMargin: options && options.height === 'auto' ? Infinity : 10\n          }) || this;\n          _this.eventManager = eventManager;\n          _this.componentManager = new componentManager(_assertThisInitialized(_this));\n          _this.toastMark = toastMark;\n\n          _this.componentManager.addManager(mdListManager);\n          /**\n           * latest state info\n           * @type {object}\n           * @private\n           */\n\n\n          _this._latestState = null;\n\n          _this._initEvent();\n\n          return _this;\n        }\n        /**\n         * _initEvent\n         * Initialize EventManager event handler\n         * @private\n         */\n\n\n        var _proto = MarkdownEditor.prototype;\n\n        _proto._initEvent = function _initEvent() {\n          var _this2 = this;\n\n          this.cm.getWrapperElement().addEventListener('click', function () {\n            _this2.eventManager.emit('click', {\n              source: 'markdown'\n            });\n          });\n          this.cm.on('beforeChange', function (cm, ev) {\n            if (ev.origin === 'paste') {\n              _this2.eventManager.emit('pasteBefore', {\n                source: 'markdown',\n                data: ev\n              });\n            }\n          });\n          this.cm.on('change', function (cm, cmEvent) {\n            _this2._refreshCodeMirrorMarks(cmEvent);\n\n            _this2._emitMarkdownEditorChangeEvent(cmEvent);\n          });\n          this.cm.on('focus', function () {\n            _this2.eventManager.emit('focus', {\n              source: 'markdown'\n            });\n          });\n          this.cm.on('blur', function () {\n            _this2.eventManager.emit('blur', {\n              source: 'markdown'\n            });\n          });\n          this.cm.on('scroll', function (cm, eventData) {\n            _this2.eventManager.emit('scroll', {\n              source: 'markdown',\n              data: eventData\n            });\n          });\n          this.cm.on('keydown', function (cm, keyboardEvent) {\n            _this2.eventManager.emit('keydown', {\n              source: 'markdown',\n              data: keyboardEvent\n            });\n\n            _this2.eventManager.emit('keyMap', {\n              source: 'markdown',\n              keyMap: markdownEditor_keyMapper.convert(keyboardEvent),\n              data: keyboardEvent\n            });\n          });\n          this.cm.on('keyup', function (cm, keyboardEvent) {\n            _this2.eventManager.emit('keyup', {\n              source: 'markdown',\n              data: keyboardEvent\n            });\n          });\n          this.cm.on('copy', function (cm, ev) {\n            _this2.eventManager.emit('copy', {\n              source: 'markdown',\n              data: ev\n            });\n          });\n          this.cm.on('cut', function (cm, ev) {\n            _this2.eventManager.emit('cut', {\n              source: 'markdown',\n              data: ev\n            });\n          });\n          this.cm.on('paste', function (cm, clipboardEvent) {\n            _this2.eventManager.emit('paste', {\n              source: 'markdown',\n              data: clipboardEvent\n            });\n          });\n          this.cm.on('drop', function (cm, eventData) {\n            eventData.preventDefault();\n\n            _this2.eventManager.emit('drop', {\n              source: 'markdown',\n              data: eventData\n            });\n          });\n          this.cm.on('cursorActivity', function () {\n            return _this2._changeToolbarItemState();\n          });\n        }\n        /**\n         * Set Editor value\n         * @param {string} markdown - Markdown syntax text\n         * @param {boolean} [cursorToEnd=true] - move cursor to contents end\n         * @override\n         */\n        ;\n\n        _proto.setValue = function setValue(markdown, cursorToEnd) {\n          _CodeMirrorExt.prototype.setValue.call(this, markdown, cursorToEnd); // this._emitMarkdownEditorContentChangedEvent();\n\n        }\n        /**\n         * Get text object of current range\n         * @param {{start, end}} range Range object of each editor\n         * @returns {MdTextObject}\n         */\n        ;\n\n        _proto.getTextObject = function getTextObject(range) {\n          return new mdTextObject(this, range);\n        }\n        /**\n         * Emit contentChangedFromMarkdown event\n         * @param {event} e - Event object\n         * @private\n         */\n        ;\n\n        _proto._emitMarkdownEditorContentChangedEvent = function _emitMarkdownEditorContentChangedEvent(eventObj) {\n          this.eventManager.emit('contentChangedFromMarkdown', eventObj);\n        }\n        /**\n         * Emit changeEvent\n         * @param {event} e - Event object\n         * @private\n         */\n        ;\n\n        _proto._emitMarkdownEditorChangeEvent = function _emitMarkdownEditorChangeEvent(e) {\n          if (e.origin !== 'setValue') {\n            var eventObj = {\n              source: 'markdown'\n            };\n            this.eventManager.emit('changeFromMarkdown', eventObj);\n            this.eventManager.emit('change', eventObj);\n          }\n        };\n\n        _proto._refreshCodeMirrorMarks = function _refreshCodeMirrorMarks(e) {\n          var from = e.from,\n              to = e.to,\n              text = e.text;\n          var editResult = this.toastMark.editMarkdown([from.line + 1, from.ch + 1], [to.line + 1, to.ch + 1], text.join('\\n'));\n\n          this._emitMarkdownEditorContentChangedEvent(editResult);\n\n          var nodes = editResult.nodes;\n\n          if (!nodes.length) {\n            return;\n          }\n          /* eslint-disable max-depth */\n\n\n          var _nodes$0$sourcepos = nodes[0].sourcepos,\n              editFromPos = _nodes$0$sourcepos[0];\n          var _nodes$sourcepos = nodes[nodes.length - 1].sourcepos,\n              editToPos = _nodes$sourcepos[1];\n          var editFrom = {\n            line: editFromPos[0] - 1,\n            ch: editFromPos[1] - 1\n          };\n          var editTo = {\n            line: editToPos[0] - 1,\n            ch: editToPos[1]\n          };\n          var marks = this.cm.findMarks(editFrom, editTo);\n\n          for (var _iterator = marks, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n            var _ref;\n\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref = _i.value;\n            }\n\n            var mark = _ref;\n            mark.clear();\n          }\n\n          for (var _iterator2 = nodes, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n            var _ref2;\n\n            if (_isArray2) {\n              if (_i2 >= _iterator2.length) break;\n              _ref2 = _iterator2[_i2++];\n            } else {\n              _i2 = _iterator2.next();\n              if (_i2.done) break;\n              _ref2 = _i2.value;\n            }\n\n            var parent = _ref2;\n            var walker = parent.walker();\n            var event = walker.next();\n\n            while (event) {\n              var _event = event,\n                  node = _event.node,\n                  entering = _event.entering;\n\n              if (entering) {\n                var type = node.type,\n                    sourcepos = node.sourcepos;\n                var startPosition = sourcepos[0],\n                    endPosition = sourcepos[1];\n                var startLine = startPosition[0],\n                    startCh = startPosition[1];\n                var endLine = endPosition[0],\n                    endCh = endPosition[1];\n                var start = {\n                  line: startLine - 1,\n                  ch: startCh - 1\n                };\n                var end = {\n                  line: endLine - 1,\n                  ch: endCh\n                };\n                var extraNode = tokenTypes[type];\n\n                if (type === 'heading') {\n                  this.cm.markText(start, end, {\n                    className: \"cm-header cm-header-\" + node.level\n                  });\n                } else if (extraNode) {\n                  this.cm.markText(start, end, {\n                    className: \"cm-\" + extraNode\n                  });\n                } else if (type === 'image' || type === 'link') {\n                  this._markTextInLinkOrImage(node, start, end);\n                } else if (type === 'item') {\n                  this._markTextInListItem(node, start, end);\n                }\n              }\n\n              event = walker.next();\n            }\n          }\n          /* eslint-enable max-depth */\n\n        };\n\n        _proto._markTextInLinkOrImage = function _markTextInLinkOrImage(node, start, end) {\n          var type = node.type,\n              lastChild = node.lastChild;\n          var startLine = start.line,\n              startCh = start.ch;\n          var endLine = end.line;\n          var descStart = {\n            line: startLine,\n            ch: startCh\n          };\n          var lastChildCh;\n\n          if (type === 'image') {\n            var descEnd = {\n              line: startLine,\n              ch: startCh + 1\n            };\n            lastChildCh = lastChild ? lastChild.sourcepos[1][1] + 1 : 3; // 3: length of '![]'\n\n            this.cm.markText(descStart, descEnd, {\n              className: 'cm-image cm-image-marker'\n            });\n            this.cm.markText(descEnd, {\n              line: endLine,\n              ch: lastChildCh\n            }, {\n              className: 'cm-image cm-image-alt-text cm-link'\n            });\n          } else {\n            lastChildCh = lastChild ? lastChild.sourcepos[1][1] + 1 : 2; // 2: length of '[]'\n\n            this.cm.markText(descStart, {\n              line: endLine,\n              ch: lastChildCh\n            }, {\n              className: 'cm-link'\n            });\n          }\n\n          this.cm.markText({\n            line: endLine,\n            ch: lastChildCh\n          }, end, {\n            className: 'cm-string cm-url'\n          });\n        };\n\n        _proto._getClassNameOfListItem = function _getClassNameOfListItem(node) {\n          var depth = 0;\n\n          while (node.parent.parent.type === 'item') {\n            node = node.parent.parent;\n            depth += 1;\n          }\n\n          var listItemTokens = ['variable-2', 'variable-3', 'keyword'];\n          var className = listItemTokens[depth % 3];\n          return \"cm-\" + className;\n        };\n\n        _proto._markTextInListItemChildren = function _markTextInListItemChildren(node, className) {\n          while (node) {\n            var _node = node,\n                type = _node.type,\n                sourcepos = _node.sourcepos;\n\n            if (type === 'paragraph' || type === 'codeBlock') {\n              var startPosistion = sourcepos[0],\n                  endPosition = sourcepos[1];\n              var start = {\n                line: startPosistion[0] - 1,\n                ch: startPosistion[1] - 1\n              };\n              var end = {\n                line: endPosition[0] - 1,\n                ch: endPosition[1]\n              };\n              this.cm.markText(start, end, {\n                className: className\n              });\n            }\n\n            node = node.next;\n          }\n        };\n\n        _proto._markTextInListItem = function _markTextInListItem(node, start) {\n          var className = this._getClassNameOfListItem(node);\n\n          var _node$listData = node.listData,\n              padding = _node$listData.padding,\n              task = _node$listData.task;\n          this.cm.markText({\n            line: start.line,\n            ch: start.ch\n          }, {\n            line: start.line,\n            ch: start.ch + padding\n          }, {\n            className: className\n          });\n\n          if (task) {\n            this.cm.markText({\n              line: start.line,\n              ch: start.ch + padding\n            }, {\n              line: start.line,\n              ch: start.ch + padding + 3\n            }, {\n              className: 'cm-meta'\n            });\n          }\n\n          this._markTextInListItemChildren(node.firstChild, className);\n        }\n        /**\n         * Return whether state changed or not\n         * @param {object} previousState - Previous state\n         * @param {object} currentState - Current state\n         * @returns {boolean} - changed state\n         * @private\n         */\n        ;\n\n        _proto._isStateChanged = function _isStateChanged(previousState, currentState) {\n          var result = false;\n          forEachOwnProperties_default()(currentState, function (currentStateTypeValue, stateType) {\n            result = previousState[stateType] !== currentStateTypeValue;\n            return !result;\n          });\n          return result;\n        };\n\n        _proto._changeToolbarItemState = function _changeToolbarItemState() {\n          var _this3 = this;\n\n          var listDepth = 1;\n\n          var state = _extends({}, defaultState);\n\n          var _this$cm$getCursor = this.cm.getCursor(),\n              line = _this$cm$getCursor.line,\n              ch = _this$cm$getCursor.ch;\n\n          var mdLine = line + 1;\n          var mdCh = this.cm.getLine(line).length === ch ? ch : ch + 1;\n\n          var setNodeTypeToState = function setNodeTypeToState(mdNode) {\n            var type = _this3._getToolbarItemStateName(mdNode);\n\n            if (isBoolean_default()(state[type])) {\n              if (/list|List/.test(type)) {\n                if (listDepth === 1) {\n                  listDepth += 1;\n                  state[type] = true;\n                }\n              } else {\n                state[type] = true;\n              }\n            }\n          };\n\n          var mdNode = this.toastMark.findNodeAtPosition([mdLine, mdCh]);\n\n          if (!mdNode) {\n            this.eventManager.emit('stateChange', state);\n            this.resetState();\n            return;\n          }\n\n          mdNode = mdNode.type === 'text' ? mdNode.parent : mdNode;\n          setNodeTypeToState(mdNode);\n          Object(markdown[\"i\"\n          /* traverseParentNodes */\n          ])(mdNode, setNodeTypeToState); // if position is matched to start, end position of inline node, highlighting is ignored\n\n          if (Object(markdown[\"h\"\n          /* isStyledTextNode */\n          ])(mdNode) && (mdCh === ch && Object(markdown[\"b\"\n          /* getMdEndLine */\n          ])(mdNode) === mdLine || mdCh === Object(markdown[\"a\"\n          /* getMdEndCh */\n          ])(mdNode) + 1 && mdLine === Object(markdown[\"b\"\n          /* getMdEndLine */\n          ])(mdNode) || mdCh === Object(markdown[\"c\"\n          /* getMdStartCh */\n          ])(mdNode) && mdLine === Object(markdown[\"d\"\n          /* getMdStartLine */\n          ])(mdNode))) {\n            state[mdNode.type] = false;\n          }\n\n          if (!this._latestState || this._isStateChanged(this._latestState, state)) {\n            this.eventManager.emit('stateChange', state);\n            this._latestState = state;\n          }\n        };\n\n        _proto._getToolbarItemStateName = function _getToolbarItemStateName(_ref3) {\n          var type = _ref3.type,\n              listData = _ref3.listData;\n\n          if (type === 'list' || type === 'item') {\n            if (listData.task) {\n              return 'taskList';\n            }\n\n            return listData.type === 'ordered' ? 'orderedList' : 'list';\n          }\n\n          if (type.indexOf('table') !== -1) {\n            return 'table';\n          }\n\n          return type;\n        }\n        /**\n         * latestState reset\n         */\n        ;\n\n        _proto.resetState = function resetState() {\n          this._latestState = null;\n        };\n\n        _proto.getToastMark = function getToastMark() {\n          return this.toastMark;\n        }\n        /**\n         * MarkdownEditor factory method\n         * @param {HTMLElement} el - Container element for editor\n         * @param {EventManager} eventManager - EventManager instance\n         * @param {Object} options - options of editor\n         * @returns {MarkdownEditor} - MarkdownEditor\n         * @ignore\n         */\n        ;\n\n        MarkdownEditor.factory = function factory(el, eventManager, toastMark, options) {\n          return new MarkdownEditor(el, eventManager, toastMark, options);\n        };\n\n        return MarkdownEditor;\n      }(codeMirrorExt);\n      /* harmony default export */\n\n\n      var markdownEditor = markdownEditor_MarkdownEditor; // EXTERNAL MODULE: ./src/js/mdPreview.js\n\n      var mdPreview = __webpack_require__(34); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/collection/toArray.js\n\n\n      var toArray = __webpack_require__(2);\n\n      var toArray_default = /*#__PURE__*/__webpack_require__.n(toArray); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/collection/forEachArray.js\n\n\n      var forEachArray = __webpack_require__(20);\n\n      var forEachArray_default = /*#__PURE__*/__webpack_require__.n(forEachArray); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isArray.js\n\n\n      var isArray = __webpack_require__(21);\n\n      var isArray_default = /*#__PURE__*/__webpack_require__.n(isArray); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/browser/browser.js\n\n\n      var browser = __webpack_require__(10);\n\n      var browser_default = /*#__PURE__*/__webpack_require__.n(browser); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/tricks/debounce.js\n\n\n      var debounce = __webpack_require__(46);\n\n      var debounce_default = /*#__PURE__*/__webpack_require__.n(debounce); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/domEvent/on.js\n\n\n      var domEvent_on = __webpack_require__(18);\n\n      var on_default = /*#__PURE__*/__webpack_require__.n(domEvent_on); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/domEvent/off.js\n\n\n      var domEvent_off = __webpack_require__(19);\n\n      var off_default = /*#__PURE__*/__webpack_require__.n(domEvent_off); // EXTERNAL MODULE: ./src/js/utils/dom.js\n\n\n      var dom = __webpack_require__(0); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/domUtil/matches.js\n\n\n      var matches = __webpack_require__(11);\n\n      var matches_default = /*#__PURE__*/__webpack_require__.n(matches); // EXTERNAL MODULE: ./src/js/htmlSanitizer.js\n\n\n      var htmlSanitizer = __webpack_require__(29); // CONCATENATED MODULE: ./src/js/wwPasteContentHelper.js\n\n      /**\n       * @fileoverview Implements WwPasteContentHelper\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class WwPasteContentHelper\n       * @param {WysiwygEditor} wwe - wysiwygEditor instance\n       * @ignore\n       */\n\n\n      var wwPasteContentHelper_WwPasteContentHelper = /*#__PURE__*/function () {\n        function WwPasteContentHelper(wwe) {\n          this.wwe = wwe;\n        }\n        /**\n         * Process paste data before paste\n         * @param {HTMLElement} container - clipboard container\n         */\n\n\n        var _proto = WwPasteContentHelper.prototype;\n\n        _proto.preparePaste = function preparePaste(container) {\n          var range = this.wwe.getEditor().getSelection().cloneRange();\n          var wwCodeblockManager = this.wwe.componentManager.getManager('codeblock');\n          var firstBlockIsTaken = false;\n          var tempContainer = document.createElement('div');\n          var nodeName, node, isPastingList;\n\n          this._pasteFirstAid(container);\n\n          var childNodes = toArray_default()(container.childNodes);\n\n          while (childNodes.length) {\n            node = childNodes[0];\n            nodeName = dom[\"a\"\n            /* default */\n            ].getNodeName(node);\n            isPastingList = nodeName === 'LI' || nodeName === 'UL' || nodeName === 'OL';\n\n            if (wwCodeblockManager.isInCodeBlock(range)) {\n              dom[\"a\"\n              /* default */\n              ].append(tempContainer, wwCodeblockManager.prepareToPasteOnCodeblock(childNodes));\n            } else if (isPastingList) {\n              dom[\"a\"\n              /* default */\n              ].append(tempContainer, this._prepareToPasteList(childNodes, range, firstBlockIsTaken));\n              firstBlockIsTaken = true;\n            } else {\n              dom[\"a\"\n              /* default */\n              ].append(tempContainer, childNodes.shift());\n            }\n          }\n\n          container.innerHTML = tempContainer.innerHTML;\n        }\n        /**\n         * Wrap orphan node(inline, text) with div element\n         * @param {HTMLElement} container - clipboard container\n         * @returns {DocumentFragment}\n         * @private\n         */\n        ;\n\n        _proto._wrapOrphanNodeWithDiv = function _wrapOrphanNodeWithDiv(container) {\n          var tempContainer = document.createElement('div');\n          var currentDiv;\n          toArray_default()(container.childNodes).forEach(function (node) {\n            var isTextNode = node.nodeType === 3;\n            /* eslint-disable max-len */\n\n            var isInlineNode = /^(SPAN|A|CODE|EM|I|STRONG|B|S|U|ABBR|ACRONYM|CITE|DFN|KBD|SAMP|VAR|BDO|Q|SUB|SUP)$/gi.test(node.tagName);\n            var isBR = node.nodeName === 'BR';\n            /* eslint-enable max-len */\n\n            if (isTextNode || isInlineNode || isBR) {\n              if (!currentDiv) {\n                currentDiv = document.createElement('div');\n                tempContainer.appendChild(currentDiv);\n              }\n\n              currentDiv.appendChild(node);\n\n              if (isBR) {\n                currentDiv = null;\n              }\n            } else {\n              if (currentDiv && currentDiv.lastChild.tagName !== 'BR') {\n                currentDiv.appendChild(document.createElement('br'));\n              }\n\n              currentDiv = null;\n              tempContainer.appendChild(node);\n            }\n          });\n          return tempContainer.innerHTML;\n        }\n        /**\n         * Processing paste data after paste\n         * @param {HTMLElement} container - clipboard container\n         * @private\n         */\n        ;\n\n        _proto._pasteFirstAid = function _pasteFirstAid(container) {\n          var _this = this;\n\n          container.innerHTML = Object(htmlSanitizer[\"a\"\n          /* default */\n          ])(container.innerHTML, true);\n          dom[\"a\"\n          /* default */\n          ].findAll(container, '*').forEach(function (node) {\n            _this._removeStyles(node);\n          });\n          var blockTags = 'div, section, article, aside, nav, menus, p';\n\n          this._unwrapIfNonBlockElementHasBr(container);\n\n          this._unwrapNestedBlocks(container, blockTags);\n\n          this._removeUnnecessaryBlocks(container, blockTags);\n\n          container.innerHTML = this._wrapOrphanNodeWithDiv(container);\n\n          this._preElementAid(container);\n\n          this._tableElementAid(container);\n\n          toArray_default()(container.children).forEach(function (childNode) {\n            if (dom[\"a\"\n            /* default */\n            ].getNodeName(childNode) === 'BR') {\n              dom[\"a\"\n              /* default */\n              ].remove(childNode);\n            }\n          });\n        }\n        /**\n         * PRE tag formatting\n         * @param {HTMLElement} container - clipboard container\n         * @private\n         */\n        ;\n\n        _proto._preElementAid = function _preElementAid(container) {\n          var wwCodeblockManager = this.wwe.componentManager.getManager('codeblock');\n          wwCodeblockManager.modifyCodeBlockForWysiwyg(container);\n        }\n        /**\n         * Unwrap span children of document fragment with div element\n         * @param {HTMLElement} container - clipboard container\n         * @private\n         */\n        ;\n\n        _proto._unwrapIfNonBlockElementHasBr = function _unwrapIfNonBlockElementHasBr(container) {\n          var nonBlockElements = dom[\"a\"\n          /* default */\n          ].findAll(container, 'span, a, b, em, i, s');\n          nonBlockElements.forEach(function (node) {\n            var brChildren = dom[\"a\"\n            /* default */\n            ].children(node, 'br');\n\n            if (brChildren.length && node.nodeName !== 'LI' && node.nodeName !== 'UL') {\n              dom[\"a\"\n              /* default */\n              ].unwrap(node);\n            }\n          });\n        }\n        /**\n         * Unwrap nested block elements\n         * @param {HTMLElement} container - clipboard container\n         * @param {string} blockTags - Tag names of block tag\n         * @private\n         */\n        ;\n\n        _proto._unwrapNestedBlocks = function _unwrapNestedBlocks(container, blockTags) {\n          var leafElements = dom[\"a\"\n          /* default */\n          ].findAll(container, '*').filter(function (node) {\n            return !matches_default()(node, 'b,s,i,em,code,span,hr') && !node.firstChild;\n          });\n          leafElements.forEach(function (node) {\n            var leafElement = node.nodeName === 'BR' ? node.parentNode : node;\n\n            while (dom[\"a\"\n            /* default */\n            ].parents(leafElement, blockTags).length) {\n              var parent = dom[\"a\"\n              /* default */\n              ].parent(leafElement, blockTags);\n\n              if (parent && parent !== container) {\n                dom[\"a\"\n                /* default */\n                ].unwrap(parent);\n              } else {\n                leafElement = leafElement.parentElement;\n              }\n            }\n          });\n        }\n        /**\n         * Remove unnecessary block element in pasting data\n         * @param {HTMLElement} container - clipboard container\n         * @param {string} blockTags - Tag names of block tag\n         * @private\n         */\n        ;\n\n        _proto._removeUnnecessaryBlocks = function _removeUnnecessaryBlocks(container, blockTags) {\n          dom[\"a\"\n          /* default */\n          ].findAll(container, blockTags).forEach(function (blockElement) {\n            var tagName = blockElement.tagName;\n            var isDivElement = tagName === 'DIV';\n            var isInListItem = !!dom[\"a\"\n            /* default */\n            ].parent(blockElement, 'li');\n            var isInBlockquote = !!dom[\"a\"\n            /* default */\n            ].parent(blockElement, 'blockquote');\n            var hasBlockChildElement = !!dom[\"a\"\n            /* default */\n            ].children(blockElement, blockTags).length;\n\n            if (isDivElement && (isInListItem || isInBlockquote || !hasBlockChildElement)) {\n              return;\n            }\n\n            if (blockElement.lastChild && blockElement.lastChild.nodeName !== 'BR') {\n              blockElement.appendChild(document.createElement('br'));\n            }\n\n            dom[\"a\"\n            /* default */\n            ].replaceWith(blockElement, blockElement.innerHTML);\n          });\n        }\n        /**\n         * Remove inline style\n         * @param {Node} node Node for remove style attribute\n         * @private\n         */\n        ;\n\n        _proto._removeStyles = function _removeStyles(node) {\n          var colorValue;\n\n          if (dom[\"a\"\n          /* default */\n          ].getNodeName(node) !== 'SPAN') {\n            node.removeAttribute('style');\n          } else {\n            // Most browser return computed color value even if without style attribute\n            if (node.getAttribute('style')) {\n              colorValue = node.style.color;\n            }\n\n            node.removeAttribute('style');\n\n            if (colorValue) {\n              css_default()(node, {\n                color: colorValue\n              });\n            } else {\n              dom[\"a\"\n              /* default */\n              ].unwrap(node);\n            }\n          }\n        }\n        /**\n         * Processing before paste list\n         * @param {Array.<HTMLElement>} nodes Pasting data\n         * @param {object} rangeInfo Range information\n         * @param {boolean} firstBlockIsTaken Whether first block element taken or not\n         * @returns {DocumentFragment}\n         * @private\n         */\n        ;\n\n        _proto._prepareToPasteList = function _prepareToPasteList(nodes, rangeInfo, firstBlockIsTaken) {\n          var nodeName = dom[\"a\"\n          /* default */\n          ].getNodeName(nodes[0]);\n          var node = nodes.shift();\n          var newFragment = this.wwe.getEditor().getDocument().createDocumentFragment(); // IE somethimes returns ul without li\n\n          if (nodeName !== 'LI' && nodes.length && nodes[0].tagName === 'LI') {\n            nodeName = 'LI';\n            node = this._makeNodeAndAppend({\n              tagName: nodeName\n            }, node);\n          } // pasting list into list, we should care indentation\n\n\n          if (nodeName === 'OL' || nodeName === 'UL') {\n            // ignore cursor if pasting data has block\n            if (!firstBlockIsTaken && this.wwe.getEditor().hasFormat('LI')) {\n              dom[\"a\"\n              /* default */\n              ].append(newFragment, this._wrapCurrentFormat(node));\n            } else {\n              newFragment.appendChild(node);\n            }\n          } else if (nodeName === 'LI') {\n            // handle list group\n            var listGroup = this.wwe.getEditor().getDocument().createDocumentFragment();\n            listGroup.appendChild(node);\n\n            while (nodes.length && nodes[0].tagName === 'LI') {\n              listGroup.appendChild(nodes.shift());\n            } // pasting list into list, we should care indentation\n            // ignore cursor if pasting data has block\n\n\n            if (!firstBlockIsTaken && this.wwe.getEditor().hasFormat('LI')) {\n              dom[\"a\"\n              /* default */\n              ].append(newFragment, this._wrapCurrentFormat(listGroup));\n            } else if (rangeInfo && (rangeInfo.commonAncestorName === 'UL' || rangeInfo.commonAncestorName === 'OL')) {\n              dom[\"a\"\n              /* default */\n              ].append(newFragment, this._makeNodeAndAppend({\n                tagName: rangeInfo.commonAncestorName\n              }, listGroup)); // list from outside\n            } else {\n              dom[\"a\"\n              /* default */\n              ].append(newFragment, this._makeNodeAndAppend({\n                tagName: 'UL'\n              }, listGroup));\n            }\n          }\n\n          return newFragment;\n        }\n        /**\n         * Unwrap fragment first child for pasting node inline\n         * @param {Node} node Pasting DocumentFragment\n         * @returns {NodeList}\n         * @private\n         */\n        ;\n\n        _proto._unwrapFragmentFirstChildForPasteAsInline = function _unwrapFragmentFirstChildForPasteAsInline(node) {\n          dom[\"a\"\n          /* default */\n          ].findAll(node, 'br').forEach(function (br) {\n            return dom[\"a\"\n            /* default */\n            ].remove(br);\n          });\n          return node.childNodes;\n        }\n        /**\n         * Wrap nodes with current format\n         * @param {DocumentFragment} nodes P\n         * @returns {HTMLElement}\n         * @private\n         */\n        ;\n\n        _proto._wrapCurrentFormat = function _wrapCurrentFormat(nodes) {\n          var _this2 = this;\n\n          var currentTagName; // expand to pasting area\n\n          this._eachCurrentPath(function (path) {\n            if (path.tagName !== 'DIV') {\n              if (dom[\"a\"\n              /* default */\n              ].isElemNode(nodes)) {\n                currentTagName = nodes.tagName;\n              } else {\n                currentTagName = nodes.firstChild.tagName;\n              }\n\n              if (path.tagName !== currentTagName) {\n                nodes = _this2._makeNodeAndAppend(path, nodes);\n              }\n            }\n          });\n\n          return nodes;\n        };\n\n        _proto._eachCurrentPath = function _eachCurrentPath(iteratee) {\n          var paths = dom[\"a\"\n          /* default */\n          ].getPath(this.wwe.getEditor().getSelection().startContainer, this.wwe.getBody());\n\n          for (var i = paths.length - 1; i > -1; i -= 1) {\n            iteratee(paths[i]);\n          }\n        }\n        /** _makeNodeAndAppend\n         * make node and append their own children\n         * @param {HTMLElement} pathInfo HTMLElement to make\n         * @param {HTMLElement} content Nodes to append\n         * @returns {HTMLElement} node\n         * @private\n         */\n        ;\n\n        _proto._makeNodeAndAppend = function _makeNodeAndAppend(pathInfo, content) {\n          var node = document.createElement(\"\" + pathInfo.tagName);\n          node.appendChild(content);\n\n          if (pathInfo.id) {\n            node.setAttribute('id', pathInfo.id);\n          }\n\n          if (pathInfo.className) {\n            addClass_default()(node, pathInfo.className);\n          }\n\n          return node;\n        }\n        /**\n         * Pasting table element pre-process\n         * @param {HTMLElement} container - clipboard container\n         * @private\n         */\n        ;\n\n        _proto._tableElementAid = function _tableElementAid(container) {\n          this._removeColgroup(container);\n\n          this._completeTableIfNeed(container);\n\n          this._updateTableIDClassName(container);\n        }\n        /**\n         * Remove colgroup tag\n         * @param {HTMLElement} container - clipboard container\n         * @private\n         **/\n        ;\n\n        _proto._removeColgroup = function _removeColgroup(container) {\n          var colgroup = container.querySelector('colgroup');\n\n          if (colgroup) {\n            dom[\"a\"\n            /* default */\n            ].remove(colgroup);\n          }\n        }\n        /**\n         * Complete and append table to fragment\n         * @param {HTMLElement} container - clipboard container\n         * @private\n         */\n        ;\n\n        _proto._completeTableIfNeed = function _completeTableIfNeed(container) {\n          var tableManager = this.wwe.componentManager.getManager('table');\n          var wrapperTr = tableManager.wrapDanglingTableCellsIntoTrIfNeed(container);\n\n          if (wrapperTr) {\n            dom[\"a\"\n            /* default */\n            ].append(container, wrapperTr);\n          }\n\n          var wrapperTbody = tableManager.wrapTrsIntoTbodyIfNeed(container);\n\n          if (wrapperTbody) {\n            dom[\"a\"\n            /* default */\n            ].append(container, wrapperTbody);\n          }\n\n          var wrapperTable = tableManager.wrapTheadAndTbodyIntoTableIfNeed(container);\n\n          if (wrapperTable) {\n            dom[\"a\"\n            /* default */\n            ].append(container, wrapperTable);\n          }\n        }\n        /**\n         * Update table ID class name in fragment\n         * @param {HTMLElement} container - clipboard container\n         * @private\n         */\n        ;\n\n        _proto._updateTableIDClassName = function _updateTableIDClassName(container) {\n          var tableManager = this.wwe.componentManager.getManager('table');\n          var tables = dom[\"a\"\n          /* default */\n          ].findAll(container, 'table');\n          tables.forEach(function (table) {\n            var foundClassName = table.className.match(/.*\\s*(te-content-table-\\d+)\\s*.*/);\n\n            if (foundClassName) {\n              removeClass_default()(table, foundClassName[0]);\n            }\n          });\n          tables.forEach(function (table) {\n            addClass_default()(table, tableManager.getTableIDClassName());\n          });\n        };\n\n        return WwPasteContentHelper;\n      }();\n      /* harmony default export */\n\n\n      var wwPasteContentHelper = wwPasteContentHelper_WwPasteContentHelper; // CONCATENATED MODULE: ./src/js/wwTablePasteHelper.js\n\n      /**\n       * @fileoverview Paste helper when past to table\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class WwTablePasteHelper\n       * @param {WysiwygEditor} wwe - WysiwygEditor instance\n       * @ignore\n       */\n\n      var wwTablePasteHelper_WwTablePasteHelper = /*#__PURE__*/function () {\n        function WwTablePasteHelper(wwe) {\n          this.wwe = wwe;\n        }\n        /**\n         * Prossse paste clipboardEvent\n         * @param {ClipboardEvent} ev - ClipboardEvent\n         */\n\n\n        var _proto = WwTablePasteHelper.prototype;\n\n        _proto.pasteClipboard = function pasteClipboard(ev) {\n          var cbData = ev.clipboardData || window.clipboardData;\n          var items = cbData && cbData.items;\n\n          if (items) {\n            this._pasteClipboardItem(items);\n\n            ev.preventDefault();\n          } else {\n            this._pasteClipboardUsingPasteArea();\n\n            ev.squirePrevented = true;\n          }\n        }\n        /**\n         * ClipboardEvent is not supported in IE.\n         * To get clipboard, create temporay element and then paste into that element.\n         * After end of paste, can get clipboard from that temporary element.\n         * @param {ClipboardEvent} ev - ClipboardEvent\n         * @private\n         */\n        ;\n\n        _proto._pasteClipboardUsingPasteArea = function _pasteClipboardUsingPasteArea() {\n          var _this = this;\n\n          var sq = this.wwe.getEditor();\n          var range = sq.getSelection();\n          var startContainer = range.startContainer,\n              startOffset = range.startOffset,\n              endContainer = range.endContainer,\n              endOffset = range.endOffset;\n          var pasteArea = document.createElement('div');\n          var _document = document,\n              body = _document.body;\n          pasteArea.setAttribute('contenteditable', true);\n          pasteArea.setAttribute('style', 'position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;');\n          body.appendChild(pasteArea);\n          range.selectNodeContents(pasteArea);\n          sq.setSelection(range);\n          setTimeout(function () {\n            var clipboard = body.removeChild(pasteArea);\n            range.setStart(startContainer, startOffset);\n            range.setEnd(endContainer, endOffset);\n            sq.focus();\n            sq.setSelection(range);\n\n            _this._pasteClipboardHtml(clipboard.innerHTML);\n          });\n        }\n        /**\n         * Paste items of clipboard data\n         * @param {DataTransfer.items} items - items of clipboarddata\n         * @private\n         */\n        ;\n\n        _proto._pasteClipboardItem = function _pasteClipboardItem(items) {\n          var _this2 = this;\n\n          var textItem = null;\n          var htmlItem = null;\n          toArray_default()(items).forEach(function (item) {\n            if (item.type === 'text/html') {\n              htmlItem = item;\n            } else if (item.type === 'text/plain') {\n              textItem = item;\n            }\n          });\n\n          if (htmlItem) {\n            htmlItem.getAsString(function (html) {\n              _this2._pasteClipboardHtml(html);\n            });\n          } else if (textItem) {\n            textItem.getAsString(function (text) {\n              _this2._pasteClipboardContainer(document.createTextNode(text));\n            });\n          }\n        }\n        /**\n         * Paste html of clipboard\n         * @param {string} html - html\n         * @private\n         */\n        ;\n\n        _proto._pasteClipboardHtml = function _pasteClipboardHtml(html) {\n          var container = document.createDocumentFragment();\n          var startFramgmentStr = '<!--StartFragment-->';\n          var endFragmentStr = '<!--EndFragment-->';\n          var startFragmentIndex = html.indexOf(startFramgmentStr);\n          var endFragmentIndex = html.lastIndexOf(endFragmentStr);\n\n          if (startFragmentIndex > -1 && endFragmentIndex > -1) {\n            html = html.slice(startFragmentIndex + startFramgmentStr.length, endFragmentIndex);\n          } // Wrap with <tr> if html contains dangling <td> tags\n          // Dangling <td> tag is that tag does not have <tr> as parent node.\n\n\n          if (/<\\/td>((?!<\\/tr>)[\\s\\S])*$/i.test(html)) {\n            html = \"<TR>\" + html + \"</TR>\";\n          } // Wrap with <table> if html contains dangling <tr> tags\n          // Dangling <tr> tag is that tag does not have <table> as parent node.\n\n\n          if (/<\\/tr>((?!<\\/table>)[\\s\\S])*$/i.test(html)) {\n            html = \"<TABLE>\" + html + \"</TABLE>\";\n          }\n\n          container.appendChild(Object(htmlSanitizer[\"a\"\n          /* default */\n          ])(html));\n\n          this._pasteClipboardContainer(container);\n        }\n        /**\n         * Paste container of clipboard\n         * @param {DocumentFragment} clipboardContainer - clipboard\n         * @private\n         */\n        ;\n\n        _proto._pasteClipboardContainer = function _pasteClipboardContainer(clipboardContainer) {\n          var sq = this.wwe.getEditor();\n          var childNodes = clipboardContainer.childNodes;\n          var containsOneTableOnly = childNodes.length === 1 && childNodes[0].nodeName === 'TABLE';\n\n          if (containsOneTableOnly) {\n            var tableManager = this.wwe.componentManager.getManager('table');\n            tableManager.pasteTableData(clipboardContainer);\n          } else {\n            var range = sq.getSelection().cloneRange();\n\n            var fragment = this._preparePasteDocumentFragment(clipboardContainer);\n\n            sq.saveUndoState(range);\n\n            if (!range.collapsed) {\n              this._deleteContentsRange(range);\n            }\n\n            if (dom[\"a\"\n            /* default */\n            ].isTextNode(range.startContainer)) {\n              this._pasteIntoTextNode(range, fragment);\n            } else {\n              this._pasteIntoElements(range, fragment);\n            }\n\n            sq.setSelection(range);\n          }\n        }\n        /**\n         * Prepare clipboard for paste to table\n         * @param {DocumentFragment} clipboardContainer - clipboard\n         * @returns {DocumentFragment} processed result\n         * @private\n         */\n        ;\n\n        _proto._preparePasteDocumentFragment = function _preparePasteDocumentFragment(clipboardContainer) {\n          var childNodes = clipboardContainer.childNodes;\n          var fragment = document.createDocumentFragment();\n\n          if (childNodes.length) {\n            fragment.appendChild(this._unwrapBlock(clipboardContainer));\n          } else if (this._isPossibleInsertToTable(clipboardContainer)) {\n            fragment.appendChild(clipboardContainer);\n          }\n\n          return fragment;\n        }\n        /**\n         * unwrap block node\n         * @param {Node} node - target node\n         * @returns {DocumentFragment} processed result\n         * @private\n         */\n        ;\n\n        _proto._unwrapBlock = function _unwrapBlock(node) {\n          var fragment = document.createDocumentFragment();\n          var childNodes = toArray_default()(node.childNodes);\n\n          while (childNodes.length) {\n            var child = childNodes.shift();\n\n            if (this._isPossibleInsertToTable(child)) {\n              fragment.appendChild(child);\n            } else {\n              fragment.appendChild(this._unwrapBlock(child)); // If current child is last or fragment already has last br,\n              // appending br would create unintended line break.\n\n              var lastChild = fragment.lastChild;\n\n              if (childNodes.length && lastChild && lastChild.nodeName !== 'BR') {\n                fragment.appendChild(document.createElement('br'));\n              }\n            }\n          }\n\n          return fragment;\n        };\n\n        _proto._isPossibleInsertToTable = function _isPossibleInsertToTable(node) {\n          var nodeName = node.nodeName;\n          var isChildlessCode = nodeName === 'CODE' && node.childNodes.length > 1;\n          var isList = nodeName === 'UL' || nodeName === 'OL';\n          return !isChildlessCode && (isList || dom[\"a\"\n          /* default */\n          ].isMDSupportInlineNode(node) || dom[\"a\"\n          /* default */\n          ].isTextNode(node));\n        }\n        /**\n         * paste fragment to offset of range.startContainer\n         * @param {Range} range - selection range\n         * @param {DocumentFragment} fragment - paste data\n         * @private\n         */\n        ;\n\n        _proto._pasteIntoElements = function _pasteIntoElements(range, fragment) {\n          var container = range.startContainer,\n              offset = range.startOffset;\n          var node = dom[\"a\"\n          /* default */\n          ].getChildNodeByOffset(container, offset);\n\n          if (!node) {\n            // For example when container is br, br don't have child, so node is null\n            if (container.nodeName === 'TD') {\n              container.appendChild(fragment);\n              range.setStart(container, container.childNodes.length);\n            } else {\n              var parentNode = container.parentNode,\n                  nextSibling = container.nextSibling;\n              parentNode.insertBefore(fragment, nextSibling);\n\n              if (nextSibling) {\n                range.setStart(nextSibling, 0);\n              } else {\n                range.setStartAfter(parentNode.lastChild);\n              }\n            }\n          } else {\n            container.insertBefore(fragment, node);\n            range.setStart(node, 0);\n          }\n\n          range.collapse(true);\n        }\n        /**\n         * paste fragment to offset of text node\n         * @param {Range} range - selection range\n         * @param {DocumentFragment} fragment - paste data\n         * @private\n         */\n        ;\n\n        _proto._pasteIntoTextNode = function _pasteIntoTextNode(range, fragment) {\n          var container = range.startContainer,\n              offset = range.startOffset;\n          var parentNode = container.parentNode,\n              textContent = container.textContent;\n          var prevText = textContent.slice(0, offset);\n          var postText = textContent.slice(offset, textContent.length);\n          var fragmentChildNodes = fragment.childNodes;\n          var firstChild = fragmentChildNodes[0];\n          var isFragmenthasOneTextNode = fragmentChildNodes.length === 1 && dom[\"a\"\n          /* default */\n          ].isTextNode(firstChild);\n\n          if (!prevText) {\n            parentNode.insertBefore(fragment, container);\n            range.setStart(container, 0);\n          } else if (!postText) {\n            var nextSibling = container.nextSibling;\n            parentNode.insertBefore(fragment, nextSibling);\n            range.setStartAfter(nextSibling);\n          } else if (isFragmenthasOneTextNode) {\n            var firstChildText = firstChild.textContent;\n            container.textContent = \"\" + prevText + firstChildText + postText;\n            range.setStart(container, prevText.length + firstChildText.length);\n          } else {\n            var resultFragment = document.createDocumentFragment();\n            resultFragment.appendChild(document.createTextNode(prevText));\n            resultFragment.appendChild(fragment);\n            resultFragment.appendChild(document.createTextNode(postText));\n            parentNode.replaceChild(resultFragment, container);\n            var childNodesArray = toArray_default()(parentNode.childNodes);\n            var index = 0;\n            childNodesArray.forEach(function (child, i) {\n              if (child.textContent === postText) {\n                index = i;\n              }\n            });\n            range.setStart(parentNode.childNodes[index], 0);\n          }\n\n          range.collapse(true);\n        }\n        /**\n         * delete contents of range that is not collapse\n         * @param {Range} range - range is not collapse\n         * @private\n         */\n        ;\n\n        _proto._deleteContentsRange = function _deleteContentsRange(range) {\n          var startContainer = range.startContainer,\n              startOffset = range.startOffset,\n              endContainer = range.endContainer,\n              endOffset = range.endOffset;\n\n          if (startContainer === endContainer) {\n            this._deleteContentsByOffset(startContainer, startOffset, endOffset);\n\n            range.setStart(startContainer, startOffset);\n            range.collapse(true);\n          } else {\n            this._deleteNotCollapsedRangeContents(range);\n          }\n        };\n\n        _proto._deleteNotCollapsedRangeContents = function _deleteNotCollapsedRangeContents(range) {\n          var startContainer = range.startContainer,\n              startOffset = range.startOffset,\n              endContainer = range.endContainer,\n              endOffset = range.endOffset;\n          var common = range.commonAncestorContainer;\n\n          var startBlock = this._getBlock(startContainer, common, startOffset);\n\n          var endBlock = this._getBlock(endContainer, common, endOffset - 1);\n\n          if (startBlock === endBlock) {\n            this._removeInSameBlock(startBlock, startContainer, endContainer, startOffset, endOffset); // When endContainer is not same endBlock, endBlock is removed.\n            // For example, aaa| <- this is cursor.\n            // When cursor is last, endContainer would be 'TD' and endBlock is text node\n            // In this case, remove all 'aaa' so endBlock should be null.\n\n\n            endBlock = endContainer !== endBlock ? null : endBlock;\n          } else {\n            var nextOfstartBlock = startBlock.nextSibling;\n\n            if (startContainer.nodeName === 'TD') {\n              nextOfstartBlock = this._removeOneLine(startBlock);\n            } else {\n              // Remove child nodes from node of startOffset in startContainer.\n              this._deleteContentsByOffset(startContainer, startOffset, dom[\"a\"\n              /* default */\n              ].getOffsetLength(startContainer)); // Remove nodes from startContainer in startBlock\n\n\n              dom[\"a\"\n              /* default */\n              ].removeNodesByDirection(startBlock, startContainer, false);\n            }\n\n            if (endContainer.nodeName === 'TD') {\n              endBlock = this._removeOneLine(endBlock);\n            } else {\n              // Remove child nodes until node of endOffset in endContainer.\n              this._deleteContentsByOffset(endContainer, 0, endOffset); // Remove nodes until endContainer in endBlock\n\n\n              dom[\"a\"\n              /* default */\n              ].removeNodesByDirection(endBlock, endContainer, true);\n            } // Remove nodes between startBlock and endBlock\n\n\n            dom[\"a\"\n            /* default */\n            ].removeChildFromStartToEndNode(common, nextOfstartBlock, endBlock);\n          }\n\n          if (endBlock) {\n            range.setStart(endBlock, 0);\n          } else {\n            range.setStartAfter(startBlock);\n          }\n\n          range.collapse(true);\n        };\n\n        _proto._removeInSameBlock = function _removeInSameBlock(block, startContainer, endContainer, startOffset, endOffset) {\n          var start = startContainer === block ? startOffset : 0;\n          var end = endContainer === block ? endOffset : dom[\"a\"\n          /* default */\n          ].getOffsetLength(block);\n\n          this._deleteContentsByOffset(block, start, end);\n        };\n\n        _proto._removeOneLine = function _removeOneLine(node) {\n          var nextSibling = node.nextSibling,\n              parentNode = node.parentNode;\n          var next = nextSibling;\n          parentNode.removeChild(node);\n\n          if (nextSibling && nextSibling.nodeName === 'BR') {\n            next = nextSibling.nextSibling;\n            parentNode.removeChild(nextSibling);\n          }\n\n          return next;\n        }\n        /**\n         * Find parent block node of startContainer and endContainer\n         * If startContainer or endContainer is same commonAncestor,\n         * find node at offset of startContainer and endContainer.\n         * @param {Node} node - startContainer or endContainer\n         * @param {Node} parent - commonAncestor\n         * @param {Number} offset - startOffset or endOffset-1\n         * @returns {Node} block node\n         * @private\n         */\n        ;\n\n        _proto._getBlock = function _getBlock(node, parent, offset) {\n          return dom[\"a\"\n          /* default */\n          ].getParentUntil(node, parent) || dom[\"a\"\n          /* default */\n          ].getChildNodeByOffset(node, offset);\n        }\n        /**\n         * delete contents from start offset to end offset\n         * @param {Node} container - container\n         * @param {Number} startOffset - start offset\n         * @param {Number} endOffset - end offset\n         * @private\n         */\n        ;\n\n        _proto._deleteContentsByOffset = function _deleteContentsByOffset(container, startOffset, endOffset) {\n          if (dom[\"a\"\n          /* default */\n          ].isTextNode(container)) {\n            var textContent = container.textContent;\n            var prevText = textContent.slice(0, startOffset);\n            var postText = textContent.slice(endOffset, textContent.length);\n            container.textContent = \"\" + prevText + postText;\n          } else {\n            var startNode = dom[\"a\"\n            /* default */\n            ].getChildNodeByOffset(container, startOffset);\n            var endNode = dom[\"a\"\n            /* default */\n            ].getChildNodeByOffset(container, endOffset);\n\n            if (startNode) {\n              dom[\"a\"\n              /* default */\n              ].removeChildFromStartToEndNode(container, startNode, endNode || null);\n            }\n          }\n        };\n\n        return WwTablePasteHelper;\n      }();\n      /* harmony default export */\n\n\n      var wwTablePasteHelper = wwTablePasteHelper_WwTablePasteHelper; // CONCATENATED MODULE: ./src/js/wwClipboardManager.js\n\n      /**\n       * @fileoverview Implements wysiwyg editor clipboard manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var PASTE_TABLE_BOOKMARK = 'tui-paste-table-bookmark';\n      var PASTE_TABLE_CELL_BOOKMARK = 'tui-paste-table-cell-bookmark';\n      /**\n       * Class WwClipboardManager\n       * @param {WysiwygEditor} wwe - WysiwygEditor instance\n       * @ignore\n       */\n\n      var wwClipboardManager_WwClipboardManager = /*#__PURE__*/function () {\n        function WwClipboardManager(wwe) {\n          this.wwe = wwe;\n          this._pch = new wwPasteContentHelper(this.wwe);\n          this._tablePasteHelper = new wwTablePasteHelper(this.wwe);\n          this._selectedSellCount = 0;\n          this._clipboardArea = null;\n        }\n        /**\n         * initialize\n         */\n\n\n        var _proto = WwClipboardManager.prototype;\n\n        _proto.init = function init() {\n          var _this = this;\n\n          this.wwe.eventManager.listen('willPaste', function (ev) {\n            return _this._executeHandler(_this._onWillPaste.bind(_this), ev);\n          });\n          this.wwe.eventManager.listen('copy', function (ev) {\n            return _this._executeHandler(_this._onCopyCut.bind(_this), ev);\n          });\n          this.wwe.eventManager.listen('copyAfter', function (ev) {\n            return _this._executeHandler(_this._onCopyAfter.bind(_this), ev);\n          });\n          this.wwe.eventManager.listen('cut', function (ev) {\n            return _this._executeHandler(_this._onCopyCut.bind(_this), ev);\n          });\n          this.wwe.eventManager.listen('cutAfter', function (ev) {\n            return _this._executeHandler(_this._onCutAfter.bind(_this), ev);\n          });\n          this.wwe.eventManager.listen('paste', function (ev) {\n            return _this._executeHandler(_this._onPasteIntoTable.bind(_this), ev);\n          });\n        };\n\n        _proto._executeHandler = function _executeHandler(handler, event) {\n          if (event.source === 'wysiwyg') {\n            handler(event);\n          }\n        };\n\n        _proto._onCopyCut = function _onCopyCut(event) {\n          var tableManager = this.wwe.componentManager.getManager('tableSelection');\n          var selectedCellCount = tableManager.getSelectedCells().length;\n\n          if (!selectedCellCount) {\n            // preserve selection range in a cell, let squire do the job\n            return;\n          }\n\n          if (!tableManager.mergedTableSelectionManager) {\n            // set selection range to all contents in selected cells, then squire\n            tableManager.createRangeBySelectedCells();\n            return;\n          }\n\n          var editor = this.wwe.getEditor();\n          var clipboardEvent = event.data;\n          var range = editor.getSelection().cloneRange();\n          var clipboardContainer = document.createElement('div');\n\n          this._extendRange(range);\n\n          clipboardContainer.innerHTML = range.cloneContents();\n\n          this._updateCopyDataForListTypeIfNeed(range, clipboardContainer);\n\n          this.wwe.eventManager.emit('copyBefore', {\n            source: 'wysiwyg',\n            clipboardContainer: clipboardContainer\n          });\n\n          this._setClipboardData(clipboardEvent, clipboardContainer.innerHTML, clipboardContainer.textContent);\n        };\n\n        _proto._clearClipboardArea = function _clearClipboardArea() {\n          if (this._clipboardArea) {\n            dom[\"a\"\n            /* default */\n            ].remove(this._clipboardArea);\n            this._clipboardArea = null;\n          }\n        };\n\n        _proto._onCopyAfter = function _onCopyAfter() {\n          this.wwe.getEditor().getBody().focus();\n\n          this._clearClipboardArea();\n        };\n\n        _proto._onCutAfter = function _onCutAfter() {\n          var range = this.wwe.getEditor().getSelection();\n          range.deleteContents();\n          this.wwe.getEditor().focus();\n\n          this._clearClipboardArea();\n        }\n        /**\n         * Process paste event when occured in table\n         * @param {{source: string, data: event}} event - event\n         * @private\n         */\n        ;\n\n        _proto._onPasteIntoTable = function _onPasteIntoTable(event) {\n          var ev = event.data;\n          var range = this.wwe.getEditor().getSelection();\n\n          if (this.wwe.isInTable(range) && this._isSingleCellSelected(range)) {\n            this._tablePasteHelper.pasteClipboard(ev);\n          }\n        };\n\n        _proto._isSingleCellSelected = function _isSingleCellSelected(range) {\n          var startContainer = range.startContainer,\n              endContainer = range.endContainer;\n          return this._getCell(startContainer) === this._getCell(endContainer);\n        };\n\n        _proto._getCell = function _getCell(node) {\n          return node.nodeName === 'TD' ? node : dom[\"a\"\n          /* default */\n          ].getParentUntil(node, 'TR');\n        };\n\n        _proto._replaceNewLineToBr = function _replaceNewLineToBr(node) {\n          var textNodes = dom[\"a\"\n          /* default */\n          ].getAllTextNode(node);\n          textNodes.forEach(function (textNode) {\n            if (/\\n/.test(textNode.nodeValue)) {\n              textNode.parentNode.innerHTML = textNode.nodeValue.replace(/\\n/g, '<br>');\n            }\n          });\n        };\n\n        _proto._onWillPaste = function _onWillPaste(event) {\n          var _this2 = this;\n\n          var pasteData = event.data;\n          var clipboardContainer = document.createElement('div');\n          clipboardContainer.appendChild(pasteData.fragment.cloneNode(true));\n\n          this._preparePaste(clipboardContainer);\n\n          this._setTableBookmark(clipboardContainer);\n\n          pasteData.fragment = document.createDocumentFragment();\n          toArray_default()(clipboardContainer.childNodes).forEach(function (element) {\n            pasteData.fragment.appendChild(element);\n          }); // once right after the squire insertHTML DOM.\n\n          var handler = function handler() {\n            _this2.wwe.getEditor().removeEventListener('input', handler);\n\n            _this2.wwe.eventManager.emit('wysiwygRangeChangeAfter', _this2);\n\n            _this2._focusTableBookmark();\n          };\n\n          this.wwe.getEditor().addEventListener('input', handler);\n        };\n\n        _proto._setClipboardData = function _setClipboardData(clipboardEvent, htmlContent, textContent) {\n          if (browser_default.a.msie) {\n            clipboardEvent.squirePrevented = true;\n            this._clipboardArea = this._createClipboardArea();\n            this._clipboardArea.innerHTML = htmlContent;\n\n            this._clipboardArea.focus();\n\n            window.getSelection().selectAllChildren(this._clipboardArea);\n          } else {\n            clipboardEvent.preventDefault();\n            clipboardEvent.stopPropagation();\n            clipboardEvent.clipboardData.setData('text/html', htmlContent);\n            clipboardEvent.clipboardData.setData('text/plain', textContent);\n          }\n        };\n\n        _proto._createClipboardArea = function _createClipboardArea() {\n          var element = document.createElement('div');\n          element.setAttribute('contenteditable', true);\n          css_default()(element, {\n            position: 'fixed',\n            overflow: 'hidden',\n            top: 0,\n            right: '100%',\n            width: '1px',\n            height: '1px'\n          });\n          document.body.appendChild(element);\n          return element;\n        }\n        /**\n         * Update copy data, when commonAncestorContainer nodeName is list type like UL or OL.\n         * @param {object} range - text range\n         * @param {HTMLElement} clipboardContainer - clibpard container element\n         * @private\n         */\n        ;\n\n        _proto._updateCopyDataForListTypeIfNeed = function _updateCopyDataForListTypeIfNeed(range, clipboardContainer) {\n          var commonAncestorNodeName = range.commonAncestorContainer.nodeName;\n\n          if (commonAncestorNodeName !== 'UL' && commonAncestorNodeName !== 'OL') {\n            return;\n          }\n\n          var newParent = document.createElement(commonAncestorNodeName);\n          newParent.appendChild(clipboardContainer);\n          clipboardContainer.innerHTML = '';\n          clipboardContainer.appendChild(newParent);\n        }\n        /**\n         * Remove empty font elements.\n         * @param {HTMLElement} clipboardContainer - cliboard container\n         * @private\n         */\n        ;\n\n        _proto._removeEmptyFontElement = function _removeEmptyFontElement(clipboardContainer) {\n          // clipboard data from ms word tend to have unneccesary font tags\n          var children = dom[\"a\"\n          /* default */\n          ].children(clipboardContainer, 'font');\n          children.forEach(function (element) {\n            if (!element.textContent.trim()) {\n              dom[\"a\"\n              /* default */\n              ].remove(element);\n            }\n          });\n        }\n        /**\n         * MS Office use specific CSS attributes with mso- prefix.\n         * But safari does not support mso- prefix.\n         * @param {string} html - html string\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isFromMs = function _isFromMs(html) {\n          return /<p style=\"[^>]*mso-/.test(html);\n        }\n        /**\n         * P tags append 'BR' to make blank line.\n         * Our viewer renders new line as P tag with margin.\n         * When pasting text from viewer, insert BR between P tags.\n         * @param {Node} node - node\n         * @private\n         */\n        ;\n\n        _proto._preProcessPtag = function _preProcessPtag(node) {\n          dom[\"a\"\n          /* default */\n          ].findAll(node, 'p').forEach(function (pTag) {\n            if (pTag.lastChild && pTag.lastChild.nodeName !== 'BR') {\n              pTag.appendChild(document.createElement('br'));\n            }\n\n            pTag.appendChild(document.createElement('br'));\n          });\n        }\n        /**\n         * Prepare paste.\n         * @param {HTMLElement} clipboardContainer - temporary container for clipboard contents\n         * @private\n         */\n        ;\n\n        _proto._preparePaste = function _preparePaste(clipboardContainer) {\n          // When pasting text, the empty line processing differ our viewer and MS Office.\n          // In our viewer case, <p>aaa</p><p>bbb<p> have empty line becuase P tags have margin.\n          // In MS Office case, <p>aaa</p><p>bbb<p> do not have empty line becuase P tags means just one line.\n          if (!this._isFromMs(clipboardContainer.innerText)) {\n            this._preProcessPtag(clipboardContainer);\n          }\n\n          this._replaceNewLineToBr(clipboardContainer);\n\n          this._removeEmptyFontElement(clipboardContainer);\n\n          this._pch.preparePaste(clipboardContainer);\n\n          this.wwe.eventManager.emit('pasteBefore', {\n            source: 'wysiwyg',\n            clipboardContainer: clipboardContainer\n          });\n        }\n        /**\n         * set table bookmark which will gain focus after document modification ends.\n         * @param {HTMLElement} clipboardContainer - clipboard container\n         * @private\n         */\n        ;\n\n        _proto._setTableBookmark = function _setTableBookmark(clipboardContainer) {\n          var lastNode = clipboardContainer.lastChild;\n          var isLastNodeTable = lastNode && lastNode.nodeName === 'TABLE';\n\n          if (isLastNodeTable) {\n            addClass_default()(lastNode, PASTE_TABLE_BOOKMARK);\n          }\n        }\n        /**\n         * Focus to table after document modification.\n         * @param {object} sq - squire editor instance\n         * @private\n         */\n        ;\n\n        _proto._focusTableBookmark = function _focusTableBookmark() {\n          var sq = this.wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n          var bookmarkedTable = sq.getBody().querySelector(\".\" + PASTE_TABLE_BOOKMARK);\n          var bookmarkedCell = sq.getBody().querySelector(\".\" + PASTE_TABLE_CELL_BOOKMARK);\n\n          if (bookmarkedTable) {\n            removeClass_default()(bookmarkedTable, PASTE_TABLE_BOOKMARK);\n            range.setEndAfter(bookmarkedTable);\n            range.collapse(false);\n            sq.setSelection(range);\n          }\n\n          if (bookmarkedCell) {\n            removeClass_default()(bookmarkedCell, PASTE_TABLE_CELL_BOOKMARK);\n            range.selectNodeContents(bookmarkedCell);\n            range.collapse(false);\n            sq.setSelection(range);\n          }\n        }\n        /**\n         * extend range if need\n         * @param {Range} range to extend\n         * @private\n         */\n        ;\n\n        _proto._extendRange = function _extendRange(range) {\n          // non-text node && not selected whole area, then expand the range\n          if (dom[\"a\"\n          /* default */\n          ].isTextNode(range.commonAncestorContainer) && (range.startOffset !== 0 || range.commonAncestorContainer.textContent.length !== range.endOffset) && range.commonAncestorContainer.nodeName !== 'TD') {\n            return;\n          }\n\n          if (range.startOffset === 0) {\n            range = this._extendStartRange(range);\n          }\n\n          if (range.endOffset === dom[\"a\"\n          /* default */\n          ].getOffsetLength(range.endContainer)) {\n            range = this._extendEndRange(range);\n          } // commonAncestor if all of it's children has been selected\n\n\n          if (this._isWholeCommonAncestorContainerSelected(range)) {\n            range.selectNode(range.commonAncestorContainer);\n          }\n\n          this.wwe.getEditor().setSelection(range);\n        }\n        /**\n         * Extends current range's startContainer\n         * @param {Range} range Range object\n         * @returns {Range}\n         * @private\n         */\n        ;\n\n        _proto._extendStartRange = function _extendStartRange(range) {\n          var newBound = range.startContainer; // expand range\n\n          while (newBound.parentNode !== range.commonAncestorContainer && newBound.parentNode !== this.wwe.getBody() && !newBound.previousSibling) {\n            newBound = newBound.parentNode;\n          } // expand range\n\n\n          range.setStart(newBound.parentNode, dom[\"a\"\n          /* default */\n          ].getNodeOffsetOfParent(newBound));\n          return range;\n        }\n        /**\n         * Extends current range's endContainer\n         * @param {Range} range Range object\n         * @returns {Range}\n         * @private\n         */\n        ;\n\n        _proto._extendEndRange = function _extendEndRange(range) {\n          var newBound = range.endContainer;\n          var boundNext = newBound.nextSibling; // expand range\n\n          while (newBound.parentNode !== range.commonAncestorContainer && newBound.parentNode !== this.wwe.getBody() && (!boundNext || dom[\"a\"\n          /* default */\n          ].getNodeName(boundNext) === 'BR' && newBound.parentNode.lastChild === boundNext)) {\n            newBound = newBound.parentNode;\n            boundNext = newBound.nextSibling;\n          } // expand range level\n\n\n          range.setEnd(newBound.parentNode, dom[\"a\"\n          /* default */\n          ].getNodeOffsetOfParent(newBound) + 1);\n          return range;\n        }\n        /**\n         * Check whether whole commonAncestorContainter textContent selected or not\n         * @param {Range} range Range object\n         * @returns {boolean} result\n         * @private\n         */\n        ;\n\n        _proto._isWholeCommonAncestorContainerSelected = function _isWholeCommonAncestorContainerSelected(range) {\n          return range.commonAncestorContainer.nodeType === Node.ELEMENT_NODE && range.commonAncestorContainer !== this.wwe.getBody() && range.startOffset === 0 && range.endOffset === range.commonAncestorContainer.childNodes.length && range.commonAncestorContainer === range.startContainer && range.commonAncestorContainer === range.endContainer;\n        };\n\n        return WwClipboardManager;\n      }();\n      /* harmony default export */\n\n\n      var wwClipboardManager = wwClipboardManager_WwClipboardManager; // CONCATENATED MODULE: ./src/js/wwListManager.js\n\n      /**\n       * @fileoverview Implements wysiwyg list manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var FIND_LI_ELEMENT = /<li/i;\n      var DIV_OR_LI = 'DIV,LI';\n      var UL_OR_OL = 'OL,UL';\n      var FIND_CELL_TAG_RX = /(<(?:th|td)[^>]*>)(.*?)(<\\/(?:th|td)>)/g;\n      var FIND_LIST_OR_LIST_ITEM_TAG_RX = /<(ul|ol|li)([^>]*)>/g;\n      /**\n       * Class WwListManager\n       * @param {WysiwygEditor} wwe - WysiwygEditor instance\n       * @ignore\n       */\n\n      var wwListManager_WwListManager = /*#__PURE__*/function () {\n        function WwListManager(wwe) {\n          this.wwe = wwe;\n          this.eventManager = wwe.eventManager;\n          /**\n           * Name property\n           * @type {string}\n           */\n\n          this.name = 'list';\n\n          this._init();\n        }\n        /**\n         * Initialize\n         * @private\n         */\n\n\n        var _proto = WwListManager.prototype;\n\n        _proto._init = function _init() {\n          this._initEvent();\n\n          this._initKeyHandler();\n        }\n        /**\n         * Initialize event\n         * @private\n         */\n        ;\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          this.eventManager.listen('wysiwygSetValueBefore', function (html) {\n            return _this._convertToArbitraryNestingList(html);\n          });\n          this.eventManager.listen('wysiwygRangeChangeAfter', function () {\n            _this._findAndRemoveEmptyList();\n\n            _this._removeBranchListAll();\n          });\n          this.eventManager.listen('wysiwygSetValueAfter', function () {\n            _this._removeBranchListAll();\n          });\n          this.eventManager.listen('wysiwygProcessHTMLText', function (html) {\n            html = _this._convertFromArbitraryNestingList(html);\n            return html;\n          });\n          this.eventManager.listen('convertorBeforeHtmlToMarkdownConverted', function (html) {\n            return _this._insertDataToMarkPassForListInTable(html);\n          });\n        };\n\n        _proto._initKeyHandler = function _initKeyHandler() {\n          var _this2 = this;\n\n          this.wwe.addKeyEventHandler(['TAB', 'CTRL+]', 'META+]'], function (ev) {\n            var isNeedNext;\n\n            if (_this2.wwe.getEditor().hasFormat('LI')) {\n              ev.preventDefault();\n\n              _this2.eventManager.emit('command', 'Indent');\n\n              isNeedNext = false;\n            }\n\n            return isNeedNext;\n          });\n          this.wwe.addKeyEventHandler(['SHIFT+TAB', 'CTRL+[', 'META+['], function (ev, range) {\n            var isNeedNext;\n\n            if (_this2.wwe.getEditor().hasFormat('LI')) {\n              ev.preventDefault();\n              var ul = dom[\"a\"\n              /* default */\n              ].children(dom[\"a\"\n              /* default */\n              ].closest(range.startContainer, 'li'), UL_OR_OL);\n\n              _this2.eventManager.emit('command', 'Outdent');\n\n              if (ul.length && !ul.previousSibling) {\n                _this2._removeBranchList(ul);\n              }\n\n              isNeedNext = false;\n            }\n\n            return isNeedNext;\n          });\n          this.wwe.addKeyEventHandler('ENTER', function (ev, range) {\n            if (range.collapsed) {\n              if (_this2.wwe.getEditor().hasFormat('LI')) {\n                _this2.wwe.defer(function () {\n                  var afterRange = _this2.wwe.getRange();\n\n                  var _domUtils$parents = dom[\"a\"\n                  /* default */\n                  ].parents(afterRange.startContainer, 'li'),\n                      li = _domUtils$parents[0];\n\n                  _this2._removeBranchListAll(li);\n                });\n              }\n            }\n          });\n          this.wwe.addKeyEventHandler('BACK_SPACE', function (ev, range) {\n            if (range.collapsed) {\n              if (_this2.wwe.getEditor().hasFormat('LI')) {\n                _this2.wwe.defer(function () {\n                  _this2._removeBranchListAll();\n                });\n              }\n            }\n          });\n        }\n        /**\n         * Find empty list for whole container and remove it.\n         * @private\n         */\n        ;\n\n        _proto._findAndRemoveEmptyList = function _findAndRemoveEmptyList() {\n          dom[\"a\"\n          /* default */\n          ].findAll(this.wwe.getBody(), UL_OR_OL).forEach(function (node) {\n            if (!FIND_LI_ELEMENT.test(node.innerHTML)) {\n              dom[\"a\"\n              /* default */\n              ].remove(node);\n            }\n          });\n        }\n        /**\n         * Remove branch lists all from body\n         * @param {HTMLElement} root root to remove branch list\n         * @private\n         */\n        ;\n\n        _proto._removeBranchListAll = function _removeBranchListAll(root) {\n          var _this3 = this;\n\n          root = !root ? this.wwe.getBody() : root;\n          dom[\"a\"\n          /* default */\n          ].findAll(root, 'li ul, li ol').forEach(function (node) {\n            if (!node || node.previousSibling) {\n              return;\n            }\n\n            _this3._removeBranchList(node);\n          });\n        }\n        /**\n         * Remove branch list of passed list(ul, ol)\n         * @param {HTMLElement} list list\n         * @private\n         */\n        ;\n\n        _proto._removeBranchList = function _removeBranchList(list) {\n          var branchRoot = list;\n\n          while (!branchRoot.previousSibling && branchRoot.parentElement.tagName.match(/UL|OL|LI/g)) {\n            branchRoot = branchRoot.parentElement;\n          }\n\n          var _domUtils$children = dom[\"a\"\n          /* default */\n          ].children(branchRoot, 'li'),\n              firstLi = _domUtils$children[0];\n\n          var unwrappedLIs = dom[\"a\"\n          /* default */\n          ].unwrap(list);\n          dom[\"a\"\n          /* default */\n          ].prepend(branchRoot, unwrappedLIs);\n          dom[\"a\"\n          /* default */\n          ].remove(firstLi);\n        }\n        /**\n         * make arbitrary nesting list out of standard list\n         * `<ul><li>text<ul><li>text2</li></ul></li></ul>` to\n         * `<ul><li>text</li><ul><li>text2</li></ul></ul>`\n         * @param {string} html string to convert\n         * @returns {string} converted HTML text\n         * @private\n         */\n        ;\n\n        _proto._convertToArbitraryNestingList = function _convertToArbitraryNestingList(html) {\n          var NESTED_LIST_QUERY = 'li > ul, li > ol';\n          var wrapper = dom[\"a\"\n          /* default */\n          ].createElementWith(\"<div>\" + html + \"</div>\");\n          var nestedList = wrapper.querySelector(NESTED_LIST_QUERY);\n\n          while (nestedList !== null) {\n            var parentLI = nestedList.parentNode;\n            var parentList = parentLI.parentNode;\n            parentList.insertBefore(nestedList, parentLI.nextElementSibling);\n            nestedList = wrapper.querySelector(NESTED_LIST_QUERY);\n          }\n\n          return wrapper.innerHTML;\n        }\n        /**\n         * make standard list out of arbitrary nesting list\n         * `<ul><li>text<ul><li>text2</li></ul></li></ul>` from\n         * `<ul><li>text</li><ul><li>text2</li></ul></ul>`\n         * @param {string} html string to convert\n         * @returns {string} converted HTML text\n         * @private\n         */\n        ;\n\n        _proto._convertFromArbitraryNestingList = function _convertFromArbitraryNestingList(html) {\n          var NESTED_LIST_QUERY = 'ol > ol, ol > ul, ul > ol, ul > ul';\n          var wrapperDiv = dom[\"a\"\n          /* default */\n          ].createElementWith(\"<div>\" + html + \"</div>\");\n          var nestedList = wrapperDiv.querySelector(NESTED_LIST_QUERY);\n\n          while (nestedList !== null) {\n            var prevLI = nestedList.previousElementSibling;\n\n            while (prevLI && prevLI.tagName !== 'LI') {\n              prevLI = prevLI.previousElementSibling;\n            }\n\n            if (prevLI) {\n              prevLI.appendChild(nestedList);\n            } else {\n              this._unwrap(nestedList);\n            }\n\n            nestedList = wrapperDiv.querySelector(NESTED_LIST_QUERY);\n          }\n\n          return wrapperDiv.innerHTML;\n        }\n        /**\n         * unwrap nesting list\n         * @param {Node} nestedList - nested list to unwrap\n         * @private\n         */\n        ;\n\n        _proto._unwrap = function _unwrap(nestedList) {\n          var fragment = document.createDocumentFragment();\n\n          while (nestedList.firstChild) {\n            fragment.appendChild(nestedList.firstChild);\n          }\n\n          nestedList.parentNode.replaceChild(fragment, nestedList);\n        };\n\n        _proto._insertDataToMarkPassForListInTable = function _insertDataToMarkPassForListInTable(html) {\n          var replacedHtml = html.replace(FIND_CELL_TAG_RX, function (match, tdStart, tdContent, tdEnd) {\n            var content = tdContent.replace(FIND_LIST_OR_LIST_ITEM_TAG_RX, '<$1 data-tomark-pass=\"\" $2>');\n            return \"\" + tdStart + content + tdEnd;\n          });\n          return replacedHtml;\n        }\n        /**\n         * Return lines in selection\n         * @param {Node} start Start element\n         * @param {Node} end End element\n         * @param {HTMLElement} body Editor body element\n         * @returns {Array.<HTMLElement>}\n         * @private\n         */\n        ;\n\n        _proto.getLinesOfSelection = function getLinesOfSelection(start, end) {\n          var lines = [];\n          var isLastLine = false;\n          var needNext = true;\n          var nextLine;\n\n          if (dom[\"a\"\n          /* default */\n          ].isTextNode(start)) {\n            var _domUtils$parents2 = dom[\"a\"\n            /* default */\n            ].parents(start, DIV_OR_LI);\n\n            start = _domUtils$parents2[0];\n          }\n\n          if (dom[\"a\"\n          /* default */\n          ].isTextNode(end)) {\n            var _domUtils$parents3 = dom[\"a\"\n            /* default */\n            ].parents(end, DIV_OR_LI);\n\n            end = _domUtils$parents3[0];\n          }\n\n          for (var line = start; needNext; line = nextLine) {\n            if (matches_default()(line, DIV_OR_LI)) {\n              lines.push(line);\n\n              if (line === end) {\n                isLastLine = true;\n              } else {\n                nextLine = this._getNextLine(line, end);\n              }\n            } else {\n              break;\n            }\n\n            needNext = nextLine && !isLastLine;\n          }\n\n          return lines;\n        }\n        /**\n         * get next line\n         * @param {Node} currentLine - current line node\n         * @param {Node} end - last node in selection\n         * @returns {Node} - next line node\n         * @private\n         */\n        ;\n\n        _proto._getNextLine = function _getNextLine(currentLine, end) {\n          var nextLine = currentLine.nextElementSibling;\n\n          if (!nextLine) {\n            // current line was the last line in ul/ol\n            // while we have lines those has not been processed yet.\n            nextLine = currentLine.parentNode.nextElementSibling;\n          } else if (matches_default()(nextLine, UL_OR_OL)) {\n            // we don't sure firstChild is LI. arbtrary list can have another ol/ul\n            nextLine = nextLine.querySelector('li');\n          }\n\n          if (matches_default()(nextLine, DIV_OR_LI) || nextLine === end) {\n            return nextLine;\n          }\n\n          return this._getNextLine(nextLine);\n        }\n        /**\n         * merge to previous list\n         * consider remove this function when https://github.com/neilj/Squire/issues/294 resolved\n         * @param {HTMLLIElement} currentLine - current li element\n         */\n        ;\n\n        _proto.mergeList = function mergeList(currentLine) {\n          var currentList = currentLine.parentNode;\n          var prevList = currentList.previousElementSibling;\n          var nextList = currentList.nextElementSibling;\n\n          if (currentList.firstElementChild === currentLine) {\n            if (prevList && matches_default()(prevList, UL_OR_OL)) {\n              this._mergeList(currentList, prevList);\n\n              currentList = prevList;\n            }\n          }\n\n          if (currentList.lastElementChild === currentLine) {\n            if (nextList && matches_default()(nextList, UL_OR_OL)) {\n              this._mergeList(nextList, currentList);\n            }\n          }\n        }\n        /**\n         * merge list to targetList\n         * @param {HTMLOListElement|HTMLUListElement} list - list to merge\n         * @param {HTMLOListElement|HTMLUListElement} targetList - target list\n         * @private\n         */\n        ;\n\n        _proto._mergeList = function _mergeList(list, targetList) {\n          var listItem = list.firstElementChild;\n\n          if (targetList && matches_default()(targetList, UL_OR_OL)) {\n            while (listItem) {\n              var temp = listItem.nextElementSibling;\n              targetList.appendChild(listItem);\n              listItem = temp;\n            }\n\n            list.parentNode.removeChild(list);\n          }\n        }\n        /**\n         * Check whether is available to make List in table.\n         * @returns {boolean} - li element\n         */\n        ;\n\n        _proto.isAvailableMakeListInTable = function isAvailableMakeListInTable() {\n          var selectionManager = this.wwe.componentManager.getManager('tableSelection');\n          var selectedCells = selectionManager.getSelectedCells();\n          var sq = this.wwe.getEditor();\n          return selectedCells && sq.hasFormat('table') && !sq.hasFormat('OL') && !sq.hasFormat('UL');\n        }\n        /**\n         * Find parent node before TD\n         * @param {Node} node - startContainer or endContainer of range\n         * @param {Number} offset - offset\n         * @returns {Node} - parent node before TD\n         * @private\n         */\n        ;\n\n        _proto._getParentNodeBeforeTD = function _getParentNodeBeforeTD(node, offset) {\n          var parentNode = dom[\"a\"\n          /* default */\n          ].getParentUntil(node, 'TD');\n\n          if (!parentNode) {\n            var childNodes = node.childNodes;\n            var length = childNodes ? childNodes.length : 0;\n            var newOffset = offset > 0 && offset === length ? offset - 1 : offset;\n            parentNode = dom[\"a\"\n            /* default */\n            ].getChildNodeByOffset(node, newOffset);\n          }\n\n          return parentNode;\n        }\n        /**\n         * Find LI node inside TD\n         * If target node is not li and parents of taget node is not li, return null.\n         * @param {Node} targetNode - startContainer or endContainer of range\n         * @param {Number} offset - offset\n         * @returns {Node} - LI node or null\n         * @private\n         */\n        ;\n\n        _proto._findLINodeInsideTD = function _findLINodeInsideTD(targetNode, offset) {\n          var liNode = null;\n          var liParent = dom[\"a\"\n          /* default */\n          ].getParentUntilBy(targetNode, function (node) {\n            return node && dom[\"a\"\n            /* default */\n            ].isListNode(node);\n          }, function (node) {\n            return node && node.nodeName === 'TD';\n          });\n\n          if (liParent) {\n            liNode = liParent;\n          } else if (targetNode.nodeName === 'LI') {\n            liNode = targetNode;\n          } else if (dom[\"a\"\n          /* default */\n          ].isListNode(targetNode)) {\n            var childLength = targetNode.childNodes.length;\n            liNode = targetNode.childNodes[offset >= childLength ? childLength - 1 : offset];\n          }\n\n          return liNode;\n        }\n        /**\n         * Get first node on the line where range start.\n         * @param {Node} targetNode - startContainer\n         * @param {Number} offset - startOffset\n         * @returns {Node} - first node where range start\n         * @private\n         */\n        ;\n\n        _proto._getFirstNodeInLineOfTable = function _getFirstNodeInLineOfTable(targetNode, offset) {\n          var startNode = this._findLINodeInsideTD(targetNode, offset);\n\n          if (!startNode) {\n            startNode = this._getParentNodeBeforeTD(targetNode, offset);\n            var _startNode = startNode,\n                previousSibling = _startNode.previousSibling;\n\n            while (previousSibling && previousSibling.nodeName !== 'BR' && !dom[\"a\"\n            /* default */\n            ].isListNode(previousSibling)) {\n              startNode = previousSibling;\n              previousSibling = startNode.previousSibling;\n            }\n          }\n\n          return startNode;\n        }\n        /**\n         * Get last node on the line where range end.\n         * @param {Node} targetNode - endContainer\n         * @param {Number} offset - endOffset\n         * @returns {Node} - last node where range end\n         * @private\n         */\n        ;\n\n        _proto._getLastNodeInLineOfTable = function _getLastNodeInLineOfTable(targetNode, offset) {\n          var endNode = this._findLINodeInsideTD(targetNode, offset);\n\n          if (!endNode) {\n            endNode = this._getParentNodeBeforeTD(targetNode, offset);\n\n            while (endNode.nextSibling) {\n              if (endNode.nodeName === 'BR' || dom[\"a\"\n              /* default */\n              ].isListNode(endNode)) {\n                break;\n              }\n\n              endNode = endNode.nextSibling;\n            }\n          }\n\n          return endNode;\n        }\n        /**\n         * Check whether node is last node in the line of table\n         * If the node is li or br, the node is last node in the line of table.\n         * @param {node} node - node\n         * @returns {boolean} - whether node is last node in line of table\n         * @private\n         */\n        ;\n\n        _proto._isLastNodeInLineOfTable = function _isLastNodeInLineOfTable(node) {\n          var nodeName = node.nodeName;\n          return nodeName === 'LI' || nodeName === 'BR';\n        }\n        /**\n         * Get next node in the line of table\n         * If current node is li node and nextSibling is not existing, next node is parent's nextSibling.\n         * If nextSibiling of node is a list node (UL or OL), next node is first child of the list node.\n         * @param {node} node - node\n         * @returns {node} - next node\n         * @private\n         */\n        ;\n\n        _proto._getNextNodeInLineOfTable = function _getNextNodeInLineOfTable(node) {\n          var nextSibling = node.nextSibling;\n\n          if (node.nodeName === 'LI' && !nextSibling) {\n            var parentNode = node.parentNode;\n\n            while (parentNode.nodeName !== 'TD') {\n              if (parentNode.nextSibling) {\n                nextSibling = parentNode.nextSibling;\n                break;\n              }\n\n              parentNode = parentNode.parentNode;\n            }\n          } else if (dom[\"a\"\n          /* default */\n          ].isListNode(nextSibling)) {\n            nextSibling = nextSibling.firstChild;\n          }\n\n          return nextSibling;\n        }\n        /**\n         * get nodes in each lines of table\n         * @param {range} range - range\n         * @returns {array} - each nodes in line\n         * @private\n         */\n        ;\n\n        _proto._getLinesOfSelectionInTable = function _getLinesOfSelectionInTable(range) {\n          var startContainer = range.startContainer,\n              endContainer = range.endContainer,\n              startOffset = range.startOffset,\n              endOffset = range.endOffset;\n\n          var firstNode = this._getFirstNodeInLineOfTable(startContainer, startOffset);\n\n          var lastNode = this._getLastNodeInLineOfTable(endContainer, endOffset);\n\n          var lines = [];\n          var oneLine = [];\n\n          while (firstNode) {\n            oneLine.push(firstNode);\n\n            if (this._isLastNodeInLineOfTable(firstNode)) {\n              lines.push(oneLine);\n              oneLine = [];\n            }\n\n            if (firstNode === lastNode) {\n              if (oneLine.length) {\n                lines.push(oneLine);\n              }\n\n              break;\n            }\n\n            firstNode = this._getNextNodeInLineOfTable(firstNode);\n          }\n\n          return lines;\n        }\n        /**\n         * create OL or UL element\n         * @param {string} listType - OL, UL or TASK\n         * @returns {Node} - OL or UL element\n         * @private\n         */\n        ;\n\n        _proto._createListElement = function _createListElement(listType) {\n          return document.createElement(listType === 'TASK' ? 'UL' : listType);\n        }\n        /**\n         * create li element\n         * @param {array} oneLineNodes - node array\n         * @param {string} listType - OL, UL or TASK\n         * @returns {Node} - li element\n         * @private\n         */\n        ;\n\n        _proto._createListItemElement = function _createListItemElement(oneLineNodes, listType) {\n          var liNode = document.createElement('li');\n          oneLineNodes.forEach(function (node) {\n            liNode.appendChild(node);\n          });\n\n          if (listType === 'TASK') {\n            var taskManager = this.wwe.componentManager.getManager('task');\n            taskManager.formatTask(liNode);\n          }\n\n          return liNode;\n        };\n\n        _proto._mergeListWithPreviousSibiling = function _mergeListWithPreviousSibiling(node) {\n          var previousSibling = node.previousSibling;\n          var result = node;\n\n          if (previousSibling && node.nodeName === previousSibling.nodeName) {\n            this._mergeList(node, previousSibling);\n\n            result = previousSibling;\n          }\n\n          return result;\n        };\n\n        _proto._mergeListWithNextSibiling = function _mergeListWithNextSibiling(node) {\n          var nextSibling = node.nextSibling;\n\n          if (nextSibling && node.nodeName === nextSibling.nodeName) {\n            this._mergeList(nextSibling, node);\n          }\n\n          return node;\n        }\n        /**\n         * make listNode (OL or UL)\n         * @param {range} range - range\n         * @param {staring} listType - UL, OL, TASK\n         * @returns {array} childNodes of list node (OL/UL)\n         */\n        ;\n\n        _proto.createListInTable = function createListInTable(range, listType) {\n          var _this4 = this;\n\n          var lines = this._getLinesOfSelectionInTable(range);\n\n          var lastLine = lines[lines.length - 1];\n          var lastNode = lastLine[lastLine.length - 1];\n          var nextNode = lastNode.nextSibling;\n          var parentNode = lastNode.parentNode;\n\n          var listNode = this._createListElement(listType);\n\n          var _listNode = listNode,\n              listNodeName = _listNode.nodeName;\n          var newLIs = [];\n          lines.forEach(function (oneLineNodes) {\n            var oneLineFirstNode = oneLineNodes[0];\n            var liElement; // oneLineFirstNode was already a list item in the table\n\n            if (oneLineFirstNode.nodeName === 'LI') {\n              var existingListNode = oneLineFirstNode.parentNode;\n              liElement = oneLineFirstNode; // If the existing list that is already in table is not same the list to be created,\n              // change the existing list to the list to be created\n\n              if (existingListNode.nodeName !== listNodeName) {\n                var childNodes = existingListNode.childNodes;\n                toArray_default()(childNodes).forEach(function () {\n                  listNode.appendChild(existingListNode.firstChild);\n                });\n                existingListNode.parentNode.replaceChild(listNode, existingListNode);\n              }\n\n              listNode = liElement.parentNode;\n            } else {\n              liElement = _this4._createListItemElement(oneLineNodes, listType);\n              listNode.appendChild(liElement);\n            }\n\n            newLIs.push(liElement);\n          });\n\n          if (!listNode.parentNode) {\n            parentNode.insertBefore(listNode, nextNode);\n          }\n\n          listNode = this._mergeListWithPreviousSibiling(listNode);\n\n          this._mergeListWithNextSibiling(listNode);\n\n          return newLIs;\n        }\n        /**\n         * adjust range for list node (OL/UL)\n         * according to origin startContainer and endContainer\n         * @param {node} startContainer - startContainer\n         * @param {node} endContainer - endContainer\n         * @param {number} startOffset - startOffset\n         * @param {number} endOffset - endOffset\n         * @param {array} listNode - node array\n         */\n        ;\n\n        _proto.adjustRange = function adjustRange(startContainer, endContainer, startOffset, endOffset, listNode) {\n          var newStartContainer = dom[\"a\"\n          /* default */\n          ].containsNode(listNode[0], startContainer) ? startContainer : listNode[0];\n          var newEndContainer = dom[\"a\"\n          /* default */\n          ].containsNode(listNode[listNode.length - 1], endContainer) ? endContainer : listNode[listNode.length - 1];\n          var newStartOffset = startContainer.nodeName === 'TD' ? 0 : startOffset;\n          var newEndOffset = endContainer.nodeName === 'TD' ? 0 : endOffset;\n          this.wwe.setSelectionByContainerAndOffset(newStartContainer, newStartOffset, newEndContainer, newEndOffset);\n        };\n\n        return WwListManager;\n      }();\n      /* harmony default export */\n\n\n      var wwListManager = wwListManager_WwListManager; // EXTERNAL MODULE: ./node_modules/tui-code-snippet/domUtil/hasClass.js\n\n      var hasClass = __webpack_require__(16);\n\n      var hasClass_default = /*#__PURE__*/__webpack_require__.n(hasClass); // CONCATENATED MODULE: ./src/js/wwTaskManager.js\n\n      /**\n       * @fileoverview Implements wysiwyg task manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var TASK_CLASS_NAME = 'task-list-item';\n      var TASK_ATTR_NAME = 'data-te-task';\n      var TASK_CHECKED_CLASS_NAME = 'checked';\n      /**\n       * Class WwTaskManager\n       * @param {WysiwygEditor} wwe - WysiwygEditor instance\n       * @ignore\n       */\n\n      var wwTaskManager_WwTaskManager = /*#__PURE__*/function () {\n        function WwTaskManager(wwe) {\n          this.wwe = wwe;\n          this.eventManager = wwe.eventManager;\n          /**\n           * Name property\n           * @type {string}\n           */\n\n          this.name = 'task';\n\n          this._init();\n        }\n        /**\n         * Init\n         * @private\n         */\n\n\n        var _proto = WwTaskManager.prototype;\n\n        _proto._init = function _init() {\n          this._initKeyHandler();\n\n          this._initEvent();\n\n          this.wwe.getEditor().addEventListener('mousedown', function (ev) {\n            var style = getComputedStyle(ev.target, ':before');\n\n            if (ev.target.hasAttribute(TASK_ATTR_NAME) && dom[\"a\"\n            /* default */\n            ].isInsideTaskBox(style, ev.offsetX, ev.offsetY)) {\n              // Prevent cursor focusing\n              ev.preventDefault();\n              dom[\"a\"\n              /* default */\n              ].toggleClass(ev.target, TASK_CHECKED_CLASS_NAME);\n            }\n          });\n        }\n        /**\n         * Initialize event\n         * @private\n         */\n        ;\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          this.eventManager.listen('wysiwygSetValueAfter', function () {\n            _this._removeTaskListClass();\n          });\n        }\n        /**\n         * Initialize key event handler\n         * @private\n         */\n        ;\n\n        _proto._initKeyHandler = function _initKeyHandler() {\n          var _this2 = this;\n\n          this.wwe.addKeyEventHandler('ENTER', function (ev, range) {\n            if (_this2.isInTaskList(range)) {\n              _this2.wwe.defer(function () {\n                var newRange = _this2.wwe.getRange();\n\n                var li = dom[\"a\"\n                /* default */\n                ].closest(newRange.startContainer, 'li');\n\n                if (li) {\n                  removeClass_default()(li, TASK_CHECKED_CLASS_NAME);\n                }\n              });\n            }\n          });\n        }\n        /**\n         * Check whether passed range is in task list or not\n         * @param {Range} range range\n         * @returns {boolean} result\n         */\n        ;\n\n        _proto.isInTaskList = function isInTaskList(range) {\n          var li;\n\n          if (!range) {\n            range = this.wwe.getEditor().getSelection().cloneRange();\n          }\n\n          if (range.startContainer.nodeType === Node.ELEMENT_NODE && range.startContainer.tagName === 'LI') {\n            li = range.startContainer;\n          } else {\n            var _domUtils$parents = dom[\"a\"\n            /* default */\n            ].parents(range.startContainer, 'li');\n\n            li = _domUtils$parents[0];\n          }\n\n          return !!li && hasClass_default()(li, TASK_CLASS_NAME);\n        }\n        /**\n         * Unforamt task\n         * @param {Node} node target\n         */\n        ;\n\n        _proto.unformatTask = function unformatTask(node) {\n          var li = dom[\"a\"\n          /* default */\n          ].closest(node, 'li');\n          removeClass_default()(li, TASK_CLASS_NAME);\n          removeClass_default()(li, TASK_CHECKED_CLASS_NAME);\n          li.removeAttribute(TASK_ATTR_NAME);\n\n          if (!li.getAttribute('class')) {\n            li.removeAttribute('class');\n          }\n        }\n        /**\n         * Format task\n         * @param {Node} node target\n         */\n        ;\n\n        _proto.formatTask = function formatTask(node) {\n          var li = dom[\"a\"\n          /* default */\n          ].closest(node, 'li');\n          addClass_default()(li, TASK_CLASS_NAME);\n          li.setAttribute(TASK_ATTR_NAME, '');\n        }\n        /**\n         * Format task if current range has task class name\n         * @private\n         */\n        ;\n\n        _proto._formatTaskIfNeed = function _formatTaskIfNeed() {\n          var range = this.wwe.getEditor().getSelection().cloneRange();\n\n          if (this.isInTaskList(range)) {\n            this.formatTask(range.startContainer);\n          }\n        }\n        /**\n         * Remove tasklist class\n         * @private\n         */\n        ;\n\n        _proto._removeTaskListClass = function _removeTaskListClass() {\n          // because task-list class is block merge normal list and task list\n          dom[\"a\"\n          /* default */\n          ].findAll(this.wwe.getBody(), '.task-list').forEach(function (node) {\n            removeClass_default()(node, 'task-list');\n          });\n        };\n\n        return WwTaskManager;\n      }();\n      /* harmony default export */\n\n\n      var wwTaskManager = wwTaskManager_WwTaskManager; // CONCATENATED MODULE: ./src/js/wwTableManager.js\n\n      /**\n       * @fileoverview Implements wysiwyg table manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isIE10 = browser_default.a.msie && browser_default.a.version === 10;\n      var TABLE_CLASS_PREFIX = 'te-content-table-';\n      var isIE10And11 = browser_default.a.msie && (browser_default.a.version === 10 || browser_default.a.version === 11);\n      var BASIC_CELL_CONTENT = browser_default.a.msie ? '' : '<br>';\n      var TABLE_CELL_SELECTED_CLASS_NAME = 'te-cell-selected';\n      /**\n       * Class WwTableManager\n       * @param {WysiwygEditor} wwe - WysiwygEditor instance\n       * @ignore\n       */\n\n      var wwTableManager_WwTableManager = /*#__PURE__*/function () {\n        function WwTableManager(wwe) {\n          this.wwe = wwe;\n          this.eventManager = wwe.eventManager;\n          /**\n           * Name property\n           * @type {string}\n           */\n\n          this.name = 'table';\n          this._lastCellNode = null;\n\n          this._init();\n        }\n        /**\n         * Initialize\n         * @private\n         */\n\n\n        var _proto = WwTableManager.prototype;\n\n        _proto._init = function _init() {\n          this._initKeyHandler();\n\n          this._initEvent();\n\n          this.tableID = 0;\n        }\n        /**\n         * Initialize event\n         * @private\n         */\n        ;\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          this.eventManager.listen('wysiwygRangeChangeAfter.table', function () {\n            var range = _this.wwe.getEditor().getSelection();\n\n            var isRangeInTable = _this.wwe.isInTable(range);\n\n            _this._unwrapBlockInTable();\n\n            _this._completeTableIfNeed();\n\n            if (!isRangeInTable) {\n              var selectionManager = _this.wwe.componentManager.getManager('tableSelection');\n\n              selectionManager.removeClassAttrbuteFromAllCellsIfNeed();\n            }\n\n            _this._insertDefaultBlockBetweenTable();\n          });\n          this.eventManager.listen('wysiwygSetValueAfter.table', function () {\n            _this._unwrapBlockInTable();\n\n            _this._insertDefaultBlockBetweenTable();\n          }); // remove last br in td or th\n\n          this.eventManager.listen('wysiwygProcessHTMLText.table', function (html) {\n            return html.replace(/<br \\/>(<\\/td>|<\\/th>)/g, '$1');\n          });\n          this.eventManager.listen('cut.table', function () {\n            var selectionManager = _this.wwe.componentManager.getManager('tableSelection');\n\n            var selectedCells = selectionManager.getSelectedCells();\n\n            if (selectedCells.length) {\n              selectedCells.forEach(function (cell) {\n                cell.innerHTML = BASIC_CELL_CONTENT;\n              });\n            }\n\n            selectionManager.removeClassAttrbuteFromAllCellsIfNeed();\n          });\n          this.eventManager.listen('copyBefore.table', function (_ref) {\n            var clipboardContainer = _ref.clipboardContainer;\n            return _this.updateTableHtmlOfClipboardIfNeed(clipboardContainer);\n          });\n        }\n        /**\n         * Update table html of clipboard data, if has selected cells.\n         * @param {HTMLElement} clipboardContainer - clipboard element\n         */\n        ;\n\n        _proto.updateTableHtmlOfClipboardIfNeed = function updateTableHtmlOfClipboardIfNeed(clipboardContainer) {\n          var _this2 = this;\n\n          var selectionManager = this.wwe.componentManager.getManager('tableSelection');\n          var selectedCells = selectionManager.getSelectedCells();\n\n          if (selectedCells.length) {\n            selectionManager.createRangeBySelectedCells();\n            var fragment = this.wwe.getEditor().getSelection().cloneContents();\n            toArray_default()(fragment.children).forEach(function (node) {\n              if (!_this2.isTableOrSubTableElement(node.nodeName)) {\n                return;\n              }\n\n              if (node.nodeName === 'TABLE' && node.querySelector('thead') && node.querySelector('tbody')) {\n                dom[\"a\"\n                /* default */\n                ].remove(node);\n              } else if (node.previousSibling && node.previousSibling.nodeName === 'TABLE') {\n                node.previousSibling.appendChild(node);\n              } else {\n                _this2._completeIncompleteTable(node);\n\n                if (node.nodeName !== 'TABLE' && node.nodeName !== 'THEAD') {\n                  var thead = dom[\"a\"\n                  /* default */\n                  ].closest(node, 'table').querySelector('thead');\n                  dom[\"a\"\n                  /* default */\n                  ].remove(thead);\n                }\n              }\n            });\n            clipboardContainer.appendChild(fragment);\n            dom[\"a\"\n            /* default */\n            ].findAll(clipboardContainer, \".\" + TABLE_CELL_SELECTED_CLASS_NAME).forEach(function (cell) {\n              removeClass_default()(cell, TABLE_CELL_SELECTED_CLASS_NAME);\n            });\n          }\n        }\n        /**\n         * Paste clibpard data that contains only table.\n         * @param {Node} clipboardTable - table element of clipboard\n         */\n        ;\n\n        _proto.pasteTableData = function pasteTableData(clipboardTable) {\n          this._expandTableIfNeed(clipboardTable);\n\n          this._pasteDataIntoTable(clipboardTable);\n        }\n        /**\n         * Initialize key event handler\n         * @private\n         */\n        ;\n\n        _proto._initKeyHandler = function _initKeyHandler() {\n          var _this3 = this;\n\n          this.keyEventHandlers = {\n            DEFAULT: function DEFAULT(ev, range, keymap) {\n              var isRangeInTable = _this3.wwe.isInTable(range);\n\n              if (isRangeInTable && !_this3._isModifierKey(keymap)) {\n                _this3._recordUndoStateIfNeed(range);\n\n                _this3._removeContentsAndChangeSelectionIfNeed(range, keymap, ev);\n              } else if (!isRangeInTable && _this3._lastCellNode) {\n                _this3._recordUndoStateAndResetCellNode(range);\n              }\n\n              if (isRangeInTable && !_this3._isModifierKeyPushed(ev)) {\n                _this3.wwe.getEditor().modifyDocument(function () {\n                  var selectionManager = _this3.wwe.componentManager.getManager('tableSelection');\n\n                  selectionManager.removeClassAttrbuteFromAllCellsIfNeed();\n                });\n              }\n            },\n            ENTER: function ENTER(ev, range) {\n              var isNeedNext;\n\n              if (_this3._isAfterTable(range)) {\n                ev.preventDefault();\n                range.setStart(range.startContainer, range.startOffset - 1);\n\n                _this3.wwe.breakToNewDefaultBlock(range);\n\n                isNeedNext = false;\n              } else if (_this3._isBeforeTable(range)) {\n                ev.preventDefault();\n\n                _this3.wwe.breakToNewDefaultBlock(range, 'before');\n\n                isNeedNext = false;\n              } else if (_this3.wwe.isInTable(range)) {\n                if (!_this3._isInList(range.startContainer) && _this3._isInStyledText(range)) {\n                  _this3.wwe.defer(function () {\n                    _this3._removeBRinStyleText();\n                  });\n                } else if (_this3._isEmptyFirstLevelLI(range)) {\n                  _this3.wwe.defer(function () {\n                    // Squire make div when LI level is decreased in first level so should replace div to br\n                    var afterRange = _this3.wwe.getRange().cloneRange();\n\n                    var div = afterRange.startContainer;\n                    var br = document.createElement('br');\n                    div.parentNode.replaceChild(br, div);\n                    afterRange.setStartBefore(br);\n                    afterRange.collapse(true);\n\n                    _this3.wwe.getEditor().setSelection(afterRange);\n                  });\n                }\n\n                _this3._appendBrIfTdOrThNotHaveAsLastChild(range);\n\n                isNeedNext = false;\n              }\n\n              return isNeedNext;\n            },\n            BACK_SPACE: function BACK_SPACE(ev, range, keymap) {\n              return _this3._handleBackspaceAndDeleteKeyEvent(ev, range, keymap);\n            },\n            DELETE: function DELETE(ev, range, keymap) {\n              return _this3._handleBackspaceAndDeleteKeyEvent(ev, range, keymap);\n            },\n            TAB: function TAB() {\n              return _this3._moveCursorTo('next', 'cell');\n            },\n            'SHIFT+TAB': function SHIFTTAB(ev) {\n              return _this3._moveCursorTo('previous', 'cell', ev);\n            },\n            UP: function UP(ev) {\n              return _this3._moveCursorTo('previous', 'row', ev);\n            },\n            DOWN: function DOWN(ev) {\n              return _this3._moveCursorTo('next', 'row', ev);\n            }\n          };\n          forEachOwnProperties_default()(this.keyEventHandlers, function (handler, key) {\n            return _this3.wwe.addKeyEventHandler(key, handler);\n          });\n        }\n        /**\n         * Check whether node is li and empty\n         * @param {node} node node\n         * @returns {boolean} whether node is li and empty\n         * @private\n         */\n        ;\n\n        _proto._isEmptyListItem = function _isEmptyListItem(node) {\n          var childNodes = node.childNodes,\n              nodeName = node.nodeName;\n          return nodeName === 'LI' && childNodes.length === 1 && childNodes[0].nodeName === 'BR';\n        }\n        /**\n         * Check whether range is in empty LI that is first level\n         * @param {range} range range\n         * @returns {boolean} whether range is in empty LI that is first level\n         * @private\n         */\n        ;\n\n        _proto._isEmptyFirstLevelLI = function _isEmptyFirstLevelLI(range) {\n          var collapsed = range.collapsed,\n              startContainer = range.startContainer,\n              startOffset = range.startOffset;\n          return collapsed && startOffset === 0 && this._isEmptyListItem(startContainer) && dom[\"a\"\n          /* default */\n          ].isFirstLevelListItem(startContainer);\n        }\n        /**\n         * Check whether range is in style tag that is like 'B', 'I', 'S', 'SPAN', 'CODE'\n         * Those tag is supported in Wysiwyg.\n         * @param {Range} range range\n         * @returns {Boolean} range is in the style tag\n         * @private\n         */\n        ;\n\n        _proto._isInStyledText = function _isInStyledText(range) {\n          var startContainer = range.startContainer;\n          var node;\n\n          if (dom[\"a\"\n          /* default */\n          ].isTextNode(startContainer)) {\n            node = startContainer.parentNode;\n          } else {\n            node = startContainer;\n          }\n\n          return range.collapsed && dom[\"a\"\n          /* default */\n          ].isStyledNode(node);\n        }\n        /**\n         * When enter key occur in the styled text, 'br' tag insert in the style tag like 'b', 'i' etc.\n         * So in thoes case, 'br' tag would be pulled out in this logic.\n         * @private\n         */\n        ;\n\n        _proto._removeBRinStyleText = function _removeBRinStyleText() {\n          var afterRange = this.wwe.getRange();\n          var startContainer = afterRange.startContainer,\n              startOffset = afterRange.startOffset;\n          var styleNode;\n\n          if (startContainer.nodeName === 'TD') {\n            // This case is <i>TEST<br></i>|<br>\n            styleNode = dom[\"a\"\n            /* default */\n            ].getChildNodeByOffset(startContainer, startOffset - 1);\n          } else {\n            styleNode = dom[\"a\"\n            /* default */\n            ].getParentUntil(startContainer, 'TD');\n          }\n\n          var brNode = styleNode.querySelector('br');\n\n          if (!brNode) {\n            return;\n          }\n\n          var _styleNode = styleNode,\n              tdNode = _styleNode.parentNode,\n              nodeName = _styleNode.nodeName;\n\n          if (nodeName === 'CODE' && !brNode.previousSibling) {\n            // cursor is located in the start of text\n            // Before Enter : <code>|TEST</code>\n            // After Enter  : <code><br>|TEST</code>\n            // TO BE        : <br><code>|TEST</code>\n            tdNode.insertBefore(brNode, styleNode);\n            afterRange.setStart(styleNode, 0);\n          } else if (nodeName === 'CODE' && !brNode.nextSibling) {\n            // cursor is located in the end of text\n            // Before Enter : <code>TEST|</code>\n            // After Enter  : <code>TEST<br>|</code>\n            // TO BE        : <code>TEST</code><br>|\n            tdNode.insertBefore(brNode, styleNode.nextSibling);\n            afterRange.setStart(tdNode, dom[\"a\"\n            /* default */\n            ].getNodeOffsetOfParent(brNode) + 1);\n          } else {\n            // [Case 1] cursor is located in the middle of text\n            // Before Enter : <i>TE|ST</i>\n            // After Enter  : <i>TE<br>|ST</i>\n            // TO BE        : <i>TE</i><br><i>|ST</i>\n            // [Case 2] cursor is located in the start of text\n            // Before Enter : <i>|TEST</i>\n            // After Enter  : <i><br>|TEST</i>\n            // TO BE        : <i>|</i><br><i>TEST</i>\n            // [Case 3] cursor is located in the end of text\n            // Before Enter : <i>TEST|</i>\n            // After Enter  : <i>TEST<br>|</i>\n            // TO BE        : <i>TEST</i><br><i>|</i>\n            var newNode = this._splitByBR(styleNode, brNode);\n\n            afterRange.setStart(newNode, 0);\n          }\n\n          afterRange.collapse(true);\n          this.wwe.getEditor().setSelection(afterRange);\n        }\n        /**\n         * When container node have br node, split container base on br node and pull out BR.\n         * After Enter  : <i>TE<br>ST</i>\n         * TO BE        : <i>TE</i><br><i>ST</i>\n         * @param {Node} container container\n         * @param {Node} brNode container\n         * @returns {Node} node for positioning of cursor\n         * @private\n         */\n        ;\n\n        _proto._splitByBR = function _splitByBR(container, brNode) {\n          var cloneStyleNode = container.cloneNode(true);\n          var newBR = document.createElement('br');\n          var parentNode = container.parentNode; // Origin style node should be removed the back nodes of br node.\n\n          dom[\"a\"\n          /* default */\n          ].removeNodesByDirection(container, brNode, false);\n          brNode.parentNode.removeChild(brNode); // Cloned style node should be removed the front nodes of br node\n\n          var clonedBR = cloneStyleNode.querySelector('br');\n          dom[\"a\"\n          /* default */\n          ].removeNodesByDirection(cloneStyleNode, clonedBR, true);\n          clonedBR.parentNode.removeChild(clonedBR);\n          parentNode.insertBefore(cloneStyleNode, container.nextSibling);\n          parentNode.insertBefore(newBR, cloneStyleNode);\n          var leafNode = dom[\"a\"\n          /* default */\n          ].getLeafNode(cloneStyleNode);\n\n          if (!dom[\"a\"\n          /* default */\n          ].getTextLength(leafNode)) {\n            leafNode.textContent = \"\\u200B\";\n          }\n\n          return leafNode;\n        }\n        /**\n         * Check whether passed range is right before table or not\n         * @param {Range} range range\n         * @returns {boolean} result\n         * @private\n         */\n        ;\n\n        _proto._isBeforeTable = function _isBeforeTable(range) {\n          return dom[\"a\"\n          /* default */\n          ].getNodeName(dom[\"a\"\n          /* default */\n          ].getChildNodeByOffset(range.startContainer, range.startOffset)) === 'TABLE';\n        }\n        /**\n         * Check whether passed range is right after table or not\n         * @param {Range} range range\n         * @returns {boolean} result\n         * @private\n         */\n        ;\n\n        _proto._isAfterTable = function _isAfterTable(range) {\n          var prevElem = dom[\"a\"\n          /* default */\n          ].getPrevOffsetNodeUntil(range.startContainer, range.startOffset);\n          return dom[\"a\"\n          /* default */\n          ].getNodeName(prevElem) === 'TABLE' && range.commonAncestorContainer === this.wwe.getBody();\n        }\n        /**\n         * Handle backspace and delete key event\n         * @param {object} ev - Event object\n         * @param {Range} range - Range Object\n         * @param {string} keymap - keymap\n         * @returns {boolean} - need next\n         * @private\n         */\n        ;\n\n        _proto._handleBackspaceAndDeleteKeyEvent = function _handleBackspaceAndDeleteKeyEvent(ev, range, keymap) {\n          var isBackspace = keymap === 'BACK_SPACE';\n          var selectionManager = this.wwe.componentManager.getManager('tableSelection');\n          var selectedCells = selectionManager.getSelectedCells();\n          var isNeedNext = true;\n\n          if (range.collapsed) {\n            if (this.wwe.isInTable(range)) {\n              if (isBackspace) {\n                this._tableHandlerOnBackspace(range, ev);\n              } else {\n                this._tableHandlerOnDelete(range, ev);\n              }\n\n              this._removeContentsAndChangeSelectionIfNeed(range, keymap, ev);\n\n              isNeedNext = false;\n            } else if (!isBackspace && this._isBeforeTable(range) || isBackspace && this._isAfterTable(range)) {\n              ev.preventDefault();\n              var startOffset = isBackspace ? range.startOffset - 1 : range.startOffset;\n\n              this._removeTable(range, dom[\"a\"\n              /* default */\n              ].getChildNodeByOffset(range.startContainer, startOffset));\n\n              isNeedNext = false;\n            }\n          } else if (this.wwe.isInTable(range)) {\n            if (selectedCells.length > 0) {\n              var removed = this._removeContentsAndChangeSelectionIfNeed(range, keymap, ev);\n\n              if (removed) {\n                ev.preventDefault();\n                isNeedNext = false;\n              }\n            }\n          }\n\n          return isNeedNext;\n        }\n        /**\n         * Move Li node to previous node that is previous node of list node.\n         * @param {node} liNode li node\n         * @param {range} range range\n         * @private\n         */\n        ;\n\n        _proto._moveListItemToPreviousOfList = function _moveListItemToPreviousOfList(liNode, range) {\n          var listNode = liNode.parentNode,\n              firstChild = liNode.firstChild;\n          var fragment = document.createDocumentFragment();\n          dom[\"a\"\n          /* default */\n          ].mergeNode(liNode, fragment);\n          listNode.parentNode.insertBefore(fragment, listNode);\n          range.setStart(firstChild, 0);\n          range.collapse(true);\n          this.wwe.getEditor().setSelection(range);\n\n          if (!listNode.hasChildNodes()) {\n            listNode.parentNode.removeChild(listNode);\n          }\n        };\n\n        _proto._isInList = function _isInList(targetNode) {\n          return dom[\"a\"\n          /* default */\n          ].getParentUntilBy(targetNode, function (node) {\n            return node && (dom[\"a\"\n            /* default */\n            ].isListNode(node) || node.nodeName === 'LI');\n          }, function (node) {\n            return node && (node.nodeName === 'TD' || node.nodeName === 'TH');\n          });\n        }\n        /**\n         * Find LI node while search parentNode inside TD\n         * @param {node} startContainer startContainer\n         * @returns {node} liNode or null\n         * @private\n         */\n        ;\n\n        _proto._findListItem = function _findListItem(startContainer) {\n          return dom[\"a\"\n          /* default */\n          ].getParentUntilBy(startContainer, function (node) {\n            return node && dom[\"a\"\n            /* default */\n            ].isListNode(node);\n          }, function (node) {\n            return node && (node.nodeName === 'TD' || node.nodeName === 'TH');\n          });\n        }\n        /**\n         * Backspace handler in table\n         * @param {Range} range range\n         * @param {Event} event event\n         * @private\n         */\n        ;\n\n        _proto._tableHandlerOnBackspace = function _tableHandlerOnBackspace(range, event) {\n          var startContainer = range.startContainer,\n              startOffset = range.startOffset;\n\n          var liNode = this._findListItem(startContainer);\n\n          if (liNode && startOffset === 0 && dom[\"a\"\n          /* default */\n          ].isFirstListItem(liNode) && dom[\"a\"\n          /* default */\n          ].isFirstLevelListItem(liNode)) {\n            this.wwe.getEditor().saveUndoState(range);\n\n            this._moveListItemToPreviousOfList(liNode, range);\n\n            event.preventDefault();\n          } else {\n            var prevNode = dom[\"a\"\n            /* default */\n            ].getPrevOffsetNodeUntil(startContainer, startOffset, 'TR');\n            var prevNodeName = dom[\"a\"\n            /* default */\n            ].getNodeName(prevNode);\n\n            if (prevNodeName === 'BR' && prevNode.parentNode.childNodes.length !== 1) {\n              event.preventDefault();\n              dom[\"a\"\n              /* default */\n              ].remove(prevNode);\n            }\n          }\n        }\n        /**\n         * Return whether delete br in the br\n         * @param {Range} range Range object\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isDeletingBR = function _isDeletingBR(range) {\n          var currentNode = this._getCurrentNodeInCell(range);\n\n          var nextSibling = currentNode && currentNode.nextSibling;\n          return dom[\"a\"\n          /* default */\n          ].getNodeName(currentNode) === 'BR' && !!nextSibling && dom[\"a\"\n          /* default */\n          ].getNodeName(nextSibling) === 'BR';\n        };\n\n        _proto._getCurrentNodeInCell = function _getCurrentNodeInCell(range) {\n          var startContainer = range.startContainer,\n              startOffset = range.startOffset;\n          var currentNode;\n\n          if (dom[\"a\"\n          /* default */\n          ].getNodeName(startContainer) === 'TD') {\n            currentNode = dom[\"a\"\n            /* default */\n            ].getChildNodeByOffset(startContainer, startOffset);\n          } else if (dom[\"a\"\n          /* default */\n          ].getParentUntil(startContainer, 'TD')) {\n            currentNode = startContainer;\n          }\n\n          return currentNode;\n        }\n        /**\n         * Check whether range is located in end of the list\n         * @param {Node} liNode liNode\n         * @param {Range} range range\n         * @returns {Boolean} whether range is located in end of the list\n         * @private\n         */\n        ;\n\n        _proto._isEndOfList = function _isEndOfList(liNode, range) {\n          var startContainer = range.startContainer,\n              startOffset = range.startOffset;\n          var result = false;\n\n          if (!liNode.nextSibling) {\n            if (liNode === startContainer) {\n              var liNodeOffset = dom[\"a\"\n              /* default */\n              ].getOffsetLength(liNode);\n\n              if (liNode.lastChild.nodeName === 'BR') {\n                liNodeOffset -= 1;\n              }\n\n              result = liNodeOffset === startOffset;\n            } else {\n              var parentNode = dom[\"a\"\n              /* default */\n              ].getParentUntil(startContainer, 'li') || startContainer;\n              var startContainerOffset = dom[\"a\"\n              /* default */\n              ].getOffsetLength(startContainer);\n              var lastChild = liNode.lastChild;\n\n              if (lastChild.nodeName === 'BR') {\n                lastChild = lastChild.previousSibling;\n              }\n\n              result = lastChild === parentNode && startContainerOffset === startOffset;\n            }\n          }\n\n          return result;\n        }\n        /**\n         * Get next line nodes from target node\n         * @param {Node} node target node\n         * @returns {DocumentFragment} next line nodes\n         * @private\n         */\n        ;\n\n        _proto._getNextLineNode = function _getNextLineNode(node) {\n          var fragment = document.createDocumentFragment();\n          var parentNode = dom[\"a\"\n          /* default */\n          ].getParentUntil(node, 'TD');\n          var nextSibling = parentNode.nextSibling;\n\n          while (nextSibling) {\n            var _nextSibling = nextSibling,\n                next = _nextSibling.nextSibling;\n            fragment.appendChild(nextSibling);\n\n            if (nextSibling.nodeName === 'BR') {\n              break;\n            }\n\n            nextSibling = next;\n          }\n\n          return fragment;\n        }\n        /**\n         * Delete handler in table\n         * @param {Range} range range\n         * @param {Event} event event\n         * @private\n         */\n        ;\n\n        _proto._tableHandlerOnDelete = function _tableHandlerOnDelete(range, event) {\n          var liNode = this._findListItem(range.startContainer);\n\n          if (liNode && this._isEndOfList(liNode, range)) {\n            this.wwe.getEditor().saveUndoState(range);\n\n            if (liNode.lastChild.nodeName === 'BR') {\n              liNode.removeChild(liNode.lastChild);\n            }\n\n            dom[\"a\"\n            /* default */\n            ].mergeNode(this._getNextLineNode(liNode), liNode);\n            event.preventDefault();\n          } else if (this._isDeletingBR(range)) {\n            var currentNode = this._getCurrentNodeInCell(range);\n\n            currentNode.parentNode.removeChild(currentNode.nextSibling);\n            event.preventDefault();\n          }\n        }\n        /**\n         * Append br if td or th doesn't have br as last child\n         * @param {Range} range range\n         * @private\n         */\n        ;\n\n        _proto._appendBrIfTdOrThNotHaveAsLastChild = function _appendBrIfTdOrThNotHaveAsLastChild(range) {\n          var startContainerNodeName = dom[\"a\"\n          /* default */\n          ].getNodeName(range.startContainer);\n          var tdOrTh;\n\n          if (startContainerNodeName === 'TD' || startContainerNodeName === 'TH') {\n            tdOrTh = range.startContainer;\n          } else {\n            var paths = dom[\"a\"\n            /* default */\n            ].parentsUntil(range.startContainer, 'tr');\n            tdOrTh = paths[paths.length - 1];\n          }\n\n          var nodeName = dom[\"a\"\n          /* default */\n          ].getNodeName(tdOrTh.lastChild);\n\n          if (nodeName !== 'BR' && nodeName !== 'DIV' && nodeName !== 'UL' && nodeName !== 'OL' && !isIE10And11) {\n            dom[\"a\"\n            /* default */\n            ].append(tdOrTh, '<br />');\n          }\n        }\n        /**\n         * Unwrap default block tag in table\n         * For Squire default action making abnormal behavior, remove default blocks in Table after setValue() called\n         * @private\n         */\n        ;\n\n        _proto._unwrapBlockInTable = function _unwrapBlockInTable() {\n          var blocks = dom[\"a\"\n          /* default */\n          ].findAll(this.wwe.getBody(), 'td div,th div,tr>br,td>br,th>br');\n          blocks.forEach(function (node) {\n            if (dom[\"a\"\n            /* default */\n            ].getNodeName(node) === 'BR') {\n              var parentNodeName = dom[\"a\"\n              /* default */\n              ].getNodeName(node.parentNode);\n              var isInTableCell = /TD|TH/.test(parentNodeName);\n              var isEmptyTableCell = node.parentNode.textContent.length === 0;\n              var isLastBR = node.parentNode.lastChild === node;\n\n              if (parentNodeName === 'TR' || isInTableCell && !isEmptyTableCell && isLastBR) {\n                dom[\"a\"\n                /* default */\n                ].remove(node);\n              }\n            } else {\n              dom[\"a\"\n              /* default */\n              ].unwrap(node);\n            }\n          });\n        }\n        /**\n         * Insert default block between table element\n         * @private\n         */\n        ;\n\n        _proto._insertDefaultBlockBetweenTable = function _insertDefaultBlockBetweenTable() {\n          var tables = dom[\"a\"\n          /* default */\n          ].findAll(this.wwe.getBody(), 'table');\n          tables.forEach(function (node) {\n            if (node.nextElementSibling && node.nextElementSibling.nodeName === 'TABLE') {\n              var insertedElement = document.createElement('div');\n              insertedElement.appendChild(document.createElement('br'));\n              dom[\"a\"\n              /* default */\n              ].insertAfter(insertedElement, node);\n            }\n          });\n        }\n        /**\n         * Remove table\n         * @param {Range} range range\n         * @param {Node} table table\n         * @private\n         */\n        ;\n\n        _proto._removeTable = function _removeTable(range, table) {\n          if (table.tagName === 'TABLE') {\n            this.wwe.getEditor().saveUndoState(range);\n            this.wwe.saveSelection(range);\n            dom[\"a\"\n            /* default */\n            ].remove(table);\n            this.wwe.restoreSavedSelection();\n          }\n        }\n        /**\n         * record undo state if need\n         * @param {Range} range range\n         * @private\n         */\n        ;\n\n        _proto._recordUndoStateIfNeed = function _recordUndoStateIfNeed(range) {\n          var currentCellNode = dom[\"a\"\n          /* default */\n          ].getParentUntil(range.startContainer, 'TR');\n\n          if (range.collapsed && currentCellNode && this._lastCellNode !== currentCellNode) {\n            this.wwe.getEditor().saveUndoState(range);\n            this._lastCellNode = currentCellNode;\n          }\n        }\n        /**\n         * record undo state and reset last cell node\n         * @param {Range} range range\n         * @private\n         */\n        ;\n\n        _proto._recordUndoStateAndResetCellNode = function _recordUndoStateAndResetCellNode(range) {\n          this.wwe.getEditor().saveUndoState(range);\n          this.resetLastCellNode();\n        }\n        /**\n         * Paste table data into table element\n         * @param {DocumentFragment} fragment Fragment of table element within\n         * @private\n         */\n        ;\n\n        _proto._pasteDataIntoTable = function _pasteDataIntoTable(fragment) {\n          var _this$wwe$getEditor$g = this.wwe.getEditor().getSelection(),\n              startContainer = _this$wwe$getEditor$g.startContainer;\n\n          var tableData = this._getTableDataFromTable(fragment);\n\n          var isTableCell = startContainer.nodeName === 'TD' || startContainer.nodeName === 'TH';\n          var brString = isIE10 ? '' : '<br />';\n          var anchorElement, td, tr, tdContent;\n\n          if (isTableCell) {\n            anchorElement = startContainer;\n          } else {\n            anchorElement = dom[\"a\"\n            /* default */\n            ].getParentUntilBy(startContainer, function (node) {\n              return node && (node.nodeName === 'TD' || node.nodeName === 'TH');\n            }, function (node) {\n              return !!dom[\"a\"\n              /* default */\n              ].closest(node, 'table');\n            });\n            anchorElement = anchorElement ? anchorElement.parentNode : null;\n          }\n\n          anchorElement = anchorElement ? anchorElement : startContainer.querySelector('th,td');\n          td = anchorElement;\n\n          while (tableData.length) {\n            tr = tableData.shift();\n\n            while (td && tr.length) {\n              tdContent = tr.shift();\n\n              if (tdContent.length) {\n                td.textContent = tdContent;\n              } else {\n                td.innerHTML = brString;\n              }\n\n              td = dom[\"a\"\n              /* default */\n              ].getTableCellByDirection(td, 'next');\n            }\n\n            td = dom[\"a\"\n            /* default */\n            ].getSiblingRowCellByDirection(anchorElement, 'next', false);\n            anchorElement = td;\n          }\n        }\n        /**\n         * Get array data from table element\n         * @param {DocumentFragment} fragment table element\n         * @returns {Array}\n         * @private\n         */\n        ;\n\n        _proto._getTableDataFromTable = function _getTableDataFromTable(fragment) {\n          var tableData = [];\n          dom[\"a\"\n          /* default */\n          ].findAll(fragment, 'tr').forEach(function (tr) {\n            var trData = [];\n            toArray_default()(tr.children).forEach(function (cell) {\n              trData.push(cell.textContent);\n            });\n\n            if (trData.length) {\n              tableData.push(trData);\n            }\n          });\n          return tableData;\n        }\n        /**\n         * Remove selected table contents\n         * @param {HTMLElement} selectedCells Selected cells\n         * @private\n         */\n        ;\n\n        _proto._removeTableContents = function _removeTableContents(selectedCells) {\n          this.wwe.getEditor().saveUndoState();\n          toArray_default()(selectedCells).forEach(function (cell) {\n            var brHTMLString = isIE10 ? '' : '<br />';\n            cell.innerHTML = brHTMLString;\n          });\n        }\n        /**\n         * Wrap dangling table cells with new TR\n         * @param {HTMLElement} container - clipboard container\n         * @returns {HTMLElement|null}\n         */\n        ;\n\n        _proto.wrapDanglingTableCellsIntoTrIfNeed = function wrapDanglingTableCellsIntoTrIfNeed(container) {\n          var danglingTableCells = dom[\"a\"\n          /* default */\n          ].children(container, 'td,th');\n          var tr;\n\n          if (danglingTableCells.length) {\n            var wrapperTr = document.createElement('tr');\n            toArray_default()(danglingTableCells).forEach(function (cell) {\n              dom[\"a\"\n              /* default */\n              ].append(wrapperTr, cell);\n            });\n            tr = wrapperTr;\n          }\n\n          return tr;\n        }\n        /**\n         * Wrap TRs with new TBODY\n         * @param {HTMLElement} container - clipboard container\n         * @returns {HTMLElement|null}\n         */\n        ;\n\n        _proto.wrapTrsIntoTbodyIfNeed = function wrapTrsIntoTbodyIfNeed(container) {\n          var danglingTrs = dom[\"a\"\n          /* default */\n          ].children(container, 'tr');\n          var ths = [];\n          toArray_default()(danglingTrs).forEach(function (tr) {\n            ths = ths.concat(tr.querySelectorAll('th'));\n          });\n          var tbody;\n\n          if (ths.length) {\n            toArray_default()(ths).forEach(function (node) {\n              var td = document.createElement('td');\n              td.innerHTML = node.innerHTML;\n              dom[\"a\"\n              /* default */\n              ].insertBefore(node, td);\n              dom[\"a\"\n              /* default */\n              ].remove(node);\n            });\n          }\n\n          if (danglingTrs.length) {\n            var wrapperTableBody = document.createElement('tbody');\n            toArray_default()(danglingTrs).forEach(function (tr) {\n              dom[\"a\"\n              /* default */\n              ].append(wrapperTableBody, tr);\n            });\n            tbody = wrapperTableBody;\n          }\n\n          return tbody;\n        }\n        /**\n         * Wrap THEAD followed by TBODY both into Table\n         * @param {HTMLElement} container - clipboard container\n         * @returns {HTMLElement|null}\n         */\n        ;\n\n        _proto.wrapTheadAndTbodyIntoTableIfNeed = function wrapTheadAndTbodyIntoTableIfNeed(container) {\n          var danglingThead = dom[\"a\"\n          /* default */\n          ].children(container, 'thead');\n          var danglingTbody = dom[\"a\"\n          /* default */\n          ].children(container, 'tbody');\n          var wrapperTable = document.createElement('table');\n          var table;\n\n          if (!danglingTbody.length && danglingThead.length) {\n            dom[\"a\"\n            /* default */\n            ].append(wrapperTable, danglingThead[0]);\n            dom[\"a\"\n            /* default */\n            ].append(wrapperTable, this._createTheadOrTboday('tbody'));\n            table = wrapperTable;\n          } else if (danglingTbody.length && !danglingThead.length) {\n            dom[\"a\"\n            /* default */\n            ].append(wrapperTable, this._createTheadOrTboday('thead'));\n            dom[\"a\"\n            /* default */\n            ].append(wrapperTable, danglingTbody[0]);\n            table = wrapperTable;\n          } else if (danglingTbody.length && danglingThead.length) {\n            dom[\"a\"\n            /* default */\n            ].append(wrapperTable, danglingThead[0]);\n            dom[\"a\"\n            /* default */\n            ].append(wrapperTable, danglingTbody[0]);\n            table = wrapperTable;\n          }\n\n          return table;\n        }\n        /**\n         * Whether pasting element is table element\n         * @param {string} pastingNodeName Pasting node name\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.isTableOrSubTableElement = function isTableOrSubTableElement(pastingNodeName) {\n          return pastingNodeName === 'TABLE' || pastingNodeName === 'TBODY' || pastingNodeName === 'THEAD' || pastingNodeName === 'TR' || pastingNodeName === 'TD';\n        };\n\n        _proto._createTheadOrTboday = function _createTheadOrTboday(type) {\n          var theadOrTbody = document.createElement(type);\n          var tr = document.createElement('tr');\n          theadOrTbody.appendChild(tr);\n          return theadOrTbody;\n        }\n        /**\n         * Stuff table cells into incomplete rows\n         * @param {HTMLElement} trs HTMLElement wrapped TRs\n         * @param {number} maximumCellLength maximum cell length of table\n         * @private\n         */\n        ;\n\n        _proto._stuffTableCellsIntoIncompleteRow = function _stuffTableCellsIntoIncompleteRow(trs, maximumCellLength) {\n          toArray_default()(trs).forEach(function (row) {\n            var tableCells = row.querySelectorAll('th,td');\n            var parentNodeName = dom[\"a\"\n            /* default */\n            ].getNodeName(row.parentNode);\n            var cellTagName = parentNodeName === 'THEAD' ? 'th' : 'td';\n\n            for (var cellLength = tableCells.length; cellLength < maximumCellLength; cellLength += 1) {\n              dom[\"a\"\n              /* default */\n              ].append(row, tableCellGenerator(1, cellTagName));\n            }\n          });\n        }\n        /**\n         * Prepare to table cell stuffing\n         * @param {HTMLElement} trs wrapped TRs\n         * @returns {{maximumCellLength: *, needTableCellStuffingAid: boolean}}\n         */\n        ;\n\n        _proto.prepareToTableCellStuffing = function prepareToTableCellStuffing(trs) {\n          var maximumCellLength = trs[0].querySelectorAll('th,td').length;\n          var needTableCellStuffingAid = false;\n          toArray_default()(trs).forEach(function (row) {\n            var cellCount = row.querySelectorAll('th,td').length;\n\n            if (maximumCellLength !== cellCount) {\n              needTableCellStuffingAid = true;\n\n              if (maximumCellLength < cellCount) {\n                maximumCellLength = cellCount;\n              }\n            }\n          });\n          return {\n            maximumCellLength: maximumCellLength,\n            needTableCellStuffingAid: needTableCellStuffingAid\n          };\n        }\n        /**\n         * Add TBODY or THEAD if need\n         * @param {HTMLElement} table - Table HTMLElement element\n         * @private\n         */\n        ;\n\n        _proto._addTbodyOrTheadIfNeed = function _addTbodyOrTheadIfNeed(table) {\n          var isTheadNotExists = !table.querySelector('thead');\n          var isTbodyNotExists = !table.querySelector('tbody');\n\n          if (isTheadNotExists) {\n            dom[\"a\"\n            /* default */\n            ].prepend(table, '<thead><tr></tr></thead>');\n          } else if (isTbodyNotExists) {\n            dom[\"a\"\n            /* default */\n            ].append(table, '<tbody><tr></tr></tbody>');\n          }\n        }\n        /**\n         * Append table cells\n         * @param {HTMLElement} table Table element\n         */\n        ;\n\n        _proto.tableCellAppendAidForTableElement = function tableCellAppendAidForTableElement(table) {\n          this._addTbodyOrTheadIfNeed(table);\n\n          this._addTrIntoContainerIfNeed(table);\n\n          var trs = table.querySelectorAll('tr');\n          var tableAidInformation = this.prepareToTableCellStuffing(trs);\n          var maximumCellLength = tableAidInformation.maximumCellLength,\n              needTableCellStuffingAid = tableAidInformation.needTableCellStuffingAid;\n\n          if (needTableCellStuffingAid) {\n            this._stuffTableCellsIntoIncompleteRow(trs, maximumCellLength);\n          }\n        }\n        /**\n         * Generate THEAD and append TDs with same amount of given TBODY\n         * @param {HTMLElement} node TR element\n         * @returns {{thead: HTMLElement, tbody: HTMLElement}}\n         * @private\n         */\n        ;\n\n        _proto._generateTheadAndTbodyFromTbody = function _generateTheadAndTbodyFromTbody(node) {\n          var tr = document.createElement('tr');\n          var thead = document.createElement('thead');\n          dom[\"a\"\n          /* default */\n          ].append(tr, tableCellGenerator(node.querySelector('tr > td').length, 'th'));\n          dom[\"a\"\n          /* default */\n          ].append(thead, tr);\n          return {\n            thead: thead,\n            tbody: node\n          };\n        }\n        /**\n         * Generate TBODY and append TDs with same amount of given THEAD\n         * @param {HTMLElement} node TR element\n         * @returns {{thead: HTMLElement, tbody: HTMLElement}}\n         * @private\n         */\n        ;\n\n        _proto._generateTheadAndTbodyFromThead = function _generateTheadAndTbodyFromThead(node) {\n          var tr = document.createElement('tr');\n          var tbody = document.createElement('tbody');\n          dom[\"a\"\n          /* default */\n          ].append(tr, tableCellGenerator(node.querySelectorAll('th').length, 'td'));\n          dom[\"a\"\n          /* default */\n          ].append(tbody, tr);\n          return {\n            thead: node,\n            tbody: tbody\n          };\n        }\n        /**\n         * Generate THEAD and TBODY and append given TR within\n         * @param {HTMLElement} node TR element\n         * @returns {{thead: HTMLElement, tbody: HTMLElement}}\n         * @private\n         */\n        ;\n\n        _proto._generateTheadAndTbodyFromTr = function _generateTheadAndTbodyFromTr(node) {\n          var thead = document.createElement('thead');\n          var tbody = document.createElement('tbody');\n          var theadRow, tbodyRow;\n\n          if (node.children[0].tagName === 'TH') {\n            theadRow = node;\n            tbodyRow = dom[\"a\"\n            /* default */\n            ].createElementWith(\"<tr>\" + tableCellGenerator(node.querySelectorAll('th').length, 'td') + \"</tr>\");\n          } else {\n            theadRow = dom[\"a\"\n            /* default */\n            ].createElementWith(\"<tr>\" + tableCellGenerator(node.querySelectorAll('td').length, 'th') + \"</tr>\");\n            tbodyRow = node;\n          }\n\n          dom[\"a\"\n          /* default */\n          ].append(thead, theadRow);\n          dom[\"a\"\n          /* default */\n          ].append(tbody, tbodyRow);\n          return {\n            thead: thead,\n            tbody: tbody\n          };\n        }\n        /**\n         * Complete passed table\n         * @param {HTMLElement} node - Table inner element\n         * @private\n         */\n        ;\n\n        _proto._completeIncompleteTable = function _completeIncompleteTable(node) {\n          var nodeName = node.tagName;\n          var table, completedTableContents;\n\n          if (nodeName === 'TABLE') {\n            table = node;\n          } else {\n            table = document.createElement('table');\n            node.parentNode.insertBefore(table, node.nextSibling);\n\n            if (nodeName === 'TBODY') {\n              completedTableContents = this._generateTheadAndTbodyFromTbody(node);\n            } else if (nodeName === 'THEAD') {\n              completedTableContents = this._generateTheadAndTbodyFromThead(node);\n            } else if (nodeName === 'TR') {\n              completedTableContents = this._generateTheadAndTbodyFromTr(node);\n            }\n\n            table.appendChild(completedTableContents.thead);\n            table.appendChild(completedTableContents.tbody);\n          }\n\n          this._removeEmptyRows(table);\n\n          this.tableCellAppendAidForTableElement(table);\n        };\n\n        _proto._removeEmptyRows = function _removeEmptyRows(table) {\n          dom[\"a\"\n          /* default */\n          ].findAll(table, 'tr').forEach(function (tr) {\n            if (!tr.cells.length) {\n              tr.parentNode.removeChild(tr);\n            }\n          });\n        }\n        /**\n         * Whole editor body searching incomplete table completion\n         * @private\n         */\n        ;\n\n        _proto._completeTableIfNeed = function _completeTableIfNeed() {\n          var _this4 = this;\n\n          var body = this.wwe.getEditor().getBody();\n          toArray_default()(body.children).forEach(function (node) {\n            if (!_this4.isTableOrSubTableElement(node.nodeName)) {\n              return;\n            }\n\n            if (node.nodeName === 'TABLE' && !node.querySelector('tbody')) {\n              dom[\"a\"\n              /* default */\n              ].remove(node);\n            } else {\n              _this4._completeIncompleteTable(node);\n            }\n          });\n        }\n        /**\n         * Reset _lastCellNode to null\n         */\n        ;\n\n        _proto.resetLastCellNode = function resetLastCellNode() {\n          this._lastCellNode = null;\n        }\n        /**\n         * Set _lastCellNode to given node\n         * @param {HTMLElement} node Table cell\n         */\n        ;\n\n        _proto.setLastCellNode = function setLastCellNode(node) {\n          this._lastCellNode = node;\n        }\n        /**\n         * Return whether only modifier key pressed or not\n         * @param {string} keymap Pressed keymap string\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isModifierKey = function _isModifierKey(keymap) {\n          return /((META|SHIFT|ALT|CONTROL)\\+?)/g.test(keymap);\n        }\n        /**\n         * Return whether modifier keys pressed or not\n         * @param {object} ev keyboard event object\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isModifierKeyPushed = function _isModifierKeyPushed(ev) {\n          return ev.metaKey || ev.ctrlKey || ev.altKey || ev.shiftKey;\n        }\n        /**\n         * Add one row into empty TBODY\n         * @param {HTMLElement} table Currently processing table\n         * @private\n         */\n        ;\n\n        _proto._addTrIntoContainerIfNeed = function _addTrIntoContainerIfNeed(table) {\n          toArray_default()(table.children).forEach(function (container) {\n            var hasNoRows = container.querySelectorAll('tr').length === 0;\n\n            if (hasNoRows) {\n              dom[\"a\"\n              /* default */\n              ].append(container, '<tr></tr>');\n            }\n          });\n        };\n\n        _proto._expandTableIfNeed = function _expandTableIfNeed(fragment) {\n          var range = this.wwe.getEditor().getSelection().cloneRange();\n\n          var _domUtils$parents = dom[\"a\"\n          /* default */\n          ].parents(range.startContainer, 'table'),\n              table = _domUtils$parents[0];\n\n          var difference = this._getColumnAndRowDifference(fragment, range);\n\n          if (difference.column < 0) {\n            this._appendCellForAllRow(table, difference.column);\n          }\n\n          if (difference.row < 0) {\n            this._appendRow(table, difference.row);\n          }\n        };\n\n        _proto._getColumnAndRowDifference = function _getColumnAndRowDifference(fragment, range) {\n          var tableData = this._getTableDataFromTable(fragment);\n\n          var rowLength = tableData.length;\n          var columnLength = tableData[0].length;\n          var currentCell = dom[\"a\"\n          /* default */\n          ].closest(range.startContainer, 'th,td');\n          var currentRow = currentCell.parentNode;\n          var currentColumnIndex = dom[\"a\"\n          /* default */\n          ].getNodeOffsetOfParent(currentCell);\n          var currentRowIndex = dom[\"a\"\n          /* default */\n          ].getNodeOffsetOfParent(currentCell.parentNode);\n          var table = dom[\"a\"\n          /* default */\n          ].parents(currentRow, 'table');\n          var tableColumnLength = table.querySelector('tr').children.length;\n          var tableRowLength = table.querySelectorAll('tr').length;\n          var isInTbody = !!dom[\"a\"\n          /* default */\n          ].parents(currentRow, 'tbody').length;\n\n          if (isInTbody) {\n            currentRowIndex += 1;\n          }\n\n          return {\n            row: tableRowLength - (currentRowIndex + rowLength),\n            column: tableColumnLength - (currentColumnIndex + columnLength)\n          };\n        };\n\n        _proto._appendCellForAllRow = function _appendCellForAllRow(table, columnDifference) {\n          var brString = isIE10 ? '' : '<br />';\n          dom[\"a\"\n          /* default */\n          ].findAll(table, 'tr').forEach(function (row, i) {\n            var tagName;\n\n            for (var index = columnDifference; index < 0; index += 1) {\n              if (i === 0) {\n                tagName = 'th';\n              } else {\n                tagName = 'td';\n              }\n\n              dom[\"a\"\n              /* default */\n              ].append(row, \"<\" + tagName + \">\" + brString + \"</\" + tagName + \">\");\n            }\n          });\n        };\n\n        _proto._appendRow = function _appendRow(table, rowDifference) {\n          var trs = table.querySelectorAll('tr');\n          var newRow = trs[trs.length - 1].cloneNode();\n          var brHTMLSting = isIE10 ? '' : '<br />';\n          dom[\"a\"\n          /* default */\n          ].findAll(newRow, 'td').forEach(function (td) {\n            td.innerHTML = brHTMLSting;\n          });\n\n          for (; rowDifference < 0; rowDifference += 1) {\n            dom[\"a\"\n            /* default */\n            ].append(table.querySelector('tbody'), newRow.cloneNode());\n          }\n        }\n        /**\n         * Change selection to sibling cell\n         * @param {HTMLElement} currentCell current TD or TH\n         * @param {Range} range Range object\n         * @param {string} direction 'next' or 'previous'\n         * @param {string} scale 'row' or 'cell'\n         * @private\n         */\n        ;\n\n        _proto._changeSelectionToTargetCell = function _changeSelectionToTargetCell(currentCell, range, direction, scale) {\n          var isNext = direction === 'next';\n          var isRow = scale === 'row';\n          var target;\n\n          if (isRow) {\n            target = dom[\"a\"\n            /* default */\n            ].getSiblingRowCellByDirection(currentCell, direction, false);\n          } else {\n            target = dom[\"a\"\n            /* default */\n            ].getTableCellByDirection(currentCell, direction);\n\n            if (!target) {\n              target = dom[\"a\"\n              /* default */\n              ].getSiblingRowCellByDirection(currentCell, direction, true);\n            }\n          }\n\n          if (target) {\n            if (isRow && !isNext) {\n              this._moveToCursorEndOfCell(target, range);\n            } else {\n              range.setStart(target, 0);\n            }\n\n            range.collapse(true);\n          } else {\n            var _domUtils$parents2 = dom[\"a\"\n            /* default */\n            ].parents(currentCell, 'table');\n\n            target = _domUtils$parents2[0];\n\n            if (isNext) {\n              range.setStart(target.nextElementSibling, 0);\n            } else if (target.previousElementSibling && target.previousElementSibling.nodeName !== 'TABLE') {\n              range.setStart(target.previousElementSibling, 1);\n            } else {\n              range.setStartBefore(target);\n            }\n\n            range.collapse(true);\n          }\n        };\n\n        _proto._moveToCursorEndOfCell = function _moveToCursorEndOfCell(cell, range) {\n          var lastListItem;\n\n          if (dom[\"a\"\n          /* default */\n          ].isListNode(cell.lastChild)) {\n            lastListItem = dom[\"a\"\n            /* default */\n            ].getLastNodeBy(cell.lastChild, function (lastNode) {\n              return lastNode.nodeName !== 'LI' || lastNode.nextSibling !== null;\n            });\n          }\n\n          var lastText = dom[\"a\"\n          /* default */\n          ].getLastNodeBy(lastListItem || cell, function (node) {\n            return !dom[\"a\"\n            /* default */\n            ].isTextNode(node);\n          });\n          var lastNode = lastText || lastListItem || cell;\n          var offset = lastText ? lastText.length : lastNode.childNodes.length - 1;\n          range.setStart(lastNode, offset);\n        }\n        /**\n         * Move cursor to given direction by interval formatter\n         * @param {string} direction 'next' or 'previous'\n         * @param {string} interval 'row' or 'cell'\n         * @param {object} [ev] Event object\n         * @returns {boolean | null}\n         * @private\n         */\n        ;\n\n        _proto._moveCursorTo = function _moveCursorTo(direction, interval, ev) {\n          var sq = this.wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n          var currentCell = dom[\"a\"\n          /* default */\n          ].closest(range.startContainer, 'td,th');\n          var isNeedNext;\n\n          if (range.collapsed && this.wwe.isInTable(range) && currentCell) {\n            if (interval === 'row' && !this._isMovedCursorToRow(range, direction)) {\n              return isNeedNext;\n            }\n\n            if ((direction === 'previous' || interval === 'row') && !isUndefined_default()(ev)) {\n              ev.preventDefault();\n            }\n\n            this._changeSelectionToTargetCell(currentCell, range, direction, interval);\n\n            sq.setSelection(range);\n            isNeedNext = false;\n          }\n\n          return isNeedNext;\n        };\n\n        _proto._isMovedCursorToRow = function _isMovedCursorToRow(range, direction) {\n          var startContainer = range.startContainer;\n\n          if (this._isInList(startContainer)) {\n            return this._isMovedCursorFromListToRow(startContainer, direction);\n          }\n\n          return this._isMovedCursorFromTextToRow(range, direction);\n        };\n\n        _proto._isMovedCursorFromListToRow = function _isMovedCursorFromListToRow(startContainer, direction) {\n          var directionKey = direction + \"Sibling\";\n\n          var listItem = this._findListItem(startContainer);\n\n          var parentOfListItem = dom[\"a\"\n          /* default */\n          ].getParentNodeBy(listItem, function (parentNode, currentNode) {\n            var firstOrLastItem = currentNode[directionKey] === null && parentNode[directionKey] === null;\n            return !dom[\"a\"\n            /* default */\n            ].isCellNode(parentNode) && firstOrLastItem;\n          });\n          var firstOrLastList = dom[\"a\"\n          /* default */\n          ].isListNode(parentOfListItem) && parentOfListItem[directionKey] === null;\n          return dom[\"a\"\n          /* default */\n          ].isCellNode(parentOfListItem.parentNode) && firstOrLastList;\n        };\n\n        _proto._isMovedCursorFromTextToRow = function _isMovedCursorFromTextToRow(range, direction) {\n          var startContainer = range.startContainer,\n              startOffset = range.startOffset;\n          var text = dom[\"a\"\n          /* default */\n          ].isCellNode(startContainer) ? startContainer.childNodes[startOffset] : startContainer;\n          var parentOfStyledText = dom[\"a\"\n          /* default */\n          ].getParentNodeBy(text, function (parentNode) {\n            return !dom[\"a\"\n            /* default */\n            ].isCellNode(parentNode) && !dom[\"a\"\n            /* default */\n            ].isTextNode(parentNode);\n          });\n          var foundSiblingNode = dom[\"a\"\n          /* default */\n          ].getSiblingNodeBy(parentOfStyledText, direction, function (siblingNode) {\n            return siblingNode !== null && siblingNode.nodeName !== 'BR';\n          });\n          return foundSiblingNode && foundSiblingNode[direction + \"Sibling\"] === null;\n        }\n        /**\n         * Remove contents and change selection if need\n         * @param {Range} range - Range object\n         * @param {string} keymap - keymap\n         * @param {object} ev - Event object\n         * @returns {boolean} - true if contents has been removed\n         * @private\n         */\n        ;\n\n        _proto._removeContentsAndChangeSelectionIfNeed = function _removeContentsAndChangeSelectionIfNeed(range, keymap, ev) {\n          var isTextInput = keymap.length <= 1;\n          var isDeleteOperation = keymap === 'BACK_SPACE' || keymap === 'DELETE';\n          var selectedCells = this.wwe.componentManager.getManager('tableSelection').getSelectedCells();\n          var firstSelectedCell = selectedCells[0];\n          var processed = false;\n\n          if ((isTextInput || isDeleteOperation) && !this._isModifierKeyPushed(ev) && selectedCells.length) {\n            if (isDeleteOperation) {\n              this._recordUndoStateIfNeed(range);\n            }\n\n            this._removeTableContents(selectedCells);\n\n            this._lastCellNode = firstSelectedCell;\n            range.setStart(firstSelectedCell, 0);\n            range.collapse(true);\n            this.wwe.getEditor().setSelection(range);\n            processed = true;\n          }\n\n          return processed;\n        }\n        /**\n         * Return new table ID class name string\n         * @returns {string}\n         */\n        ;\n\n        _proto.getTableIDClassName = function getTableIDClassName() {\n          var tableClassName = TABLE_CLASS_PREFIX + this.tableID;\n          this.tableID += 1;\n          return tableClassName;\n        }\n        /**\n         * Destroy.\n         */\n        ;\n\n        _proto.destroy = function destroy() {\n          var _this5 = this;\n\n          this.eventManager.removeEventHandler('wysiwygRangeChangeAfter.table');\n          this.eventManager.removeEventHandler('wysiwygSetValueAfter.table');\n          this.eventManager.removeEventHandler('wysiwygProcessHTMLText.table');\n          this.eventManager.removeEventHandler('cut.table');\n          this.eventManager.removeEventHandler('copyBefore.table');\n          forEachOwnProperties_default()(this.keyEventHandlers, function (handler, key) {\n            return _this5.wwe.removeKeyEventHandler(key, handler);\n          });\n        };\n\n        return WwTableManager;\n      }();\n      /**\n       * Generate table cell HTML text\n       * @param {number} amount Amount of cells\n       * @param {string} tagName Tag name of cell 'td' or 'th'\n       * @private\n       * @returns {string}\n       */\n\n\n      function tableCellGenerator(amount, tagName) {\n        var brHTMLString = '<br />';\n        var cellString = \"<\" + tagName + \">\" + brHTMLString + \"</\" + tagName + \">\";\n        var tdString = '';\n\n        for (var i = 0; i < amount; i += 1) {\n          tdString = tdString + cellString;\n        }\n\n        return tdString;\n      }\n      /* harmony default export */\n\n\n      var wwTableManager = wwTableManager_WwTableManager; // CONCATENATED MODULE: ./src/js/wwTableSelectionManager.js\n\n      /**\n       * @fileoverview Implements wysiwyg table selection manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME = 'te-cell-selected';\n      /**\n       * Class WwTableSelectionManager\n       * @param {WysiwygEditor} wwe - WysiwygEditor instance\n       * @ignore\n       */\n\n      var wwTableSelectionManager_WwTableSelectionManager = /*#__PURE__*/function () {\n        function WwTableSelectionManager(wwe) {\n          this.wwe = wwe;\n          this.eventManager = wwe.eventManager;\n          /**\n           * Name property\n           * @type {string}\n           */\n\n          this.name = 'tableSelection';\n\n          this._init();\n        }\n        /**\n         * Initialize\n         * @private\n         */\n\n\n        var _proto = WwTableSelectionManager.prototype;\n\n        _proto._init = function _init() {\n          this._initEvent(); // For disable firefox's table tool UI and table resize handler\n\n\n          if (browser_default.a.firefox) {\n            document.execCommand('enableObjectResizing', false, 'false');\n            document.execCommand('enableInlineTableEditing', false, 'false');\n          }\n        }\n        /**\n         * Initialize event\n         * @private\n         */\n        ;\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          var selectionStart, selectionEnd, validSelectionEnd;\n          /**\n           * Start table selection timer\n           * @type {object}\n           * @private\n           */\n\n          this._tableSelectionTimer = null;\n          /**\n           * Remove selection timer for Firefox table selection\n           * @type {object}\n           * @private\n           */\n\n          this._removeSelectionTimer = null;\n          /**\n           * Boolean value for whether selection started\n           * @type {boolean}\n           * @private\n           */\n\n          this._isSelectionStarted = false;\n\n          var onMouseover = function onMouseover(ev) {\n            selectionEnd = dom[\"a\"\n            /* default */\n            ].closest(ev.data.target, '[contenteditable=true] td,th');\n\n            var range = _this.wwe.getEditor().getSelection();\n\n            var isEndsInTable = dom[\"a\"\n            /* default */\n            ].parents(selectionEnd, '[contenteditable=true] table');\n            var isSameCell = selectionStart === selectionEnd;\n            var isTextSelect = _this._isTextSelect(range, isSameCell) && !hasClass_default()(selectionStart, wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME);\n\n            if (_this._isSelectionStarted && isEndsInTable && !isTextSelect) {\n              window.getSelection().removeAllRanges(); // For disable firefox's native table cell selection\n\n              if (browser_default.a.firefox && !_this._removeSelectionTimer) {\n                _this._removeSelectionTimer = setInterval(function () {\n                  window.getSelection().removeAllRanges();\n                }, 10);\n              }\n\n              _this.highlightTableCellsBy(selectionStart, selectionEnd);\n\n              validSelectionEnd = selectionEnd;\n            }\n          };\n\n          var finishSelection = function finishSelection() {\n            if (_this._isSelectionStarted) {\n              _this._isSelectionStarted = false;\n\n              _this.eventManager.removeEventHandler('mouseover.tableSelection');\n\n              _this.eventManager.removeEventHandler('mouseup.tableSelection');\n            }\n          };\n\n          var onMouseup = function onMouseup(ev) {\n            selectionEnd = dom[\"a\"\n            /* default */\n            ].closest(ev.data.target, '[contenteditable=true] td,th');\n\n            var range = _this.wwe.getEditor().getSelection();\n\n            var isSameCell = selectionStart === selectionEnd;\n            var isTextSelect = _this._isTextSelect(range, isSameCell) && !hasClass_default()(selectionStart, wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME);\n\n            _this._clearTableSelectionTimerIfNeed();\n\n            if (_this._isSelectionStarted) {\n              if (isTextSelect || _this._isListSelect(range)) {\n                _this.removeClassAttrbuteFromAllCellsIfNeed();\n              } else {\n                _this.wwe.componentManager.getManager('table').resetLastCellNode();\n\n                selectionEnd = selectionEnd || validSelectionEnd;\n                range = _this.wwe.getEditor().getSelection();\n                range.setStart(selectionEnd, 0); // IE wont fire copy/cut event if there is no selected range.\n                // trick IE to fire the event\n\n                if (browser_default.a.msie) {\n                  range.setEnd(selectionEnd, 1);\n                } else {\n                  range.setEnd(selectionEnd, 0);\n                  range.collapse(false);\n                }\n\n                _this.wwe.getEditor().setSelection(range);\n              }\n\n              if (_this.onDragEnd) {\n                _this.onDragEnd();\n              }\n            }\n\n            finishSelection();\n          };\n\n          var onMousedown = function onMousedown(ev) {\n            var MOUSE_RIGHT_BUTTON = 2;\n            selectionStart = dom[\"a\"\n            /* default */\n            ].closest(ev.data.target, '[contenteditable=true] td,th');\n            var isSelectedCell = !!selectionStart && hasClass_default()(selectionStart, wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME);\n            selectionEnd = null;\n\n            if (!isSelectedCell || isSelectedCell && ev.data.button !== MOUSE_RIGHT_BUTTON) {\n              _this.removeClassAttrbuteFromAllCellsIfNeed();\n\n              if (selectionStart) {\n                _this.setTableSelectionTimerIfNeed(selectionStart);\n\n                _this.eventManager.listen('mouseover.tableSelection', onMouseover);\n\n                _this.eventManager.listen('mouseup.tableSelection', onMouseup);\n\n                if (_this.onDragStart) {\n                  _this.onDragStart(selectionStart);\n                }\n              }\n            } else if (ev.data.button === MOUSE_RIGHT_BUTTON) {\n              finishSelection();\n            }\n          };\n\n          this.eventManager.listen('mousedown.tableSelection', onMousedown);\n          this.eventManager.listen('copyBefore.tableSelection', finishSelection);\n          this.eventManager.listen('pasteBefore.tableSelection', finishSelection);\n        }\n        /**\n         * Return whether single cell text selection or not\n         * @param {Range} range Range object\n         * @param {boolean} isSameCell Boolean value for same cell selection\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isTextSelect = function _isTextSelect(range, isSameCell) {\n          return /TD|TH|TEXT/i.test(range.commonAncestorContainer.nodeName) && isSameCell;\n        }\n        /**\n         * Return whether list selection or not\n         * @param {Range} range Range object\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isListSelect = function _isListSelect(range) {\n          return /UL|OL|LI/i.test(range.commonAncestorContainer.nodeName);\n        }\n        /**\n         * Set setTimeout and setInterval timer execution if table selecting situation\n         * @param {HTMLElement} selectionStart Start element\n         */\n        ;\n\n        _proto.setTableSelectionTimerIfNeed = function setTableSelectionTimerIfNeed(selectionStart) {\n          var isTableSelecting = dom[\"a\"\n          /* default */\n          ].parents(selectionStart, '[contenteditable=true] table').length;\n\n          if (isTableSelecting) {\n            this._isSelectionStarted = true;\n          }\n        }\n        /**\n         * Clear setTimeout and setInterval timer execution\n         * @private\n         */\n        ;\n\n        _proto._clearTableSelectionTimerIfNeed = function _clearTableSelectionTimerIfNeed() {\n          clearTimeout(this._tableSelectionTimer); // For disable firefox's native table selection\n\n          if (browser_default.a.firefox && this._removeSelectionTimer) {\n            clearTimeout(this._removeSelectionTimer);\n            this._removeSelectionTimer = null;\n          }\n        }\n        /**\n         * Re arrange selection when table does not include both start and end selection element\n         * @param {HTMLElement} selectionStart Start element of selection\n         * @param {HTMLElement} selectionEnd End element of selection\n         * @returns {{startContainer: HTMLElement, endContainer: HTMLElement}}\n         * @private\n         */\n        ;\n\n        _proto._reArrangeSelectionIfneed = function _reArrangeSelectionIfneed(selectionStart, selectionEnd) {\n          var isRangeStartInTable = dom[\"a\"\n          /* default */\n          ].parents(selectionStart, '[contenteditable=true] table').length;\n          var isRangeEndInTable = dom[\"a\"\n          /* default */\n          ].parents(selectionEnd, '[contenteditable=true] table').length;\n          var isStartRangeOut = isRangeEndInTable && !isRangeStartInTable;\n          var isEndRangeOut = !isRangeEndInTable && isRangeStartInTable;\n          var table;\n\n          if (isStartRangeOut) {\n            var _domUtils$parents = dom[\"a\"\n            /* default */\n            ].parents(selectionEnd, '[contenteditable=true] table');\n\n            table = _domUtils$parents[0];\n\n            var _table$querySelectorA = table.querySelectorAll('th');\n\n            selectionStart = _table$querySelectorA[0];\n          } else if (isEndRangeOut) {\n            var _domUtils$parents2 = dom[\"a\"\n            /* default */\n            ].parents(selectionStart, '[contenteditable=true] table');\n\n            table = _domUtils$parents2[0];\n            var tds = table.querySelectorAll('td');\n            selectionEnd = tds[tds.length - 1];\n          }\n\n          return {\n            startContainer: selectionStart,\n            endContainer: selectionEnd\n          };\n        }\n        /**\n         * Apply select direction to editor\n         * @param {{startContainer: HTMLElement, endContainer: HTMLElement}} selectionInformation\n         *     Selection start and end element\n         * @param {Range} range Range object\n         * @returns {Range}\n         * @private\n         */\n        ;\n\n        _proto._applySelectionDirection = function _applySelectionDirection(selectionInformation, range) {\n          var nodeOffsetOfParent = dom[\"a\"\n          /* default */\n          ].getNodeOffsetOfParent;\n          var selectionStart = selectionInformation.startContainer;\n          var selectionEnd = selectionInformation.endContainer;\n          var rowDirection = nodeOffsetOfParent(dom[\"a\"\n          /* default */\n          ].closest(selectionStart, '[contenteditable=true] tr')) - nodeOffsetOfParent(dom[\"a\"\n          /* default */\n          ].closest(selectionEnd, '[contenteditable=true] tr'));\n          var cellDirection = nodeOffsetOfParent(selectionStart) - nodeOffsetOfParent(selectionEnd);\n          var isSameRow = rowDirection === 0;\n          var isRowIncreases = rowDirection < 0;\n          var isColumnIncreases = cellDirection > 0;\n\n          if (isSameRow) {\n            if (isColumnIncreases) {\n              range.setStart(selectionEnd, 0);\n              range.setEnd(selectionStart, 1);\n            } else {\n              range.setStart(selectionStart, 0);\n              range.setEnd(selectionEnd, 1);\n            }\n          } else if (isRowIncreases) {\n            range.setStart(selectionStart, 0);\n            range.setEnd(selectionEnd, 1);\n          } else {\n            range.setStart(selectionEnd, 0);\n            range.setEnd(selectionStart, 1);\n          }\n\n          return range;\n        }\n        /**\n         * Get selection coordinate by current selection\n         * @param {HTMLElement} selectionStart start element\n         * @param {HTMLElement} selectionEnd end element\n         * @returns {{from: {row: number, cell: number}, to: {row: number, cell: number}}}\n         */\n        ;\n\n        _proto.getSelectionRangeFromTable = function getSelectionRangeFromTable(selectionStart, selectionEnd) {\n          var nodeOffsetOfParent = dom[\"a\"\n          /* default */\n          ].getNodeOffsetOfParent;\n          var startRowOffset = nodeOffsetOfParent(selectionStart.parentNode);\n          var endRowOffset = nodeOffsetOfParent(selectionEnd.parentNode);\n          var startCellOffset = nodeOffsetOfParent(selectionStart);\n          var endCellOffset = nodeOffsetOfParent(selectionEnd);\n          var startCellContainer = dom[\"a\"\n          /* default */\n          ].getParentUntil(selectionStart, 'TABLE');\n          var endCellContainer = dom[\"a\"\n          /* default */\n          ].getParentUntil(selectionEnd, 'TABLE');\n          var isReversedTheadAndTbodySelect = dom[\"a\"\n          /* default */\n          ].getNodeName(startCellContainer) === 'TBODY' && dom[\"a\"\n          /* default */\n          ].getNodeName(endCellContainer) === 'THEAD';\n          var isTheadAndTbodySelect = startCellContainer !== endCellContainer;\n          var isBothInTbody = !!dom[\"a\"\n          /* default */\n          ].parents(selectionStart, 'tbody').length && !!dom[\"a\"\n          /* default */\n          ].parents(selectionEnd, 'tbody').length;\n          var start = {\n            row: startRowOffset,\n            cell: startCellOffset\n          };\n          var end = {\n            row: endRowOffset,\n            cell: endCellOffset\n          };\n          var from, to;\n\n          if (isReversedTheadAndTbodySelect) {\n            start.row += 1;\n          } else if (isTheadAndTbodySelect) {\n            end.row += 1;\n          } else if (isBothInTbody) {\n            start.row += 1;\n            end.row += 1;\n          }\n\n          if (startRowOffset > endRowOffset || startRowOffset === endRowOffset && startCellOffset > endCellOffset) {\n            from = end;\n            to = start;\n          } else {\n            from = start;\n            to = end;\n          }\n\n          return {\n            from: from,\n            to: to\n          };\n        }\n        /**\n         * Highlight selected table cells\n         * @param {HTMLElement} selectionStart start element\n         * @param {HTMLElement} selectionEnd end element\n         */\n        ;\n\n        _proto.highlightTableCellsBy = function highlightTableCellsBy(selectionStart, selectionEnd) {\n          var trs = dom[\"a\"\n          /* default */\n          ].findAll(dom[\"a\"\n          /* default */\n          ].parents(selectionStart, '[contenteditable=true] table')[0], 'tr');\n          var selection = this.getSelectionRangeFromTable(selectionStart, selectionEnd);\n          var rowFrom = selection.from.row;\n          var cellFrom = selection.from.cell;\n          var rowTo = selection.to.row;\n          var cellTo = selection.to.cell;\n          trs.forEach(function (row, rowIndex) {\n            dom[\"a\"\n            /* default */\n            ].findAll(row, 'td,th').forEach(function (cell, cellIndex) {\n              var isFromRow = rowIndex === rowFrom;\n              var isToRow = rowIndex === rowTo;\n\n              if (isFromRow && cellIndex < cellFrom || isToRow && cellIndex > cellTo || rowIndex < rowFrom || rowIndex > rowTo) {\n                removeClass_default()(cell, wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME);\n              } else {\n                addClass_default()(cell, wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME);\n              }\n            });\n          });\n        }\n        /**\n         * Remove '.te-cell-selected' class from all of table Cell\n         */\n        ;\n\n        _proto.removeClassAttrbuteFromAllCellsIfNeed = function removeClassAttrbuteFromAllCellsIfNeed() {\n          var cells = dom[\"a\"\n          /* default */\n          ].findAll(this.wwe.getBody(), \"td.\" + wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME + \",th.\" + wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME);\n          cells.forEach(function (node) {\n            removeClass_default()(node, wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME);\n\n            if (!node.getAttribute('class')) {\n              node.removeAttribute('class');\n            }\n          });\n        }\n        /**\n         * gets selected cells\n         * @returns {HTMLElement} selected cells\n         */\n        ;\n\n        _proto.getSelectedCells = function getSelectedCells() {\n          return this.wwe.getBody().querySelectorAll(\".\" + wwTableSelectionManager_TABLE_CELL_SELECTED_CLASS_NAME);\n        }\n        /**\n         * Create selection by selected cells and collapse that selection to end\n         */\n        ;\n\n        _proto.createRangeBySelectedCells = function createRangeBySelectedCells() {\n          var sq = this.wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n          var selectedCells = this.getSelectedCells();\n          var firstSelectedCell = selectedCells[0];\n          var lastSelectedCell = selectedCells[selectedCells.length - 1];\n\n          if (selectedCells.length && this.wwe.isInTable(range)) {\n            range.setStart(firstSelectedCell, 0);\n            range.setEnd(lastSelectedCell, lastSelectedCell.childNodes.length);\n            sq.setSelection(range);\n          }\n        }\n        /**\n         * Style to selected cells.\n         * @param {function} onStyle - function for styling\n         * @param {Object} [options] - options to be passed into onStyle\n         */\n        ;\n\n        _proto.styleToSelectedCells = function styleToSelectedCells(onStyle, options) {\n          this.createRangeBySelectedCells();\n          onStyle(this.wwe.getEditor(), options);\n        }\n        /**\n         * Destroy.\n         */\n        ;\n\n        _proto.destroy = function destroy() {\n          this.eventManager.removeEventHandler('mousedown.tableSelection');\n          this.eventManager.removeEventHandler('mouseover.tableSelection');\n          this.eventManager.removeEventHandler('mouseup.tableSelection');\n          this.eventManager.removeEventHandler('copyBefore.tableSelection');\n          this.eventManager.removeEventHandler('pasteBefore.tableSelection');\n        };\n\n        return WwTableSelectionManager;\n      }();\n      /* harmony default export */\n\n\n      var wwTableSelectionManager = wwTableSelectionManager_WwTableSelectionManager; // CONCATENATED MODULE: ./src/js/wwHrManager.js\n\n      /**\n       * @fileoverview Implements wysiwyg hr manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class WwHrManager\n       * @param {WysiwygEditor} wwe - WysiwygEditor instance\n       * @ignore\n       */\n\n      var wwHrManager_WwHrManager = /*#__PURE__*/function () {\n        function WwHrManager(wwe) {\n          this.wwe = wwe;\n          this.eventManager = wwe.eventManager;\n          /**\n           * Name property\n           * @type {string}\n           */\n\n          this.name = 'hr';\n\n          this._init();\n        }\n        /**\n         * Initialize\n         * @private\n         */\n\n\n        var _proto = WwHrManager.prototype;\n\n        _proto._init = function _init() {\n          this._initEvent();\n        }\n        /**\n         * Initialize eventmanager event\n         * @private\n         */\n        ;\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          this.eventManager.listen('wysiwygSetValueAfter', function () {\n            _this._insertEmptyLineIfNeed();\n\n            _this._changeHRForWysiwyg();\n          });\n        }\n        /**\n         * If <hr> is frist or last child of root, insert empty line before or after HR\n         * @private\n         */\n        ;\n\n        _proto._insertEmptyLineIfNeed = function _insertEmptyLineIfNeed() {\n          var editorContentBody = this.wwe.getBody();\n          var firstChild = editorContentBody.firstChild,\n              lastChild = editorContentBody.lastChild;\n\n          if (firstChild && firstChild.nodeName === 'HR') {\n            editorContentBody.insertBefore(dom[\"a\"\n            /* default */\n            ].createEmptyLine(), firstChild);\n          } else if (lastChild && lastChild.nodeName === 'HR') {\n            editorContentBody.appendChild(dom[\"a\"\n            /* default */\n            ].createEmptyLine());\n          }\n        }\n        /**\n         * <hr> is set contenteditable to false with wrapping div like below.\n         * <div contenteditable=\"false\"><hr contenteditable=\"false\"><div>\n         * @private\n         */\n        ;\n\n        _proto._changeHRForWysiwyg = function _changeHRForWysiwyg() {\n          var editorContentBody = this.wwe.getBody();\n          dom[\"a\"\n          /* default */\n          ].findAll(editorContentBody, 'hr').forEach(function (hrNode) {\n            var parentNode = hrNode.parentNode;\n            parentNode.replaceChild(dom[\"a\"\n            /* default */\n            ].createHorizontalRule(), hrNode);\n          });\n        };\n\n        return WwHrManager;\n      }();\n      /* harmony default export */\n\n\n      var wwHrManager = wwHrManager_WwHrManager; // CONCATENATED MODULE: ./src/js/wwPManager.js\n\n      /**\n       * @fileoverview Implements wysiwyg p tag manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class WwPManager\n       * @param {WysiwygEditor} wwe - wysiwygEditor instance\n       * @ignore\n       */\n\n      var wwPManager_WwPManager = /*#__PURE__*/function () {\n        function WwPManager(wwe) {\n          this.wwe = wwe;\n          this.eventManager = wwe.eventManager;\n          /**\n           * Name property\n           * @type {string}\n           */\n\n          this.name = 'p';\n\n          this._initEvent();\n        }\n        /**\n         * Initialize event\n         * @private\n         */\n\n\n        var _proto = WwPManager.prototype;\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          this.eventManager.listen('wysiwygSetValueBefore', function (html) {\n            return _this._splitPtagContentLines(html);\n          });\n          this.eventManager.listen('wysiwygSetValueAfter', function () {\n            _this._ensurePtagContentWrappedWithDiv();\n\n            _this._unwrapPtags();\n          });\n        }\n        /**\n         * Split multiple line content of p tags\n         * @param {string} html html text\n         * @returns {string} result\n         * @private\n         */\n        ;\n\n        _proto._splitPtagContentLines = function _splitPtagContentLines(html) {\n          if (html) {\n            var wrapper = dom[\"a\"\n            /* default */\n            ].createElementWith(\"<div>\" + html + \"</div>\");\n            dom[\"a\"\n            /* default */\n            ].findAll(wrapper, 'p').forEach(function (para) {\n              var content = para.innerHTML;\n              var lines = content.split(/<br>/gi);\n              var lastIndex = lines.length - 1; // cross browsing: old browser not has nextElementSibling attribute\n\n              var nextElement = para.nextElementSibling || para.nextSibling;\n              var splitedContent = '';\n              splitedContent = lines.map(function (line, index) {\n                var result = '';\n\n                if (index > 0 && index < lastIndex) {\n                  line = line ? line : '<br>';\n                }\n\n                if (line) {\n                  result = \"<div>\" + line + \"</div>\";\n                }\n\n                return result;\n              }); // For paragraph, we add empty line\n\n              if (nextElement && nextElement.nodeName === 'P') {\n                splitedContent.push('<div><br></div>');\n              }\n\n              dom[\"a\"\n              /* default */\n              ].replaceWith(para, splitedContent.join(''));\n            });\n            html = wrapper.innerHTML;\n          }\n\n          return html;\n        }\n        /**\n         * Wrap new line inside P tag to DIV, and additional empty line added within too\n         * @private\n         */\n        ;\n\n        _proto._ensurePtagContentWrappedWithDiv = function _ensurePtagContentWrappedWithDiv() {\n          var _this2 = this;\n\n          dom[\"a\"\n          /* default */\n          ].findAll(this.wwe.getBody(), 'p').forEach(function (node) {\n            if (!node.querySelectorAll('div').length) {\n              dom[\"a\"\n              /* default */\n              ].wrapInner(node, 'div');\n            }\n\n            if (_this2._findNextParagraph(node, 'p')) {\n              dom[\"a\"\n              /* default */\n              ].append(node, '<div><br></div>');\n            }\n          });\n        }\n        /**\n         * Unwrap P tag\n         * @private\n         */\n        ;\n\n        _proto._unwrapPtags = function _unwrapPtags() {\n          dom[\"a\"\n          /* default */\n          ].findAll(this.wwe.getBody(), 'div').forEach(function (node) {\n            var parent = node.parentNode;\n\n            if (parent.tagName === 'P') {\n              dom[\"a\"\n              /* default */\n              ].unwrap(parent);\n            }\n          });\n        };\n\n        _proto._findNextParagraph = function _findNextParagraph(node, selector) {\n          var nextElementSibling = node.nextElementSibling;\n\n          if (selector) {\n            return nextElementSibling && matches_default()(nextElementSibling, selector) ? nextElementSibling : null;\n          }\n\n          return nextElementSibling;\n        };\n\n        return WwPManager;\n      }();\n      /* harmony default export */\n\n\n      var wwPManager = wwPManager_WwPManager; // CONCATENATED MODULE: ./src/js/wwHeadingManager.js\n\n      /**\n       * @fileoverview Implements wysiwyg heading manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var wwHeadingManager_FIND_HEADING_RX = /h[\\d]/i;\n      /**\n       * Class WwHeadingManager\n       * @param {WysiwygEditor} wwe - WysiwygEditor instance\n       * @ignore\n       */\n\n      var wwHeadingManager_WwHeadingManager = /*#__PURE__*/function () {\n        function WwHeadingManager(wwe) {\n          this.wwe = wwe;\n          this.eventManager = wwe.eventManager;\n          /**\n           * Name property\n           * @type {string}\n           */\n\n          this.name = 'heading';\n\n          this._init();\n        }\n        /**\n         * Initialize\n         * @private\n         */\n\n\n        var _proto = WwHeadingManager.prototype;\n\n        _proto._init = function _init() {\n          this._initEvent();\n\n          this._initKeyHandler();\n        };\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          this.eventManager.listen('wysiwygSetValueAfter', function () {\n            _this._wrapDefaultBlockToHeadingInner();\n          });\n        }\n        /**\n         * Initialize key event handler\n         * @private\n         */\n        ;\n\n        _proto._initKeyHandler = function _initKeyHandler() {\n          var _this2 = this;\n\n          this.wwe.addKeyEventHandler('ENTER', function (ev, range) {\n            if (_this2.wwe.hasFormatWithRx(wwHeadingManager_FIND_HEADING_RX)) {\n              _this2._onEnter(ev, range);\n\n              return false;\n            }\n\n            return true;\n          });\n          this.wwe.addKeyEventHandler('BACK_SPACE', function (ev, range) {\n            if (_this2.wwe.hasFormatWithRx(wwHeadingManager_FIND_HEADING_RX)) {\n              _this2._removePrevTopNodeIfNeed(ev, range);\n\n              return false;\n            }\n\n            return true;\n          });\n        }\n        /**\n         * Wrap default block to heading inner contents\n         * @private\n         */\n        ;\n\n        _proto._wrapDefaultBlockToHeadingInner = function _wrapDefaultBlockToHeadingInner() {\n          var headingTags = dom[\"a\"\n          /* default */\n          ].findAll(this.wwe.getBody(), 'h1, h2, h3, h4, h5, h6');\n          headingTags.forEach(function (headingTag) {\n            var exceptedForWrapping = !dom[\"a\"\n            /* default */\n            ].children(headingTag, 'div, p').length;\n\n            if (exceptedForWrapping) {\n              dom[\"a\"\n              /* default */\n              ].wrapInner(headingTag, 'div');\n            }\n          });\n        }\n        /**\n         * Unwrap heading\n         * @private\n         */\n        ;\n\n        _proto._unwrapHeading = function _unwrapHeading() {\n          this.wwe.unwrapBlockTag(function (node) {\n            return wwHeadingManager_FIND_HEADING_RX.test(node);\n          });\n        }\n        /**\n         * Enter key handler\n         * @param {Event} event event object\n         * @param {Range} range range\n         * @private\n         */\n        ;\n\n        _proto._onEnter = function _onEnter(event, range) {\n          var _this3 = this;\n\n          if (range.startOffset > 0) {\n            // I hate this but there's no way\n            this.wwe.defer(function (wwe) {\n              _this3._unwrapHeading();\n\n              wwe.getEditor().removeLastUndoStack();\n            });\n          } else {\n            event.preventDefault();\n\n            this._insertEmptyBlockToPrevious(range);\n          }\n        }\n        /**\n         * Insert empty block to previous of passed range\n         * @param {Range} range range\n         * @private\n         */\n        ;\n\n        _proto._insertEmptyBlockToPrevious = function _insertEmptyBlockToPrevious(range) {\n          this.wwe.getEditor().saveUndoState(range);\n          var element = dom[\"a\"\n          /* default */\n          ].createElementWith('<div><br></div>');\n          dom[\"a\"\n          /* default */\n          ].insertBefore(dom[\"a\"\n          /* default */\n          ].getParentUntil(range.startContainer, this.wwe.getBody()), element);\n        }\n        /**\n         * Remove previous top node if need\n         * @param {Event} event event object\n         * @param {Range} range range\n         * @returns {Boolean} whether needed or not\n         * @private\n         */\n        ;\n\n        _proto._removePrevTopNodeIfNeed = function _removePrevTopNodeIfNeed(event, range) {\n          var isHandled = false;\n\n          if (range.collapsed && range.startOffset === 0) {\n            var startContainer = range.startContainer;\n            var prevTopNode = dom[\"a\"\n            /* default */\n            ].getTopPrevNodeUnder(startContainer, this.wwe.getBody());\n            var isPrevTopNodeEmpty = prevTopNode && prevTopNode.textContent.length === 0;\n            var sq = this.wwe.getEditor();\n\n            if (startContainer.textContent.length === 0) {\n              isHandled = this._removeHedingAndChangeSelection(event, range, prevTopNode);\n            } else if (isPrevTopNodeEmpty) {\n              event.preventDefault();\n              sq.saveUndoState(range);\n              dom[\"a\"\n              /* default */\n              ].remove(prevTopNode);\n              isHandled = true;\n            }\n          }\n\n          return isHandled;\n        }\n        /**\n         * Remove heading and change selection\n         * @param {object} event Event object\n         * @param {Range} range Range object\n         * @param {HTMLElement} prevTopNode Previous top node\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._removeHedingAndChangeSelection = function _removeHedingAndChangeSelection(event, range, prevTopNode) {\n          var startContainer = range.startContainer;\n          var sq = this.wwe.getEditor();\n          var body = this.wwe.getBody();\n          var isHeading = wwHeadingManager_FIND_HEADING_RX.test(dom[\"a\"\n          /* default */\n          ].getNodeName(startContainer));\n          var headingElement = isHeading ? startContainer : dom[\"a\"\n          /* default */\n          ].parents(startContainer, 'h1,h2,h3,h4,h5,h6')[0];\n          var targetNode = prevTopNode;\n          var offset = 1;\n\n          if (!event.defaultPrevented) {\n            event.preventDefault();\n            sq.saveUndoState(range);\n          }\n\n          dom[\"a\"\n          /* default */\n          ].remove(headingElement);\n\n          if (!prevTopNode) {\n            var _domUtils$children = dom[\"a\"\n            /* default */\n            ].children(body, 'div');\n\n            targetNode = _domUtils$children[0];\n            offset = 0;\n          }\n\n          range.setStart(targetNode, offset);\n          range.collapse(true);\n          sq.setSelection(range);\n          return true;\n        };\n\n        return WwHeadingManager;\n      }();\n      /* harmony default export */\n\n\n      var wwHeadingManager = wwHeadingManager_WwHeadingManager; // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isTruthy.js\n\n      var isTruthy = __webpack_require__(41);\n\n      var isTruthy_default = /*#__PURE__*/__webpack_require__.n(isTruthy); // CONCATENATED MODULE: ./src/js/wwCodeBlockManager.js\n\n      /**\n       * @fileoverview Implements wysiwyg code block manager\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var wwCodeBlockManager_isIE10 = browser_default.a.msie && browser_default.a.version === 10;\n      var wwCodeBlockManager_brString = wwCodeBlockManager_isIE10 ? '' : '<br>';\n      var tagEntities = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;'\n      };\n      var FIND_ZWS_RX = /\\u200B/g;\n      var CODEBLOCK_ATTR_NAME = 'data-te-codeblock';\n      /**\n       * Class WwCodeBlockManager\n       * @param {WysiwygEditor} wwe - wysiwygEditor instance\n       * @ignore\n       */\n\n      var wwCodeBlockManager_WwCodeBlockManager = /*#__PURE__*/function () {\n        function WwCodeBlockManager(wwe) {\n          this.wwe = wwe;\n          this.eventManager = wwe.eventManager;\n          /**\n           * Name property\n           * @type {string}\n           */\n\n          this.name = 'codeblock';\n\n          this._init();\n        }\n        /**\n         * Initialize\n         * @private\n         */\n\n\n        var _proto = WwCodeBlockManager.prototype;\n\n        _proto._init = function _init() {\n          this._initKeyHandler();\n\n          this._initEvent();\n        }\n        /**\n         * Initialize key event handler\n         * @private\n         */\n        ;\n\n        _proto._initKeyHandler = function _initKeyHandler() {\n          var _this = this;\n\n          this._keyEventHandlers = {\n            BACK_SPACE: this._onBackspaceKeyEventHandler.bind(this),\n            ENTER: function ENTER(ev, range) {\n              if (!_this.wwe.isInTable(range) && _this.wwe.getEditor().hasFormat('CODE')) {\n                _this.wwe.defer(function () {\n                  var _this$wwe$getRange = _this.wwe.getRange(),\n                      startContainer = _this$wwe$getRange.startContainer;\n\n                  var codeNode = _this._getCodeNode(startContainer);\n\n                  if (codeNode && !dom[\"a\"\n                  /* default */\n                  ].getTextLength(codeNode)) {\n                    codeNode.parentNode.removeChild(codeNode);\n                  }\n                });\n              }\n            }\n          };\n          forEachOwnProperties_default()(this._keyEventHandlers, function (handler, key) {\n            return _this.wwe.addKeyEventHandler(key, handler);\n          });\n        };\n\n        _proto._getCodeNode = function _getCodeNode(node) {\n          var result;\n\n          if (node.nodeName === 'CODE') {\n            result = node;\n          } else if (node.parentNode.nodeName === 'CODE') {\n            result = node.parentNode;\n          }\n\n          return result;\n        }\n        /**\n         * Initialize eventmanager event\n         * @private\n         */\n        ;\n\n        _proto._initEvent = function _initEvent() {\n          var _this2 = this;\n\n          this.eventManager.listen('wysiwygSetValueAfter.codeblock', function () {\n            _this2.modifyCodeBlockForWysiwyg();\n          });\n          this.eventManager.listen('wysiwygProcessHTMLText.codeblock', function (html) {\n            return _this2._changePreToPreCode(html);\n          });\n        }\n        /**\n         * Prepare nodes for pasting to code block\n         * @param {Array.<Node>} nodes Node array\n         * @returns {DocumentFragment}\n         */\n        ;\n\n        _proto.prepareToPasteOnCodeblock = function prepareToPasteOnCodeblock(nodes) {\n          var frag = this.wwe.getEditor().getDocument().createDocumentFragment();\n          var text = this.convertNodesToText(nodes);\n          text = text.replace(/\\n$/, '');\n          frag.appendChild(document.createTextNode(text));\n          return frag;\n        }\n        /**\n         * Convert nodes to text for pasting to code block\n         * @param {Array.<Node>} nodes Node array\n         * @returns {string} coverted string\n         */\n        ;\n\n        _proto.convertNodesToText = function convertNodesToText(nodes) {\n          var str = '';\n          var node = nodes.shift();\n\n          while (isTruthy_default()(node)) {\n            var _node = node,\n                childNodes = _node.childNodes;\n\n            if (childNodes && dom[\"a\"\n            /* default */\n            ].isBlockNode(node)) {\n              str += this.convertNodesToText(toArray_default()(node.childNodes));\n            } else if (node.nodeName === 'BR') {\n              str += '\\n';\n            } else {\n              str += node.textContent;\n            }\n\n            node = nodes.shift();\n          }\n\n          return str;\n        }\n        /**\n         * Copy content with code block style from code block selection\n         * @param {HTMLElement} element Copied element\n         * @param {Range} range Range object\n         * @returns {HTMLElement}\n         * @private\n         */\n        ;\n\n        _proto._copyCodeblockTypeFromRangeCodeblock = function _copyCodeblockTypeFromRangeCodeblock(element, range) {\n          var blockNode = dom[\"a\"\n          /* default */\n          ].getParentUntil(range.commonAncestorContainer, this.wwe.getBody());\n\n          if (dom[\"a\"\n          /* default */\n          ].getNodeName(blockNode) === 'PRE') {\n            var attrs = blockNode.attributes;\n            forEachOwnProperties_default()(attrs, function (attr) {\n              element.setAttribute(attr.name, attr.value);\n            });\n          }\n\n          return element;\n        }\n        /**\n         * Change pre tag to pre and code\n         * @param {string} html HTML string\n         * @returns {string}\n         * @private\n         */\n        ;\n\n        _proto._changePreToPreCode = function _changePreToPreCode(html) {\n          return html.replace(/<pre( .*?)?>((.|\\n)*?)<\\/pre>/g, function (match, codeAttr, code) {\n            return \"<pre><code\" + (codeAttr || '') + \">\" + code + \"</code></pre>\";\n          });\n        }\n        /**\n         * Modify Code Block for Wysiwyg\n         * @param {HTMLElement} node root node to find pre\n         */\n        ;\n\n        _proto.modifyCodeBlockForWysiwyg = function modifyCodeBlockForWysiwyg(node) {\n          if (!node) {\n            node = this.wwe.getBody();\n          }\n\n          dom[\"a\"\n          /* default */\n          ].findAll(node, 'pre').forEach(function (pre) {\n            var codeTag = pre.querySelector('code');\n            var lang, numberOfBackticks;\n\n            if (codeTag) {\n              lang = codeTag.getAttribute('data-language');\n              numberOfBackticks = codeTag.getAttribute('data-backticks');\n            } // if this pre can have lines\n\n\n            if (pre.children.length > 1) {\n              toArray_default()(pre.children).forEach(function (childNode) {\n                if ((childNode.nodeName === 'DIV' || childNode.nodeName === 'P') && !childNode.querySelectorAll('br').length) {\n                  childNode.innerHTML += childNode.innerHTML + \"\\n\";\n                }\n              });\n            }\n\n            var brs = pre.querySelectorAll('br');\n\n            if (brs.length) {\n              dom[\"a\"\n              /* default */\n              ].replaceWith(brs, '\\n');\n            }\n\n            var resultText = pre.textContent.replace(/\\s+$/, '');\n            dom[\"a\"\n            /* default */\n            ].empty(pre);\n            pre.innerHTML = resultText ? sanitizeHtmlCode(resultText) : wwCodeBlockManager_brString;\n\n            if (lang) {\n              pre.setAttribute('data-language', lang);\n              addClass_default()(pre, \"lang-\" + lang);\n            }\n\n            if (numberOfBackticks) {\n              pre.setAttribute('data-backticks', numberOfBackticks);\n            }\n\n            pre.setAttribute(CODEBLOCK_ATTR_NAME, '');\n          });\n        }\n        /**\n         * Remove codeblock of first line when press backspace in first line\n         * @param {Event} ev Event object\n         * @param {Range} range Range object\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._onBackspaceKeyEventHandler = function _onBackspaceKeyEventHandler(ev, range) {\n          var isNeedNext = true;\n          var sq = this.wwe.getEditor();\n          var container = range.commonAncestorContainer;\n\n          if (this._isCodeBlockFirstLine(range) && !this._isFrontCodeblock(range)) {\n            this._removeCodeblockFirstLine(container);\n\n            range.collapse(true);\n            isNeedNext = false;\n          } else if (range.collapsed && this._isEmptyLine(container) && this._isBetweenSameCodeblocks(container)) {\n            var previousSibling = container.previousSibling,\n                nextSibling = container.nextSibling;\n            var prevTextLength = previousSibling.textContent.length;\n            sq.saveUndoState(range);\n            container.parentNode.removeChild(container);\n\n            this._mergeCodeblocks(previousSibling, nextSibling);\n\n            range.setStart(previousSibling.childNodes[0], prevTextLength);\n            range.collapse(true);\n            isNeedNext = false;\n          }\n\n          if (!isNeedNext) {\n            sq.setSelection(range);\n            ev.preventDefault();\n          }\n\n          return isNeedNext;\n        }\n        /**\n         * Check node is empty line\n         * @param {Node} node node\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isEmptyLine = function _isEmptyLine(node) {\n          var nodeName = node.nodeName,\n              childNodes = node.childNodes;\n          var isEmpty = wwCodeBlockManager_isIE10 ? node.textContent === '' : childNodes.length === 1 && childNodes[0].nodeName === 'BR';\n          return nodeName === 'DIV' && isEmpty;\n        }\n        /**\n         * Check whether node is between same codeblocks\n         * @param {Node} node Node\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isBetweenSameCodeblocks = function _isBetweenSameCodeblocks(node) {\n          var previousSibling = node.previousSibling,\n              nextSibling = node.nextSibling;\n          return dom[\"a\"\n          /* default */\n          ].getNodeName(previousSibling) === 'PRE' && dom[\"a\"\n          /* default */\n          ].getNodeName(nextSibling) === 'PRE' && previousSibling.getAttribute('data-language') === nextSibling.getAttribute('data-language');\n        };\n\n        _proto._mergeCodeblocks = function _mergeCodeblocks(frontCodeblock, backCodeblock) {\n          var postText = backCodeblock.textContent;\n          frontCodeblock.childNodes[0].textContent += \"\\n\" + postText;\n          backCodeblock.parentNode.removeChild(backCodeblock);\n        }\n        /**\n         * Check whether range is first line of code block\n         * @param {Range} range Range object\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isCodeBlockFirstLine = function _isCodeBlockFirstLine(range) {\n          return this.isInCodeBlock(range) && range.collapsed && range.startOffset === 0;\n        }\n        /**\n         * Check whether front block of range is code block\n         * @param {Range} range Range object\n         * @returns {boolean}\n         * @private\n         */\n        ;\n\n        _proto._isFrontCodeblock = function _isFrontCodeblock(range) {\n          var block = dom[\"a\"\n          /* default */\n          ].getParentUntil(range.startContainer, this.wwe.getEditor().getRoot());\n          var previousSibling = block.previousSibling;\n          return previousSibling && previousSibling.nodeName === 'PRE';\n        }\n        /**\n         * Remove codeblock first line of codeblock\n         * @param {Node} node Pre Node\n         * @private\n         */\n        ;\n\n        _proto._removeCodeblockFirstLine = function _removeCodeblockFirstLine(node) {\n          var sq = this.wwe.getEditor();\n          var preNode = node.nodeName === 'PRE' ? node : node.parentNode;\n          var codeContent = preNode.textContent.replace(FIND_ZWS_RX, '');\n          sq.modifyBlocks(function () {\n            var newFrag = sq.getDocument().createDocumentFragment();\n            var strArray = codeContent.split('\\n');\n            var firstDiv = document.createElement('div');\n            var firstLine = strArray.shift();\n            firstDiv.innerHTML = \"\" + firstLine + wwCodeBlockManager_brString;\n            newFrag.appendChild(firstDiv);\n\n            if (strArray.length) {\n              var newPreNode = preNode.cloneNode();\n              newPreNode.textContent = strArray.join('\\n');\n              newFrag.appendChild(newPreNode);\n            }\n\n            return newFrag;\n          });\n        }\n        /**\n         * Return boolean value of whether current range is in the code block\n         * @param {Range} range Range object\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.isInCodeBlock = function isInCodeBlock(range) {\n          var target;\n\n          if (range.collapsed) {\n            target = range.startContainer;\n          } else {\n            target = range.commonAncestorContainer;\n          }\n\n          return !!dom[\"a\"\n          /* default */\n          ].closest(target, 'pre');\n        }\n        /**\n         * Destroy\n         */\n        ;\n\n        _proto.destroy = function destroy() {\n          var _this3 = this;\n\n          this.eventManager.removeEventHandler('wysiwygSetValueAfter.codeblock');\n          this.eventManager.removeEventHandler('wysiwygProcessHTMLText.codeblock');\n          forEachOwnProperties_default()(this._keyEventHandlers, function (handler, key) {\n            return _this3.wwe.removeKeyEventHandler(key, handler);\n          });\n        };\n\n        return WwCodeBlockManager;\n      }();\n      /**\n       * Sanitize HTML code\n       * @param {string} code code string\n       * @returns {string}\n       * @ignore\n       */\n\n\n      function sanitizeHtmlCode(code) {\n        return code ? code.replace(/[<>&]/g, function (tag) {\n          return tagEntities[tag] || tag;\n        }) : '';\n      }\n      /* harmony default export */\n\n\n      var wwCodeBlockManager = wwCodeBlockManager_WwCodeBlockManager; // EXTERNAL MODULE: /Users/nhn/Desktop/project/tui.editor/libs/squire/build/squire.js\n\n      var build_squire = __webpack_require__(51);\n\n      var squire_default = /*#__PURE__*/__webpack_require__.n(build_squire); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isFunction.js\n\n\n      var isFunction = __webpack_require__(30);\n\n      var isFunction_default = /*#__PURE__*/__webpack_require__.n(isFunction); // CONCATENATED MODULE: ./src/js/squireExt.js\n\n\n      function squireExt_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements squire extension\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var FIND_BLOCK_TAGNAME_RX = /\\b(H[\\d]|LI|P|BLOCKQUOTE|TD)\\b/;\n      var isIElt11 = /Trident\\/[456]\\./.test(navigator.userAgent);\n      /**\n       * Class SquireExt\n       * @params {Squire} ...args\n       */\n\n      var squireExt_SquireExt = /*#__PURE__*/function (_Squire) {\n        squireExt_inheritsLoose(SquireExt, _Squire);\n\n        function SquireExt() {\n          var _this;\n\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          _this = _Squire.call.apply(_Squire, [this].concat(args)) || this;\n\n          _this._decorateHandlerToCancelable('copy');\n\n          _this._decorateHandlerToCancelable(isIElt11 ? 'beforecut' : 'cut');\n\n          _this._decorateHandlerToCancelable(isIElt11 ? 'beforepaste' : 'paste');\n\n          _this.getBody = function () {\n            _this.body = _this.body || _this.getRoot();\n            return _this.body;\n          };\n\n          return _this;\n        }\n        /**\n         * Decorate squire handler to cancelable cuz sometimes, we dont need squire handler process\n         * event.preventDefault() will cancel squire and browser default behavior\n         * event.squirePrevented = true will cancel squire but allow browser default behavior\n         * @param {string} eventName event name\n         * @private\n         */\n\n\n        var _proto = SquireExt.prototype;\n\n        _proto._decorateHandlerToCancelable = function _decorateHandlerToCancelable(eventName) {\n          var handlers = this._events[eventName];\n\n          if (handlers.length > 1) {\n            throw new Error(\"too many\" + eventName + \"handlers in squire\");\n          }\n\n          var handler = handlers[0].bind(this);\n\n          handlers[0] = function (event) {\n            if (!event.defaultPrevented && !event.squirePrevented) {\n              handler(event);\n            }\n          };\n        };\n\n        _proto.changeBlockFormat = function changeBlockFormat(srcCondition, targetTagName) {\n          var _this2 = this;\n\n          this.modifyBlocks(function (frag) {\n            var current, newFrag, newBlock, nextBlock, tagName, lastNodeOfNextBlock, appendChidToNextBlock; // HR is non-block element, so frag don't have it\n            // make a default block\n\n            if (frag.childNodes.length) {\n              current = frag.childNodes.item(0);\n            } else {\n              current = _this2.createDefaultBlock();\n              frag.appendChild(current);\n            }\n\n            if (srcCondition) {\n              // find last depth\n              while (current.firstChild) {\n                current = current.firstChild;\n              }\n\n              appendChidToNextBlock = function appendChidToNextBlock(node) {\n                nextBlock.appendChild(node);\n              }; // find tag\n\n\n              while (current !== frag) {\n                var _current = current;\n                tagName = _current.tagName;\n\n                if (isFunction_default()(srcCondition) ? srcCondition(tagName) : tagName === srcCondition) {\n                  nextBlock = current.childNodes.item(0); // there is no next blocktag\n                  // eslint-disable-next-line max-depth\n\n                  if (!dom[\"a\"\n                  /* default */\n                  ].isElemNode(nextBlock) || current.childNodes.length > 1) {\n                    nextBlock = _this2.createDefaultBlock();\n                    toArray_default()(current.childNodes).forEach(appendChidToNextBlock);\n                    lastNodeOfNextBlock = nextBlock.lastChild; // remove unneccesary br\n                    // eslint-disable-next-line max-depth\n\n                    if (lastNodeOfNextBlock && dom[\"a\"\n                    /* default */\n                    ].getNodeName(lastNodeOfNextBlock) === 'BR') {\n                      nextBlock.removeChild(lastNodeOfNextBlock);\n                    }\n                  } // eslint-disable-next-line max-depth\n\n\n                  if (targetTagName) {\n                    newBlock = _this2.createElement(targetTagName, [nextBlock]);\n                  } else {\n                    newBlock = nextBlock;\n                  }\n\n                  newFrag = _this2.getDocument().createDocumentFragment();\n                  newFrag.appendChild(newBlock);\n                  frag = newFrag;\n                  break;\n                }\n\n                current = current.parentNode;\n              }\n            } // if source condition node is not founded, we wrap current div node with node named targetTagName\n\n\n            if ((!newFrag || !srcCondition) && targetTagName && dom[\"a\"\n            /* default */\n            ].getNodeName(frag.childNodes[0]) === 'DIV') {\n              frag = _this2.createElement(targetTagName, [frag.childNodes[0]]);\n            }\n\n            return frag;\n          });\n        };\n\n        _proto.changeBlockFormatTo = function changeBlockFormatTo(targetTagName) {\n          this.changeBlockFormat(function (tagName) {\n            return FIND_BLOCK_TAGNAME_RX.test(tagName);\n          }, targetTagName);\n        };\n\n        _proto.getCaretPosition = function getCaretPosition() {\n          return this.getCursorPosition();\n        };\n\n        _proto.replaceSelection = function replaceSelection(content, selection) {\n          if (selection) {\n            this.setSelection(selection);\n          }\n\n          this._ignoreChange = true;\n          this.insertHTML(content);\n        };\n\n        _proto.replaceRelativeOffset = function replaceRelativeOffset(content, offset, overwriteLength) {\n          var selection = this.getSelection().cloneRange();\n\n          this._replaceRelativeOffsetOfSelection(content, offset, overwriteLength, selection);\n        };\n\n        _proto._replaceRelativeOffsetOfSelection = function _replaceRelativeOffsetOfSelection(content, offset, overwriteLength, selection) {\n          var startSelectionInfo, endSelectionInfo, finalOffset;\n          var endOffsetNode = selection.endContainer;\n          var endTextOffset = selection.endOffset;\n\n          if (dom[\"a\"\n          /* default */\n          ].getNodeName(endOffsetNode) !== 'TEXT') {\n            endOffsetNode = this._getClosestTextNode(endOffsetNode, endTextOffset);\n\n            if (endOffsetNode) {\n              if (dom[\"a\"\n              /* default */\n              ].isTextNode(endOffsetNode)) {\n                endTextOffset = endOffsetNode.nodeValue.length;\n              } else {\n                endTextOffset = endOffsetNode.textContent.length;\n              }\n            }\n          }\n\n          if (endOffsetNode) {\n            startSelectionInfo = this.getSelectionInfoByOffset(endOffsetNode, endTextOffset + offset);\n            selection.setStart(startSelectionInfo.element, startSelectionInfo.offset);\n            finalOffset = endTextOffset + (offset + overwriteLength);\n            endSelectionInfo = this.getSelectionInfoByOffset(endOffsetNode, finalOffset);\n            selection.setEnd(endSelectionInfo.element, endSelectionInfo.offset);\n            this.replaceSelection(content, selection);\n          } else {\n            this.replaceSelection(content);\n          }\n        };\n\n        _proto._getClosestTextNode = function _getClosestTextNode(node, offset) {\n          var foundNode = dom[\"a\"\n          /* default */\n          ].getChildNodeByOffset(node, offset - 1);\n\n          if (dom[\"a\"\n          /* default */\n          ].getNodeName(foundNode) !== 'TEXT') {\n            foundNode = foundNode.previousSibling;\n          }\n\n          return foundNode;\n        };\n\n        _proto.getSelectionInfoByOffset = function getSelectionInfoByOffset(anchorElement, offset) {\n          var traceElement, traceElementLength, traceOffset, stepLength;\n          var direction = offset >= 0 ? 'next' : 'previous';\n          var offsetAbs = Math.abs(offset);\n          var latestAvailableElement = traceElement;\n\n          if (direction === 'next') {\n            traceElement = anchorElement;\n          } else {\n            traceElement = anchorElement.previousSibling;\n          }\n\n          traceOffset = offsetAbs;\n          stepLength = 0;\n\n          while (traceElement) {\n            if (dom[\"a\"\n            /* default */\n            ].isTextNode(traceElement)) {\n              traceElementLength = traceElement.nodeValue.length;\n            } else {\n              traceElementLength = traceElement.textContent.length;\n            }\n\n            stepLength += traceElementLength;\n\n            if (offsetAbs <= stepLength) {\n              break;\n            }\n\n            traceOffset -= traceElementLength;\n\n            if (dom[\"a\"\n            /* default */\n            ].getTextLength(traceElement) > 0) {\n              latestAvailableElement = traceElement;\n            }\n\n            traceElement = traceElement[direction + \"Sibling\"];\n          }\n\n          if (!traceElement) {\n            traceElement = latestAvailableElement;\n            traceOffset = dom[\"a\"\n            /* default */\n            ].getTextLength(traceElement);\n          }\n\n          if (direction === 'previous') {\n            traceOffset = dom[\"a\"\n            /* default */\n            ].getTextLength(traceElement) - traceOffset;\n          }\n\n          return {\n            element: traceElement,\n            offset: traceOffset\n          };\n        };\n\n        _proto.getSelectionPosition = function getSelectionPosition(selection, style, offset) {\n          var marker = this.createElement('INPUT');\n          var range = selection.cloneRange();\n          var endSelectionInfo = this.getSelectionInfoByOffset(selection.endContainer, selection.endOffset + (offset || 0));\n          range.setStart(range.startContainer, range.startOffset);\n          range.setEnd(endSelectionInfo.element, endSelectionInfo.offset); // to prevent squire input event fire\n\n          this._ignoreChange = true;\n          this.insertElement(marker, range);\n          var pos = dom[\"a\"\n          /* default */\n          ].getOffset(marker);\n\n          if (style !== 'over') {\n            pos.top += marker.offsetHeight;\n          }\n\n          marker.parentNode.removeChild(marker);\n          selection.setStart(selection.endContainer, selection.endOffset);\n          selection.collapse(true);\n          this.setSelection(selection);\n          return pos;\n        };\n\n        _proto.removeLastUndoStack = function removeLastUndoStack() {\n          if (this._undoStack.length) {\n            this._undoStackLength -= 1;\n            this._undoIndex -= 1;\n\n            this._undoStack.pop();\n\n            this._isInUndoState = false;\n          }\n        };\n\n        _proto.replaceParent = function replaceParent(node, from, to) {\n          var target = dom[\"a\"\n          /* default */\n          ].closest(node, from);\n\n          if (target) {\n            dom[\"a\"\n            /* default */\n            ].wrapInner(target, to);\n            dom[\"a\"\n            /* default */\n            ].unwrap(target);\n          }\n        };\n\n        _proto.preserveLastLine = function preserveLastLine() {\n          var blocks = this.getBody().children;\n          var lastBlock = blocks[blocks.length - 1];\n\n          if (lastBlock && dom[\"a\"\n          /* default */\n          ].getNodeName(lastBlock) !== 'DIV') {\n            this._ignoreChange = true;\n            dom[\"a\"\n            /* default */\n            ].insertAfter(this.createDefaultBlock(), lastBlock);\n          }\n        };\n\n        _proto.scrollTop = function scrollTop(top) {\n          if (!isUndefined_default()(top)) {\n            this.getBody().scrollTop = top;\n          }\n\n          return this.getBody().scrollTop;\n        };\n\n        _proto.isIgnoreChange = function isIgnoreChange() {\n          return this._ignoreChange;\n        };\n\n        _proto.focus = function focus() {\n          squire_default.a.prototype.focus.call(this);\n        };\n\n        _proto.blockCommandShortcuts = function blockCommandShortcuts() {\n          var _this3 = this;\n\n          var meta = utils_common[\"b\"\n          /* isMac */\n          ] ? 'meta' : 'ctrl';\n          var keys = ['b', 'i', 'u', 'shift-7', 'shift-5', 'shift-6', 'shift-8', 'shift-9', '[', ']', 'd'];\n          keys.forEach(function (key) {\n            _this3.setKeyHandler(meta + \"-\" + key, function (editor, keyboardEvent) {\n              keyboardEvent.preventDefault();\n            });\n          });\n        };\n\n        return SquireExt;\n      }(squire_default.a);\n      /* harmony default export */\n\n\n      var squireExt = squireExt_SquireExt; // CONCATENATED MODULE: ./src/js/wwTextObject.js\n\n      /**\n       * @fileoverview Implements WwTextObject\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var isIE11 = browser_default.a.msie && browser_default.a.version === 11;\n      var isWindowChrome = navigator.appVersion.indexOf('Win') !== -1 && browser_default.a.chrome;\n      var isWindows10 = /Windows (NT )?10/g.test(navigator.appVersion);\n      var isNeedOffsetFix = isIE11 || isWindowChrome && !isWindows10;\n      /**\n       * Class WwTextObject\n       * @param {WysiwygEditor} wwe - wysiwygEditor\n       * @param {Range} range - Range object\n       */\n\n      var wwTextObject_WwTextObject = /*#__PURE__*/function () {\n        function WwTextObject(wwe, range) {\n          this._wwe = wwe; // msie11 and window chrome can't make start offset of range api correctly when compositing korean.\n          // so we need fix this when compositing korean.(and maybe other languages that needs composition.)\n\n          if (isNeedOffsetFix) {\n            this.isComposition = false;\n\n            this._initCompositionEvent();\n          }\n\n          this.setRange(range || this._wwe.getRange());\n        }\n        /**\n         * Initialize composition event\n         * @private\n         */\n\n\n        var _proto = WwTextObject.prototype;\n\n        _proto._initCompositionEvent = function _initCompositionEvent() {\n          var _this = this;\n\n          this._wwe.getEditor().addEventListener('compositionstart', function () {\n            _this.isComposition = true;\n          });\n\n          this._wwe.getEditor().addEventListener('compositionend', function () {\n            _this.isComposition = false;\n          });\n        }\n        /**\n         * Set _range object to given range object\n         * @param {Range} range Range object\n         */\n        ;\n\n        _proto.setRange = function setRange(range) {\n          if (this._range) {\n            this._range.detach();\n          }\n\n          this._range = range;\n        }\n        /**\n         * Expand start offset by one\n         */\n        ;\n\n        _proto.expandStartOffset = function expandStartOffset() {\n          var range = this._range;\n\n          if (dom[\"a\"\n          /* default */\n          ].isTextNode(range.startContainer) && range.startOffset > 0) {\n            range.setStart(range.startContainer, range.startOffset - 1);\n          }\n        }\n        /**\n         * Expand end offset by one\n         */\n        ;\n\n        _proto.expandEndOffset = function expandEndOffset() {\n          var range = this._range;\n\n          if (dom[\"a\"\n          /* default */\n          ].isTextNode(range.endContainer) && range.endOffset < range.endContainer.nodeValue.length) {\n            range.setEnd(range.endContainer, range.endOffset + 1);\n          }\n        }\n        /**\n         * setEnd range on start\n         * @param {Range} range Range object\n         */\n        ;\n\n        _proto.setEndBeforeRange = function setEndBeforeRange(range) {\n          var offset = range.startOffset;\n\n          if (this.isComposition) {\n            offset += 1;\n          }\n\n          this._range.setEnd(range.startContainer, offset);\n        }\n        /**\n         * Get text content\n         * @returns {string}\n         */\n        ;\n\n        _proto.getTextContent = function getTextContent() {\n          return this._range.cloneContents().textContent;\n        }\n        /**\n         * Replace current selection content to given text\n         * @param {string} content Text content\n         */\n        ;\n\n        _proto.replaceContent = function replaceContent(content) {\n          this._wwe.getEditor().setSelection(this._range);\n\n          this._wwe.getEditor().insertHTML(content); // When range is in table, 'insertHTML' makes div in table.\n          // So after 'insertHTML', div in table should be unwrap.\n          // 'wysiwygRangeChangeAfter' event let wwTableManager call '_unwrapBlockInTable'\n\n\n          if (this._wwe.isInTable(this._range)) {\n            this._wwe.eventManager.emit('wysiwygRangeChangeAfter', this._wwe);\n          }\n\n          this._range = this._wwe.getRange();\n        }\n        /**\n         * Delete current selection content\n         */\n        ;\n\n        _proto.deleteContent = function deleteContent() {\n          this._wwe.getEditor().setSelection(this._range);\n\n          this._wwe.getEditor().insertHTML('');\n\n          this._range = this._wwe.getRange();\n        }\n        /**\n         * Peek previous element's content\n         * @param {number} offset Offset to peek\n         * @returns {string}\n         */\n        ;\n\n        _proto.peekStartBeforeOffset = function peekStartBeforeOffset(offset) {\n          var range = this._range.cloneRange();\n\n          range.setStart(range.startContainer, Math.max(range.startOffset - offset, 0));\n          range.setEnd(this._range.startContainer, this._range.startOffset);\n          return range.cloneContents().textContent;\n        };\n\n        return WwTextObject;\n      }();\n      /* harmony default export */\n\n\n      var wwTextObject = wwTextObject_WwTextObject; // CONCATENATED MODULE: ./src/js/ui/blockOverlay.js\n\n      /**\n       * @fileoverview Implements UI block overlay\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class BlockOverlay\n       * @param {Object} options - options\n       *     @param {EventManager} options.eventManager - event manager instance\n       *     @param {HTMLElement} options.container - container element\n       *     @param {string} options.attachedSelector - selector string to find attached element\n       * @ignore\n       */\n\n      var blockOverlay_BlockOverlay = /*#__PURE__*/function () {\n        function BlockOverlay(_ref) {\n          var eventManager = _ref.eventManager,\n              container = _ref.container,\n              attachedSelector = _ref.attachedSelector;\n          this._eventManager = eventManager;\n          this._attachedSelector = \"[contenteditable=true] \" + attachedSelector;\n          this._container = container;\n          this._attachedElement = null;\n          /**\n           * is activated.\n           * if this blockOverlay is active, It always be visible unconditionally.\n           * @type {boolean}\n           * @private\n           */\n\n          this.active = false;\n\n          this._createElement();\n\n          this._initEvent();\n        }\n\n        var _proto = BlockOverlay.prototype;\n\n        _proto._createElement = function _createElement() {\n          this.el = dom[\"a\"\n          /* default */\n          ].createElementWith('<div class=\"te-ww-block-overlay\"></div>');\n          css_default()(this.el, {\n            position: 'absolute',\n            display: 'none',\n            zIndex: 1\n          });\n          dom[\"a\"\n          /* default */\n          ].append(this._container, this.el);\n        };\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          this._eventManager.listen('change', this._onChange.bind(this));\n\n          this._eventManager.listen('mouseover', this._onMouseOver.bind(this));\n\n          this._eventManager.listen('focus', function () {\n            _this.setVisibility(false);\n          });\n\n          this._eventManager.listen('mousedown', function () {\n            _this.setVisibility(false);\n          });\n        };\n\n        _proto._onChange = function _onChange() {\n          if (this._attachedElement && dom[\"a\"\n          /* default */\n          ].isContain(document.body, this._attachedElement)) {\n            this.syncLayout();\n          } else {\n            this.setVisibility(false);\n          }\n        };\n\n        _proto._onMouseOver = function _onMouseOver(ev) {\n          var originalEvent = ev.data;\n          var eventTarget = originalEvent.target;\n          var attachedElement = dom[\"a\"\n          /* default */\n          ].closest(eventTarget, this._attachedSelector);\n\n          if (attachedElement) {\n            this._attachedElement = attachedElement;\n            this.setVisibility(true);\n          } else if (dom[\"a\"\n          /* default */\n          ].closest(eventTarget, this.el)) {\n            this.setVisibility(true);\n          } else if (!this.active) {\n            this.setVisibility(false);\n          }\n        }\n        /**\n         * update blockOverlay position & size update to attached element\n         * you may want to override this to adjust position & size\n         * @protected\n         */\n        ;\n\n        _proto.syncLayout = function syncLayout() {\n          var offset = dom[\"a\"\n          /* default */\n          ].getOffset(this._attachedElement);\n          var outerWidth = dom[\"a\"\n          /* default */\n          ].getOuterWidth(this._attachedElement);\n          var outerHeight = dom[\"a\"\n          /* default */\n          ].getOuterHeight(this._attachedElement);\n          dom[\"a\"\n          /* default */\n          ].setOffset(this.el, offset);\n          css_default()(this.el, {\n            width: outerWidth + \"px\"\n          });\n          css_default()(this.el, {\n            height: outerHeight + \"px\"\n          });\n        }\n        /**\n         * attached element\n         * @protected\n         * @returns {HTMLElement} - attached element\n         */\n        ;\n\n        _proto.getAttachedElement = function getAttachedElement() {\n          return this._attachedElement || null;\n        }\n        /**\n         * visibility\n         * @protected\n         * @returns {boolean} visibility\n         */\n        ;\n\n        _proto.getVisibility = function getVisibility() {\n          return this.el.style.display === 'block';\n        }\n        /**\n         * visibility\n         * @param {boolean} visibility - is visible\n         * @protected\n         */\n        ;\n\n        _proto.setVisibility = function setVisibility(visibility) {\n          if (visibility && this._attachedElement) {\n            if (!this.getVisibility()) {\n              css_default()(this.el, {\n                display: 'block'\n              });\n              this.syncLayout();\n              this.onShow();\n            }\n          } else if (!visibility) {\n            if (this.getVisibility()) {\n              css_default()(this.el, {\n                display: 'none'\n              });\n              this.onHide();\n            }\n          }\n        }\n        /**\n         * called on show. you may want to override to get the event\n         * @protected\n         * @abstract\n         */\n        ;\n\n        _proto.onShow = function onShow() {}\n        /**\n         * called on hide. you may want to override to get the event\n         * @protected\n         */\n        ;\n\n        _proto.onHide = function onHide() {\n          this.active = false;\n          this._attachedElement = null;\n        };\n\n        return BlockOverlay;\n      }();\n      /* harmony default export */\n\n\n      var blockOverlay = blockOverlay_BlockOverlay; // CONCATENATED MODULE: ./src/js/ui/codeBlockGadget.js\n\n      function codeBlockGadget_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements UI code block gadget\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var GADGET_WIDTH = 250;\n      var GADGET_HEIGHT = 30;\n      /**\n       * Class CodeBlockGadget\n       * @param {Object} options - options\n       *     @param {EventManager} options.eventManager - event manager instance\n       *     @param {HTMLElement} options.container - container element\n       *     @param {WysiwygEditor} options.wysiwygEditor - wysiwyg editor instance\n       * @ignore\n       */\n\n      var codeBlockGadget_CodeBlockGadget = /*#__PURE__*/function (_BlockOverlay) {\n        codeBlockGadget_inheritsLoose(CodeBlockGadget, _BlockOverlay);\n\n        function CodeBlockGadget(_ref) {\n          var _this;\n\n          var eventManager = _ref.eventManager,\n              container = _ref.container,\n              wysiwygEditor = _ref.wysiwygEditor;\n          _this = _BlockOverlay.call(this, {\n            eventManager: eventManager,\n            container: container,\n            attachedSelector: 'pre'\n          }) || this;\n          _this._wysiwygEditor = wysiwygEditor;\n          _this._popupCodeBlockLanguages = null;\n\n          _this._initDOM();\n\n          _this._initDOMEvent();\n\n          return _this;\n        }\n\n        var _proto = CodeBlockGadget.prototype;\n\n        _proto._initDOM = function _initDOM() {\n          var _this2 = this;\n\n          addClass_default()(this.el, 'code-block-header');\n          this._languageLabel = dom[\"a\"\n          /* default */\n          ].createElementWith('<span>text</span>');\n          dom[\"a\"\n          /* default */\n          ].append(this.el, this._languageLabel);\n          this._buttonOpenModalEditor = dom[\"a\"\n          /* default */\n          ].createElementWith(\"<button type=\\\"button\\\">Editor</button>\");\n          dom[\"a\"\n          /* default */\n          ].append(this.el, this._buttonOpenModalEditor);\n\n          this._eventManager.emit('removeEditor', function () {\n            off_default()(_this2._buttonOpenModalEditor, 'click');\n            _this2._buttonOpenModalEditor = null;\n          });\n        };\n\n        _proto._initDOMEvent = function _initDOMEvent() {\n          var _this3 = this;\n\n          on_default()(this._buttonOpenModalEditor, 'click', function () {\n            return _this3._openPopupCodeBlockEditor();\n          });\n        };\n\n        _proto._openPopupCodeBlockEditor = function _openPopupCodeBlockEditor() {\n          this._eventManager.emit('openPopupCodeBlockEditor', this.getAttachedElement());\n        };\n\n        _proto._updateLanguage = function _updateLanguage() {\n          var attachedElement = this.getAttachedElement();\n          var language = attachedElement ? attachedElement.getAttribute('data-language') : null;\n          this._languageLabel.textContent = language || 'text';\n        }\n        /**\n         * update gadget position\n         * @protected\n         * @override\n         */\n        ;\n\n        _proto.syncLayout = function syncLayout() {\n          var attachedElement = this.getAttachedElement();\n          var offset = dom[\"a\"\n          /* default */\n          ].getOffset(attachedElement);\n          var outerWidth = dom[\"a\"\n          /* default */\n          ].getOuterWidth(attachedElement);\n          offset.left = offset.left + outerWidth - GADGET_WIDTH - window.scrollX;\n          offset.top = offset.top - window.scrollY;\n          dom[\"a\"\n          /* default */\n          ].setOffset(this.el, offset);\n          css_default()(this.el, {\n            height: GADGET_HEIGHT + \"px\"\n          });\n          css_default()(this.el, {\n            width: GADGET_WIDTH + \"px\"\n          });\n        }\n        /**\n         * on show\n         * @protected\n         * @override\n         */\n        ;\n\n        _proto.onShow = function onShow() {\n          var _this4 = this;\n\n          _BlockOverlay.prototype.onShow.call(this);\n\n          this._onAttachedElementChange = function () {\n            return _this4._updateLanguage();\n          };\n\n          this._eventManager.listen('changeLanguage', this._onAttachedElementChange);\n\n          this._updateLanguage();\n        }\n        /**\n         * on hide\n         * @protected\n         * @override\n         */\n        ;\n\n        _proto.onHide = function onHide() {\n          this._eventManager.removeEventHandler('changeLanguage', this._onAttachedElementChange);\n\n          _BlockOverlay.prototype.onHide.call(this);\n        };\n\n        return CodeBlockGadget;\n      }(blockOverlay);\n      /* harmony default export */\n\n\n      var codeBlockGadget = codeBlockGadget_CodeBlockGadget; // CONCATENATED MODULE: ./src/js/wysiwygEditor.js\n\n      /**\n       * @fileoverview Implments wysiwygEditor\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var wysiwygEditor_keyMapper = keyMapper.getSharedInstance();\n      var FIND_EMPTY_LINE = /<([a-z]+|h\\d)>(<br>|<br \\/>)<\\/\\1>/gi;\n      var FIND_UNNECESSARY_BR = /(?:<br>|<br \\/>)<\\/(.+?)>/gi;\n      var wysiwygEditor_FIND_BLOCK_TAGNAME_RX = /\\b(H[\\d]|LI|P|BLOCKQUOTE|TD|PRE)\\b/;\n      var FIND_OPENING_SPAN_WITH_SPACE = /<span([^>]*)>[\\u0020]/g;\n      var FIND_CLOSING_SPAN_WITH_SPACE = /[\\u0020]<\\/span>/g;\n      var FIND_TABLE_AND_HEADING_RX = /^(TABLE|H[1-6])$/;\n      var EDITOR_CONTENT_CSS_CLASSNAME = 'tui-editor-contents';\n      var PLACEHOLDER_CSS_CLASSNAME = 'tui-editor-contents-placeholder';\n      var canObserveMutations = typeof MutationObserver !== 'undefined';\n      /**\n       * Class WysiwygEditor\n       * @param {HTMLElement} el - element to insert editor\n       * @param {EventManager} eventManager - EventManager instance\n       */\n\n      var wysiwygEditor_WysiwygEditor = /*#__PURE__*/function () {\n        function WysiwygEditor(el, eventManager, options) {\n          var _this = this;\n\n          if (options === void 0) {\n            options = {};\n          }\n\n          this.componentManager = new componentManager(this);\n          this.eventManager = eventManager;\n          this.editorContainerEl = el;\n          this._height = 0;\n          this._linkAttribute = options.linkAttribute;\n          this._silentChange = false;\n          this._keyEventHandlers = {};\n          this._managers = {};\n          this._linkAttribute = {};\n\n          this._initEvent();\n\n          this._initDefaultKeyEventHandler();\n\n          this.debouncedPostProcessForChange = debounce_default()(function () {\n            return _this.postProcessForChange();\n          }, 0);\n        }\n        /**\n         * init\n         * @param {boolean} useDefaultHTMLSanitizer - whether to use default html sanitizer\n         */\n\n\n        var _proto = WysiwygEditor.prototype;\n\n        _proto.init = function init(useDefaultHTMLSanitizer) {\n          var editorBody = document.createElement('div');\n          this.editorContainerEl.appendChild(editorBody);\n          this.editor = new squireExt(editorBody, {\n            blockTag: 'DIV',\n            leafNodeNames: {\n              HR: false\n            },\n            allowedBlocks: useDefaultHTMLSanitizer ? [] : ['details', 'summary']\n          });\n          this.editor.blockCommandShortcuts();\n          this._clipboardManager = new wwClipboardManager(this);\n\n          this._initSquireEvent();\n\n          this._clipboardManager.init();\n\n          addClass_default()(this.getBody(), EDITOR_CONTENT_CSS_CLASSNAME);\n          css_default()(this.editorContainerEl, 'position', 'relative');\n\n          this._togglePlaceholder();\n\n          this.codeBlockGadget = new codeBlockGadget({\n            eventManager: this.eventManager,\n            container: this.editorContainerEl,\n            wysiwygEditor: this\n          });\n        }\n        /**\n         * Initialize EventManager event handler\n         * @private\n         */\n        ;\n\n        _proto._initEvent = function _initEvent() {\n          var _this2 = this;\n\n          this.eventManager.listen('wysiwygKeyEvent', function (ev) {\n            return _this2._runKeyEventHandlers(ev.data, ev.keyMap);\n          });\n          this.eventManager.listen('wysiwygRangeChangeAfter', function () {\n            return _this2.scrollIntoCursor();\n          });\n          this.eventManager.listen('contentChangedFromWysiwyg', function () {\n            _this2._togglePlaceholder();\n          });\n        }\n        /**\n         * Add key event handler\n         * @param {string|Array.<string>} keyMap - keyMap string or array of string\n         * @param {function} handler handler\n         */\n        ;\n\n        _proto.addKeyEventHandler = function addKeyEventHandler(keyMap, handler) {\n          var _this3 = this;\n\n          if (!handler) {\n            handler = keyMap;\n            keyMap = 'DEFAULT';\n          }\n\n          if (!isArray_default()(keyMap)) {\n            keyMap = [keyMap];\n          }\n\n          keyMap.forEach(function (key) {\n            if (!_this3._keyEventHandlers[key]) {\n              _this3._keyEventHandlers[key] = [];\n            }\n\n            _this3._keyEventHandlers[key].push(handler);\n          });\n        }\n        /**\n         * Remove key event handler.\n         * @param {string} keyMap keyMap string\n         * @param {function} handler handler\n         */\n        ;\n\n        _proto.removeKeyEventHandler = function removeKeyEventHandler(keyMap, handler) {\n          if (!handler) {\n            handler = keyMap;\n            keyMap = 'DEFAULT';\n          }\n\n          var handlers = this._keyEventHandlers[keyMap];\n\n          if (handlers) {\n            this._keyEventHandlers[keyMap] = handlers.filter(function (_handler) {\n              return _handler !== handler;\n            });\n          }\n        }\n        /**\n         * Run key event handler\n         * @param {Event} event event object\n         * @param {string} keyMap keyMapString\n         * @private\n         */\n        ;\n\n        _proto._runKeyEventHandlers = function _runKeyEventHandlers(event, keyMap) {\n          var range = this.getRange();\n          var handlers, isNeedNext;\n          handlers = this._keyEventHandlers.DEFAULT;\n\n          if (handlers) {\n            forEachArray_default()(handlers, function (handler) {\n              isNeedNext = handler(event, range, keyMap);\n              return isNeedNext;\n            });\n          }\n\n          handlers = this._keyEventHandlers[keyMap];\n\n          if (handlers && isNeedNext !== false) {\n            forEachArray_default()(handlers, function (handler) {\n              return handler(event, range, keyMap);\n            });\n          }\n        }\n        /**\n         * Initialize squire event\n         * @private\n         */\n        ;\n\n        _proto._initSquireEvent = function _initSquireEvent() {\n          var _this4 = this;\n\n          var squire = this.getEditor();\n          var isNeedFirePostProcessForRangeChange = false;\n          squire.addEventListener('copy', function (clipboardEvent) {\n            _this4.eventManager.emit('copy', {\n              source: 'wysiwyg',\n              data: clipboardEvent\n            });\n\n            debounce_default()(function () {\n              if (!_this4.isEditorValid()) {\n                return;\n              }\n\n              _this4.eventManager.emit('copyAfter', {\n                source: 'wysiwyg',\n                data: clipboardEvent\n              });\n            })();\n          });\n          squire.addEventListener(browser_default.a.msie ? 'beforecut' : 'cut', function (clipboardEvent) {\n            _this4.eventManager.emit('cut', {\n              source: 'wysiwyg',\n              data: clipboardEvent\n            });\n\n            debounce_default()(function () {\n              if (!_this4.isEditorValid()) {\n                return;\n              }\n\n              _this4.eventManager.emit('cutAfter', {\n                source: 'wysiwyg',\n                data: clipboardEvent\n              });\n            })();\n          });\n          squire.addEventListener(browser_default.a.msie ? 'beforepaste' : 'paste', function (clipboardEvent) {\n            _this4.eventManager.emit('paste', {\n              source: 'wysiwyg',\n              data: clipboardEvent\n            });\n          });\n          squire.addEventListener('dragover', function (ev) {\n            ev.preventDefault();\n            return false;\n          });\n          squire.addEventListener('drop', function (ev) {\n            ev.preventDefault();\n\n            _this4.eventManager.emit('drop', {\n              source: 'wysiwyg',\n              data: ev\n            });\n\n            return false;\n          }); // change event will fired after range has been updated\n\n          squire.addEventListener('input', debounce_default()(function () {\n            if (!_this4.isEditorValid()) {\n              return;\n            }\n\n            if (!_this4._silentChange) {\n              var eventObj = {\n                source: 'wysiwyg'\n              };\n\n              _this4.eventManager.emit('changeFromWysiwyg', eventObj);\n\n              _this4.eventManager.emit('change', eventObj);\n\n              _this4.eventManager.emit('contentChangedFromWysiwyg', _this4);\n            } else {\n              _this4._silentChange = false;\n            }\n\n            _this4.getEditor().preserveLastLine();\n          }, 0));\n          squire.addEventListener('keydown', function (keyboardEvent) {\n            var range = _this4.getEditor().getSelection();\n\n            if (!range.collapsed) {\n              isNeedFirePostProcessForRangeChange = true;\n            }\n\n            _this4.eventManager.emit('keydown', {\n              source: 'wysiwyg',\n              data: keyboardEvent\n            });\n\n            _this4._onKeyDown(keyboardEvent);\n          });\n\n          if (browser_default.a.firefox) {\n            squire.addEventListener('keypress', function (keyboardEvent) {\n              var keyCode = keyboardEvent.keyCode;\n\n              if (keyCode === 13 || keyCode === 9) {\n                var range = _this4.getEditor().getSelection();\n\n                if (!range.collapsed) {\n                  isNeedFirePostProcessForRangeChange = true;\n                }\n\n                _this4.eventManager.emit('keydown', {\n                  source: 'wysiwyg',\n                  data: keyboardEvent\n                });\n\n                _this4._onKeyDown(keyboardEvent);\n              }\n            }); // firefox produces shattered text nodes\n\n            squire.addEventListener('keyup', function () {\n              var range = _this4.getRange();\n\n              if (dom[\"a\"\n              /* default */\n              ].isTextNode(range.commonAncestorContainer) && dom[\"a\"\n              /* default */\n              ].isTextNode(range.commonAncestorContainer.previousSibling)) {\n                var prevLen = range.commonAncestorContainer.previousSibling.length;\n                var curEl = range.commonAncestorContainer;\n                range.commonAncestorContainer.previousSibling.appendData(range.commonAncestorContainer.data);\n                range.setStart(range.commonAncestorContainer.previousSibling, prevLen + range.startOffset);\n                range.collapse(true);\n                dom[\"a\"\n                /* default */\n                ].remove(curEl);\n\n                _this4.setRange(range);\n\n                range.detach();\n              }\n            });\n          }\n\n          squire.addEventListener('keyup', function (keyboardEvent) {\n            if (isNeedFirePostProcessForRangeChange) {\n              _this4.debouncedPostProcessForChange();\n\n              isNeedFirePostProcessForRangeChange = false;\n            }\n\n            _this4.eventManager.emit('keyup', {\n              source: 'wysiwyg',\n              data: keyboardEvent\n            });\n          });\n          on_default()(this.editorContainerEl, 'scroll', function (ev) {\n            _this4.eventManager.emit('scroll', {\n              source: 'wysiwyg',\n              data: ev\n            });\n          });\n          squire.addEventListener('click', function (ev) {\n            _this4.eventManager.emit('click', {\n              source: 'wysiwyg',\n              data: ev\n            });\n          });\n          squire.addEventListener('mousedown', function (ev) {\n            _this4.eventManager.emit('mousedown', {\n              source: 'wysiwyg',\n              data: ev\n            });\n          });\n          squire.addEventListener('mouseover', function (ev) {\n            _this4.eventManager.emit('mouseover', {\n              source: 'wysiwyg',\n              data: ev\n            });\n          });\n          squire.addEventListener('mouseout', function (ev) {\n            _this4.eventManager.emit('mouseout', {\n              source: 'wysiwyg',\n              data: ev\n            });\n          });\n          squire.addEventListener('mouseup', function (ev) {\n            _this4.eventManager.emit('mouseup', {\n              source: 'wysiwyg',\n              data: ev\n            });\n          });\n          squire.addEventListener('contextmenu', function (ev) {\n            _this4.eventManager.emit('contextmenu', {\n              source: 'wysiwyg',\n              data: ev\n            });\n          });\n          squire.addEventListener('focus', function () {\n            _this4.eventManager.emit('focus', {\n              source: 'wysiwyg'\n            });\n          });\n          squire.addEventListener('blur', function () {\n            _this4.fixIMERange();\n\n            _this4.eventManager.emit('blur', {\n              source: 'wysiwyg'\n            });\n          }); // Toolbar status active/inactive\n\n          squire.addEventListener('pathChange', function (data) {\n            var state = {\n              strong: /(^B>|>B$|>B>|^B$|STRONG)/.test(data.path),\n              emph: /(>I|>EM|^I$|^EM$)/.test(data.path),\n              strike: /(^S>|>S$|>S>|^S$|DEL)/.test(data.path),\n              code: /CODE/.test(data.path),\n              codeBlock: /PRE/.test(data.path),\n              blockQuote: /BLOCKQUOTE/.test(data.path),\n              table: /TABLE/.test(data.path),\n              heading: /H[1-6]/.test(data.path),\n              list: /UL>LI(?!.task-list-item)/.test(data.path),\n              orderedList: /OL>LI(?!.task-list-item)/.test(data.path),\n              taskList: /[UL|OL]>LI.task-list-item/.test(data.path),\n              source: 'wysiwyg'\n            };\n\n            _this4.eventManager.emit('stateChange', state);\n          });\n          squire.addEventListener('willPaste', function (ev) {\n            // ev has 'fragment' when event occurs from 'insertHTML' of squire\n            // ev has 'text' when event occurs from 'insertPlainText' of squire\n            if (ev.fragment) {\n              _this4.eventManager.emit('willPaste', {\n                source: 'wysiwyg',\n                data: ev\n              });\n            }\n          });\n        };\n\n        _proto._togglePlaceholder = function _togglePlaceholder() {\n          var squire = this.getEditor();\n          squire.modifyDocument(function () {\n            var root = squire.getRoot();\n\n            if (root.textContent || root.childNodes.length > 1) {\n              root.classList.remove(PLACEHOLDER_CSS_CLASSNAME);\n            } else {\n              root.classList.add(PLACEHOLDER_CSS_CLASSNAME);\n            }\n          });\n        }\n        /**\n         * Handler of keydown event\n         * @param {object} keyboardEvent Event object\n         * @private\n         */\n        ;\n\n        _proto._onKeyDown = function _onKeyDown(keyboardEvent) {\n          var keyMap = wysiwygEditor_keyMapper.convert(keyboardEvent); // to avoid duplicate event firing in firefox\n\n          if (keyboardEvent.keyCode) {\n            this.eventManager.emit('keyMap', {\n              source: 'wysiwyg',\n              keyMap: keyMap,\n              data: keyboardEvent\n            });\n\n            if (!keyboardEvent.defaultPrevented) {\n              this.eventManager.emit('wysiwygKeyEvent', {\n                keyMap: keyMap,\n                data: keyboardEvent\n              });\n            }\n          }\n        }\n        /**\n         * Initialize default event handler\n         * @private\n         */\n        ;\n\n        _proto._initDefaultKeyEventHandler = function _initDefaultKeyEventHandler() {\n          var _this5 = this;\n\n          this.addKeyEventHandler('ENTER', function (ev, range) {\n            if (_this5._isInOrphanText(range)) {\n              // We need this cuz input text right after table make orphan text in webkit\n              _this5.defer(function () {\n                _this5._wrapDefaultBlockToOrphanTexts();\n\n                _this5.breakToNewDefaultBlock(range, 'before');\n              });\n            }\n\n            _this5.defer(function () {\n              return _this5.scrollIntoCursor();\n            });\n          });\n          this.addKeyEventHandler('TAB', function (ev) {\n            var sq = _this5.getEditor();\n\n            var range = sq.getSelection();\n\n            var isAbleToInput4Spaces = range.collapsed && _this5._isCursorNotInRestrictedAreaOfTabAction(sq);\n\n            var isTextSelection = !range.collapsed && dom[\"a\"\n            /* default */\n            ].isTextNode(range.commonAncestorContainer);\n            ev.preventDefault();\n\n            if (isAbleToInput4Spaces || isTextSelection) {\n              sq.insertPlainText(\"\\xA0\\xA0\\xA0\\xA0\");\n              return false;\n            }\n\n            return true;\n          });\n          this.addKeyEventHandler('BACK_SPACE', function (ev, range, keymap) {\n            return _this5._handleRemoveKeyEvent(ev, range, keymap);\n          });\n          this.addKeyEventHandler('DELETE', function (ev, range, keymap) {\n            return _this5._handleRemoveKeyEvent(ev, range, keymap);\n          });\n        };\n\n        _proto._handleRemoveKeyEvent = function _handleRemoveKeyEvent(ev, range, keyMap) {\n          var sq = this.getEditor();\n\n          if (this._isStartHeadingOrTableAndContainsThem(range)) {\n            var keyStr = keyMap === 'BACK_SPACE' ? 'backspace' : 'delete';\n            sq.removeAllFormatting();\n\n            sq._keyHandlers[keyStr](sq, ev, sq.getSelection());\n\n            sq.removeLastUndoStack();\n            return false;\n          }\n\n          return true;\n        };\n\n        _proto._isStartHeadingOrTableAndContainsThem = function _isStartHeadingOrTableAndContainsThem(range) {\n          var startContainer = range.startContainer,\n              startOffset = range.startOffset,\n              commonAncestorContainer = range.commonAncestorContainer,\n              collapsed = range.collapsed;\n          var root = this.getEditor().getRoot();\n          var result = false;\n\n          if (!collapsed && commonAncestorContainer === root) {\n            if (startContainer === root) {\n              result = FIND_TABLE_AND_HEADING_RX.test(dom[\"a\"\n              /* default */\n              ].getChildNodeByOffset(startContainer, startOffset).nodeName);\n            } else if (startOffset === 0) {\n              result = FIND_TABLE_AND_HEADING_RX.test(dom[\"a\"\n              /* default */\n              ].getParentUntil(startContainer, root).nodeName);\n            }\n          }\n\n          return result;\n        };\n\n        _proto._wrapDefaultBlockToOrphanTexts = function _wrapDefaultBlockToOrphanTexts() {\n          var textNodes = toArray_default()(this.getBody().childNodes).filter(function (node) {\n            return dom[\"a\"\n            /* default */\n            ].isTextNode(node);\n          });\n          dom[\"a\"\n          /* default */\n          ].getAllTextNode(this.getBody());\n          textNodes.forEach(function (node) {\n            if (node.nextSibling && node.nextSibling.tagName === 'BR') {\n              dom[\"a\"\n              /* default */\n              ].remove(node.nextSibling);\n            }\n\n            dom[\"a\"\n            /* default */\n            ].wrap(node, document.createElement('div'));\n          });\n        }\n        /**\n         * check if range is orphan text\n         * @param {Range} range range\n         * @returns {boolean} result\n         * @private\n         */\n        ;\n\n        _proto._isInOrphanText = function _isInOrphanText(range) {\n          return range.startContainer.nodeType === Node.TEXT_NODE && range.startContainer.parentNode === this.getBody();\n        }\n        /**\n         * Wrap default block to passed range\n         * @param {Range} range range\n         * @private\n         */\n        ;\n\n        _proto._wrapDefaultBlockTo = function _wrapDefaultBlockTo(range) {\n          this.saveSelection(range);\n\n          this._joinSplitedTextNodes();\n\n          this.restoreSavedSelection();\n          range = this.getRange();\n          var textElem = range.startContainer;\n          var cursorOffset = range.startOffset; // after code below, range range is arranged by body\n\n          var block = this.getEditor().createDefaultBlock([range.startContainer]); // range for insert block\n\n          var insertTargetNode = dom[\"a\"\n          /* default */\n          ].getChildNodeByOffset(range.startContainer, range.startOffset);\n\n          if (insertTargetNode) {\n            range.setStartBefore(insertTargetNode);\n          } else {\n            // only child in container\n            range.selectNodeContents(range.startContainer);\n          }\n\n          range.collapse(true);\n          range.insertNode(block); // revert range to original node\n\n          range.setStart(textElem, cursorOffset);\n          range.collapse(true);\n          this.setRange(range);\n        }\n        /**\n         * Join spliated text nodes\n         * @private\n         */\n        ;\n\n        _proto._joinSplitedTextNodes = function _joinSplitedTextNodes() {\n          var prevNode, lastGroup;\n          var nodesToRemove = [];\n          var textNodes = toArray_default()(this.getBody().childNodes).filter(function (node) {\n            return dom[\"a\"\n            /* default */\n            ].isTextNode(node);\n          });\n          textNodes.forEach(function (node) {\n            if (prevNode === node.previousSibling) {\n              lastGroup.nodeValue += node.nodeValue;\n              nodesToRemove.push(node);\n            } else {\n              lastGroup = node;\n            }\n\n            prevNode = node;\n          });\n          dom[\"a\"\n          /* default */\n          ].remove(nodesToRemove);\n        }\n        /**\n         * Save current selection before modification\n         * @param {Range} range Range object\n         */\n        ;\n\n        _proto.saveSelection = function saveSelection(range) {\n          if (!range) {\n            range = this.getRange();\n          }\n\n          this.getEditor()._saveRangeToBookmark(range);\n        }\n        /**\n         * set selection by start/end container/offset\n         * @param {HTMLNode} startContainer - start container\n         * @param {Number} startOffset - start offset\n         * @param {HTMLNode} endContainer - end container\n         * @param {Number} endOffset - end offset\n         * @returns {Range} - range instance\n         */\n        ;\n\n        _proto.setSelectionByContainerAndOffset = function setSelectionByContainerAndOffset(startContainer, startOffset, endContainer, endOffset) {\n          var sq = this.getEditor();\n          var range = sq.getSelection();\n          range.setStart(startContainer, startOffset);\n          range.setEnd(endContainer, endOffset);\n          sq.setSelection(range);\n          return range;\n        }\n        /**\n         * Restore saved selection\n         */\n        ;\n\n        _proto.restoreSavedSelection = function restoreSavedSelection() {\n          this.setRange(this.getEditor()._getRangeAndRemoveBookmark());\n        }\n        /**\n         * Reset wysiwyg editor\n         */\n        ;\n\n        _proto.reset = function reset() {\n          this.setValue('');\n        }\n        /**\n         * Change current range block format to passed tag\n         * @param {string} targetTagName Target element tag name\n         */\n        ;\n\n        _proto.changeBlockFormatTo = function changeBlockFormatTo(targetTagName) {\n          this.getEditor().changeBlockFormatTo(targetTagName);\n          this.eventManager.emit('wysiwygRangeChangeAfter', this);\n        }\n        /**\n         * Make empty block to current selection\n         */\n        ;\n\n        _proto.makeEmptyBlockCurrentSelection = function makeEmptyBlockCurrentSelection() {\n          var _this6 = this;\n\n          this.getEditor().modifyBlocks(function (frag) {\n            if (!frag.textContent) {\n              frag = _this6.getEditor().createDefaultBlock();\n            }\n\n            return frag;\n          });\n        }\n        /**\n         * Focus to editor\n         */\n        ;\n\n        _proto.focus = function focus() {\n          var scrollTop = this.scrollTop();\n          this.editor.focus(); // In webkit, if contenteditable element focus method have been invoked when another input element has focus,\n          // contenteditable scroll to top automatically so we need scroll it back\n\n          if (scrollTop !== this.scrollTop()) {\n            this.scrollTop(scrollTop);\n          }\n        }\n        /**\n         * Remove focus of editor\n         */\n        ;\n\n        _proto.blur = function blur() {\n          this.editor.blur();\n        }\n        /**\n         * Remove wysiwyg editor\n         */\n        ;\n\n        _proto.remove = function remove() {\n          off_default()(this.editorContainerEl, 'scroll');\n          this.getEditor().destroy();\n          this.editor = null;\n          this.body = null;\n          this.eventManager = null;\n        }\n        /**\n         * Set editor height\n         * @param {number|string} height pixel of height or \"auto\"\n         */\n        ;\n\n        _proto.setHeight = function setHeight(height) {\n          this._height = height;\n          css_default()(this.editorContainerEl, {\n            overflow: 'auto',\n            height: '100%'\n          });\n          css_default()(this.editorContainerEl.parentNode, {\n            height: isNumber_default()(height) ? height + \"px\" : height\n          });\n          var containerStyles = this.editorContainerEl.style;\n          var bodyStyles = this.getBody().style;\n          var paddingHeight = parseInt(containerStyles.paddingTop, 10) - parseInt(containerStyles.paddingBottom, 10);\n          var marginHeight = parseInt(bodyStyles.marginTop, 10) - parseInt(bodyStyles.marginBottom, 10);\n          css_default()(this.getBody(), {\n            minHeight: height - marginHeight - paddingHeight + \"px\"\n          });\n        }\n        /**\n         * Set min height\n         * @param {number} minHeight - min height in px\n         */\n        ;\n\n        _proto.setMinHeight = function setMinHeight(minHeight) {\n          var editorBody = this.getBody();\n          css_default()(editorBody, 'minHeight', minHeight + \"px\");\n        }\n        /**\n         * Set the placeholder to wysiwyg editor\n         * @param {string} placeholder - placeholder to set\n         */\n        ;\n\n        _proto.setPlaceholder = function setPlaceholder(placeholder) {\n          if (placeholder) {\n            this.getEditor().getRoot().setAttribute('data-placeholder', placeholder);\n          }\n        }\n        /**\n         * Get attribute of link for wysiwyg\n         * @returns {object} attribute - attribute of anchor tag\n         */\n        ;\n\n        _proto.getLinkAttribute = function getLinkAttribute() {\n          return this._linkAttribute;\n        }\n        /**\n         * Set value to wysiwyg editor\n         * @param {string} html - HTML text\n         * @param {boolean} [cursorToEnd=true] - move cursor to contents end\n         */\n        ;\n\n        _proto.setValue = function setValue(html, cursorToEnd) {\n          if (cursorToEnd === void 0) {\n            cursorToEnd = true;\n          }\n\n          html = this.eventManager.emitReduce('wysiwygSetValueBefore', html);\n          this.editor.setHTML(html);\n          this.eventManager.emit('wysiwygSetValueAfter', this);\n          this.eventManager.emit('contentChangedFromWysiwyg', this);\n\n          if (cursorToEnd) {\n            this.moveCursorToEnd();\n          }\n\n          this.getEditor().preserveLastLine();\n          this.getEditor().removeLastUndoStack();\n          this.getEditor().saveUndoState();\n        }\n        /**\n         * Insert given text to cursor position or selected area\n         * @param {string} text - text string to insert\n         */\n        ;\n\n        _proto.insertText = function insertText(text) {\n          this.editor.insertPlainText(text);\n        }\n        /**\n         * Get value of wysiwyg editor\n         * @returns {string} html\n         */\n        ;\n\n        _proto.getValue = function getValue() {\n          this._prepareGetHTML();\n\n          var html = this.editor.getHTML(); // empty line replace to br\n\n          html = html.replace(FIND_EMPTY_LINE, function (match, tag) {\n            var result; // we maintain empty list\n\n            if (tag === 'li') {\n              result = match; // we maintain empty table\n            } else if (tag === 'td' || tag === 'th') {\n              result = \"<\" + tag + \"></\" + tag + \">\";\n            } else {\n              result = '<br />';\n            }\n\n            return result;\n          }); // replace a space of the first and end in sapn tag to &nbsp;.\n\n          html = html.replace(FIND_OPENING_SPAN_WITH_SPACE, '<span$1>&nbsp;');\n          html = html.replace(FIND_CLOSING_SPAN_WITH_SPACE, '&nbsp;</span>'); // remove unnecessary brs\n\n          html = html.replace(FIND_UNNECESSARY_BR, '</$1>'); // remove contenteditable block, in this case div\n\n          html = html.replace(/<div[^>]*>/g, '');\n          html = html.replace(/<\\/div>/g, '<br />');\n          html = this.eventManager.emitReduce('wysiwygProcessHTMLText', html);\n          return html;\n        }\n        /**\n         * Prepare before get html\n         * @private\n         */\n        ;\n\n        _proto._prepareGetHTML = function _prepareGetHTML() {\n          var _this7 = this;\n\n          this.getEditor().modifyDocument(function () {\n            _this7._joinSplitedTextNodes();\n\n            _this7.eventManager.emit('wysiwygGetValueBefore', _this7);\n          });\n        }\n        /**\n         * postProcessForChange\n         */\n        ;\n\n        _proto.postProcessForChange = function postProcessForChange() {\n          var _this8 = this;\n\n          if (!this.isEditorValid()) {\n            return;\n          }\n\n          this.getEditor().modifyDocument(function () {\n            _this8.eventManager.emit('wysiwygRangeChangeAfter', _this8);\n          });\n        }\n        /**\n         * Ready to silent change\n         */\n        ;\n\n        _proto.readySilentChange = function readySilentChange() {\n          if (canObserveMutations && !this.getEditor().isIgnoreChange()) {\n            this._silentChange = true;\n          }\n        }\n        /**\n         * Get squire\n         * @returns {SquireExt} squire\n         */\n        ;\n\n        _proto.getEditor = function getEditor() {\n          return this.editor;\n        }\n        /**\n         * Replace text of passed range\n         * @param {string} content Content for change current selection\n         * @param {Range} range range\n         */\n        ;\n\n        _proto.replaceSelection = function replaceSelection(content, range) {\n          this.getEditor().replaceSelection(content, range);\n        }\n        /**\n         * Replace content by relative offset\n         * @param {string} content Content for change current selection\n         * @param {number} offset Offset of current range\n         * @param {number} overwriteLength Length to overwrite content\n         */\n        ;\n\n        _proto.replaceRelativeOffset = function replaceRelativeOffset(content, offset, overwriteLength) {\n          this.getEditor().replaceRelativeOffset(content, offset, overwriteLength);\n        }\n        /**\n         * Add widget to selection\n         * @param {Range} range Range object\n         * @param {Node} node Widget node\n         * @param {string} style Adding style \"over\" or \"bottom\"\n         * @param {number} [offset] Offset to adjust position\n         */\n        ;\n\n        _proto.addWidget = function addWidget(range, node, style, offset) {\n          var pos = this.getEditor().getSelectionPosition(range, style, offset);\n          var editorContainerPos = dom[\"a\"\n          /* default */\n          ].getOffset(this.editorContainerEl);\n          this.editorContainerEl.appendChild(node);\n          css_default()(node, {\n            position: 'absolute',\n            top: pos.top - editorContainerPos.top + this.scrollTop() + \"px\",\n            left: pos.left - editorContainerPos.left + \"px\"\n          });\n        }\n        /**\n         * Get body container of Squire\n         * @returns {HTMLElement} body element\n         */\n        ;\n\n        _proto.getBody = function getBody() {\n          return this.getEditor().getBody();\n        }\n        /**\n         * Check with given regexp whether current path has some format or not\n         * @param {RegExp} rx Regexp\n         * @returns {boolean} Match result\n         */\n        ;\n\n        _proto.hasFormatWithRx = function hasFormatWithRx(rx) {\n          return this.getEditor().getPath().match(rx);\n        }\n        /**\n         * Break line to new default block from passed range\n         * @param {Range} range Range object\n         * @param {string} [where] \"before\" or not\n         */\n        ;\n\n        _proto.breakToNewDefaultBlock = function breakToNewDefaultBlock(range, where) {\n          var div = this.editor.createDefaultBlock();\n          var currentNode = dom[\"a\"\n          /* default */\n          ].getChildNodeByOffset(range.startContainer, range.startOffset) || dom[\"a\"\n          /* default */\n          ].getChildNodeByOffset(range.startContainer, range.startOffset - 1);\n          var appendBefore = dom[\"a\"\n          /* default */\n          ].getParentUntil(currentNode, this.getBody());\n\n          if (where === 'before') {\n            dom[\"a\"\n            /* default */\n            ].insertBefore(div, appendBefore);\n          } else {\n            dom[\"a\"\n            /* default */\n            ].insertAfter(div, appendBefore);\n          }\n\n          range.setStart(div, 0);\n          range.collapse(true);\n          this.setRange(range);\n        }\n        /**\n         * Replace textContet of node\n         * @param {Node} container Container node\n         * @param {string} from Target text to change\n         * @param {string} to Replacement text\n         */\n        ;\n\n        _proto.replaceContentText = function replaceContentText(container, from, to) {\n          var beforeText = container.innerHTML;\n          container.innerHTML = beforeText.replace(from, to);\n        }\n        /**\n         * Unwrap Block tag of current range\n         * @param {function} [condition] iterate with tagName\n         */\n        ;\n\n        _proto.unwrapBlockTag = function unwrapBlockTag(condition) {\n          if (!condition) {\n            condition = function condition(tagName) {\n              return wysiwygEditor_FIND_BLOCK_TAGNAME_RX.test(tagName);\n            };\n          }\n\n          this.getEditor().changeBlockFormat(condition);\n          this.eventManager.emit('wysiwygRangeChangeAfter', this);\n        }\n        /**\n         * move scroll to cursor\n         * scrollIntoView browser function may cause scrolling on document.\n         * this function aims to replace scrollIntoView function to prevent that.\n         * it will move the scroll of squire only.\n         */\n        ;\n\n        _proto.scrollIntoCursor = function scrollIntoCursor() {\n          var scrollTop = this.scrollTop();\n\n          var _this$getEditor$getCu = this.getEditor().getCursorPosition(),\n              cursorTop = _this$getEditor$getCu.top,\n              cursorHeight = _this$getEditor$getCu.height;\n\n          var _this$editorContainer = this.editorContainerEl.getBoundingClientRect(),\n              editorTop = _this$editorContainer.top,\n              editorHeight = _this$editorContainer.height;\n\n          var cursorAboveEditor = cursorTop - editorTop;\n          var cursorBelowEditor = cursorTop + cursorHeight - (editorTop + editorHeight);\n\n          if (cursorAboveEditor < 0) {\n            this.scrollTop(scrollTop + cursorAboveEditor);\n          } else if (cursorBelowEditor > 0) {\n            this.scrollTop(Math.ceil(scrollTop + cursorBelowEditor));\n          }\n        }\n        /**\n         * Set cursor position to end\n         */\n        ;\n\n        _proto.moveCursorToEnd = function moveCursorToEnd() {\n          this.getEditor().moveCursorToEnd();\n          this.scrollIntoCursor();\n\n          this._correctRangeAfterMoveCursor('end');\n        }\n        /**\n         * Set cursor position to start\n         */\n        ;\n\n        _proto.moveCursorToStart = function moveCursorToStart() {\n          this.getEditor().moveCursorToStart();\n          this.scrollTop(0);\n        }\n        /**\n         * Set cursor position to start\n         * @param {number} value Scroll amount\n         * @returns {number} value of scrollTop\n         */\n        ;\n\n        _proto.scrollTop = function scrollTop(value) {\n          if (!isUndefined_default()(value)) {\n            this.editorContainerEl.scrollTop = value;\n          }\n\n          return this.editorContainerEl.scrollTop;\n        }\n        /**\n         * For arrange Range after moveCursorToEnd api invocation. Squire has bug in Firefox, IE.\n         * @param {string} direction Direction of cursor move\n         * @private\n         */\n        ;\n\n        _proto._correctRangeAfterMoveCursor = function _correctRangeAfterMoveCursor(direction) {\n          var range = this.getRange();\n          var cursorContainer = this.getBody();\n\n          if (direction === 'start') {\n            while (cursorContainer.firstChild) {\n              cursorContainer = cursorContainer.firstChild;\n            }\n          } else {\n            while (cursorContainer.lastChild) {\n              cursorContainer = cursorContainer.lastChild;\n            }\n          } // IE have problem with cursor after br\n\n\n          if (cursorContainer.tagName === 'BR') {\n            range.setStartBefore(cursorContainer);\n          } else {\n            range.setStartAfter(cursorContainer);\n          }\n\n          range.collapse(true);\n          this.setRange(range);\n        }\n        /**\n         * Get current Range object\n         * @returns {Range}\n         */\n        ;\n\n        _proto.getRange = function getRange() {\n          return this.getEditor().getSelection().cloneRange();\n        }\n        /**\n         * get IME range\n         * cjk composition causes wrong caret position.\n         * it returns fixed IME composition range\n         * @returns {Range}\n         */\n        ;\n\n        _proto.getIMERange = function getIMERange() {\n          var range;\n          var selection = getSelection();\n\n          if (selection && selection.rangeCount) {\n            range = selection.getRangeAt(0).cloneRange();\n          }\n\n          return range;\n        }\n        /**\n         * get IME range\n         * cjk composition causes wrong caret position.\n         * it sets fixed IME composition range\n         */\n        ;\n\n        _proto.fixIMERange = function fixIMERange() {\n          var range = this.getIMERange(); // range exists and it's an WYSIWYG editor content\n\n          if (range) {\n            var foundEditorElement = !!dom[\"a\"\n            /* default */\n            ].getParentUntil(range.commonAncestorContainer, this.editorContainerEl).parentNode;\n\n            if (foundEditorElement) {\n              this.setRange(range);\n            }\n          }\n        }\n        /**\n         * set range\n         * @param {Range} range - range to set\n         */\n        ;\n\n        _proto.setRange = function setRange(range) {\n          this.getEditor().setSelection(range);\n        }\n        /**\n         * Check whether passed range is in table or not\n         * @param {Range} range range\n         * @returns {boolean} result\n         */\n        ;\n\n        _proto.isInTable = function isInTable(range) {\n          var target = range.collapsed ? range.startContainer : range.commonAncestorContainer;\n          return !!dom[\"a\"\n          /* default */\n          ].closest(target, '[contenteditable=true] table');\n        }\n        /**\n         * Get text object of current range\n         * @param {Range} range Range object\n         * @returns {WwTextObject}\n         */\n        ;\n\n        _proto.getTextObject = function getTextObject(range) {\n          return new wwTextObject(this, range);\n        };\n\n        _proto.defer = function defer(callback, delayOffset) {\n          var _this9 = this;\n\n          var delay = delayOffset ? delayOffset : 0;\n          setTimeout(function () {\n            if (_this9.isEditorValid()) {\n              callback(_this9);\n            }\n          }, delay);\n        };\n\n        _proto.isEditorValid = function isEditorValid() {\n          return this.getEditor() && dom[\"a\"\n          /* default */\n          ].isContain(document.body, this.editorContainerEl);\n        };\n\n        _proto._isCursorNotInRestrictedAreaOfTabAction = function _isCursorNotInRestrictedAreaOfTabAction(editor) {\n          return !editor.hasFormat('li') && !editor.hasFormat('blockquote') && !editor.hasFormat('table');\n        }\n        /**\n         * WysiwygEditor factory method\n         * @param {HTMLElement} el Container element for editor\n         * @param {EventManager} eventManager EventManager instance\n         * @param {object} [options={}] - option object\n         *     @param {boolean} [options.useDefaultHTMLSanitizer=true] - whether to use default html sanitizer\n         * @returns {WysiwygEditor} wysiwygEditor\n         * @ignore\n         */\n        ;\n\n        WysiwygEditor.factory = function factory(el, eventManager, options) {\n          var wwe = new WysiwygEditor(el, eventManager, options);\n          wwe.init(options.useDefaultHTMLSanitizer);\n          wwe.componentManager.addManager(wwListManager);\n          wwe.componentManager.addManager(wwTaskManager);\n          wwe.componentManager.addManager(wwTableSelectionManager);\n          wwe.componentManager.addManager(wwTableManager);\n          wwe.componentManager.addManager(wwHrManager);\n          wwe.componentManager.addManager(wwPManager);\n          wwe.componentManager.addManager(wwHeadingManager);\n          wwe.componentManager.addManager(wwCodeBlockManager);\n          return wwe;\n        };\n\n        return WysiwygEditor;\n      }();\n      /* harmony default export */\n\n\n      var wysiwygEditor = wysiwygEditor_WysiwygEditor; // CONCATENATED MODULE: ./src/js/layout.js\n\n      /**\n       * @fileoverview editor layout\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Editor container template\n       * @type {string}\n       * @ignore\n       */\n\n      var containerTmpl = ['<div class=\"tui-editor\">', '<div class=\"te-md-container\">', '<div class=\"te-editor\"></div>', '<div class=\"te-md-splitter\"></div>', '<div class=\"te-preview\"></div>', '</div>', '<div class=\"te-ww-container\">', '<div class=\"te-editor\"></div>', '</div>', '</div>'].join('');\n      /**\n       * Class Layout\n       * @param {object} options - Option object\n       * @param {EventManager} eventManager - Event manager instance\n       * @ignore\n       */\n\n      var layout_Layout = /*#__PURE__*/function () {\n        function Layout(options, eventManager) {\n          this.el = options.el;\n          this.height = options.height;\n          this.type = options.initialEditType;\n          this.eventManager = eventManager;\n          this.init();\n\n          this._initEvent();\n        }\n        /**\n         * Initializer\n         * @protected\n         */\n\n\n        var _proto = Layout.prototype;\n\n        _proto.init = function init() {\n          this._renderLayout();\n\n          this._initMarkdownAndPreviewSection();\n\n          this._initWysiwygSection();\n        }\n        /**\n         * Initialize show and hide event\n         * @private\n         */\n        ;\n\n        _proto._initEvent = function _initEvent() {\n          this.eventManager.listen('hide', this.hide.bind(this));\n          this.eventManager.listen('show', this.show.bind(this));\n        }\n        /**\n         * Create editor container with template\n         * @private\n         */\n        ;\n\n        _proto._renderLayout = function _renderLayout() {\n          css_default()(this.el, {\n            boxSizing: 'border-box'\n          });\n          this.containerEl = dom[\"a\"\n          /* default */\n          ].createElementWith(containerTmpl, this.el);\n        }\n        /**\n         * Switch editor mode to WYSIWYG\n         */\n        ;\n\n        _proto.switchToWYSIWYG = function switchToWYSIWYG() {\n          removeClass_default()(this.containerEl, 'te-md-mode');\n          addClass_default()(this.containerEl, 'te-ww-mode');\n        }\n        /**\n         * Switch editor mode to Markdown\n         */\n        ;\n\n        _proto.switchToMarkdown = function switchToMarkdown() {\n          removeClass_default()(this.containerEl, 'te-ww-mode');\n          addClass_default()(this.containerEl, 'te-md-mode');\n        }\n        /**\n         * Initialize editor to Markdown and set preview section\n         * @private\n         */\n        ;\n\n        _proto._initMarkdownAndPreviewSection = function _initMarkdownAndPreviewSection() {\n          this.mdEditorContainerEl = this.containerEl.querySelector('.te-md-container .te-editor');\n          this.previewEl = this.containerEl.querySelector('.te-md-container .te-preview');\n        }\n        /**\n         * Initialize editor to WYSIWYG\n         * @private\n         */\n        ;\n\n        _proto._initWysiwygSection = function _initWysiwygSection() {\n          this.wwEditorContainerEl = this.containerEl.querySelector('.te-ww-container .te-editor');\n        }\n        /**\n         * Set preview to vertical split style\n         * @private\n         */\n        ;\n\n        _proto._verticalSplitStyle = function _verticalSplitStyle() {\n          var mdContainer = this.containerEl.querySelector('.te-md-container');\n          removeClass_default()(mdContainer, 'te-preview-style-tab');\n          addClass_default()(mdContainer, 'te-preview-style-vertical');\n        }\n        /**\n         * Set tab style preview mode\n         * @private\n         */\n        ;\n\n        _proto._tabStyle = function _tabStyle() {\n          var mdContainer = this.containerEl.querySelector('.te-md-container');\n          removeClass_default()(mdContainer, 'te-preview-style-vertical');\n          addClass_default()(mdContainer, 'te-preview-style-tab');\n        }\n        /**\n         * Toggle preview style between tab and vertical split\n         * @param {string} style Preview style ('tab' or 'vertical')\n         */\n        ;\n\n        _proto.changePreviewStyle = function changePreviewStyle(style) {\n          if (style === 'tab') {\n            this._tabStyle();\n          } else if (style === 'vertical') {\n            this._verticalSplitStyle();\n          }\n        }\n        /**\n         * Hide Editor\n         */\n        ;\n\n        _proto.hide = function hide() {\n          addClass_default()(this.el.querySelector('.tui-editor'), 'te-hide');\n        }\n        /**\n         * Show Editor\n         */\n        ;\n\n        _proto.show = function show() {\n          removeClass_default()(this.el.querySelector('.tui-editor'), 'te-hide');\n        }\n        /**\n         * Remove Editor\n         */\n        ;\n\n        _proto.remove = function remove() {\n          dom[\"a\"\n          /* default */\n          ].remove(this.el.querySelector('.tui-editor'));\n        }\n        /**\n         * Get wrapped editor container element\n         * @returns {HTMLElement}\n         */\n        ;\n\n        _proto.getEditorEl = function getEditorEl() {\n          return this.containerEl;\n        }\n        /**\n         * Get wrapped preview element\n         * @returns {HTMLElement}\n         */\n        ;\n\n        _proto.getPreviewEl = function getPreviewEl() {\n          return this.previewEl;\n        }\n        /**\n         * Get wrapped Markdown editor element\n         * @returns {HTMLElement}\n         */\n        ;\n\n        _proto.getMdEditorContainerEl = function getMdEditorContainerEl() {\n          return this.mdEditorContainerEl;\n        }\n        /**\n         * Get wrapped WYSIWYG editor element\n         * @returns {HTMLElement}\n         */\n        ;\n\n        _proto.getWwEditorContainerEl = function getWwEditorContainerEl() {\n          return this.wwEditorContainerEl;\n        };\n\n        return Layout;\n      }();\n      /* harmony default export */\n\n\n      var js_layout = layout_Layout; // EXTERNAL MODULE: ./src/js/eventManager.js\n\n      var js_eventManager = __webpack_require__(35); // EXTERNAL MODULE: ./src/js/commandManager.js + 1 modules\n\n\n      var commandManager = __webpack_require__(1); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/array/inArray.js\n\n\n      var inArray = __webpack_require__(13);\n\n      var inArray_default = /*#__PURE__*/__webpack_require__.n(inArray); // CONCATENATED MODULE: ./src/js/importManager.js\n\n      /**\n       * @fileoverview Implement Module for managing import external data such as image\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var URLRegex = /^(https?:\\/\\/)?([\\da-z.-]+)\\.([a-z.]{2,6})(\\/([^\\s]*))?$/g;\n      /**\n       * Class ImportManager\n       * @param {EventManager} eventManager - eventManager\n       * @ignore\n       */\n\n      var importManager_ImportManager = /*#__PURE__*/function () {\n        function ImportManager(eventManager) {\n          this.eventManager = eventManager;\n\n          this._initEvent();\n\n          this._initDefaultImageImporter();\n        }\n        /**\n         * graceful decode uri component\n         * @param {string} originalURI - string to be decoded\n         * @returns {string} decoded string\n         * @static\n         */\n\n\n        ImportManager.decodeURIGraceful = function decodeURIGraceful(originalURI) {\n          var uris = originalURI.split(' ');\n          var decodedURIs = [];\n          var decodedURI;\n          forEachArray_default()(uris, function (uri) {\n            try {\n              decodedURI = decodeURIComponent(uri);\n              decodedURI = decodedURI.replace(/ /g, '%20');\n            } catch (e) {\n              decodedURI = uri;\n            }\n\n            return decodedURIs.push(decodedURI);\n          });\n          return decodedURIs.join(' ');\n        }\n        /**\n         * encode markdown critical characters\n         * @param {string} text - string to encode\n         * @returns {string} - markdown character encoded string\n         * @static\n         */\n        ;\n\n        ImportManager.encodeMarkdownCharacters = function encodeMarkdownCharacters(text) {\n          return text.replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/\\[/g, '%5B').replace(/\\]/g, '%5D').replace(/</g, '%3C').replace(/>/g, '%3E');\n        }\n        /**\n         * escape markdown critical characters\n         * @param {string} text - string to escape\n         * @returns {string} - markdown character escaped string\n         * @static\n         */\n        ;\n\n        ImportManager.escapeMarkdownCharacters = function escapeMarkdownCharacters(text) {\n          return text.replace(/\\(/g, '\\\\(').replace(/\\)/g, '\\\\)').replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]').replace(/</g, '\\\\<').replace(/>/g, '\\\\>');\n        }\n        /**\n         * Initialize event handler\n         * @private\n         */\n        ;\n\n        var _proto = ImportManager.prototype;\n\n        _proto._initEvent = function _initEvent() {\n          var _this = this;\n\n          this.eventManager.listen('drop', function (ev) {\n            var items = ev.data.dataTransfer && ev.data.dataTransfer.files;\n\n            _this._processBlobItems(items, ev.data);\n          });\n          this.eventManager.listen('willPaste', function (ev) {\n            // IE has no interface to handle clipboard image. #976\n            var fragment = ev.data.fragment;\n            var descendant = fragment.querySelectorAll('*'); // only if paste event data has one img element and the element has base64 encoded image\n\n            if (descendant.length !== 1 || descendant[0].tagName !== 'IMG' || !/^data:image/.test(descendant[0].src)) {\n              return;\n            }\n\n            ev.data.preventDefault();\n            var blob = dataURItoBlob(descendant[0].src);\n\n            _this._emitAddImageBlobHook(blob, 'paste');\n          });\n          this.eventManager.listen('paste', function (ev) {\n            _this._processClipboard(ev.data);\n          });\n          this.eventManager.listen('pasteBefore', function (ev) {\n            _this._decodeURL(ev);\n          });\n        }\n        /**\n         * Initialize default image importer\n         * @private\n         */\n        ;\n\n        _proto._initDefaultImageImporter = function _initDefaultImageImporter() {\n          this.eventManager.listen('addImageBlobHook', function (blob, callback) {\n            var reader = new FileReader();\n\n            reader.onload = function (event) {\n              callback(event.target.result);\n            };\n\n            reader.readAsDataURL(blob);\n          });\n        }\n        /**\n         * Emit add image blob hook\n         * @param {object} blob - blob or file\n         * @param {string} type - type of an event the item belongs to. paste or drop\n         * @private\n         */\n        ;\n\n        _proto._emitAddImageBlobHook = function _emitAddImageBlobHook(blob, type) {\n          var _this2 = this;\n\n          this.eventManager.emit('addImageBlobHook', blob, function (imageUrl, altText) {\n            _this2.eventManager.emit('command', 'AddImage', {\n              imageUrl: imageUrl,\n              altText: altText || blob.name || 'image'\n            });\n          }, type);\n        }\n        /**\n         * Decode url when paste link\n         * @param {object} ev - event object\n         * @private\n         */\n        ;\n\n        _proto._decodeURL = function _decodeURL(ev) {\n          var decodeURIGraceful = ImportManager.decodeURIGraceful,\n              encodeMarkdownCharacters = ImportManager.encodeMarkdownCharacters;\n\n          if (ev.source === 'markdown' && ev.data.text) {\n            var texts = ev.data.text;\n            var text = texts[0];\n\n            if (texts.length === 1 && text.match(URLRegex)) {\n              text = decodeURIGraceful(text);\n              text = encodeMarkdownCharacters(text);\n              ev.data.update(null, null, [text]);\n            }\n          } else if (ev.source === 'wysiwyg') {\n            var container = ev.clipboardContainer;\n            var _container$childNodes = container.childNodes,\n                firstChild = _container$childNodes[0];\n            var _text = firstChild.innerText;\n\n            if (container.childNodes.length === 1 && firstChild.tagName === 'A' && _text.match(URLRegex)) {\n              firstChild.innerText = decodeURIGraceful(_text);\n              firstChild.href = encodeMarkdownCharacters(firstChild.href);\n            }\n          }\n        }\n        /**\n         * Get blob or excel data from clipboard\n         * @param {object} evData Clipboard data\n         * @private\n         */\n        ;\n\n        _proto._processClipboard = function _processClipboard(evData) {\n          var cbData = evData.clipboardData || window.clipboardData;\n          var blobItems = cbData && cbData.items;\n          var types = cbData.types;\n\n          if (blobItems && types && types.length === 1 && inArray_default()('Files', [].slice.call(types)) !== -1) {\n            this._processBlobItems(blobItems, evData);\n          }\n        }\n        /**\n         * Process for blob item\n         * @param {Array.<string>} items Item array\n         * @param {object} evData Event data\n         * @private\n         */\n        ;\n\n        _proto._processBlobItems = function _processBlobItems(items, evData) {\n          var _this3 = this;\n\n          if (items) {\n            forEachArray_default()(items, function (item) {\n              if (item.type.indexOf('image') !== -1) {\n                evData.preventDefault();\n                evData.stopPropagation();\n                evData.codemirrorIgnore = true;\n                var blob = item.name ? item : item.getAsFile(); // Blob or File\n\n                _this3._emitAddImageBlobHook(blob, evData.type);\n\n                return false;\n              }\n\n              return true;\n            });\n          }\n        };\n\n        return ImportManager;\n      }();\n      /**\n       * data URI to Blob\n       * @param {string} dataURI - data URI string\n       * @returns {Blob} - blob data\n       * @ignore\n       */\n\n\n      function dataURItoBlob(dataURI) {\n        var byteString = atob(dataURI.split(',')[1]);\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n\n        for (var i = 0; i < byteString.length; i += 1) {\n          ia[i] = byteString.charCodeAt(i);\n        }\n\n        var _dataURI$split = dataURI.split(','),\n            mimeString = _dataURI$split[0];\n\n        var blob = new Blob([ab], {\n          type: mimeString.split(':')[1].split(';')[0]\n        });\n        return blob;\n      }\n      /* harmony default export */\n\n\n      var importManager = importManager_ImportManager; // EXTERNAL MODULE: ./src/js/convertor.js\n\n      var convertor = __webpack_require__(36); // EXTERNAL MODULE: ./src/js/viewer.js\n\n\n      var viewer = __webpack_require__(45); // EXTERNAL MODULE: ./src/js/utils/map.js\n\n\n      var map = __webpack_require__(22); // CONCATENATED MODULE: ./src/js/i18n.js\n\n      /**\n       * @fileoverview Implements i18n\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var DEFAULT_CODE = 'en-US';\n      /**\n       * Class I18n\n       * @ignore\n       */\n\n      var i18n_I18n = /*#__PURE__*/function () {\n        function I18n() {\n          this._code = DEFAULT_CODE;\n          this._langs = new map[\"a\"\n          /* default */\n          ]();\n        }\n        /**\n         * Set locale code\n         * @param {string} code locale code\n         */\n\n\n        var _proto = I18n.prototype;\n\n        _proto.setCode = function setCode(code) {\n          this._code = code;\n        }\n        /**\n         * Set language set\n         * @param {string|string[]} codes locale code\n         * @param {object} data language set\n         */\n        ;\n\n        _proto.setLanguage = function setLanguage(codes, data) {\n          var _this = this;\n\n          codes = [].concat(codes);\n          codes.forEach(function (code) {\n            if (!_this._langs.has(code)) {\n              _this._langs.set(code, data);\n            } else {\n              var langData = _this._langs.get(code);\n\n              _this._langs.set(code, extend_default()(langData, data));\n            }\n          });\n        }\n        /**\n         * Get text of key\n         * @param {string} key key of text\n         * @param {string} code locale code\n         * @returns {string}\n         */\n        ;\n\n        _proto.get = function get(key, code) {\n          if (!code) {\n            code = this._code;\n          }\n\n          var langSet = this._langs.get(code);\n\n          if (!langSet) {\n            langSet = this._langs.get(DEFAULT_CODE);\n          }\n\n          var text = langSet[key];\n\n          if (!text) {\n            throw new Error(\"There is no text key \\\"\" + key + \"\\\" in \" + code);\n          }\n\n          return text;\n        };\n\n        return I18n;\n      }();\n      /* harmony default export */\n\n\n      var i18n = new i18n_I18n(); // EXTERNAL MODULE: ./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\n\n      var ResizeObserver_es = __webpack_require__(53); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isString.js\n\n\n      var isString = __webpack_require__(8);\n\n      var isString_default = /*#__PURE__*/__webpack_require__.n(isString); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/type/isObject.js\n\n\n      var isObject = __webpack_require__(50);\n\n      var isObject_default = /*#__PURE__*/__webpack_require__.n(isObject); // EXTERNAL MODULE: ./node_modules/tui-code-snippet/customEvents/customEvents.js\n\n\n      var customEvents = __webpack_require__(54);\n\n      var customEvents_default = /*#__PURE__*/__webpack_require__.n(customEvents); // CONCATENATED MODULE: ./src/js/ui/uicontroller.js\n\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n      /**\n       * @fileoverview Implements ui controller\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var DOM_EVENTS = ['click', 'mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'scroll'];\n\n      var _uiInstanceId = -1;\n      /**\n       * get ui instance id\n       * @returns {number} - new instance id\n       * @ignore\n       */\n\n\n      function makeUIInstanceId() {\n        _uiInstanceId += 1;\n        return _uiInstanceId;\n      }\n      /**\n       * Class UIController\n       * @param {Object} [options] - options\n       *     @param {HTMLElement} [options.rootElement] - root element\n       *     @param {string} [options.tagName] - tag name\n       *     @param {string} [options.className] - class name\n       */\n\n\n      var uicontroller_UIController = /*#__PURE__*/function () {\n        /**\n         * tag name\n         * @type {string}\n         */\n\n        /**\n         * ui controller class name\n         * @type {string}\n         */\n\n        /**\n         * UI element\n         * @type {Object}\n         */\n\n        /**\n         * UI Id\n         * @type {number}\n         * @private\n         */\n        function UIController(options) {\n          if (options === void 0) {\n            options = {};\n          }\n\n          _defineProperty(this, \"tagName\", void 0);\n\n          _defineProperty(this, \"className\", void 0);\n\n          _defineProperty(this, \"el\", void 0);\n\n          _defineProperty(this, \"_id\", void 0);\n\n          options = extend_default()({\n            tagName: 'div'\n          }, options);\n          this.tagName = options.tagName;\n          this.className = options.className;\n          this._id = makeUIInstanceId();\n          this.customEventManager = new customEvents_default.a();\n\n          this._setRootElement(options.rootElement);\n        }\n        /**\n         * @param {string|object} aType - event name and selector string\n         * @param {function} aFn - event handler\n         */\n\n\n        var _proto = UIController.prototype;\n\n        _proto.on = function on(aType, aFn) {\n          var _this = this;\n\n          if (isObject_default()(aType)) {\n            forEachOwnProperties_default()(aType, function (fn, type) {\n              _this._addEvent(type, fn);\n            });\n          } else {\n            this._addEvent(aType, aFn);\n          }\n        };\n\n        _proto._bindDomEvent = function _bindDomEvent(event, selector, fn) {\n          if (selector) {\n            dom[\"a\"\n            /* default */\n            ].findAll(this.el, selector).forEach(function (el) {\n              on_default()(el, event, fn);\n            });\n          } else {\n            on_default()(this.el, event, fn);\n          }\n        }\n        /**\n         * bind event\n         * @param {string} type - event name and selector\n         * @param {function} fn - handler function\n         * @private\n         */\n        ;\n\n        _proto._addEvent = function _addEvent(type, fn) {\n          var _this$_parseEventType = this._parseEventType(type),\n              event = _this$_parseEventType.event,\n              selector = _this$_parseEventType.selector;\n\n          if (inArray_default()(event, DOM_EVENTS) > -1) {\n            this._bindDomEvent(event, selector, fn);\n          } else {\n            this.customEventManager.on(event, fn);\n          }\n        };\n\n        _proto._unbindDomEvent = function _unbindDomEvent(event, selector, fn) {\n          if (selector) {\n            dom[\"a\"\n            /* default */\n            ].findAll(this.el, selector).forEach(function (el) {\n              off_default()(el, event, fn);\n            });\n          } else {\n            off_default()(this.el, event, fn);\n          }\n        }\n        /**\n         * unbind event handler\n         * @param {string} type - event name and selector\n         * @param {function} fn - handler function\n         */\n        ;\n\n        _proto.off = function off(type, fn) {\n          var _this$_parseEventType2 = this._parseEventType(type),\n              event = _this$_parseEventType2.event,\n              selector = _this$_parseEventType2.selector;\n\n          if (inArray_default()(event, DOM_EVENTS) > -1) {\n            this._unbindDomEvent(event, selector, fn);\n          } else {\n            this.customEventManager.off(event, fn);\n          }\n        }\n        /**\n         * parse string into event name & selector\n         * 'click td' => ['click', 'td']\n         * @param {string} type - string to be parsed\n         * @returns {Object} event, selector\n         * @private\n         */\n        ;\n\n        _proto._parseEventType = function _parseEventType(type) {\n          var splitType = type.split(' ');\n          var event = splitType.shift();\n          var selector = splitType.join(' ');\n          return {\n            event: event,\n            selector: selector\n          };\n        }\n        /**\n         * set root element\n         * @param {HTMLElement} el - root element\n         * @private\n         */\n        ;\n\n        _proto._setRootElement = function _setRootElement(el) {\n          if (!el) {\n            var tagName = this.tagName;\n            el = document.createElement(tagName);\n            el.className = this.className || \"uic\" + this._id;\n          }\n\n          this.el = el;\n        }\n        /**\n         * trigger event\n         * @param {string} eventName - event name\n         * @param {*} eventData - event data\n         */\n        ;\n\n        _proto.trigger = function trigger(eventName, eventData) {\n          this.customEventManager.fire(eventName, eventData);\n        }\n        /**\n         * remove\n         */\n        ;\n\n        _proto.remove = function remove() {\n          if (this.el) {\n            dom[\"a\"\n            /* default */\n            ].remove(this.el);\n          }\n        }\n        /**\n         * destroy\n         */\n        ;\n\n        _proto.destroy = function destroy() {\n          var _this2 = this;\n\n          this.remove();\n          forEachOwnProperties_default()(this, function (value, key) {\n            _this2[key] = null;\n          });\n        };\n\n        return UIController;\n      }();\n      /* harmony default export */\n\n\n      var uicontroller = uicontroller_UIController; // CONCATENATED MODULE: ./src/js/ui/toolbarItem.js\n\n      function toolbarItem_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n\n      function toolbarItem_defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n      /**\n       * @fileoverview Implements Toolbar Item\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class ToolbarItem\n       * @param {Object} [options={name: 'toolbar-item'}] [description]\n       */\n\n\n      var toolbarItem_ToolbarItem = /*#__PURE__*/function (_UIController) {\n        toolbarItem_inheritsLoose(ToolbarItem, _UIController);\n        /**\n         * item name\n         * @type {String}\n         * @static\n         * @private\n         */\n\n        /**\n         * toolbar item class name\n         * @type {String}\n         * @static\n         * @private\n         */\n\n        function ToolbarItem(options) {\n          var _this;\n\n          if (options === void 0) {\n            options = {\n              name: ToolbarItem.name\n            };\n          }\n\n          _this = _UIController.call(this, extend_default()({\n            className: ToolbarItem.className\n          }, options)) || this;\n          _this._name = options.name;\n          return _this;\n        }\n        /**\n         * get the name of the toolbar item\n         * @returns {string} - the name of the toolbar item\n         */\n\n\n        var _proto = ToolbarItem.prototype;\n\n        _proto.getName = function getName() {\n          return this._name;\n        };\n\n        return ToolbarItem;\n      }(uicontroller);\n\n      toolbarItem_defineProperty(toolbarItem_ToolbarItem, \"name\", 'item');\n      toolbarItem_defineProperty(toolbarItem_ToolbarItem, \"className\", 'tui-toolbar-item');\n      /* harmony default export */\n\n      var ui_toolbarItem = toolbarItem_ToolbarItem; // CONCATENATED MODULE: ./src/js/ui/tooltip.js\n\n      /**\n       * @fileoverview Implements tooltip\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var TOOLTIP_CONTENT = '<div class=\"arrow\"></div><span class=\"text\"></span></span>';\n      /**\n       * Class Tooltip\n       * @ignore\n       */\n\n      var tooltip_Tooltip = /*#__PURE__*/function () {\n        function Tooltip() {\n          this.el = dom[\"a\"\n          /* default */\n          ].createElementWith(\"<div class=\\\"tui-tooltip\\\">\" + TOOLTIP_CONTENT + \"</div>\");\n          document.body.appendChild(this.el);\n          this.hide();\n        }\n        /**\n         * show tooltop\n         * @param {HTMLElement} target - target element to bind\n         * @param {String} text - text to show\n         */\n\n\n        var _proto = Tooltip.prototype;\n\n        _proto.show = function show(target, text) {\n          var _domUtils$getOffset = dom[\"a\"\n          /* default */\n          ].getOffset(target),\n              top = _domUtils$getOffset.top,\n              left = _domUtils$getOffset.left;\n\n          css_default()(this.el, {\n            top: top + target.clientHeight + 13 + \"px\",\n            // below the button\n            left: left + 3 + \"px\"\n          });\n          this.el.querySelector('.text').innerHTML = text;\n          css_default()(this.el, {\n            display: 'block'\n          });\n        };\n\n        _proto.hide = function hide() {\n          css_default()(this.el, {\n            display: 'none'\n          });\n        };\n\n        _proto.remove = function remove() {\n          dom[\"a\"\n          /* default */\n          ].remove(this.el);\n        };\n\n        return Tooltip;\n      }();\n      /* harmony default export */\n\n\n      var tooltip = new tooltip_Tooltip(); // CONCATENATED MODULE: ./src/js/ui/toolbarButton.js\n\n      function toolbarButton_assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function toolbarButton_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n\n      function toolbarButton_defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n      /**\n       * @fileoverview Implements UI ToolbarButton\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * @typedef {object} toolbarItemsValue\n       * @property {string} type - type of toolbar item (default value is 'button')\n       * @property {toolbarButtonOptions} options - options of toolbar item\n       */\n\n      /**\n       * @typedef {object} toolbarButtonOptions\n       * @property {HTMLElement} el - target element\n       * @property {string} className - button's class name\n       * @property {string} command - command name to execute on click\n       * @property {string} event - event name to trigger on click\n       * @property {string} text - text on button\n       * @property {string} tooltip - text on tooltip\n       * @property {string} style - button's style\n       * @property {string} state - button's state\n       */\n\n      /**\n       * Class ToolbarButton UI\n       * @param {toolbarButtonOptions} options - button options\n       * @ignore\n       */\n\n\n      var toolbarButton_ToolbarButton = /*#__PURE__*/function (_ToolbarItem) {\n        toolbarButton_inheritsLoose(ToolbarButton, _ToolbarItem);\n        /**\n         * item name\n         * @type {String}\n         * @static\n         */\n\n        /**\n         * ToolbarItem className\n         * @type {String}\n         * @static\n         */\n\n        function ToolbarButton(options) {\n          var _this;\n\n          if (options === void 0) {\n            options = {\n              tagName: 'button',\n              name: ToolbarButton.name\n            };\n          }\n\n          _this = _ToolbarItem.call(this, {\n            name: options.name,\n            tagName: 'button',\n            className: options.className + \" \" + ToolbarButton.className,\n            rootElement: options.el\n          }) || this;\n\n          _this._setOptions(options);\n\n          _this._render();\n\n          _this.on('click', _this._onClick.bind(toolbarButton_assertThisInitialized(_this)));\n\n          if (options.tooltip) {\n            _this.on('mouseover', _this._onOver.bind(toolbarButton_assertThisInitialized(_this)));\n\n            _this.on('mouseout', _this._onOut.bind(toolbarButton_assertThisInitialized(_this)));\n          }\n\n          return _this;\n        }\n        /**\n         * set tooltip text\n         * @param {string} text - tooltip text to show\n         */\n\n\n        var _proto = ToolbarButton.prototype;\n\n        _proto.setTooltip = function setTooltip(text) {\n          this._tooltip = text;\n        };\n\n        _proto._setOptions = function _setOptions(options) {\n          this._command = options.command;\n          this._event = options.event;\n          this._text = options.text;\n          this._tooltip = options.tooltip;\n          this._style = options.style;\n          this._state = options.state;\n        };\n\n        _proto._render = function _render() {\n          var text = document.createTextNode(this._text || '');\n          this.el.appendChild(text);\n          this.el.setAttribute('type', 'button');\n\n          if (this._style) {\n            this.el.setAttribute('style', this._style);\n          }\n        };\n\n        _proto._onClick = function _onClick() {\n          if (!this.isEnabled()) {\n            return;\n          }\n\n          if (this._command) {\n            this.trigger('command', this._command);\n          } else if (this._event) {\n            this.trigger('event', this._event);\n          }\n\n          this.trigger('clicked');\n        };\n\n        _proto._onOver = function _onOver() {\n          if (!this.isEnabled()) {\n            return;\n          }\n\n          tooltip.show(this.el, this._tooltip);\n        };\n\n        _proto._onOut = function _onOut() {\n          tooltip.hide();\n        }\n        /**\n         * enable button\n         */\n        ;\n\n        _proto.enable = function enable() {\n          this.el.disabled = false;\n        }\n        /**\n         * disable button\n         */\n        ;\n\n        _proto.disable = function disable() {\n          this.el.disabled = true;\n        }\n        /**\n         * check whether this button is enabled\n         * @returns {Boolean} - true for enabled\n         */\n        ;\n\n        _proto.isEnabled = function isEnabled() {\n          return !this.el.disabled;\n        };\n\n        return ToolbarButton;\n      }(ui_toolbarItem);\n\n      toolbarButton_defineProperty(toolbarButton_ToolbarButton, \"name\", 'button');\n      toolbarButton_defineProperty(toolbarButton_ToolbarButton, \"className\", 'tui-toolbar-icons');\n      /* harmony default export */\n\n      var toolbarButton = toolbarButton_ToolbarButton; // CONCATENATED MODULE: ./src/js/ui/toolbarDivider.js\n\n      function toolbarDivider_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n\n      function toolbarDivider_defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n      /**\n       * @fileoverview Implements Toolbar Divider\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class ToolbarDivider\n       * @ignore\n       */\n\n\n      var ToolbarDivider = /*#__PURE__*/function (_ToolbarItem) {\n        toolbarDivider_inheritsLoose(ToolbarDivider, _ToolbarItem);\n        /**\n         * item name\n         * @type {String}\n         * @static\n         */\n\n        /**\n         * item class name\n         * @type {String}\n         * @static\n         */\n\n        function ToolbarDivider() {\n          return _ToolbarItem.call(this, {\n            name: ToolbarDivider.name,\n            tagName: 'div',\n            className: ToolbarDivider.className\n          }) || this;\n        }\n\n        return ToolbarDivider;\n      }(ui_toolbarItem);\n\n      toolbarDivider_defineProperty(ToolbarDivider, \"name\", 'divider');\n      toolbarDivider_defineProperty(ToolbarDivider, \"className\", 'tui-toolbar-divider');\n      /* harmony default export */\n\n      var toolbarDivider = ToolbarDivider; // CONCATENATED MODULE: ./src/js/ui/toolbarItemFactory.js\n\n      /**\n       * @fileoverview Implements Toolbar Item Factory\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Toolbar Item Factory\n       * @ignore\n       */\n\n      var toolbarItemFactory_ToolbarItemFactory = /*#__PURE__*/function () {\n        function ToolbarItemFactory() {}\n        /**\n         * create toolbar item instance\n         * @param {string} name - toolbar item name\n         * @param {object} [options] - options to the constructor\n         * @return {ToolbarItem} - created toolbar item instance\n         * @static\n         */\n\n        /* eslint-disable complexity */\n\n\n        ToolbarItemFactory.create = function create(name, options) {\n          var toolbarItem;\n\n          switch (name) {\n            case 'heading':\n              toolbarItem = new toolbarButton({\n                name: 'heading',\n                className: 'tui-heading',\n                event: 'openHeadingSelect',\n                tooltip: i18n.get('Headings'),\n                state: 'heading'\n              });\n              break;\n\n            case 'bold':\n              toolbarItem = new toolbarButton({\n                name: 'bold',\n                className: 'tui-bold',\n                command: 'Bold',\n                tooltip: i18n.get('Bold'),\n                state: 'strong'\n              });\n              break;\n\n            case 'italic':\n              toolbarItem = new toolbarButton({\n                name: 'italic',\n                className: 'tui-italic',\n                command: 'Italic',\n                tooltip: i18n.get('Italic'),\n                state: 'emph'\n              });\n              break;\n\n            case 'strike':\n              toolbarItem = new toolbarButton({\n                name: 'strike',\n                className: 'tui-strike',\n                command: 'Strike',\n                tooltip: i18n.get('Strike'),\n                state: 'strike'\n              });\n              break;\n\n            case 'hr':\n              toolbarItem = new toolbarButton({\n                name: 'hr',\n                className: 'tui-hrline',\n                command: 'HR',\n                tooltip: i18n.get('Line'),\n                state: 'thematicBreak'\n              });\n              break;\n\n            case 'quote':\n              toolbarItem = new toolbarButton({\n                name: 'quote',\n                className: 'tui-quote',\n                command: 'Blockquote',\n                tooltip: i18n.get('Blockquote'),\n                state: 'blockQuote'\n              });\n              break;\n\n            case 'ul':\n              toolbarItem = new toolbarButton({\n                name: 'ul',\n                className: 'tui-ul',\n                command: 'UL',\n                tooltip: i18n.get('Unordered list'),\n                state: 'list'\n              });\n              break;\n\n            case 'ol':\n              toolbarItem = new toolbarButton({\n                name: 'ol',\n                className: 'tui-ol',\n                command: 'OL',\n                tooltip: i18n.get('Ordered list'),\n                state: 'orderedList'\n              });\n              break;\n\n            case 'task':\n              toolbarItem = new toolbarButton({\n                name: 'task',\n                className: 'tui-task',\n                command: 'Task',\n                tooltip: i18n.get('Task'),\n                state: 'taskList'\n              });\n              break;\n\n            case 'table':\n              toolbarItem = new toolbarButton({\n                name: 'table',\n                className: 'tui-table',\n                event: 'openPopupAddTable',\n                tooltip: i18n.get('Insert table'),\n                state: 'table'\n              });\n              break;\n\n            case 'image':\n              toolbarItem = new toolbarButton({\n                name: 'image',\n                className: 'tui-image',\n                event: 'openPopupAddImage',\n                tooltip: i18n.get('Insert image'),\n                state: ''\n              });\n              break;\n\n            case 'link':\n              toolbarItem = new toolbarButton({\n                name: 'link',\n                className: 'tui-link',\n                event: 'openPopupAddLink',\n                tooltip: i18n.get('Insert link')\n              });\n              break;\n\n            case 'code':\n              toolbarItem = new toolbarButton({\n                name: 'code',\n                className: 'tui-code',\n                command: 'Code',\n                tooltip: i18n.get('Code'),\n                state: 'code'\n              });\n              break;\n\n            case 'codeblock':\n              toolbarItem = new toolbarButton({\n                name: 'codeblock',\n                className: 'tui-codeblock',\n                command: 'CodeBlock',\n                tooltip: i18n.get('Insert CodeBlock'),\n                state: 'codeBlock'\n              });\n              break;\n\n            case 'indent':\n              toolbarItem = new toolbarButton({\n                name: 'indent',\n                className: 'tui-indent',\n                command: 'Indent',\n                tooltip: i18n.get('Indent')\n              });\n              break;\n\n            case 'outdent':\n              toolbarItem = new toolbarButton({\n                name: 'outdent',\n                className: 'tui-outdent',\n                command: 'Outdent',\n                tooltip: i18n.get('Outdent')\n              });\n              break;\n\n            case 'divider':\n              toolbarItem = new toolbarDivider();\n              break;\n\n            case 'button':\n              toolbarItem = new toolbarButton(options);\n              break;\n\n            case 'item':\n            default:\n              toolbarItem = new ui_toolbarItem(options);\n          }\n\n          return toolbarItem;\n        }\n        /* eslint-enable complexity */\n        ;\n\n        return ToolbarItemFactory;\n      }();\n      /* harmony default export */\n\n\n      var toolbarItemFactory = toolbarItemFactory_ToolbarItemFactory; // CONCATENATED MODULE: ./src/js/ui/toolbar.js\n\n      function toolbar_assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function toolbar_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n\n      function toolbar_defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n      /**\n       * @fileoverview Implements toolbar\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class Toolbar\n       * @param {EventManager} eventManager - event manager\n       * @param {ToolbarItem[]} [items=[]] - toolbar items\n       */\n\n\n      var toolbar_Toolbar = /*#__PURE__*/function (_UIController) {\n        toolbar_inheritsLoose(Toolbar, _UIController);\n        /**\n         * items\n         * @type {Array}\n         * @private\n         */\n\n        /**\n         * event manager\n         * @type {EventManager}\n         * @private\n         */\n\n        function Toolbar(eventManager, items) {\n          var _this;\n\n          if (items === void 0) {\n            items = [];\n          }\n\n          _this = _UIController.call(this, {\n            tagName: 'div',\n            className: 'tui-editor-defaultUI-toolbar'\n          }) || this;\n          toolbar_defineProperty(toolbar_assertThisInitialized(_this), \"_items\", []);\n          toolbar_defineProperty(toolbar_assertThisInitialized(_this), \"_eventManager\", void 0);\n          _this._eventManager = eventManager;\n\n          _this.setItems(items);\n\n          _this._initEvent(eventManager);\n\n          return _this;\n        }\n        /**\n         * init event\n         * @param  {EventManager} eventManager - event manager\n         * @private\n         * @override\n         */\n\n\n        var _proto = Toolbar.prototype;\n\n        _proto._initEvent = function _initEvent(eventManager) {\n          var _this2 = this;\n\n          eventManager.listen('stateChange', function (ev) {\n            _this2._items.forEach(function (item) {\n              if (item._state) {\n                dom[\"a\"\n                /* default */\n                ].toggleClass(item.el, 'active', !!ev[item._state]);\n              }\n            });\n          });\n          eventManager.listen('changePreviewTabPreview', function () {\n            return _this2.disableAllButton();\n          });\n          eventManager.listen('changePreviewTabWrite', function () {\n            return _this2.enableAllButton();\n          });\n          eventManager.listen('changeMode', function () {\n            return _this2.enableAllButton();\n          });\n        }\n        /**\n         * disable all toolbar button\n         */\n        ;\n\n        _proto.disableAllButton = function disableAllButton() {\n          this._items.forEach(function (item) {\n            if (item instanceof toolbarButton) {\n              item.disable();\n            }\n          });\n        }\n        /**\n         * enable all toolbar button\n         */\n        ;\n\n        _proto.enableAllButton = function enableAllButton() {\n          this._items.forEach(function (item) {\n            if (item instanceof toolbarButton) {\n              item.enable();\n            }\n          });\n        }\n        /**\n         * get toolbar items\n         * @returns {ToolbarItem[]} - toolbar items\n         */\n        ;\n\n        _proto.getItems = function getItems() {\n          return this._items.slice(0);\n        }\n        /**\n         * get toolbar item at given index\n         * @param  {number} index - item index\n         * @returns {ToolbarItem} - toolbar item at the index\n         */\n        ;\n\n        _proto.getItem = function getItem(index) {\n          return this._items[index];\n        }\n        /**\n         * set toolbar items\n         * @param {ToolbarItem[]} items - toolbar items\n         */\n        ;\n\n        _proto.setItems = function setItems(items) {\n          this.removeAllItems();\n          items.forEach(this.addItem.bind(this));\n        }\n        /**\n         * add toolbar item\n         * @param {ToolbarItem|string|object} item - toolbar item\n         */\n        ;\n\n        _proto.addItem = function addItem(item) {\n          this.insertItem(this._items.length, item);\n        }\n        /**\n         * insert toolbar item\n         * @param  {number} index - index at given item inserted\n         * @param  {ToolbarItem|string|object} item - toolbar item\n         */\n        ;\n\n        _proto.insertItem = function insertItem(index, item) {\n          var _this3 = this;\n\n          if (isString_default()(item)) {\n            item = toolbarItemFactory.create(item);\n          } else if (isString_default()(item.type)) {\n            item = toolbarItemFactory.create(item.type, item.options);\n          }\n\n          var children = this.el.children;\n\n          if (index >= 0 && index < children.length) {\n            dom[\"a\"\n            /* default */\n            ].insertBefore(item.el, children[index]);\n\n            this._items.splice(index, 0, item);\n          } else {\n            this.el.appendChild(item.el);\n\n            this._items.push(item);\n          }\n\n          item.onCommandHandler = function (commandName) {\n            return _this3._eventManager.emit('command', commandName);\n          };\n\n          item.onEventHandler = function (eventName) {\n            return _this3._eventManager.emit(eventName);\n          };\n\n          item.on('command', item.onCommandHandler);\n          item.on('event', item.onEventHandler);\n        }\n        /**\n         * get index of given item\n         * @param  {ToolbarItem} item - toolbar item\n         * @returns {number} - index of given toolbar item\n         */\n        ;\n\n        _proto.indexOfItem = function indexOfItem(item) {\n          var index;\n\n          if (item instanceof ui_toolbarItem) {\n            index = this._items.indexOf(item);\n          } else if (isString_default()(item)) {\n            var itemName = item;\n            index = this._items.map(function (itemToTest) {\n              return itemToTest.getName();\n            }).indexOf(itemName);\n          }\n\n          return index;\n        }\n        /**\n         * remove an item\n         * @param  {ToolbarItem|number} item - an toolbar item or index of the item to remove\n         * @param  {boolean} destroy - destroy item or not\n         * @returns {ToolbarItem|undefined} - removed item\n         */\n        ;\n\n        _proto.removeItem = function removeItem(item, destroy) {\n          if (destroy === void 0) {\n            destroy = true;\n          }\n\n          var index;\n          var removedItem;\n\n          if (item instanceof ui_toolbarItem) {\n            index = this.indexOfItem(item);\n          } else {\n            index = item;\n          }\n\n          if (index >= 0) {\n            removedItem = this._items.splice(index, 1)[0];\n          }\n\n          if (removedItem) {\n            if (destroy) {\n              removedItem.destroy();\n            } else {\n              removedItem.off('command', removedItem.onCommandHandler);\n              removedItem.off('event', removedItem.onEventHandler);\n              dom[\"a\"\n              /* default */\n              ].remove(removedItem.el);\n            }\n          }\n\n          return removedItem;\n        }\n        /**\n         * remove all toolbar items\n         */\n        ;\n\n        _proto.removeAllItems = function removeAllItems() {\n          while (this._items && this._items.length > 0) {\n            this.removeItem(0);\n          }\n        }\n        /**\n         * destroy instance\n         * @override\n         */\n        ;\n\n        _proto.destroy = function destroy() {\n          this.removeAllItems();\n\n          _UIController.prototype.destroy.call(this);\n        };\n\n        return Toolbar;\n      }(uicontroller);\n      /* harmony default export */\n\n\n      var ui_toolbar = toolbar_Toolbar; // CONCATENATED MODULE: ./src/js/ui/layerpopup.js\n\n      function layerpopup_assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function layerpopup_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements LayerPopup\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var CLASS_PREFIX = 'tui-popup-';\n      var CLASS_FIT_WINDOW = 'fit-window';\n      var LAYOUT_TEMPLATE_MODELESS = \"<div class=\\\"\" + CLASS_PREFIX + \"header\\\">\\n        <span class=\\\"\" + CLASS_PREFIX + \"title\\\"></span>\\n        <div class=\\\"\" + CLASS_PREFIX + \"header-buttons\\\">\\n            <button type=\\\"button\\\" class=\\\"\" + CLASS_PREFIX + \"close-button\\\"></button>\\n        </div>\\n    </div>\\n    <div class=\\\"\" + CLASS_PREFIX + \"body\\\"></div>\";\n      var LAYOUT_TEMPLATE_MODAL = \"<div class=\\\"\" + CLASS_PREFIX + \"wrapper\\\">\\n        <div class=\\\"\" + CLASS_PREFIX + \"header\\\">\\n            <span class=\\\"\" + CLASS_PREFIX + \"title\\\"></span>\\n            <div class=\\\"\" + CLASS_PREFIX + \"header-buttons\\\">\\n                <button type=\\\"button\\\" class=\\\"\" + CLASS_PREFIX + \"close-button\\\"></button>\\n            </div>\\n        </div>\\n        <div class=\\\"\" + CLASS_PREFIX + \"body\\\"></div>\\n    </div>\";\n      /**\n       * A number, or a string containing a number.\n       * @typedef {object} LayerPopupOption\n       * @property {string[]} [openerCssQuery] - Css Query list to bind clickevent that open popup\n       * @property {string[]} [closerCssQuery] - Css Query list to bind clickevent that close popup\n       * @property {HTMLElement} el - popup root element\n       * @property {HTMLElement|string} [content] - popup content that html string or element\n       * @property {string} [textContent] - popup text content\n       * @property {string} title - popup title\n       * @property {boolean} [header] - whether to draw header\n       * @property {HTMLElement} [target] - element to append popup\n       * @property {boolean} modal - true: modal, false: modeless\n       * @property {string} [headerButtons] - replace header(close) button\n       */\n\n      /**\n       * Class LayerPopup\n       * @param {LayerPopupOption} options - popup option\n       */\n\n      var layerpopup_LayerPopup = /*#__PURE__*/function (_UIController) {\n        layerpopup_inheritsLoose(LayerPopup, _UIController);\n\n        function LayerPopup(options) {\n          var _this;\n\n          options = extend_default()({\n            header: true,\n            target: document.body,\n            textContent: ''\n          }, options);\n          _this = _UIController.call(this, {\n            tagName: 'div',\n            className: options.modal ? CLASS_PREFIX + \"modal-background\" : CLASS_PREFIX + \"wrapper\",\n            rootElement: options.el\n          }) || this;\n          _this._clickEventMap = {};\n          _this._onClickCloseButton = _this.hide.bind(layerpopup_assertThisInitialized(_this));\n\n          _this._initInstance(options);\n\n          _this._initDOM(options);\n\n          _this._initDOMEvent(options);\n\n          _this._initEditorEvent(options);\n\n          return _this;\n        }\n        /**\n         * init instance.\n         * store properties & prepare before initialize DOM\n         * @param {LayerPopupOption} options - layer popup options\n         * @private\n         */\n\n\n        var _proto = LayerPopup.prototype;\n\n        _proto._initInstance = function _initInstance(options) {\n          this._target = options.target;\n\n          if (options.el) {\n            this.el = options.el;\n            this._isExternalHtmlUse = true;\n          }\n\n          if (options.content) {\n            this.content = options.content;\n          } else {\n            this.content = options.textContent;\n          }\n\n          this.options = options;\n        }\n        /**\n         * initialize DOM, render popup\n         * @private\n         */\n        ;\n\n        _proto._initDOM = function _initDOM() {\n          this._initLayout();\n\n          if (!this._isExternalHtmlUse) {\n            if (isExisty_default()(this.options.title)) {\n              this.setTitle(this.options.title);\n            }\n\n            this.setContent(this.content);\n          }\n\n          var buttons = this.options.headerButtons;\n\n          if (buttons) {\n            var closeButtons = dom[\"a\"\n            /* default */\n            ].findAll(this.el, \".\" + CLASS_PREFIX + \"close-button\");\n            closeButtons.forEach(function (button) {\n              dom[\"a\"\n              /* default */\n              ].remove(button);\n            });\n            var buttonWrapper = this.el.querySelector(\".\" + CLASS_PREFIX + \"header-buttons\");\n            dom[\"a\"\n            /* default */\n            ].empty(buttonWrapper);\n            buttonWrapper.innerHTML = buttons;\n          }\n\n          if (this.options.css) {\n            css_default()(this.el, this.options.css);\n          }\n        }\n        /**\n         * bind DOM events\n         * @private\n         */\n        ;\n\n        _proto._initDOMEvent = function _initDOMEvent() {\n          var _this2 = this;\n\n          var _this$options = this.options,\n              openerCssQuery = _this$options.openerCssQuery,\n              closerCssQuery = _this$options.closerCssQuery;\n          var _document = document,\n              body = _document.body;\n\n          if (openerCssQuery) {\n            dom[\"a\"\n            /* default */\n            ].findAll(body, openerCssQuery).forEach(function (el) {\n              var eventKey = \"click.\" + _this2._id;\n              _this2._clickEventMap[eventKey] = _this2.show.bind(_this2);\n              on_default()(el, 'click', _this2._clickEventMap[eventKey]);\n            });\n          }\n\n          if (closerCssQuery) {\n            dom[\"a\"\n            /* default */\n            ].findAll(body, closerCssQuery).forEach(function (el) {\n              var eventKey = \"click.\" + _this2._id;\n              _this2._clickEventMap[eventKey] = _this2.hide.bind(_this2);\n              on_default()(el, 'click', _this2._clickEventMap[eventKey]);\n            });\n          }\n\n          this.on(\"click .\" + CLASS_PREFIX + \"close-button\", this._onClickCloseButton);\n        }\n        /**\n         * bind editor events\n         * @private\n         * @abstract\n         */\n        ;\n\n        _proto._initEditorEvent = function _initEditorEvent() {};\n\n        _proto._initLayout = function _initLayout() {\n          var options = this.options;\n\n          if (!this._isExternalHtmlUse) {\n            var layout = options.modal ? LAYOUT_TEMPLATE_MODAL : LAYOUT_TEMPLATE_MODELESS;\n            this.el.innerHTML = layout;\n\n            if (options.className) {\n              addClass_default.a.apply(void 0, [this.el].concat(options.className.split(/\\s+/g)));\n            }\n\n            this.hide();\n\n            this._target.appendChild(this.el);\n\n            this.body = this.el.querySelector(\".\" + CLASS_PREFIX + \"body\");\n\n            if (!options.header) {\n              dom[\"a\"\n              /* default */\n              ].remove(this.el.querySelector(\".\" + CLASS_PREFIX + \"header\"));\n            }\n          } else {\n            this.hide();\n\n            this._target.appendChild(this.el);\n          }\n        }\n        /**\n         * set popup content\n         * @param {HTMLElement|string} content - content\n         */\n        ;\n\n        _proto.setContent = function setContent(content) {\n          dom[\"a\"\n          /* default */\n          ].empty(this.body);\n\n          if (isString_default()(content)) {\n            this.body.innerHTML = content;\n          } else {\n            this.body.appendChild(content);\n          }\n        }\n        /**\n         * set title\n         * @param {string} title - title text\n         */\n        ;\n\n        _proto.setTitle = function setTitle(title) {\n          var titleWrapper = this.el.querySelector(\".\" + CLASS_PREFIX + \"title\");\n          dom[\"a\"\n          /* default */\n          ].empty(titleWrapper);\n          titleWrapper.innerHTML = title;\n        }\n        /**\n         * get title element\n         * @returns {HTMLElement} - title html element\n         */\n        ;\n\n        _proto.getTitleElement = function getTitleElement() {\n          return this.el.querySelector(\".\" + CLASS_PREFIX + \"title\");\n        }\n        /**\n         * hide popup\n         */\n        ;\n\n        _proto.hide = function hide() {\n          css_default()(this.el, {\n            display: 'none'\n          });\n          this._isShow = false;\n          this.trigger('hidden', this);\n        }\n        /**\n         * show popup\n         */\n        ;\n\n        _proto.show = function show() {\n          css_default()(this.el, {\n            display: 'block'\n          });\n          this._isShow = true;\n          this.trigger('shown', this);\n        }\n        /**\n         * whether this popup is visible\n         * @returns {boolean} - true: shown, false: hidden\n         */\n        ;\n\n        _proto.isShow = function isShow() {\n          return this._isShow;\n        }\n        /**\n         * remove popup content\n         */\n        ;\n\n        _proto.remove = function remove() {\n          var _this3 = this;\n\n          var _this$options2 = this.options,\n              openerCssQuery = _this$options2.openerCssQuery,\n              closerCssQuery = _this$options2.closerCssQuery;\n          var _document2 = document,\n              body = _document2.body;\n          this.trigger('remove', this);\n          this.off(\"click .\" + CLASS_PREFIX + \"close-button\", this._onClickCloseButton);\n\n          if (openerCssQuery) {\n            dom[\"a\"\n            /* default */\n            ].findAll(body, openerCssQuery).forEach(function (opener) {\n              off_default()(opener, 'click', _this3._clickEventMap[\"click.\" + _this3._id]);\n              delete _this3._clickEventMap[\"click.\" + _this3._id];\n            });\n          }\n\n          if (closerCssQuery) {\n            dom[\"a\"\n            /* default */\n            ].findAll(body, closerCssQuery).forEach(function (closer) {\n              off_default()(closer, 'click', _this3._clickEventMap[\"click.\" + _this3._id]);\n              delete _this3._clickEventMap[\"click.\" + _this3._id];\n            });\n          }\n\n          dom[\"a\"\n          /* default */\n          ].remove(this.el);\n          this.el = null;\n        }\n        /**\n         * make popup size fit to window\n         * @param {boolean} fit - true to make popup fit to window\n         * @protected\n         * @ignore\n         */\n        ;\n\n        _proto.setFitToWindow = function setFitToWindow(fit) {\n          dom[\"a\"\n          /* default */\n          ].toggleClass(this.el, CLASS_FIT_WINDOW, fit);\n        }\n        /**\n         * make popup size fit to window\n         * @returns {boolean} - true for fit to window\n         * @protected\n         * @ignore\n         */\n        ;\n\n        _proto.isFitToWindow = function isFitToWindow() {\n          return hasClass_default()(this.el, CLASS_FIT_WINDOW);\n        }\n        /**\n         * toggle size fit to window\n         * @returns {boolean} - true for fit to window\n         * @protected\n         * @ignore\n         */\n        ;\n\n        _proto.toggleFitToWindow = function toggleFitToWindow() {\n          var fitToWindow = !this.isFitToWindow();\n          this.setFitToWindow(fitToWindow);\n          return fitToWindow;\n        };\n\n        return LayerPopup;\n      }(uicontroller);\n      /* harmony default export */\n\n\n      var layerpopup = layerpopup_LayerPopup; // CONCATENATED MODULE: ./src/js/ui/popupDropdownToolbar.js\n\n      function popupDropdownToolbar_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n\n      function popupDropdownToolbar_defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n      /**\n       * @fileoverview implements DefaultToolbar\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class PopupDropdownToolbar\n       * @param {LayerPopupOption} options - layer popup option\n       * @ignore\n       */\n\n\n      var popupDropdownToolbar_PopupDropdownToolbar = /*#__PURE__*/function (_LayerPopup) {\n        popupDropdownToolbar_inheritsLoose(PopupDropdownToolbar, _LayerPopup);\n        /**\n         * open event string\n         * @type {string}\n         */\n\n        function PopupDropdownToolbar(options) {\n          options = extend_default()({\n            header: false,\n            className: 'te-dropdown-toolbar'\n          }, options);\n          return _LayerPopup.call(this, options) || this;\n        }\n        /**\n         * get toolbar instance it contains\n         * @returns {Toolbar} - toolbar instance\n         */\n\n\n        var _proto = PopupDropdownToolbar.prototype;\n\n        _proto.getToolbar = function getToolbar() {\n          return this._toolbar;\n        }\n        /**\n         * get toolbar items\n         * @returns {ToolbarItem[]} - toolbar items\n         */\n        ;\n\n        _proto.getItems = function getItems() {\n          return this.getToolbar().getItems();\n        }\n        /**\n         * get toolbar item at given index\n         * @param  {number} index - item index\n         * @returns {ToolbarItem} - toolbar item at the index\n         */\n        ;\n\n        _proto.getItem = function getItem(index) {\n          return this.getToolbar().getItem(index);\n        }\n        /**\n         * set toolbar items\n         * @param {ToolbarItem[]} items - toolbar items\n         */\n        ;\n\n        _proto.setItems = function setItems(items) {\n          this.getToolbar().setItems(items);\n        }\n        /**\n         * add toolbar item\n         * @param {ToolbarItem|string|object} item - toolbar item\n         */\n        ;\n\n        _proto.addItem = function addItem(item) {\n          this.getToolbar().addItem(item);\n        }\n        /**\n         * insert toolbar item\n         * @param  {number} index - index at given item inserted\n         * @param  {ToolbarItem|string|object} item - toolbar item\n         */\n        ;\n\n        _proto.insertItem = function insertItem(index, item) {\n          this.getToolbar().insertItem(index, item);\n        }\n        /**\n         * get index of given item\n         * @param  {ToolbarItem} item - toolbar item\n         * @returns {number} - index of given toolbar item\n         */\n        ;\n\n        _proto.indexOfItem = function indexOfItem(item) {\n          return this.getToolbar().indexOfItem(item);\n        }\n        /**\n         * remove an item\n         * @param  {number} index - item index to remove\n         * @param  {boolean} destroy - destroy item or not\n         * @returns {ToolbarItem} - removed item\n         */\n        ;\n\n        _proto.removeItem = function removeItem(index, destroy) {\n          return this.getToolbar().removeItem(index, destroy);\n        }\n        /**\n         * remove all toolbar items\n         */\n        ;\n\n        _proto.removeAllItems = function removeAllItems() {\n          this.getToolbar().removeAllItems();\n        }\n        /**\n         * init instance.\n         * store properties & prepare before initialize DOM\n         * @param {LayerPopupOption} options - layer popup options\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initInstance = function _initInstance(options) {\n          _LayerPopup.prototype._initInstance.call(this, options);\n\n          var button = options.button,\n              eventManager = options.eventManager;\n          this._button = button;\n          this._eventManager = eventManager;\n          this._toolbar = new ui_toolbar(eventManager);\n        }\n        /**\n         * initialize DOM, render popup\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOM = function _initDOM() {\n          _LayerPopup.prototype._initDOM.call(this);\n\n          this.setContent(this._toolbar.el);\n        }\n        /**\n         * bind editor events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initEditorEvent = function _initEditorEvent() {\n          var _this = this;\n\n          _LayerPopup.prototype._initEditorEvent.call(this);\n\n          this._eventManager.listen('focus', function () {\n            return _this.hide();\n          });\n\n          this._eventManager.listen('closeAllPopup', function () {\n            return _this.hide();\n          });\n\n          this._eventManager.listen(PopupDropdownToolbar.OPEN_EVENT, function () {\n            var isShown = _this.isShow();\n\n            _this._eventManager.emit('closeAllPopup');\n\n            if (!isShown) {\n              _this.show();\n            } // to give toolbar element enough width before the calculation\n\n\n            css_default()(_this.el, {\n              left: '-1000px'\n            });\n            var button = _this._button;\n            var buttonOuterHeightWithMargin = dom[\"a\"\n            /* default */\n            ].getOuterHeight(button, true);\n            var buttonMarginBottom = (buttonOuterHeightWithMargin - dom[\"a\"\n            /* default */\n            ].getOuterHeight(button)) / 2;\n            var top = button.offsetTop + buttonOuterHeightWithMargin - buttonMarginBottom;\n            var left = button.offsetLeft + dom[\"a\"\n            /* default */\n            ].getOuterWidth(button, true) - dom[\"a\"\n            /* default */\n            ].getOuterWidth(_this.el, true);\n            css_default()(_this.el, {\n              top: top + \"px\",\n              left: left + \"px\"\n            });\n          });\n        };\n\n        return PopupDropdownToolbar;\n      }(layerpopup);\n\n      popupDropdownToolbar_defineProperty(popupDropdownToolbar_PopupDropdownToolbar, \"OPEN_EVENT\", 'openDropdownToolbar');\n      /* harmony default export */\n\n      var popupDropdownToolbar = popupDropdownToolbar_PopupDropdownToolbar; // CONCATENATED MODULE: ./src/js/ui/defaultToolbar.js\n\n      function defaultToolbar_assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function defaultToolbar_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n\n      function defaultToolbar_defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n      /**\n       * @fileoverview implements DefaultToolbar\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var MORE_BUTTON_NAME = 'more';\n      /**\n       * Class DefaultToolbar\n       */\n\n      var defaultToolbar_DefaultToolbar = /*#__PURE__*/function (_Toolbar) {\n        defaultToolbar_inheritsLoose(DefaultToolbar, _Toolbar);\n        /**\n         * more button\n         * @type {ToolbarButton}\n         * @private\n         */\n\n        /**\n         * popup dropdown toolbar\n         * @type {PopupDropdownToolbar}\n         * @private\n         */\n\n        /**\n         * resize observer\n         * @type {ResizeObserver}\n         * @private\n         */\n\n        function DefaultToolbar(eventManager, options) {\n          var _this;\n\n          _this = _Toolbar.call(this, eventManager, options) || this;\n          defaultToolbar_defineProperty(defaultToolbar_assertThisInitialized(_this), \"_moreButton\", void 0);\n          defaultToolbar_defineProperty(defaultToolbar_assertThisInitialized(_this), \"_popupDropdownToolbar\", void 0);\n          defaultToolbar_defineProperty(defaultToolbar_assertThisInitialized(_this), \"_observer\", void 0);\n\n          _this._init(eventManager);\n\n          _this._bindWidthChangedEvent();\n\n          return _this;\n        }\n        /**\n         * insert toolbar item\n         * @param  {number} index - index at given item inserted\n         * @param  {ToolbarItem|string|object} item - toolbar item\n         * @override\n         */\n\n\n        var _proto = DefaultToolbar.prototype;\n\n        _proto.insertItem = function insertItem(index, item) {\n          _Toolbar.prototype.insertItem.call(this, index, item);\n\n          this._arrangeMoreButton();\n        };\n\n        _proto._init = function _init(eventManager) {\n          var moreButton = toolbarItemFactory.create('button', {\n            name: MORE_BUTTON_NAME,\n            className: 'tui-more',\n            tooltip: i18n.get('More'),\n            event: popupDropdownToolbar.OPEN_EVENT\n          });\n          this._moreButton = moreButton;\n          this._popupDropdownToolbar = new popupDropdownToolbar({\n            eventManager: eventManager,\n            target: this.el,\n            button: moreButton.el\n          });\n          this.addItem(moreButton);\n        };\n\n        _proto._bindWidthChangedEvent = function _bindWidthChangedEvent() {\n          var _this2 = this;\n\n          this._observer = new ResizeObserver_es[\"a\"\n          /* default */\n          ](function () {\n            _this2._popupDropdownToolbar.hide();\n\n            _this2._balanceButtons();\n          });\n\n          this._observer.observe(this.el);\n        };\n\n        _proto._balanceButtons = function _balanceButtons() {\n          var _this3 = this;\n\n          var dropDownToolbarItems = this._popupDropdownToolbar.getItems();\n\n          dropDownToolbarItems.forEach(function (item) {\n            _this3._popupDropdownToolbar.removeItem(item, false);\n\n            var itemLength = _this3.getItems().length;\n\n            _Toolbar.prototype.insertItem.call(_this3, itemLength, item);\n          });\n          this.removeItem(this._moreButton, false);\n\n          _Toolbar.prototype.insertItem.call(this, 0, this._moreButton);\n\n          var defaultToolbarItems = this.getItems();\n          var overflowItems = defaultToolbarItems.filter(function (item) {\n            return item.el.offsetTop > _this3.el.clientHeight;\n          });\n          overflowItems.forEach(function (item) {\n            _this3.removeItem(item, false);\n\n            _this3._popupDropdownToolbar.addItem(item);\n          });\n\n          this._arrangeMoreButton();\n        };\n\n        _proto._arrangeMoreButton = function _arrangeMoreButton() {\n          if (!this._popupDropdownToolbar) {\n            return;\n          }\n\n          this.removeItem(this._moreButton, false);\n          var hasOverflow = this._popupDropdownToolbar.getItems().length > 0;\n          var itemLength = this.getItems().length;\n\n          if (hasOverflow) {\n            _Toolbar.prototype.insertItem.call(this, itemLength, this._moreButton);\n          }\n        }\n        /**\n         * destroy\n         * @override\n         */\n        ;\n\n        _proto.destroy = function destroy() {\n          if (this._observer) {\n            this._observer.disconnect();\n\n            this._observer = null;\n          }\n        };\n\n        return DefaultToolbar;\n      }(ui_toolbar);\n      /* harmony default export */\n\n\n      var defaultToolbar = defaultToolbar_DefaultToolbar; // CONCATENATED MODULE: ./src/js/ui/tab.js\n\n      function tab_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements tab button ui\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var CLASS_TAB_ACTIVE = 'te-tab-active';\n      /**\n       * Class Tab\n       * @param {object} options - options\n       *     @param {string} [options.initName] - name of the default activated button\n       *     @param {string[]} options.items - button names to be created\n       *     @param {DOMElement[]} options.sections - dom elements for tab\n       *     @param {function} [options.onItemClick] - when button is clicked pass button name to function\n       * @ignore\n       */\n\n      var tab_Tab = /*#__PURE__*/function (_UIController) {\n        tab_inheritsLoose(Tab, _UIController);\n\n        function Tab(options) {\n          var _this;\n\n          if (options === void 0) {\n            options = {};\n          }\n\n          _this = _UIController.call(this, {\n            tagName: 'div',\n            className: 'te-tab'\n          }) || this;\n          _this.sections = options.sections;\n          _this._activeButton = null;\n\n          _this._render(options);\n\n          _this._initEvent(options);\n\n          return _this;\n        }\n\n        var _proto = Tab.prototype;\n\n        _proto._initEvent = function _initEvent(options) {\n          var onItemClick = options.onItemClick;\n\n          if (onItemClick) {\n            this.on('itemClick', onItemClick);\n          }\n\n          this.on('click button', this._onTabButton.bind(this));\n        };\n\n        _proto._render = function _render(options) {\n          var items = options.items,\n              initName = options.initName;\n          var tabButtons = [];\n\n          for (var i = 0, len = items.length; i < len; i += 1) {\n            tabButtons.push(\"<button type=\\\"button\\\" data-index=\\\"\" + i + \"\\\">\" + items[i] + \"</button>\");\n          }\n\n          this.el.innerHTML = tabButtons.join('');\n          this.activate(initName);\n        };\n\n        _proto._findButtonContained = function _findButtonContained(element, selector, text) {\n          return dom[\"a\"\n          /* default */\n          ].findAll(element, selector).filter(function (node) {\n            return new RegExp(text).test(node.textContent);\n          });\n        }\n        /**\n         * Activate section & button\n         * @param {string} name button name to activate\n         */\n        ;\n\n        _proto.activate = function activate(name) {\n          var _this$_findButtonCont = this._findButtonContained(this.el, 'button', name),\n              button = _this$_findButtonCont[0];\n\n          this._activateTabByButton(button);\n        };\n\n        _proto._onTabButton = function _onTabButton(ev) {\n          var button = ev.target;\n\n          this._activateTabByButton(button);\n\n          this.trigger('itemClick', button.textContent);\n        };\n\n        _proto._activateTabByButton = function _activateTabByButton(button) {\n          if (this._isActivatedButton(button)) {\n            return;\n          }\n\n          this._updateClassByButton(button);\n        };\n\n        _proto._updateClassByButton = function _updateClassByButton(activeButton) {\n          // deactivate previously activated button\n          if (this._activeButton) {\n            var sectionIndex = this._activeButton.getAttribute('data-index');\n\n            removeClass_default()(this._activeButton, CLASS_TAB_ACTIVE);\n\n            if (this.sections) {\n              removeClass_default()(this.sections[sectionIndex], CLASS_TAB_ACTIVE);\n            }\n          } // activate new button\n\n\n          addClass_default()(activeButton, CLASS_TAB_ACTIVE);\n          this._activeButton = activeButton;\n          var index = activeButton.getAttribute('data-index');\n\n          if (this.sections) {\n            addClass_default()(this.sections[index], CLASS_TAB_ACTIVE);\n          }\n        };\n\n        _proto._isActivatedButton = function _isActivatedButton(button) {\n          return this._activeButton && this._activeButton.textContent === button.textContent;\n        };\n\n        return Tab;\n      }(uicontroller);\n      /* harmony default export */\n\n\n      var tab = tab_Tab; // CONCATENATED MODULE: ./src/js/ui/modeSwitch.js\n\n      function modeSwitch_assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function modeSwitch_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n\n      function modeSwitch_defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n      /**\n       * @fileoverview Implements ui mode switch\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var MARKDOWN = 'markdown';\n      var WYSIWYG = 'wysiwyg';\n      /**\n       * Class ModeSwitch\n       * UI Control for switch between Markdown and WYSIWYG\n       * @param {HTMLElement} rootElement - root element\n       * @param {string} initialType - initial type of editor\n       */\n\n      var modeSwitch_ModeSwitch = /*#__PURE__*/function (_UIController) {\n        modeSwitch_inheritsLoose(ModeSwitch, _UIController);\n        /**\n         * mode switch type\n         * @property {string} MARKDOWN - Markdown\n         * @property {string} WYSIWYG - WYSIWYG\n         * @static\n         * @ignore\n         */\n\n        /**\n         * mode switch buttons\n         * @type {Object}\n         * @private\n         */\n\n        /**\n         * current mode\n         * @type {String}\n         * @private\n         */\n\n        /**\n         * root element\n         * @type {HTMLElement}\n         * @private\n         */\n\n        function ModeSwitch(rootElement, initialType, eventManager) {\n          var _this;\n\n          _this = _UIController.call(this, {\n            tagName: 'div',\n            className: 'te-mode-switch'\n          }) || this;\n          modeSwitch_defineProperty(modeSwitch_assertThisInitialized(_this), \"_buttons\", {});\n          modeSwitch_defineProperty(modeSwitch_assertThisInitialized(_this), \"_type\", void 0);\n          modeSwitch_defineProperty(modeSwitch_assertThisInitialized(_this), \"_rootElement\", void 0);\n          _this._eventManager = eventManager;\n\n          _this._render(rootElement);\n\n          _this._switchType(isExisty_default()(initialType) ? initialType : MARKDOWN);\n\n          _this._initEvent();\n\n          return _this;\n        }\n        /**\n         * is the switch tab bar shown\n         * @returns {Boolean} - showing status\n         */\n\n\n        var _proto = ModeSwitch.prototype;\n\n        _proto.isShown = function isShown() {\n          return this._rootElement.style.display === 'block';\n        }\n        /**\n         * show switch tab bar\n         */\n        ;\n\n        _proto.show = function show() {\n          css_default()(this._rootElement, {\n            display: 'block'\n          });\n        }\n        /**\n         * hide switch tab bar\n         */\n        ;\n\n        _proto.hide = function hide() {\n          css_default()(this._rootElement, {\n            display: 'none'\n          });\n        };\n\n        _proto._render = function _render(rootElement) {\n          this._buttons.markdown = dom[\"a\"\n          /* default */\n          ].createElementWith(\"<button class=\\\"te-switch-button markdown\\\">\" + i18n.get('Markdown') + \"</button>\");\n          this._buttons.wysiwyg = dom[\"a\"\n          /* default */\n          ].createElementWith(\"<button class=\\\"te-switch-button wysiwyg\\\">\" + i18n.get('WYSIWYG') + \"</button>\");\n          this.el.appendChild(this._buttons.markdown);\n          this.el.appendChild(this._buttons.wysiwyg);\n\n          if (rootElement) {\n            rootElement.appendChild(this.el);\n            this._rootElement = rootElement;\n          }\n\n          this.on('click .markdown', this._changeMarkdown.bind(this));\n          this.on('click .wysiwyg', this._changeWysiwyg.bind(this));\n          this.show();\n        };\n\n        _proto._changeMarkdown = function _changeMarkdown() {\n          this._switchType(MARKDOWN);\n        };\n\n        _proto._changeWysiwyg = function _changeWysiwyg() {\n          this._switchType(WYSIWYG);\n        };\n\n        _proto._setActiveButton = function _setActiveButton(type) {\n          removeClass_default()(this._buttons.markdown, 'active');\n          removeClass_default()(this._buttons.wysiwyg, 'active');\n          addClass_default()(this._buttons[\"\" + type], 'active');\n        };\n\n        _proto._switchType = function _switchType(type) {\n          if (this._type === type) {\n            return;\n          }\n\n          this._type = type;\n\n          this._setActiveButton(type);\n\n          this.trigger('modeSwitched', this._type);\n        };\n\n        _proto._initEvent = function _initEvent() {\n          var _this2 = this;\n\n          this._eventManager.listen('changeMode', function (type) {\n            if (_this2._type !== type) {\n              _this2._type = type;\n\n              _this2._setActiveButton(type);\n            }\n          });\n        };\n\n        return ModeSwitch;\n      }(uicontroller);\n\n      modeSwitch_defineProperty(modeSwitch_ModeSwitch, \"TYPE\", {\n        MARKDOWN: MARKDOWN,\n        WYSIWYG: WYSIWYG\n      });\n      /* harmony default export */\n\n      var ui_modeSwitch = modeSwitch_ModeSwitch; // CONCATENATED MODULE: ./src/js/ui/popupAddLink.js\n\n      function popupAddLink_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements PopupAddLink\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var URL_REGEX = /^(https?:\\/\\/)?([\\da-z.-]+)\\.([a-z.]{2,6})(\\/([^\\s]*))?$/;\n      /**\n       * Class PopupAddLink\n       * It implements a link Add Popup\n       * @param {LayerPopupOption} options - layer popup options\n       * @ignore\n       */\n\n      var popupAddLink_PopupAddLink = /*#__PURE__*/function (_LayerPopup) {\n        popupAddLink_inheritsLoose(PopupAddLink, _LayerPopup);\n\n        function PopupAddLink(options) {\n          var POPUP_CONTENT = \"\\n            <label for=\\\"url\\\">\" + i18n.get('URL') + \"</label>\\n            <input type=\\\"text\\\" class=\\\"te-url-input\\\" />\\n            <label for=\\\"linkText\\\">\" + i18n.get('Link text') + \"</label>\\n            <input type=\\\"text\\\" class=\\\"te-link-text-input\\\" />\\n            <div class=\\\"te-button-section\\\">\\n                <button type=\\\"button\\\" class=\\\"te-ok-button\\\">\" + i18n.get('OK') + \"</button>\\n                <button type=\\\"button\\\" class=\\\"te-close-button\\\">\" + i18n.get('Cancel') + \"</button>\\n            </div>\\n        \";\n          options = extend_default()({\n            header: true,\n            title: i18n.get('Insert link'),\n            className: 'te-popup-add-link tui-editor-popup',\n            content: POPUP_CONTENT\n          }, options);\n          return _LayerPopup.call(this, options) || this;\n        }\n        /**\n         * init instance.\n         * store properties & prepare before initialize DOM\n         * @param {LayerPopupOption} options - layer popup options\n         * @private\n         * @override\n         */\n\n\n        var _proto = PopupAddLink.prototype;\n\n        _proto._initInstance = function _initInstance(options) {\n          _LayerPopup.prototype._initInstance.call(this, options);\n\n          this._editor = options.editor;\n          this._eventManager = options.editor.eventManager;\n        }\n        /**\n         * initialize DOM, render popup\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOM = function _initDOM() {\n          _LayerPopup.prototype._initDOM.call(this);\n\n          var el = this.el;\n          this._inputText = el.querySelector('.te-link-text-input');\n          this._inputURL = el.querySelector('.te-url-input');\n        }\n        /**\n         * bind DOM events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOMEvent = function _initDOMEvent() {\n          var _this = this;\n\n          _LayerPopup.prototype._initDOMEvent.call(this);\n\n          this.on('click .te-close-button', function () {\n            return _this.hide();\n          });\n          this.on('click .te-ok-button', function () {\n            return _this._addLink();\n          });\n          this.on('shown', function () {\n            var inputText = _this._inputText;\n            var inputURL = _this._inputURL;\n\n            var selectedText = _this._editor.getSelectedText().trim();\n\n            inputText.value = selectedText;\n\n            if (URL_REGEX.exec(selectedText)) {\n              inputURL.value = selectedText;\n            }\n\n            inputURL.focus();\n          });\n          this.on('hidden', function () {\n            _this._resetInputs();\n          });\n        }\n        /**\n         * bind editor events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initEditorEvent = function _initEditorEvent() {\n          var _this2 = this;\n\n          _LayerPopup.prototype._initEditorEvent.call(this);\n\n          var eventManager = this._eventManager;\n          eventManager.listen('focus', function () {\n            return _this2.hide();\n          });\n          eventManager.listen('closeAllPopup', function () {\n            return _this2.hide();\n          });\n          eventManager.listen('openPopupAddLink', function () {\n            eventManager.emit('closeAllPopup');\n\n            _this2.show();\n          });\n        };\n\n        _proto._addLink = function _addLink() {\n          var _this$_getValue = this._getValue(),\n              url = _this$_getValue.url,\n              linkText = _this$_getValue.linkText;\n\n          this._clearValidationStyle();\n\n          if (linkText.length < 1) {\n            addClass_default()(this._inputText, 'wrong');\n            return;\n          }\n\n          if (url.length < 1) {\n            addClass_default()(this._inputURL, 'wrong');\n            return;\n          }\n\n          this._eventManager.emit('command', 'AddLink', {\n            linkText: linkText,\n            url: url\n          });\n\n          this.hide();\n        };\n\n        _proto._getValue = function _getValue() {\n          var url = this._inputURL.value;\n          var linkText = this._inputText.value;\n          return {\n            url: url,\n            linkText: linkText\n          };\n        };\n\n        _proto._clearValidationStyle = function _clearValidationStyle() {\n          removeClass_default()(this._inputURL, 'wrong');\n          removeClass_default()(this._inputText, 'wrong');\n        };\n\n        _proto._resetInputs = function _resetInputs() {\n          this._inputText.value = '';\n          this._inputURL.value = '';\n\n          this._clearValidationStyle();\n        };\n\n        return PopupAddLink;\n      }(layerpopup);\n      /* harmony default export */\n\n\n      var popupAddLink = popupAddLink_PopupAddLink; // CONCATENATED MODULE: ./src/js/ui/popupAddImage.js\n\n      function popupAddImage_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements PopupAddImage\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var CLASS_IMAGE_URL_INPUT = 'te-image-url-input';\n      var CLASS_IMAGE_FILE_INPUT = 'te-image-file-input';\n      var CLASS_ALT_TEXT_INPUT = 'te-alt-text-input';\n      var CLASS_OK_BUTTON = 'te-ok-button';\n      var CLASS_CLOSE_BUTTON = 'te-close-button';\n      var CLASS_FILE_TYPE = 'te-file-type';\n      var CLASS_URL_TYPE = 'te-url-type';\n      var CLASS_TAB_SECTION = 'te-tab-section';\n      var TYPE_UI = 'ui';\n      /**\n       * Class PopupAddImage\n       * It implements a Image Add Popup\n       * @param {LayerPopupOption} options - layer popup option\n       * @ignore\n       */\n\n      var popupAddImage_PopupAddImage = /*#__PURE__*/function (_LayerPopup) {\n        popupAddImage_inheritsLoose(PopupAddImage, _LayerPopup);\n\n        function PopupAddImage(options) {\n          var POPUP_CONTENT = \"\\n            <div class=\\\"\" + CLASS_TAB_SECTION + \"\\\"></div>\\n            <div class=\\\"\" + CLASS_URL_TYPE + \"\\\">\\n                <label for=\\\"\\\">\" + i18n.get('Image URL') + \"</label>\\n                <input type=\\\"text\\\" class=\\\"\" + CLASS_IMAGE_URL_INPUT + \"\\\" />\\n            </div>\\n            <form enctype=\\\"multipart/form-data\\\" class=\\\"\" + CLASS_FILE_TYPE + \"\\\">\\n                <label for=\\\"\\\">\" + i18n.get('Select image file') + \"</label>\\n                <input type=\\\"file\\\" class=\\\"\" + CLASS_IMAGE_FILE_INPUT + \"\\\" accept=\\\"image/*\\\" />\\n            </form>\\n            <label for=\\\"url\\\">\" + i18n.get('Description') + \"</label>\\n            <input type=\\\"text\\\" class=\\\"\" + CLASS_ALT_TEXT_INPUT + \"\\\" />\\n            <div class=\\\"te-button-section\\\">\\n                <button type=\\\"button\\\" class=\\\"\" + CLASS_OK_BUTTON + \"\\\">\" + i18n.get('OK') + \"</button>\\n                <button type=\\\"button\\\" class=\\\"\" + CLASS_CLOSE_BUTTON + \"\\\">\" + i18n.get('Cancel') + \"</button>\\n            </div>\\n        \";\n          options = extend_default()({\n            header: true,\n            title: i18n.get('Insert image'),\n            className: 'te-popup-add-image tui-editor-popup',\n            content: POPUP_CONTENT\n          }, options);\n          return _LayerPopup.call(this, options) || this;\n        }\n        /**\n         * init instance.\n         * store properties & prepare before initialize DOM\n         * @param {LayerPopupOption} options - layer popup options\n         * @private\n         * @override\n         */\n\n\n        var _proto = PopupAddImage.prototype;\n\n        _proto._initInstance = function _initInstance(options) {\n          _LayerPopup.prototype._initInstance.call(this, options);\n\n          this.eventManager = options.eventManager;\n        }\n        /**\n         * initialize DOM, render popup\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOM = function _initDOM() {\n          _LayerPopup.prototype._initDOM.call(this);\n\n          var popup = this.el;\n          this._imageUrlInput = popup.querySelector(\".\" + CLASS_IMAGE_URL_INPUT);\n          this._imageFileInput = popup.querySelector(\".\" + CLASS_IMAGE_FILE_INPUT);\n          this._altTextInput = popup.querySelector(\".\" + CLASS_ALT_TEXT_INPUT);\n          var fileTypeSection = popup.querySelector(\".\" + CLASS_FILE_TYPE);\n          var urlTypeSection = popup.querySelector(\".\" + CLASS_URL_TYPE);\n          var tabSection = this.body.querySelector(\".\" + CLASS_TAB_SECTION);\n          this.tab = new tab({\n            initName: i18n.get('File'),\n            items: [i18n.get('File'), i18n.get('URL')],\n            sections: [fileTypeSection, urlTypeSection]\n          });\n          tabSection.appendChild(this.tab.el);\n        }\n        /**\n         * bind DOM events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOMEvent = function _initDOMEvent() {\n          var _this = this;\n\n          _LayerPopup.prototype._initDOMEvent.call(this);\n\n          this.on('shown', function () {\n            return _this._imageUrlInput.focus();\n          });\n          this.on('hidden', function () {\n            return _this._resetInputs();\n          });\n          this.on(\"change .\" + CLASS_IMAGE_FILE_INPUT, function () {\n            var filename = _this._imageFileInput.value.split('\\\\').pop();\n\n            _this._altTextInput.value = filename;\n          });\n          this.on(\"click .\" + CLASS_CLOSE_BUTTON, function () {\n            return _this.hide();\n          });\n          this.on(\"click .\" + CLASS_OK_BUTTON, function () {\n            var imageUrl = _this._imageUrlInput.value;\n            var altText = _this._altTextInput.value;\n\n            if (imageUrl) {\n              _this._applyImage(imageUrl, altText);\n            } else {\n              var files = _this._imageFileInput.files;\n\n              if (files.length) {\n                var imageFile = files.item(0);\n\n                var hookCallback = function hookCallback(url, text) {\n                  return _this._applyImage(url, text || altText);\n                };\n\n                _this.eventManager.emit('addImageBlobHook', imageFile, hookCallback, TYPE_UI);\n              }\n            }\n\n            _this.hide();\n          });\n          this.tab.on('itemClick', function () {\n            return _this._resetInputs();\n          });\n        }\n        /**\n         * bind editor events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initEditorEvent = function _initEditorEvent() {\n          var _this2 = this;\n\n          _LayerPopup.prototype._initEditorEvent.call(this);\n\n          this.eventManager.listen('focus', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('closeAllPopup', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('openPopupAddImage', function () {\n            _this2.eventManager.emit('closeAllPopup');\n\n            _this2.show();\n          });\n        };\n\n        _proto._applyImage = function _applyImage(imageUrl, altText) {\n          this.eventManager.emit('command', 'AddImage', {\n            imageUrl: imageUrl,\n            altText: altText || 'image'\n          });\n          this.hide();\n        };\n\n        _proto._resetInputs = function _resetInputs() {\n          dom[\"a\"\n          /* default */\n          ].findAll(this.el, 'input').forEach(function (input) {\n            input.value = '';\n          });\n        }\n        /**\n         * Remove popup\n         * @override\n         */\n        ;\n\n        _proto.remove = function remove() {\n          this.tab.remove();\n\n          _LayerPopup.prototype.remove.call(this);\n        };\n\n        return PopupAddImage;\n      }(layerpopup);\n      /* harmony default export */\n\n\n      var popupAddImage = popupAddImage_PopupAddImage; // CONCATENATED MODULE: ./src/js/ui/popupTableUtils.js\n\n      function popupTableUtils_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements PopupTableUtils\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var REMOVE_ROW_MENU_CLASS_NAME = 'te-table-remove-row';\n      var DISABLED_MENU_CLASS_NAME = 'te-context-menu-disabled';\n      /**\n       * PopupTableUtils\n       * It implements table utils popup\n       * @param {LayerPopupOption} options - layer popup options\n       */\n\n      var popupTableUtils_PopupTableUtils = /*#__PURE__*/function (_LayerPopup) {\n        popupTableUtils_inheritsLoose(PopupTableUtils, _LayerPopup);\n\n        function PopupTableUtils(options) {\n          var POPUP_CONTENT = \"\\n      <button type=\\\"button\\\" class=\\\"te-table-add-row\\\">\" + i18n.get('Add row') + \"</button>\\n      <button type=\\\"button\\\" class=\\\"te-table-add-col\\\">\" + i18n.get('Add col') + \"</button>\\n      <button type=\\\"button\\\" class=\\\"te-table-remove-row\\\">\" + i18n.get('Remove row') + \"</button>\\n      <button type=\\\"button\\\" class=\\\"te-table-remove-col\\\">\" + i18n.get('Remove col') + \"</button>\\n      <hr/>\\n      <button type=\\\"button\\\" class=\\\"te-table-col-align-left\\\">\" + i18n.get('Align left') + \"</button>\\n      <button type=\\\"button\\\" class=\\\"te-table-col-align-center\\\">\" + i18n.get('Align center') + \"</button>\\n      <button type=\\\"button\\\" class=\\\"te-table-col-align-right\\\">\" + i18n.get('Align right') + \"</button>\\n      <hr/>\\n      <button type=\\\"button\\\" class=\\\"te-table-remove\\\">\" + i18n.get('Remove table') + \"</button>\\n    \";\n          options = extend_default()({\n            header: false,\n            className: 'te-popup-table-utils',\n            content: POPUP_CONTENT\n          }, options);\n          return _LayerPopup.call(this, options) || this;\n        }\n        /**\n         * init instance.\n         * store properties & prepare before initialize DOM\n         * @param {LayerPopupOption} options - layer popup options\n         * @private\n         * @override\n         */\n\n\n        var _proto = PopupTableUtils.prototype;\n\n        _proto._initInstance = function _initInstance(options) {\n          _LayerPopup.prototype._initInstance.call(this, options);\n\n          this.eventManager = options.eventManager;\n        }\n        /**\n         * bind DOM events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOMEvent = function _initDOMEvent() {\n          var _this = this;\n\n          _LayerPopup.prototype._initDOMEvent.call(this);\n\n          this.on('click .te-table-add-row', function () {\n            return _this.eventManager.emit('command', 'AddRow');\n          });\n          this.on('click .te-table-add-col', function () {\n            return _this.eventManager.emit('command', 'AddCol');\n          });\n          this.on('click .te-table-col-align-left', function () {\n            return _this.eventManager.emit('command', 'AlignCol', 'left');\n          });\n          this.on('click .te-table-col-align-center', function () {\n            return _this.eventManager.emit('command', 'AlignCol', 'center');\n          });\n          this.on('click .te-table-col-align-right', function () {\n            return _this.eventManager.emit('command', 'AlignCol', 'right');\n          });\n          this.on('click .te-table-remove-col', function () {\n            return _this.eventManager.emit('command', 'RemoveCol');\n          });\n          this.on('click .te-table-remove', function () {\n            return _this.eventManager.emit('command', 'RemoveTable');\n          });\n\n          this._bindClickEventOnRemoveRowMenu();\n        }\n        /**\n         * bind editor events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initEditorEvent = function _initEditorEvent() {\n          var _this2 = this;\n\n          _LayerPopup.prototype._initEditorEvent.call(this);\n\n          this.eventManager.listen('focus', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('mousedown', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('closeAllPopup', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('openPopupTableUtils', function (ev) {\n            var offset = dom[\"a\"\n            /* default */\n            ].getOffset(_this2.el.parentNode);\n            var x = ev.clientX - offset.left + window.scrollX;\n            var y = ev.clientY - offset.top + window.scrollY;\n\n            _this2._disableRemoveRowMenu(ev.target);\n\n            css_default()(_this2.el, {\n              position: 'absolute',\n              top: y + 5 + \"px\",\n              // beside mouse pointer\n              left: x + 10 + \"px\"\n            });\n\n            _this2.eventManager.emit('closeAllPopup');\n\n            _this2.show();\n          });\n        };\n\n        _proto._bindClickEventOnRemoveRowMenu = function _bindClickEventOnRemoveRowMenu() {\n          var _this3 = this;\n\n          this.on(\"click .\" + REMOVE_ROW_MENU_CLASS_NAME, function (ev) {\n            var target = ev.target;\n\n            if (hasClass_default()(target, DISABLED_MENU_CLASS_NAME)) {\n              ev.preventDefault();\n            } else {\n              _this3.eventManager.emit('command', 'RemoveRow');\n            }\n          });\n        };\n\n        _proto._disableRemoveRowMenu = function _disableRemoveRowMenu(target) {\n          var menu = this.el.querySelector(\".\" + REMOVE_ROW_MENU_CLASS_NAME);\n          dom[\"a\"\n          /* default */\n          ].toggleClass(menu, DISABLED_MENU_CLASS_NAME, target.nodeName === 'TH');\n        };\n\n        return PopupTableUtils;\n      }(layerpopup);\n      /* harmony default export */\n\n\n      var popupTableUtils = popupTableUtils_PopupTableUtils; // CONCATENATED MODULE: ./src/js/ui/popupAddTable.js\n\n      function popupAddTable_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements PopupAddTable\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var CLASS_TABLE_SELECTION = 'te-table-selection';\n      var CLASS_TABLE_HEADER = 'te-table-header';\n      var CLASS_TABLE_BODY = 'te-table-body';\n      var CLASS_SELECTION_AREA = 'te-selection-area';\n      var CLASS_DESCRIPTION = 'te-description';\n      var popupAddTable_POPUP_CONTENT = \"\\n    <div class=\\\"\" + CLASS_TABLE_SELECTION + \"\\\">\\n        <div class=\\\"\" + CLASS_TABLE_HEADER + \"\\\"></div>\\n        <div class=\\\"\" + CLASS_TABLE_BODY + \"\\\"></div>\\n        <div class=\\\"\" + CLASS_SELECTION_AREA + \"\\\"></div>\\n    </div>\\n    <p class=\\\"\" + CLASS_DESCRIPTION + \"\\\"></p>\\n\";\n      var CELL_WIDTH = 25;\n      var CELL_HEIGHT = 17;\n      var MIN_ROW_INDEX = 7;\n      var MAX_ROW_INDEX = 14;\n      var MIN_COL_INDEX = 5;\n      var MAX_COL_INDEX = 9;\n      var MIN_ROW_SELECTION_INDEX = 1;\n      var MIN_COL_SELECTION_INDEX = 1;\n      var HEADER_ROW_COUNT = 1;\n      var LAST_BORDER = 1;\n      /**\n       * Class PopupAddTable\n       * It implements Popup to add a table\n       * @param {LayerPopupOption} options - layer popup option\n       * @ignore\n       */\n\n      var popupAddTable_PopupAddTable = /*#__PURE__*/function (_LayerPopup) {\n        popupAddTable_inheritsLoose(PopupAddTable, _LayerPopup);\n\n        function PopupAddTable(options) {\n          options = extend_default()({\n            header: false,\n            className: 'te-popup-add-table',\n            content: popupAddTable_POPUP_CONTENT\n          }, options);\n          return _LayerPopup.call(this, options) || this;\n        }\n        /**\n         * init instance.\n         * store properties & prepare before initialize DOM\n         * @param {LayerPopupOption} options - layer popup options\n         * @private\n         * @override\n         */\n\n\n        var _proto = PopupAddTable.prototype;\n\n        _proto._initInstance = function _initInstance(options) {\n          _LayerPopup.prototype._initInstance.call(this, options);\n\n          this._selectedBound = {};\n          this._tableBound = {};\n          this._eventManager = options.eventManager;\n          this._button = options.button;\n          this._eventHandlers = {\n            onMousedown: this._selectTableRange.bind(this),\n            onClick: this._fireCommandEvent.bind(this)\n          };\n        }\n        /**\n         * initialize DOM, render popup\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOM = function _initDOM() {\n          _LayerPopup.prototype._initDOM.call(this);\n\n          this._cacheElements();\n\n          this._setTableSizeByBound(MIN_COL_INDEX, MIN_ROW_INDEX);\n        }\n        /**\n         * bind DOM events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOMEvent = function _initDOMEvent(options) {\n          _LayerPopup.prototype._initDOMEvent.call(this, options);\n\n          this.on(\"mousemove .\" + CLASS_TABLE_SELECTION, this._eventHandlers.onMousedown);\n          this.on(\"click .\" + CLASS_TABLE_SELECTION, this._eventHandlers.onClick);\n        };\n\n        _proto._selectTableRange = function _selectTableRange(ev) {\n          var x = ev.pageX - this._selectionOffset.left;\n          var y = ev.pageY - this._selectionOffset.top;\n\n          var bound = this._getSelectionBoundByOffset(x, y);\n\n          this._resizeTableBySelectionIfNeed(bound.col, bound.row);\n\n          this._setSelectionAreaByBound(bound.col, bound.row);\n\n          this._setDisplayText(bound.col, bound.row);\n\n          this._setSelectedBound(bound.col, bound.row);\n        };\n\n        _proto._fireCommandEvent = function _fireCommandEvent() {\n          var tableSize = this._getSelectedTableSize();\n\n          this._eventManager.emit('command', 'Table', tableSize.col, tableSize.row);\n        }\n        /**\n         * bind editor events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initEditorEvent = function _initEditorEvent() {\n          var _this = this;\n\n          _LayerPopup.prototype._initEditorEvent.call(this);\n\n          this._eventManager.listen('focus', function () {\n            return _this.hide();\n          });\n\n          this._eventManager.listen('closeAllPopup', function () {\n            return _this.hide();\n          });\n\n          this._eventManager.listen('openPopupAddTable', function () {\n            var button = _this._button;\n            var offsetTop = button.offsetTop,\n                offsetLeft = button.offsetLeft;\n            css_default()(_this.el, {\n              top: offsetTop + dom[\"a\"\n              /* default */\n              ].getOuterHeight(button) + \"px\",\n              left: offsetLeft + \"px\"\n            });\n\n            _this._eventManager.emit('closeAllPopup');\n\n            _this.show();\n\n            _this._selectionOffset = dom[\"a\"\n            /* default */\n            ].getOffset(_this.el.querySelector(\".\" + CLASS_TABLE_SELECTION));\n          });\n        }\n        /**\n         * Cache elements for use\n         * @private\n         */\n        ;\n\n        _proto._cacheElements = function _cacheElements() {\n          this.header = this.el.querySelector(\".\" + CLASS_TABLE_HEADER);\n          this.body = this.el.querySelector(\".\" + CLASS_TABLE_BODY);\n          this.selection = this.el.querySelector(\".\" + CLASS_SELECTION_AREA);\n          this.desc = this.el.querySelector(\".\" + CLASS_DESCRIPTION);\n        }\n        /**\n         * Resize table if need\n         * @param {number} col column index\n         * @param {number} row row index\n         * @private\n         */\n        ;\n\n        _proto._resizeTableBySelectionIfNeed = function _resizeTableBySelectionIfNeed(col, row) {\n          var resizedBound = this._getResizedTableBound(col, row);\n\n          if (resizedBound) {\n            this._setTableSizeByBound(resizedBound.col, resizedBound.row);\n          }\n        }\n        /**\n         * Get resized table bound if Need\n         * @param {number} col column index\n         * @param {number} row row index\n         * @returns {object} bound\n         * @private\n         */\n        ;\n\n        _proto._getResizedTableBound = function _getResizedTableBound(col, row) {\n          var resizedCol, resizedRow, resizedBound;\n\n          if (col >= MIN_COL_INDEX && col < MAX_COL_INDEX) {\n            resizedCol = col + 1;\n          } else if (col < MIN_COL_INDEX) {\n            resizedCol = MIN_COL_INDEX;\n          }\n\n          if (row >= MIN_ROW_INDEX && row < MAX_ROW_INDEX) {\n            resizedRow = row + 1;\n          } else if (row < MIN_ROW_INDEX) {\n            resizedRow = MIN_ROW_INDEX;\n          }\n\n          if (this._isNeedResizeTable(resizedCol, resizedRow)) {\n            resizedBound = {\n              row: resizedRow || this._tableBound.row,\n              col: resizedCol || this._tableBound.col\n            };\n          }\n\n          return resizedBound;\n        }\n        /**\n         * check if need resize table\n         * @param {number} col column index\n         * @param {number} row row index\n         * @returns {boolean} result\n         * @private\n         */\n        ;\n\n        _proto._isNeedResizeTable = function _isNeedResizeTable(col, row) {\n          return col && col !== this._tableBound.col || row && row !== this._tableBound.row;\n        }\n        /**\n         * Get bound by offset\n         * @param {number} x offset\n         * @param {number} y offset\n         * @returns {object} bound\n         * @private\n         */\n        ;\n\n        _proto._getBoundByOffset = function _getBoundByOffset(x, y) {\n          var row = parseInt(y / CELL_HEIGHT, 10);\n          var col = parseInt(x / CELL_WIDTH, 10);\n          return {\n            row: row,\n            col: col\n          };\n        }\n        /**\n         * Get offset by bound\n         * @param {number} col column index\n         * @param {number} row row index\n         * @returns {object} offset\n         * @private\n         */\n        ;\n\n        _proto._getOffsetByBound = function _getOffsetByBound(col, row) {\n          var x = col * CELL_WIDTH + CELL_WIDTH,\n              y = row * CELL_HEIGHT + CELL_HEIGHT;\n          return {\n            x: x,\n            y: y\n          };\n        }\n        /**\n         * Set table size with bound\n         * @param {number} col column index\n         * @param {number} row row index\n         * @private\n         */\n        ;\n\n        _proto._setTableSizeByBound = function _setTableSizeByBound(col, row) {\n          var boundOffset = this._getOffsetByBound(col, row - HEADER_ROW_COUNT);\n\n          this._setTableSize(boundOffset.x, boundOffset.y);\n\n          this._tableBound.row = row;\n          this._tableBound.col = col;\n        }\n        /**\n         * Get selection bound that process with range by offset\n         * @param {number} x offset\n         * @param {number} y offset\n         * @returns {object} bound\n         * @private\n         */\n        ;\n\n        _proto._getSelectionBoundByOffset = function _getSelectionBoundByOffset(x, y) {\n          var bound = this._getBoundByOffset(x, y);\n\n          if (bound.row < MIN_ROW_SELECTION_INDEX) {\n            bound.row = MIN_ROW_SELECTION_INDEX;\n          } else if (bound.row > this._tableBound.row) {\n            bound.row = this._tableBound.row;\n          }\n\n          if (bound.col < MIN_COL_SELECTION_INDEX) {\n            bound.col = MIN_COL_SELECTION_INDEX;\n          } else if (bound.col > this._tableBound.col) {\n            bound.col = this._tableBound.col;\n          }\n\n          return bound;\n        }\n        /**\n         * Set selection area with bound\n         * @param {number} col column index\n         * @param {number} row row index\n         * @private\n         */\n        ;\n\n        _proto._setSelectionAreaByBound = function _setSelectionAreaByBound(col, row) {\n          var boundOffset = this._getOffsetByBound(col, row);\n\n          this._setSelectionArea(boundOffset.x, boundOffset.y);\n        }\n        /**\n         * Set selected bound\n         * @param {number} col column index\n         * @param {number} row row index\n         * @private\n         */\n        ;\n\n        _proto._setSelectedBound = function _setSelectedBound(col, row) {\n          this._selectedBound.col = col;\n          this._selectedBound.row = row;\n        }\n        /**\n         * Get selected table size\n         * @returns {object} bound\n         * @private\n         */\n        ;\n\n        _proto._getSelectedTableSize = function _getSelectedTableSize() {\n          return {\n            row: this._selectedBound.row + 1,\n            col: this._selectedBound.col + 1\n          };\n        }\n        /**\n         * Set selected table size text for display\n         * @param {number} col column index\n         * @param {number} row row index\n         * @private\n         */\n        ;\n\n        _proto._setDisplayText = function _setDisplayText(col, row) {\n          this.desc.innerHTML = col + 1 + \" x \" + (row + 1);\n        }\n        /**\n         * Set table element size\n         * @param {number} x offset\n         * @param {number} y offset\n         * @private\n         */\n        ;\n\n        _proto._setTableSize = function _setTableSize(x, y) {\n          x += LAST_BORDER;\n          y += LAST_BORDER;\n          css_default()(this.header, {\n            height: CELL_HEIGHT + \"px\",\n            width: x + \"px\"\n          });\n          css_default()(this.body, {\n            height: y + \"px\",\n            width: x + \"px\"\n          });\n          css_default()(this.el, {\n            width: x + 30 + \"px\"\n          });\n        }\n        /**\n         * Set selection element size\n         * @param {number} x offset\n         * @param {number} y offset\n         * @private\n         */\n        ;\n\n        _proto._setSelectionArea = function _setSelectionArea(x, y) {\n          x += LAST_BORDER;\n          y += LAST_BORDER;\n          css_default()(this.selection, {\n            height: y + \"px\",\n            width: x + \"px\"\n          });\n        };\n\n        _proto.remove = function remove() {\n          this.off(\"mousemove .\" + CLASS_TABLE_SELECTION, this._eventHandlers.onMousedown);\n          this.off(\"click .\" + CLASS_TABLE_SELECTION, this._eventHandlers.onClick);\n\n          _LayerPopup.prototype.remove.call(this);\n        };\n\n        return PopupAddTable;\n      }(layerpopup);\n\n      popupAddTable_PopupAddTable.CELL_WIDTH = CELL_WIDTH;\n      popupAddTable_PopupAddTable.CELL_HEIGHT = CELL_HEIGHT;\n      popupAddTable_PopupAddTable.MIN_ROW_SELECTION_INDEX = MIN_ROW_SELECTION_INDEX;\n      popupAddTable_PopupAddTable.MIN_COL_SELECTION_INDEX = MIN_COL_SELECTION_INDEX;\n      /* harmony default export */\n\n      var popupAddTable = popupAddTable_PopupAddTable; // CONCATENATED MODULE: ./src/js/ui/popupAddHeading.js\n\n      function popupAddHeading_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements PopupAddHeading\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class PopupAddHeading\n       * It implements Popup to add headings\n       * @param {LayerPopupOption} options - layer popup option\n       * @ignore\n       */\n\n\n      var popupAddHeading_PopupAddHeading = /*#__PURE__*/function (_LayerPopup) {\n        popupAddHeading_inheritsLoose(PopupAddHeading, _LayerPopup);\n\n        function PopupAddHeading(options) {\n          var POPUP_CONTENT = \"\\n      <ul>\\n        <li data-value=\\\"1\\\" data-type=\\\"Heading\\\"><h1>\" + i18n.get('Heading') + \" 1</h1></li>\\n        <li data-value=\\\"2\\\" data-type=\\\"Heading\\\"><h2>\" + i18n.get('Heading') + \" 2</h2></li>\\n        <li data-value=\\\"3\\\" data-type=\\\"Heading\\\"><h3>\" + i18n.get('Heading') + \" 3</h3></li>\\n        <li data-value=\\\"4\\\" data-type=\\\"Heading\\\"><h4>\" + i18n.get('Heading') + \" 4</h4></li>\\n        <li data-value=\\\"5\\\" data-type=\\\"Heading\\\"><h5>\" + i18n.get('Heading') + \" 5</h5></li>\\n        <li data-value=\\\"6\\\" data-type=\\\"Heading\\\"><h6>\" + i18n.get('Heading') + \" 6</h6></li>\\n        <li data-type=\\\"Paragraph\\\"><div>\" + i18n.get('Paragraph') + \"</div></li>\\n      </ul>\\n    \";\n          options = extend_default()({\n            header: false,\n            className: 'te-heading-add',\n            content: POPUP_CONTENT\n          }, options);\n          return _LayerPopup.call(this, options) || this;\n        }\n        /**\n         * init instance.\n         * store properties & prepare before initialize DOM\n         * @param {LayerPopupOption} options - layer popup options\n         * @private\n         * @override\n         */\n\n\n        var _proto = PopupAddHeading.prototype;\n\n        _proto._initInstance = function _initInstance(options) {\n          _LayerPopup.prototype._initInstance.call(this, options);\n\n          this._eventManager = options.eventManager;\n          this._button = options.button;\n        }\n        /**\n         * bind DOM events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOMEvent = function _initDOMEvent() {\n          var _this = this;\n\n          _LayerPopup.prototype._initDOMEvent.call(this);\n\n          this.on('click li', function (ev) {\n            var li = dom[\"a\"\n            /* default */\n            ].closest(ev.target, 'li');\n\n            _this._eventManager.emit('command', li.getAttribute('data-type'), li.getAttribute('data-value'));\n          });\n        }\n        /**\n         * bind editor events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initEditorEvent = function _initEditorEvent() {\n          var _this2 = this;\n\n          _LayerPopup.prototype._initEditorEvent.call(this);\n\n          this._eventManager.listen('focus', this.hide.bind(this));\n\n          this._eventManager.listen('closeAllPopup', this.hide.bind(this));\n\n          this._eventManager.listen('openHeadingSelect', function () {\n            var button = _this2._button;\n            var offsetTop = button.offsetTop,\n                offsetLeft = button.offsetLeft;\n            css_default()(_this2.el, {\n              top: offsetTop + dom[\"a\"\n              /* default */\n              ].getOuterHeight(button) + \"px\",\n              left: offsetLeft + \"px\"\n            });\n\n            _this2._eventManager.emit('closeAllPopup');\n\n            _this2.show();\n          });\n        };\n\n        return PopupAddHeading;\n      }(layerpopup);\n      /* harmony default export */\n\n\n      var popupAddHeading = popupAddHeading_PopupAddHeading; // CONCATENATED MODULE: ./src/js/ui/popupCodeBlockLanguages.js\n\n      function popupCodeBlockLanguages_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements popup code block languages\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var BUTTON_CLASS_PREFIX = 'te-popup-code-block-lang-';\n\n      function getButtonsHTML(languages) {\n        return languages.map(function (lang) {\n          return \"<button type=\\\"button\\\" class=\\\"\" + BUTTON_CLASS_PREFIX + lang + \"\\\" data-lang=\\\"\" + lang + \"\\\">\" + lang + \"</button>\";\n        }).join('');\n      }\n      /**\n       * Class Popup code block languages select list\n       * @param {LayerPopupOption} options - layer popup option\n       * @ignore\n       */\n\n\n      var popupCodeBlockLanguages_PopupCodeBlockLanguages = /*#__PURE__*/function (_LayerPopup) {\n        popupCodeBlockLanguages_inheritsLoose(PopupCodeBlockLanguages, _LayerPopup);\n\n        function PopupCodeBlockLanguages(options) {\n          var _options = options,\n              languages = _options.languages;\n          options = extend_default()({\n            header: false,\n            className: 'te-popup-code-block-languages',\n            content: getButtonsHTML(languages)\n          }, options);\n          return _LayerPopup.call(this, options) || this;\n        }\n        /**\n         * init instance.\n         * store properties & prepare before initialize DOM\n         * @param {LayerPopupOption} options - layer popup options\n         * @private\n         * @override\n         */\n\n\n        var _proto = PopupCodeBlockLanguages.prototype;\n\n        _proto._initInstance = function _initInstance(options) {\n          var _this = this;\n\n          _LayerPopup.prototype._initInstance.call(this, options);\n\n          this.eventManager = options.eventManager;\n          this._onSelectedLanguage = null;\n          this._onDismissed = null;\n          this._currentButton = null;\n          this._buttons = null;\n          this._languages = options.languages;\n\n          this._btnMousedownHandler = function (event) {\n            var language = event.target.getAttribute('data-lang');\n\n            if (_this._onSelectedLanguage) {\n              _this._onSelectedLanguage(language);\n            }\n\n            _this.hide();\n          };\n        }\n        /**\n         * initialize DOM, render popup\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOM = function _initDOM(options) {\n          _LayerPopup.prototype._initDOM.call(this, options);\n\n          css_default()(this.el, 'zIndex', 10000);\n          this._buttons = dom[\"a\"\n          /* default */\n          ].findAll(this.el, 'button');\n\n          this._activateButtonByIndex(0);\n        }\n        /**\n         * bind DOM events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOMEvent = function _initDOMEvent() {\n          _LayerPopup.prototype._initDOMEvent.call(this);\n\n          this._addBtnMouseDownHandler();\n        }\n        /**\n         * bind editor events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initEditorEvent = function _initEditorEvent() {\n          var _this2 = this;\n\n          _LayerPopup.prototype._initEditorEvent.call(this);\n\n          this.eventManager.listen('openPopupCodeBlockLanguages', function (data) {\n            _this2.show(data.callback);\n\n            css_default()(_this2.el, {\n              top: data.offset.top + \"px\"\n            });\n            css_default()(_this2.el, {\n              left: data.offset.left + \"px\"\n            });\n\n            _this2.setCurrentLanguage(data.language);\n\n            return _this2;\n          });\n          this.eventManager.listen('focus', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('mousedown', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('closeAllPopup', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('closePopupCodeBlockLanguages', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('scroll', function () {\n            return _this2.hide();\n          });\n          this.eventManager.listen('setCodeBlockLanguages', function (languages) {\n            return _this2._changeLanguageButtons(languages);\n          });\n        }\n        /**\n         * activate an item by index\n         * @param {number} index - item index\n         * @private\n         */\n        ;\n\n        _proto._activateButtonByIndex = function _activateButtonByIndex(index) {\n          if (this._currentButton) {\n            removeClass_default()(this._currentButton, 'active');\n          }\n\n          if (this._buttons.length) {\n            this._currentButton = this._buttons[index];\n            addClass_default()(this._currentButton, 'active');\n\n            this._currentButton.scrollIntoView();\n          }\n        }\n        /**\n         * move to prev language\n         */\n        ;\n\n        _proto.prev = function prev() {\n          var index = inArray_default()(this._currentButton, this._buttons) - 1;\n\n          if (index < 0) {\n            index = this._buttons.length - 1;\n          }\n\n          this._activateButtonByIndex(index);\n        }\n        /**\n         * move to next language\n         */\n        ;\n\n        _proto.next = function next() {\n          var index = inArray_default()(this._currentButton, this._buttons) + 1;\n\n          if (index >= this._buttons.length) {\n            index = 0;\n          }\n\n          this._activateButtonByIndex(index);\n        }\n        /**\n         * current language\n         * @returns {string} language\n         */\n        ;\n\n        _proto.getCurrentLanguage = function getCurrentLanguage() {\n          var language = this._currentButton.getAttribute('data-lang');\n\n          return language;\n        }\n        /**\n         * set current language\n         * @param {string} language - current language\n         */\n        ;\n\n        _proto.setCurrentLanguage = function setCurrentLanguage(language) {\n          var item = this._buttons.filter(function (button) {\n            return matches_default()(button, \".\" + BUTTON_CLASS_PREFIX + language);\n          });\n\n          if (item.length > 0) {\n            var index = inArray_default()(item[0], this._buttons);\n\n            this._activateButtonByIndex(index);\n          }\n        }\n        /**\n         * show popup\n         * @param {object} callback - to be called on language selected & dismissed\n         * @override\n         */\n        ;\n\n        _proto.show = function show(callback) {\n          this._onSelectedLanguage = callback.selected;\n          this._onDismissed = callback.dismissed;\n\n          _LayerPopup.prototype.show.call(this);\n        }\n        /**\n         * hide popup\n         * @override\n         */\n        ;\n\n        _proto.hide = function hide() {\n          if (this._onDismissed) {\n            this._onDismissed();\n          }\n\n          this._onSelectedLanguage = null;\n          this._onDismissed = null;\n\n          _LayerPopup.prototype.hide.call(this);\n        };\n\n        _proto._addBtnMouseDownHandler = function _addBtnMouseDownHandler() {\n          var _this3 = this;\n\n          this._languages.forEach(function (lang) {\n            _this3.off(\"mousedown .\" + BUTTON_CLASS_PREFIX + lang, _this3._btnMousedownHandler);\n\n            _this3.on(\"mousedown .\" + BUTTON_CLASS_PREFIX + lang, _this3._btnMousedownHandler);\n          });\n        };\n\n        _proto._changeLanguageButtons = function _changeLanguageButtons(languages) {\n          this._languages = languages;\n\n          if (languages && languages.length) {\n            this.content = getButtonsHTML(languages);\n            this.setContent(this.content);\n\n            this._addBtnMouseDownHandler();\n\n            this._buttons = dom[\"a\"\n            /* default */\n            ].findAll(this.el, 'button');\n\n            this._activateButtonByIndex(0);\n          }\n        };\n\n        return PopupCodeBlockLanguages;\n      }(layerpopup);\n      /* harmony default export */\n\n\n      var popupCodeBlockLanguages = popupCodeBlockLanguages_PopupCodeBlockLanguages; // CONCATENATED MODULE: ./src/js/ui/scrollSyncSplit.js\n\n      /**\n       * @fileoverview Implements scroll sync split\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var CLASS_SPLIT_SCROLL = 'tui-split-scroll';\n      var CLASS_SINGLE_CONTENT = 'single-content';\n      var CLASS_SCROLL_SYNC = 'scroll-sync';\n      var CLASS_SCROLL_WRAPPER = 'tui-split-scroll-wrapper';\n      var CLASS_SCROLL_CONTENT = 'tui-split-scroll-content';\n      var CLASS_SPLITTER = 'tui-splitter';\n      var EVENT_REQUIRE_SCROLL_INTO_VIEW = 'requireScrollIntoView';\n      var CLASS_CONTENT_LEFT = 'tui-split-content-left';\n      var CLASS_CONTENT_RIGHT = 'tui-split-content-right';\n      var CLASS_CONTENT = {\n        left: CLASS_CONTENT_LEFT,\n        right: CLASS_CONTENT_RIGHT\n      };\n      /**\n       * Class ScrollSyncSplit\n       * @param {Element} baseElement - an element which attach a splitSyncSplit\n       * @param {Element} leftElement - an element to be on left side split view\n       * @param {Element} rightElement - an element to be on right side split view\n       * @param {object} options - options\n       *     @param {boolean} [options.showScrollSyncButton=false] - show scroll sync button on top right corner\n       *     @param {boolean} [options.scrollSync=true] - true for enable scroll sync\n       *     @param {boolean} [options.splitView=true] - true for split, false for single view\n       * @ignore\n       */\n\n      var scrollSyncSplit_ScrollSyncSplit = /*#__PURE__*/function () {\n        function ScrollSyncSplit(baseElement, leftElement, rightElement, options) {\n          if (options === void 0) {\n            options = {};\n          }\n\n          options = extend_default()({\n            showScrollSyncButton: false,\n            scrollSync: true,\n            splitView: true\n          }, options);\n          this._baseElement = baseElement;\n          this._eventManager = options.eventManager;\n          /**\n           * left, right side content elements\n           * @type {HTMLElement[]}\n           * @private\n           */\n\n          this._contentElements = [];\n\n          this._initDom(leftElement, rightElement, options);\n\n          this._initDomEvent();\n        }\n\n        var _proto = ScrollSyncSplit.prototype;\n\n        _proto._initDom = function _initDom(leftElement, rightElement, options) {\n          var el = document.createElement('div');\n          el.className = CLASS_SPLIT_SCROLL;\n          this._el = el;\n          var scrollWrapper = document.createElement('div');\n          scrollWrapper.className = CLASS_SCROLL_WRAPPER;\n          this._scrollWrapper = scrollWrapper;\n\n          this._setScrollSync(options.scrollSync);\n\n          this.setSplitView(options.splitView);\n          var contentWrapper = document.createElement('div');\n          contentWrapper.className = CLASS_SCROLL_CONTENT;\n          this._contentWrapper = contentWrapper;\n          var splitter = document.createElement('div');\n          splitter.className = CLASS_SPLITTER;\n\n          this._baseElement.appendChild(el);\n\n          el.appendChild(scrollWrapper);\n          scrollWrapper.appendChild(contentWrapper);\n          scrollWrapper.appendChild(splitter);\n\n          this._setLeft(leftElement);\n\n          this._setRight(rightElement);\n        };\n\n        _proto._initDomEvent = function _initDomEvent() {\n          this._contentWrapper.addEventListener('scroll', this.sync.bind(this));\n        };\n\n        _proto._requireScrollIntoView = function _requireScrollIntoView(element) {\n          var _element$getBoundingC = element.getBoundingClientRect(),\n              targetTop = _element$getBoundingC.top,\n              targetBottom = _element$getBoundingC.bottom;\n\n          var wrapperElement;\n\n          if (this.isScrollSynced()) {\n            wrapperElement = this._contentWrapper;\n          } else if (dom[\"a\"\n          /* default */\n          ].parents(element, this._contentElements.left).length) {\n            wrapperElement = this._contentElements.left;\n          } else if (dom[\"a\"\n          /* default */\n          ].parents(element, this._contentElements.right).length) {\n            wrapperElement = this._contentElements.right;\n          } else {\n            return;\n          }\n\n          var _wrapperElement$getBo = wrapperElement.getBoundingClientRect(),\n              wrapperTop = _wrapperElement$getBo.top,\n              wrapperBottom = _wrapperElement$getBo.bottom;\n\n          if (targetTop < wrapperTop) {\n            wrapperElement.scrollTop = wrapperElement.scrollTop + targetTop - wrapperTop;\n          } else if (targetBottom > wrapperBottom) {\n            wrapperElement.scrollTop = wrapperElement.scrollTop + targetBottom - wrapperBottom;\n          }\n\n          this.sync();\n        }\n        /**\n         * set content element for given side\n         * @param {Element} element - content element\n         * @param {string} side - 'left' | 'right'\n         * @private\n         */\n        ;\n\n        _proto._setContentElement = function _setContentElement(element, side) {\n          var _this = this;\n\n          var contentElement = this._contentElements[side];\n\n          if (contentElement) {\n            this._eventManager.removeEventHandler(EVENT_REQUIRE_SCROLL_INTO_VIEW);\n\n            this._contentWrapper.removeChild(contentElement);\n          }\n\n          addClass_default()(element, CLASS_CONTENT[side]);\n\n          this._contentWrapper.appendChild(element);\n\n          this._eventManager.listen(EVENT_REQUIRE_SCROLL_INTO_VIEW, function (ev) {\n            return _this._requireScrollIntoView(ev);\n          });\n\n          this._eventManager.listen('requireScrollSync', function () {\n            return _this.sync();\n          });\n\n          this._contentElements[side] = element;\n          this.sync();\n        }\n        /**\n         * set left side element\n         * @param {Element} element - an element to be on left side split view\n         * @private\n         */\n        ;\n\n        _proto._setLeft = function _setLeft(element) {\n          this._setContentElement(element, 'left');\n        }\n        /**\n         * set right side element\n         * @param {Element} element - an element to be on right side split view\n         * @private\n         */\n        ;\n\n        _proto._setRight = function _setRight(element) {\n          this._setContentElement(element, 'right');\n        };\n\n        _proto._setScrollSync = function _setScrollSync(activate) {\n          dom[\"a\"\n          /* default */\n          ].toggleClass(this._el, CLASS_SCROLL_SYNC, activate);\n        }\n        /**\n         * toggle multi scroll\n         */\n        ;\n\n        _proto.toggleScrollSync = function toggleScrollSync() {\n          dom[\"a\"\n          /* default */\n          ].toggleClass(this._el, CLASS_SCROLL_SYNC);\n        };\n\n        _proto.setSplitView = function setSplitView(activate) {\n          if (!activate) {\n            addClass_default()(this._el, CLASS_SINGLE_CONTENT);\n          } else {\n            removeClass_default()(this._el, CLASS_SINGLE_CONTENT);\n          }\n        }\n        /**\n         * toggle split\n         */\n        ;\n\n        _proto.toggleSplitView = function toggleSplitView() {\n          dom[\"a\"\n          /* default */\n          ].toggleClass(this._el, CLASS_SINGLE_CONTENT);\n        }\n        /**\n         * is scroll synced\n         * @returns {boolean} - true for synced, false for each scroll\n         */\n        ;\n\n        _proto.isScrollSynced = function isScrollSynced() {\n          return hasClass_default()(this._el, CLASS_SCROLL_SYNC);\n        }\n        /**\n         * is split view\n         * @returns {boolean} - true for split view, false for single view\n         */\n        ;\n\n        _proto.isSplitView = function isSplitView() {\n          return !hasClass_default()(this._el, CLASS_SINGLE_CONTENT);\n        }\n        /**\n         * sync scroll\n         */\n        ;\n\n        _proto.sync = function sync() {\n          if (!this._contentElements.left || !this._contentElements.right) {\n            return;\n          }\n\n          var wrapperHeight = this._contentWrapper.clientHeight;\n          var scrollTop = this._contentWrapper.scrollTop;\n          var leftElement = this._contentElements.left;\n          var rightElement = this._contentElements.right;\n          var scrollingElement = leftElement.offsetHeight - wrapperHeight > 0 ? leftElement : rightElement;\n          var followingElement = scrollingElement === leftElement ? rightElement : leftElement;\n          var scrollingElementHeight = scrollingElement.offsetHeight;\n          var scrollingElementScrollMax = Math.max(scrollingElementHeight - wrapperHeight, 0);\n          var followingElementHeight = Math.max(followingElement.offsetHeight, wrapperHeight);\n          var followingElementTopMax = scrollingElementHeight - followingElementHeight;\n          css_default()(scrollingElement, {\n            top: 0\n          });\n          css_default()(followingElement, {\n            top: scrollTop / scrollingElementScrollMax * followingElementTopMax + \"px\"\n          });\n        }\n        /**\n         * scroll top\n         * @param {number} top - scroll top in pixel\n         */\n        ;\n\n        _proto.scrollTop = function scrollTop(top) {\n          this._contentWrapper.scrollTop = top;\n        };\n\n        return ScrollSyncSplit;\n      }();\n      /* harmony default export */\n\n\n      var scrollSyncSplit = scrollSyncSplit_ScrollSyncSplit; // CONCATENATED MODULE: ./src/js/codeBlockEditor.js\n\n      function codeBlockEditor_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements code block editor\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class Code Block Editor\n       * @param {HTMLElement} el - code block editor container element\n       * @param {EventManager} eventManager - event manager\n       * @ignore\n       */\n\n\n      var CodeBlockEditor = /*#__PURE__*/function (_CodeMirrorExt) {\n        codeBlockEditor_inheritsLoose(CodeBlockEditor, _CodeMirrorExt);\n\n        function CodeBlockEditor(el, eventManager) {\n          var _this;\n\n          _this = _CodeMirrorExt.call(this, el, {\n            singleCursorHeightPerLine: false,\n            theme: 'none'\n          }) || this;\n          _this._language = '';\n          _this._eventManager = eventManager;\n\n          _this._initEvent();\n\n          return _this;\n        }\n\n        var _proto = CodeBlockEditor.prototype;\n\n        _proto._initEvent = function _initEvent() {\n          var _this2 = this;\n\n          this.on('cursorActivity', this._onRequireScrollIntoView.bind(this));\n          this.on('beforeChange', function (cm, ev) {\n            if (ev.origin === 'paste') {\n              _this2._eventManager.emit('pasteBefore', {\n                source: 'codeblock',\n                data: ev\n              });\n            }\n          });\n        };\n\n        _proto._onRequireScrollIntoView = function _onRequireScrollIntoView() {\n          var _this3 = this;\n\n          var cursor = this.getCursor();\n          var wrapper = this.getWrapperElement(); // CodeMirror cursorActivity event fires before actually attach a new line element to DOM\n          // we should proceed at next tick\n\n          setTimeout(function () {\n            var lineElement = wrapper.querySelector(\"pre:nth-child(\" + (cursor.line + 1) + \")\");\n\n            if (lineElement) {\n              _this3._eventManager.emit('requireScrollIntoView', lineElement);\n            }\n          }, 0);\n        }\n        /**\n         * load code from code block element\n         * @param {HTMLElement} codeBlockElement - code block element\n         */\n        ;\n\n        _proto.load = function load(codeBlockElement) {\n          var el = codeBlockElement.cloneNode(true);\n          this.setLanguage(el.getAttribute('data-language') || '');\n          this.setEditorCodeText(el.textContent);\n        }\n        /**\n         * save code to code block element\n         * @param {HTMLElement} codeBlockElement - code block element\n         */\n        ;\n\n        _proto.save = function save(codeBlockElement) {\n          codeBlockElement.innerHTML = '';\n          codeBlockElement.textContent = this.getEditorCodeText();\n          codeBlockElement.setAttribute('data-language', this._language);\n\n          this._eventManager.emit('changeLanguage');\n        }\n        /**\n         * clear code and language\n         */\n        ;\n\n        _proto.clear = function clear() {\n          this.setLanguage('');\n          this.setEditorCodeText('');\n        }\n        /**\n         * get code language\n         * @returns {string} - code language\n         */\n        ;\n\n        _proto.getLanguage = function getLanguage() {\n          return this._language;\n        }\n        /**\n         * set code language\n         * @param {string} [language=''] - code language\n         */\n        ;\n\n        _proto.setLanguage = function setLanguage(language) {\n          if (language === void 0) {\n            language = '';\n          }\n\n          this._language = language;\n        }\n        /**\n         * get code text\n         * @returns {string} - code text\n         */\n        ;\n\n        _proto.getEditorCodeText = function getEditorCodeText() {\n          return this.getValue();\n        }\n        /**\n         * set code text\n         * @param {string} [code=''] - code text\n         */\n        ;\n\n        _proto.setEditorCodeText = function setEditorCodeText(code) {\n          if (code === void 0) {\n            code = '';\n          }\n\n          this.setValue(code);\n        }\n        /**\n         * refresh. call if codemirror resized\n         */\n        ;\n\n        _proto.refresh = function refresh() {\n          this.cm.refresh();\n        };\n\n        return CodeBlockEditor;\n      }(codeMirrorExt);\n      /* harmony default export */\n\n\n      var codeBlockEditor = CodeBlockEditor; // EXTERNAL MODULE: ./src/js/preview.js + 1 modules\n\n      var js_preview = __webpack_require__(38); // CONCATENATED MODULE: ./src/js/codeBlockPreview.js\n\n\n      function codeBlockPreview_assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function codeBlockPreview_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements CodeBlockPreview\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class Code block preview\n       * @param {HTMLElement} el - base element\n       * @param {EventManager} eventManager - event manager\n       * @param {Convertor} convertor - convertor\n       * @param {CodeBlockEditor} codeBlockEditor - code block editor\n       * @ignore\n       */\n\n\n      var CodeBlockPreview = /*#__PURE__*/function (_Preview) {\n        codeBlockPreview_inheritsLoose(CodeBlockPreview, _Preview);\n\n        function CodeBlockPreview(el, eventManager, convertor, codeBlockEditor) {\n          var _this;\n\n          _this = _Preview.call(this, el, eventManager, convertor, true) || this;\n          _this._codeBlockEditor = codeBlockEditor;\n\n          _this._initEvent();\n\n          _this.lazyRunner.registerLazyRunFunction('refresh', _this.refresh, _this.delayCodeBlockTime, codeBlockPreview_assertThisInitialized(_this));\n\n          return _this;\n        }\n\n        var _proto = CodeBlockPreview.prototype;\n\n        _proto._initEvent = function _initEvent() {\n          var _this2 = this;\n\n          this._codeBlockEditor.on('update', function () {\n            return _this2.lazyRunner.run('refresh');\n          });\n        }\n        /**\n         * refresh preview\n         * @override\n         */\n        ;\n\n        _proto.refresh = function refresh() {\n          var language = this._codeBlockEditor.getLanguage();\n\n          var codeText = this._codeBlockEditor.getEditorCodeText();\n\n          _Preview.prototype.refresh.call(this, \"```\" + language + \"\\n\" + codeText + \"\\n```\");\n\n          this.eventManager.emit('requireScrollSync');\n        }\n        /**\n         * clear preview\n         */\n        ;\n\n        _proto.clear = function clear() {\n          _Preview.prototype.render.call(this, '');\n        };\n\n        return CodeBlockPreview;\n      }(js_preview[\"a\"\n      /* default */\n      ]);\n      /* harmony default export */\n\n\n      var codeBlockPreview = CodeBlockPreview; // CONCATENATED MODULE: ./src/js/ui/codeBlockLanguagesCombo.js\n\n      /**\n       * @fileoverview Implements UI code block languages combo\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Class CodeBlockLanguagesCombo\n       * @param {EventManager} eventManager - event manager instance\n       * @ignore\n       */\n\n      var codeBlockLanguagesCombo_CodeBlockLanguagesCombo = /*#__PURE__*/function () {\n        function CodeBlockLanguagesCombo(eventManager, languages) {\n          this._eventManager = eventManager;\n          this._languages = languages;\n\n          this._initDOM();\n\n          this._initDOMEvent();\n\n          this._initEvent();\n        }\n\n        var _proto = CodeBlockLanguagesCombo.prototype;\n\n        _proto._initDOM = function _initDOM() {\n          this._inputLanguage = dom[\"a\"\n          /* default */\n          ].createElementWith(\"<input type=\\\"text\\\" maxlength=\\\"20\\\" placeholder=\\\"\" + i18n.get('Choose language') + \"\\\" />\");\n          this._wrapper = dom[\"a\"\n          /* default */\n          ].createElementWith(\"<span class=\\\"te-input-language\\\"></span>\");\n\n          this._wrapper.appendChild(this._inputLanguage);\n\n          this._hide();\n        };\n\n        _proto._initDOMEvent = function _initDOMEvent() {\n          var _this = this;\n\n          this._inputLanguage.addEventListener('keydown', function (event) {\n            return _this._onKeyEvent(event);\n          });\n\n          this._inputLanguage.addEventListener('focus', function () {\n            return _this._showPopupCodeBlockLanguages();\n          });\n\n          this._inputLanguage.addEventListener('focusout', function () {\n            return _this._onFocusOut();\n          });\n\n          this._wrapper.addEventListener('mousedown', function (ev) {\n            if (ev.target !== _this._wrapper) {\n              return;\n            }\n\n            ev.preventDefault();\n\n            _this._toggleFocus();\n          });\n        };\n\n        _proto._initEvent = function _initEvent() {\n          var _this2 = this;\n\n          this._eventManager.listen('setCodeBlockLanguages', function (languages) {\n            _this2._languages = languages;\n\n            if (languages && languages.length) {\n              _this2._show();\n            } else {\n              _this2._hide();\n            }\n          });\n        }\n        /**\n         * show popup\n         * @private\n         */\n        ;\n\n        _proto._showPopupCodeBlockLanguages = function _showPopupCodeBlockLanguages() {\n          var _this3 = this;\n\n          var clientRect = this._inputLanguage.getBoundingClientRect();\n\n          addClass_default()(this._wrapper, 'active');\n          this.active = true;\n          this._popupCodeBlockLanguages = this._eventManager.emitReduce('openPopupCodeBlockLanguages', {\n            language: this._prevStoredLanguage,\n            offset: {\n              left: clientRect.left,\n              top: clientRect.bottom\n            },\n            callback: {\n              selected: function selected(selectedLanguage) {\n                return _this3._onLanguageSelectedFromList(selectedLanguage);\n              },\n              dismissed: function dismissed() {\n                _this3._popupCodeBlockLanguages = null;\n              }\n            }\n          });\n        };\n\n        _proto._toggleFocus = function _toggleFocus() {\n          var inputLanguage = this._inputLanguage;\n\n          if (hasClass_default()(this._wrapper, 'active')) {\n            inputLanguage.blur();\n          } else {\n            inputLanguage.focus();\n          }\n        };\n\n        _proto._onFocusOut = function _onFocusOut() {\n          removeClass_default()(this._wrapper, 'active');\n          this._inputLanguage.value = this._prevStoredLanguage;\n\n          this._hidePopupCodeBlockLanguages();\n        };\n\n        _proto._onKeyEvent = function _onKeyEvent(event) {\n          if (this._popupCodeBlockLanguages) {\n            switch (event.which) {\n              case keyMapper.keyCode('UP'):\n                this._popupCodeBlockLanguages.prev();\n\n                event.preventDefault();\n                break;\n\n              case keyMapper.keyCode('DOWN'):\n                this._popupCodeBlockLanguages.next();\n\n                event.preventDefault();\n                break;\n\n              case keyMapper.keyCode('ENTER'):\n              case keyMapper.keyCode('TAB'):\n                {\n                  var language = this._popupCodeBlockLanguages.getCurrentLanguage();\n\n                  this._inputLanguage.value = language;\n\n                  this._storeInputLanguage();\n\n                  event.preventDefault();\n                  break;\n                }\n\n              default:\n                this._popupCodeBlockLanguages.hide();\n\n            }\n          } else if (event.which === keyMapper.keyCode('ENTER') || event.which === keyMapper.keyCode('TAB')) {\n            this._storeInputLanguage();\n\n            event.preventDefault();\n          }\n        };\n\n        _proto._onLanguageSelectedFromList = function _onLanguageSelectedFromList(selectedLanguage) {\n          this._inputLanguage.value = selectedLanguage;\n\n          this._storeInputLanguage();\n        }\n        /**\n         * set a callback to be called on language selected\n         * @param {function} callback - callback function\n         * @protected\n         */\n        ;\n\n        _proto.setOnLanguageSelected = function setOnLanguageSelected(callback) {\n          this._onLanguageSelected = callback;\n        }\n        /**\n         * hide popup\n         * @private\n         */\n        ;\n\n        _proto._hidePopupCodeBlockLanguages = function _hidePopupCodeBlockLanguages() {\n          this._eventManager.emit('closePopupCodeBlockLanguages');\n        }\n        /**\n         * set language\n         * @param {string} language - code block language\n         * @protected\n         */\n        ;\n\n        _proto.setLanguage = function setLanguage(language) {\n          this._prevStoredLanguage = language;\n          this._inputLanguage.value = language;\n        }\n        /**\n         * store selection(typed) language & hide popup\n         * @private\n         */\n        ;\n\n        _proto._storeInputLanguage = function _storeInputLanguage() {\n          var selectedLanguage = this._inputLanguage.value;\n          this.setLanguage(selectedLanguage);\n\n          if (this._onLanguageSelected) {\n            this._onLanguageSelected(selectedLanguage);\n          }\n\n          this._hidePopupCodeBlockLanguages();\n        }\n        /**\n         * get element body\n         * @returns {HTMLElement} - CodeBlockLanguagesCombo body element\n         * @protected\n         */\n        ;\n\n        _proto.getElement = function getElement() {\n          return this._wrapper;\n        };\n\n        _proto._show = function _show() {\n          css_default()(this._wrapper, {\n            display: 'inline-block'\n          });\n        };\n\n        _proto._hide = function _hide() {\n          css_default()(this._wrapper, {\n            display: 'none'\n          });\n        };\n\n        return CodeBlockLanguagesCombo;\n      }();\n      /* harmony default export */\n\n\n      var ui_codeBlockLanguagesCombo = codeBlockLanguagesCombo_CodeBlockLanguagesCombo; // CONCATENATED MODULE: ./src/js/ui/popupCodeBlockEditor.js\n\n      function popupCodeBlockEditor_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @fileoverview Implements popup code block editor\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var popupCodeBlockEditor_CLASS_PREFIX = 'popup-editor-';\n      var popupCodeBlockEditor_CLASS_OK_BUTTON = 'te-ok-button';\n      var popupCodeBlockEditor_CLASS_CLOSE_BUTTON = 'te-close-button';\n      var CLASS_POPUP_CLOSE_BUTTON = 'tui-popup-close-button';\n      var TEMPLATE_HEADER_BUTTONS = \"\\n    <button type=\\\"button\\\" class=\\\"\" + popupCodeBlockEditor_CLASS_PREFIX + \"toggle-scroll\\\"></button>\\n    <button type=\\\"button\\\" class=\\\"\" + popupCodeBlockEditor_CLASS_PREFIX + \"toggle-preview\\\"></button>\\n    <button type=\\\"button\\\" class=\\\"\" + popupCodeBlockEditor_CLASS_PREFIX + \"toggle-fit\\\"></button>\\n    <button type=\\\"button\\\" class=\\\"\" + CLASS_POPUP_CLOSE_BUTTON + \"\\\"></button>\\n\";\n      /**\n       * Class popup code block editor\n       * @param {LayerPopupOption} options - layer popup option\n       * @ignore\n       */\n\n      var popupCodeBlockEditor_PopupCodeBlockEditor = /*#__PURE__*/function (_LayerPopup) {\n        popupCodeBlockEditor_inheritsLoose(PopupCodeBlockEditor, _LayerPopup);\n\n        function PopupCodeBlockEditor(options) {\n          var TEMPLATE_CONTENT = \"\\n            <div class=\\\"\" + popupCodeBlockEditor_CLASS_PREFIX + \"body\\\"></div>\\n            <div class=\\\"te-button-section\\\">\\n                <button type=\\\"button\\\" class=\\\"\" + popupCodeBlockEditor_CLASS_OK_BUTTON + \"\\\">\" + i18n.get('OK') + \"</button>\\n                <button type=\\\"button\\\" class=\\\"\" + popupCodeBlockEditor_CLASS_CLOSE_BUTTON + \"\\\">\" + i18n.get('Cancel') + \"</button>\\n            </div>\\n        \";\n          options = extend_default()({\n            header: true,\n            title: 'CodeBlock Editor',\n            content: TEMPLATE_CONTENT,\n            className: 'tui-popup-code-block-editor',\n            headerButtons: TEMPLATE_HEADER_BUTTONS,\n            modal: true\n          }, options);\n          return _LayerPopup.call(this, options) || this;\n        }\n        /**\n         * init instance.\n         * store properties & prepare before initialize DOM\n         * @param {LayerPopupOption} options - layer popup options\n         * @private\n         * @override\n         */\n\n\n        var _proto = PopupCodeBlockEditor.prototype;\n\n        _proto._initInstance = function _initInstance(options) {\n          _LayerPopup.prototype._initInstance.call(this, options);\n\n          this.eventManager = options.eventManager;\n          this.convertor = options.convertor;\n          this.languages = options.languages;\n        }\n        /**\n         * initialize DOM, render popup\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOM = function _initDOM(options) {\n          _LayerPopup.prototype._initDOM.call(this, options);\n\n          var el = this.el,\n              eventManager = this.eventManager;\n          this._body = el.querySelector(\".\" + popupCodeBlockEditor_CLASS_PREFIX + \"body\");\n          this._toggleFitButton = el.querySelector(\".\" + popupCodeBlockEditor_CLASS_PREFIX + \"toggle-fit\");\n          this._togglePreviewButton = el.querySelector(\".\" + popupCodeBlockEditor_CLASS_PREFIX + \"toggle-preview\");\n          this._toggleScrollButton = el.querySelector(\".\" + popupCodeBlockEditor_CLASS_PREFIX + \"toggle-scroll\");\n          this._okButton = el.querySelector(\".\" + popupCodeBlockEditor_CLASS_OK_BUTTON);\n          this._closeButton = el.querySelector(\".\" + popupCodeBlockEditor_CLASS_CLOSE_BUTTON);\n          this._codeMirrorWrapper = this._createCodeBlockEditor();\n          this._previewWrapper = this._createPreview();\n          this._scrollSyncSplit = new scrollSyncSplit(this._body, this._codeMirrorWrapper, this._previewWrapper, {\n            eventManager: eventManager\n          });\n\n          this._updateFitWindowButton();\n\n          this._updatePreviewButton();\n\n          this._updateScrollButton();\n\n          this._codeBlockLanguagesCombo = this._createCodeBlockLanguagesCombo();\n        }\n        /**\n         * bind DOM events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initDOMEvent = function _initDOMEvent() {\n          var _this = this;\n\n          _LayerPopup.prototype._initDOMEvent.call(this);\n\n          this.on('scroll', function (ev) {\n            return ev.preventDefault();\n          });\n          this.on(\"click .\" + popupCodeBlockEditor_CLASS_PREFIX + \"toggle-fit\", function () {\n            return _this._toggleFitToWindow();\n          });\n          this.on(\"click .\" + popupCodeBlockEditor_CLASS_PREFIX + \"toggle-preview\", function () {\n            return _this._togglePreview();\n          });\n          this.on(\"click .\" + popupCodeBlockEditor_CLASS_PREFIX + \"toggle-scroll\", function () {\n            return _this._toggleScroll();\n          });\n          this.on(\"click .\" + popupCodeBlockEditor_CLASS_OK_BUTTON, function () {\n            return _this._save();\n          });\n          this.on(\"click .\" + popupCodeBlockEditor_CLASS_CLOSE_BUTTON, function () {\n            return _this.hide();\n          });\n          this.on(\"click .\" + popupCodeBlockEditor_CLASS_PREFIX + \"close\", function () {\n            return _this.hide();\n          });\n          this.on(\"click .\" + popupCodeBlockEditor_CLASS_PREFIX + \"editor-wrapper\", function (ev) {\n            if (ev.target === _this._codeMirrorWrapper) {\n              _this._focusEditor(true);\n            }\n          });\n        }\n        /**\n         * bind editor events\n         * @private\n         * @override\n         */\n        ;\n\n        _proto._initEditorEvent = function _initEditorEvent() {\n          var _this2 = this;\n\n          _LayerPopup.prototype._initEditorEvent.call(this);\n\n          this.eventManager.listen('openPopupCodeBlockEditor', function (codeBlockElement) {\n            _this2.eventManager.emit('closeAllPopup');\n\n            _this2.show(codeBlockElement);\n\n            return _this2;\n          });\n          this.eventManager.listen('closeAllPopup', this.hide.bind(this));\n          this.eventManager.listen('closePopupCodeBlockEditor', this.hide.bind(this));\n        };\n\n        _proto._createCodeBlockEditor = function _createCodeBlockEditor() {\n          var codeMirrorWrapper = document.createElement('div');\n          codeMirrorWrapper.className = popupCodeBlockEditor_CLASS_PREFIX + \"editor-wrapper\";\n          this._codeBlockEditor = new codeBlockEditor(codeMirrorWrapper, this.eventManager);\n          return codeMirrorWrapper;\n        };\n\n        _proto._createPreview = function _createPreview() {\n          var previewWrapper = document.createElement('div');\n          this._codeBlockPreview = new codeBlockPreview(previewWrapper, this.eventManager, this.convertor, this._codeBlockEditor);\n          return previewWrapper;\n        };\n\n        _proto._createCodeBlockLanguagesCombo = function _createCodeBlockLanguagesCombo() {\n          var _this3 = this;\n\n          var titleElement = this.getTitleElement();\n          var codeBlockLanguagesCombo = new ui_codeBlockLanguagesCombo(this.eventManager, this.languages);\n          codeBlockLanguagesCombo.setOnLanguageSelected(function (selectedLanguage) {\n            _this3._codeBlockEditor.setLanguage(selectedLanguage);\n\n            _this3._codeBlockEditor.refresh();\n\n            _this3._focusEditor();\n          });\n          titleElement.innerHTML = 'CodeBlock Editor';\n          titleElement.appendChild(codeBlockLanguagesCombo.getElement());\n          return codeBlockLanguagesCombo;\n        };\n\n        _proto._updateFitWindowButton = function _updateFitWindowButton() {\n          dom[\"a\"\n          /* default */\n          ].toggleClass(this._toggleFitButton, 'active', this.isFitToWindow());\n        };\n\n        _proto._updatePreviewButton = function _updatePreviewButton() {\n          dom[\"a\"\n          /* default */\n          ].toggleClass(this._togglePreviewButton, 'active', this._scrollSyncSplit.isSplitView());\n        };\n\n        _proto._updateScrollButton = function _updateScrollButton() {\n          if (this._scrollSyncSplit.isSplitView()) {\n            css_default()(this._toggleScrollButton, {\n              display: 'inline-block'\n            });\n          } else {\n            css_default()(this._toggleScrollButton, {\n              display: 'none'\n            });\n          }\n\n          dom[\"a\"\n          /* default */\n          ].toggleClass(this._toggleScrollButton, 'active', this._scrollSyncSplit.isScrollSynced());\n        };\n\n        _proto._focusEditor = function _focusEditor(cursorToEnd) {\n          this._codeBlockEditor.focus();\n\n          if (cursorToEnd) {\n            this._codeBlockEditor.moveCursorToEnd();\n          } else {\n            this._codeBlockEditor.moveCursorToStart();\n          }\n        };\n\n        _proto._togglePreview = function _togglePreview() {\n          this._scrollSyncSplit.toggleSplitView();\n\n          this._updatePreviewButton();\n\n          this._updateScrollButton();\n\n          this._codeBlockEditor.refresh();\n        };\n\n        _proto._toggleFitToWindow = function _toggleFitToWindow() {\n          this.toggleFitToWindow();\n\n          this._updateFitWindowButton();\n\n          this._codeBlockEditor.refresh();\n        };\n\n        _proto._toggleScroll = function _toggleScroll() {\n          this._scrollSyncSplit.toggleScrollSync();\n\n          this._updateScrollButton();\n        }\n        /**\n         * store code mirror text to wysiwyg code block\n         * @private\n         */\n        ;\n\n        _proto._save = function _save() {\n          this._codeBlockEditor.save(this._codeBlockElement);\n\n          this.hide();\n        }\n        /**\n         * load code mirror text from wysiwyg code block\n         * @param {HTMLElement} codeBlockElement - code block element instance to load code from\n         * @private\n         */\n        ;\n\n        _proto._load = function _load(codeBlockElement) {\n          this._codeBlockElement = codeBlockElement;\n\n          this._codeBlockEditor.load(codeBlockElement);\n\n          this._codeBlockLanguagesCombo.setLanguage(this._codeBlockEditor.getLanguage());\n\n          this._focusEditor();\n\n          this._codeBlockPreview.refresh();\n        }\n        /**\n         * show popup\n         * @param {HTMLElement} codeBlockElement - code block element\n         * @override\n         */\n        ;\n\n        _proto.show = function show(codeBlockElement) {\n          _LayerPopup.prototype.show.call(this);\n\n          if (!codeBlockElement) {\n            throw new Error('should be called with codeBlockElement');\n          }\n\n          this._load(codeBlockElement);\n        }\n        /**\n         * hide popup\n         * @override\n         */\n        ;\n\n        _proto.hide = function hide() {\n          this.setFitToWindow(false);\n\n          if (this._codeBlockEditor) {\n            this._codeBlockEditor.clear();\n          }\n\n          if (this._codeBlockPreview) {\n            this._codeBlockPreview.clear();\n          }\n\n          this._codeBlockElement = null;\n\n          _LayerPopup.prototype.hide.call(this);\n        };\n\n        return PopupCodeBlockEditor;\n      }(layerpopup);\n      /* harmony default export */\n\n\n      var popupCodeBlockEditor = popupCodeBlockEditor_PopupCodeBlockEditor; // CONCATENATED MODULE: ./src/js/ui/defaultUI.js\n\n      function defaultUI_defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n      /**\n       * @fileoverview default UI\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var CLASS_TOOLBAR = 'te-toolbar-section';\n      var CLASS_MARKDOWN_TAB = 'te-markdown-tab-section';\n      var CLASS_EDITOR = 'te-editor-section';\n      var CLASS_MODE_SWITCH = 'te-mode-switch-section';\n      var CONTAINER_TEMPLATE = ['<div class=\"tui-editor-defaultUI\">', \"<div class=\\\"\" + CLASS_TOOLBAR + \"\\\"><div class=\\\"\" + CLASS_MARKDOWN_TAB + \"\\\"></div></div>\", \"<div class=\\\"\" + CLASS_EDITOR + \"\\\"></div>\", \"<div class=\\\"\" + CLASS_MODE_SWITCH + \"\\\"></div>\", '</div>'].join('');\n      /**\n       * Class DefaultUI\n       * @param {ToastUIEditor} editor - editor instance\n       */\n\n      var defaultUI_DefaultUI = /*#__PURE__*/function () {\n        /**\n         * UI name\n         * @type {string}\n         */\n\n        /**\n         * DefaultToolbar wrapper element\n         * @type {HTMLElement}\n         */\n\n        /**\n         * DefaultToolbar instance\n         * @type {DefaultToolbar}\n         * @private\n         */\n\n        /**\n         * @type {HTMLElement}\n         * @private\n         */\n\n        /**\n         * editor section element\n         * @private\n         * @type {HTMLElement}\n         */\n\n        /**\n         * editor type ww/md\n         * @private\n         * @type {string}\n         */\n\n        /**\n         * editor instance\n         * @private\n         * @type {ToastUIEditor}\n         */\n\n        /**\n         * markdown tab section element\n         * @private\n         * @type {HTMLElement}\n         */\n\n        /**\n         * markdown tab\n         * @private\n         * @type {Tab}\n         */\n\n        /**\n         * mode switch instance\n         * @private\n         * @type {ModeSwitch}\n         */\n\n        /**\n         * popup instances\n         * @private\n         * @type {Array}\n         */\n        function DefaultUI(editor) {\n          defaultUI_defineProperty(this, \"name\", 'default');\n          defaultUI_defineProperty(this, \"el\", void 0);\n          defaultUI_defineProperty(this, \"_toolbar\", void 0);\n          defaultUI_defineProperty(this, \"_container\", void 0);\n          defaultUI_defineProperty(this, \"_editorSection\", void 0);\n          defaultUI_defineProperty(this, \"_initialEditType\", void 0);\n          defaultUI_defineProperty(this, \"_editor\", void 0);\n          defaultUI_defineProperty(this, \"_markdownTabSection\", void 0);\n          defaultUI_defineProperty(this, \"_markdownTab\", void 0);\n          defaultUI_defineProperty(this, \"_modeSwitch\", void 0);\n          defaultUI_defineProperty(this, \"_popups\", []);\n          this._editor = editor;\n          this._initialEditType = editor.options.initialEditType;\n\n          this._init(editor.options);\n\n          this._initEvent();\n        }\n\n        var _proto = DefaultUI.prototype;\n\n        _proto._init = function _init(_ref) {\n          var container = _ref.el,\n              toolbarItems = _ref.toolbarItems,\n              hideModeSwitch = _ref.hideModeSwitch;\n          this.el = dom[\"a\"\n          /* default */\n          ].createElementWith(CONTAINER_TEMPLATE, container);\n          this._container = container;\n          this._editorSection = this.el.querySelector(\".\" + CLASS_EDITOR);\n\n          this._editorSection.appendChild(this._editor.layout.getEditorEl());\n\n          this._initToolbar(this._editor.eventManager, toolbarItems);\n\n          this._initModeSwitch(this._editor.eventManager, hideModeSwitch);\n\n          this._initPopupAddLink();\n\n          this._initPopupAddImage();\n\n          this._initPopupAddTable();\n\n          this._initPopupAddHeading();\n\n          this._initPopupTableUtils();\n\n          this._initPopupCodeBlockLanguages();\n\n          this._initPopupCodeBlockEditor();\n\n          this._initMarkdownTab();\n        };\n\n        _proto._initEvent = function _initEvent() {\n          this._editor.eventManager.listen('hide', this.hide.bind(this));\n\n          this._editor.eventManager.listen('show', this.show.bind(this));\n\n          this._editor.eventManager.listen('changeMode', this._markdownTabControl.bind(this));\n\n          this._editor.eventManager.listen('changePreviewStyle', this._markdownTabControl.bind(this));\n        };\n\n        _proto._initToolbar = function _initToolbar(eventManager, toolbarItems) {\n          var toolbar = new defaultToolbar(eventManager, toolbarItems);\n          this._toolbar = toolbar;\n          this.el.querySelector(\".\" + CLASS_TOOLBAR).appendChild(toolbar.el);\n        };\n\n        _proto._initModeSwitch = function _initModeSwitch(eventManager, hideModeSwitch) {\n          var _this = this;\n\n          var modeSwitchTabBar = this.el.querySelector(\".\" + CLASS_MODE_SWITCH);\n          var editType = this._initialEditType === 'markdown' ? ui_modeSwitch.TYPE.MARKDOWN : ui_modeSwitch.TYPE.WYSIWYG;\n          var modeSwitch = new ui_modeSwitch(modeSwitchTabBar, editType, eventManager);\n          this._modeSwitch = modeSwitch;\n\n          if (hideModeSwitch) {\n            modeSwitch.hide();\n          }\n\n          modeSwitch.on('modeSwitched', function (type) {\n            return _this._editor.changeMode(type);\n          });\n        };\n\n        _proto._initMarkdownTab = function _initMarkdownTab() {\n          var editor = this._editor;\n          this._markdownTab = new tab({\n            initName: i18n.get('Write'),\n            items: [i18n.get('Write'), i18n.get('Preview')],\n            sections: [editor.layout.getMdEditorContainerEl(), editor.layout.getPreviewEl()]\n          });\n          this._markdownTabSection = this.el.querySelector(\".\" + CLASS_MARKDOWN_TAB);\n\n          this._markdownTabSection.appendChild(this._markdownTab.el);\n\n          this._markdownTab.on('itemClick', function (itemText) {\n            if (itemText === i18n.get('Preview')) {\n              editor.eventManager.emit('previewNeedsRefresh');\n              editor.eventManager.emit('changePreviewTabPreview');\n              editor.eventManager.emit('closeAllPopup');\n            } else {\n              editor.getCodeMirror().focus();\n              editor.eventManager.emit('changePreviewTabWrite');\n            }\n          });\n        };\n\n        _proto._markdownTabControl = function _markdownTabControl() {\n          if (this._editor.isMarkdownMode() && this._editor.getCurrentPreviewStyle() === 'tab') {\n            css_default()(this._markdownTabSection, {\n              display: 'block'\n            });\n\n            this._markdownTab.activate(i18n.get('Write'));\n          } else {\n            css_default()(this._markdownTabSection, {\n              display: 'none'\n            });\n          }\n        };\n\n        _proto._initPopupAddLink = function _initPopupAddLink() {\n          this._popups.push(new popupAddLink({\n            target: this.el,\n            editor: this._editor\n          }));\n        };\n\n        _proto._initPopupAddImage = function _initPopupAddImage() {\n          this._popups.push(new popupAddImage({\n            target: this.el,\n            eventManager: this._editor.eventManager\n          }));\n        };\n\n        _proto._initPopupAddTable = function _initPopupAddTable() {\n          this._popups.push(new popupAddTable({\n            target: this._toolbar.el,\n            eventManager: this._editor.eventManager,\n            button: this.el.querySelector('button.tui-table'),\n            css: {\n              position: 'absolute'\n            }\n          }));\n        };\n\n        _proto._initPopupAddHeading = function _initPopupAddHeading() {\n          this._popups.push(new popupAddHeading({\n            target: this._toolbar.el,\n            eventManager: this._editor.eventManager,\n            button: this.el.querySelector('button.tui-heading'),\n            css: {\n              position: 'absolute'\n            }\n          }));\n        };\n\n        _proto._initPopupTableUtils = function _initPopupTableUtils() {\n          var _this2 = this;\n\n          this._editor.eventManager.listen('contextmenu', function (ev) {\n            if (dom[\"a\"\n            /* default */\n            ].parents(ev.data.target, '[contenteditable=true] table').length > 0) {\n              ev.data.preventDefault();\n\n              _this2._editor.eventManager.emit('openPopupTableUtils', ev.data);\n            }\n          });\n\n          this._popups.push(new popupTableUtils({\n            target: this.el,\n            eventManager: this._editor.eventManager\n          }));\n        };\n\n        _proto._initPopupCodeBlockLanguages = function _initPopupCodeBlockLanguages() {\n          var editor = this._editor;\n\n          this._popups.push(new popupCodeBlockLanguages({\n            target: this.el,\n            eventManager: editor.eventManager,\n            languages: editor.codeBlockLanguages\n          }));\n        };\n\n        _proto._initPopupCodeBlockEditor = function _initPopupCodeBlockEditor() {\n          this._popups.push(new popupCodeBlockEditor({\n            target: this.el,\n            eventManager: this._editor.eventManager,\n            convertor: this._editor.convertor,\n            languages: this._editor.codeBlockLanguages\n          }));\n        }\n        /**\n         * get toolbar instance\n         * @returns {Toolbar} - toolbar instance\n         */\n        ;\n\n        _proto.getToolbar = function getToolbar() {\n          return this._toolbar;\n        }\n        /**\n         * set toolbar instance\n         * @param {Toolbar} toolbar - toolbar\n         */\n        ;\n\n        _proto.setToolbar = function setToolbar(toolbar) {\n          this._toolbar.destroy();\n\n          this._toolbar = toolbar;\n        }\n        /**\n         * get mode switch instance\n         * @returns {ModeSwitch} - mode switch instance\n         */\n        ;\n\n        _proto.getModeSwitch = function getModeSwitch() {\n          return this._modeSwitch;\n        }\n        /**\n         * get editor section height\n         * @returns {Number} - height of editor section\n         */\n        ;\n\n        _proto.getEditorSectionHeight = function getEditorSectionHeight() {\n          var clientRect = this._editorSection.getBoundingClientRect();\n\n          return clientRect.bottom - clientRect.top;\n        }\n        /**\n         * get editor height\n         * @returns {Number} - height of editor\n         */\n        ;\n\n        _proto.getEditorHeight = function getEditorHeight() {\n          var clientRect = this._container.getBoundingClientRect();\n\n          return clientRect.bottom - clientRect.top;\n        }\n        /**\n         * get Table Popup\n         * @returns {PopupTableUtils} - PopupTableUtils\n         */\n        ;\n\n        _proto.getPopupTableUtils = function getPopupTableUtils() {\n          var tablePopup;\n\n          this._popups.forEach(function (popup) {\n            if (popup instanceof popupTableUtils) {\n              tablePopup = popup;\n            }\n          });\n\n          return tablePopup;\n        }\n        /**\n         * hide\n         */\n        ;\n\n        _proto.hide = function hide() {\n          addClass_default()(this.el, 'te-hide');\n        }\n        /**\n         * show\n         */\n        ;\n\n        _proto.show = function show() {\n          removeClass_default()(this.el, 'te-hide');\n        }\n        /**\n         * remove\n         */\n        ;\n\n        _proto.remove = function remove() {\n          dom[\"a\"\n          /* default */\n          ].remove(this.el);\n\n          this._markdownTab.remove();\n\n          this._modeSwitch.remove();\n\n          this._toolbar.destroy();\n\n          this._popups.forEach(function (popup) {\n            return popup.remove();\n          });\n\n          this._popups = [];\n          tooltip.hide();\n        }\n        /**\n         * creates popup\n         * @param {LayerPopupOption} options - layerPopup options\n         * @returns {LayerPopup} - crated layerPopup\n         */\n        ;\n\n        _proto.createPopup = function createPopup(options) {\n          return new layerpopup(options);\n        };\n\n        return DefaultUI;\n      }();\n      /* harmony default export */\n\n\n      var defaultUI = defaultUI_DefaultUI; // EXTERNAL MODULE: ./src/js/codeBlockManager.js\n\n      var codeBlockManager = __webpack_require__(26); // EXTERNAL MODULE: /Users/nhn/Desktop/project/tui.editor/libs/to-mark/dist/to-mark.js\n\n\n      var to_mark = __webpack_require__(31);\n\n      var to_mark_default = /*#__PURE__*/__webpack_require__.n(to_mark); // CONCATENATED MODULE: ./src/js/toMarkRenderer.js\n\n      /**\n       * Check if given node is valid delimiter run.\n       * According to common-mark spec, following examples are not valid delimiter runs.\n       * 1. opening (*|**) preceded by an alphanumeric and followed by a punctuation.\n       *    (ex: a**~~c~~b**)\n       * 2. closing (*|**) preceded by a punctuation and followed by an alphanumeric.\n       *    (ex: **b~~c~~**a)\n       * @see {@link https://spec.commonmark.org/0.29/#delimiter-run}\n       * @see {@link https://github.com/commonmark/commonmark-spec/issues/611#issuecomment-533578503}\n       */\n\n\n      function isValidDelimiterRun(node) {\n        var isElemNode = dom[\"a\"\n        /* default */\n        ].isElemNode,\n            isTextNode = dom[\"a\"\n        /* default */\n        ].isTextNode;\n        var isInvalidOpener = isTextNode(node.previousSibling) && isElemNode(node.firstChild);\n        var isInvalidCloser = isTextNode(node.nextSibling) && isElemNode(node.lastChild);\n        return !isInvalidOpener && !isInvalidCloser;\n      }\n\n      function convertEmphasis(node, subContent, delimiter) {\n        var FIND_BEFORE_AND_AFTER_SPACES_RX = /^(\\s*)((?:.|\\n)*\\S)(\\s*)$/m;\n\n        var _subContent$match = subContent.match(FIND_BEFORE_AND_AFTER_SPACES_RX),\n            beforeSpaces = _subContent$match[1],\n            trimmedContent = _subContent$match[2],\n            afterSpaces = _subContent$match[3];\n\n        var convertedContent;\n\n        if (isValidDelimiterRun(node)) {\n          convertedContent = \"\" + delimiter + trimmedContent + delimiter;\n        } else {\n          var tagName = node.nodeName.toLowerCase();\n          convertedContent = \"<\" + tagName + \">\" + trimmedContent + \"</\" + tagName + \">\";\n        }\n\n        return \"\" + beforeSpaces + convertedContent + afterSpaces;\n      }\n      /* harmony default export */\n\n\n      var toMarkRenderer = to_mark_default.a.Renderer.factory(to_mark_default.a.gfmRenderer, {\n        'EM, I': function EMI(node, subContent) {\n          if (this.isEmptyText(subContent)) {\n            return '';\n          }\n\n          return convertEmphasis(node, subContent, '*');\n        },\n        'STRONG, B': function STRONGB(node, subContent) {\n          if (this.isEmptyText(subContent)) {\n            return '';\n          }\n\n          return convertEmphasis(node, subContent, '**');\n        },\n        'DEL, S': function DELS(node, subContent) {\n          if (this.isEmptyText(subContent)) {\n            return '';\n          }\n\n          return convertEmphasis(node, subContent, '~~');\n        }\n      }); // EXTERNAL MODULE: ./src/js/pluginHelper.js\n\n      var pluginHelper = __webpack_require__(37); // CONCATENATED MODULE: ./src/js/markdownCommands/emphasisCommon.js\n\n      /**\n       * @fileoverview This file is common logic for italic, bold, strike makrdown commands.\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * range expand according to expendSize\n       * If can not expand, return null\n       * @param {range} range - range\n       * @param {number} expendSize - expendSize\n       * @returns {object} expanded range or null\n       * @ignore\n       */\n\n\n      var getExpandedRange = function getExpandedRange(range, expendSize) {\n        var start = range.start,\n            end = range.end;\n        var expendRange;\n\n        if (start.ch >= expendSize) {\n          var from = {\n            line: start.line,\n            ch: start.ch - expendSize\n          };\n          var to = {\n            line: end.line,\n            ch: end.ch + expendSize\n          };\n          expendRange = {\n            from: from,\n            to: to\n          };\n        }\n\n        return expendRange;\n      };\n      /**\n       * remove symbol in the front and back of text\n       * @param {string} text - text\n       * @param {string} symbol - text\n       * @returns {string}\n       * @ignore\n       */\n\n\n      var removeSyntax = function removeSyntax(text, symbol) {\n        var symbolLength = symbol.length;\n        return text.substr(symbolLength, text.length - symbolLength * 2);\n      };\n      /**\n       * append symbol in the front and back of text\n       * @param {string} text - text\n       * @param {string} symbol - text\n       * @returns {string}\n       * @ignore\n       */\n\n\n      var appendSyntax = function appendSyntax(text, symbol) {\n        return \"\" + symbol + text + symbol;\n      };\n      /**\n       * check expanded text and replace text using replacer\n       * @param {CodeMirror.doc} doc - doc of codemirror\n       * @param {range} range - origin range\n       * @param {number} expandSize - expandSize\n       * @param {function} checker - sytax check function\n       * @param {function} replacer - text replace function\n       * @returns {boolean} - if replace text, return true.\n       * @ignore\n       */\n\n\n      var expandReplace = function expandReplace(doc, range, expandSize, checker, replacer) {\n        var expendRange = getExpandedRange(range, expandSize);\n        var result = false;\n\n        if (expendRange) {\n          var from = expendRange.from,\n              to = expendRange.to;\n          var expendRangeText = doc.getRange(from, to);\n\n          if (checker(expendRangeText)) {\n            doc.setSelection(from, to);\n            doc.replaceSelection(replacer(expendRangeText), 'around');\n            result = true;\n          }\n        }\n\n        return result;\n      };\n      /**\n       * check text and replace text using replacer\n       * @param {CodeMirror.doc} doc - doc of codemirror\n       * @param {string} text - text\n       * @param {function} checker - sytax check function\n       * @param {function} replacer - text replace function\n       * @returns {boolean} - if replace text, return true.\n       * @ignore\n       */\n\n\n      var replace = function replace(doc, text, checker, replacer) {\n        var result = false;\n\n        if (checker(text)) {\n          doc.replaceSelection(replacer(text), 'around');\n          result = true;\n        }\n\n        return result;\n      };\n\n      var changeSyntax = function changeSyntax(doc, range, symbol, syntaxRegex, contentRegex) {\n        var _doc$getCursor = doc.getCursor(),\n            line = _doc$getCursor.line,\n            ch = _doc$getCursor.ch;\n\n        var selectionStr = doc.getSelection();\n        var symbolLength = symbol.length;\n\n        var isSyntax = function isSyntax(t) {\n          return syntaxRegex.test(t);\n        }; // 1. expand text and check syntax => remove syntax\n        // 2. check text is syntax => remove syntax\n        // 3. If text does not match syntax, remove syntax inside text and then append syntax\n\n\n        if (!(expandReplace(doc, range, symbolLength, isSyntax, function (t) {\n          return removeSyntax(t, symbol);\n        }) || replace(doc, selectionStr, isSyntax, function (t) {\n          return removeSyntax(t, symbol);\n        }))) {\n          var removeSyntaxInsideText = selectionStr.replace(contentRegex, '$1');\n          doc.replaceSelection(appendSyntax(removeSyntaxInsideText, symbol), 'around');\n        }\n\n        var afterSelectStr = doc.getSelection();\n        var size = ch;\n\n        if (!selectionStr) {\n          // If text was not selected, after replace text, move cursor\n          // For example **|** => | (move cusor -symbolLenth)\n          if (isSyntax(afterSelectStr)) {\n            size += symbolLength;\n          } else {\n            size -= symbolLength;\n          }\n\n          doc.setCursor(line, size);\n        }\n      }; // CONCATENATED MODULE: ./src/js/markdownCommands/bold.js\n\n      /**\n       * @fileoverview Implements Bold markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      var boldRangeRegex = /^(\\*{2}|_{2}).*\\1$/;\n      var boldContentRegex = /[*_]{2,}([^*_]*)[*_]{2,}/g;\n      var boldSymbol = '**';\n      /**\n       * Bold\n       * Add bold markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/Bold\n       * @ignore\n       */\n\n      var Bold = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Bold */\n      {\n        name: 'Bold',\n        keyMap: ['CTRL+B', 'META+B'],\n\n        /**\n         * Command Handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var originRange = mde.getRange();\n          changeSyntax(doc, originRange, boldSymbol, boldRangeRegex, boldContentRegex);\n          cm.focus();\n        }\n      });\n      /* harmony default export */\n\n      var bold = Bold; // CONCATENATED MODULE: ./src/js/markdownCommands/italic.js\n\n      /**\n       * @fileoverview Implements Italic markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var boldItalicRangeRegex = /^(\\*{3}|_{3}).*\\1$/;\n      var italic_boldRangeRegex = /^(\\*{2}|_{2}).*\\1$/;\n      var italicRangeRegex = /^(\\*|_).*\\1$/;\n      var italicContentRegex = /([^*_])[*_]([^*_]+)[*_]([^*_])/g;\n\n      var isBoldItalic = function isBoldItalic(t) {\n        return boldItalicRangeRegex.test(t);\n      };\n\n      var isBold = function isBold(t) {\n        return italic_boldRangeRegex.test(t);\n      };\n\n      var isItalic = function isItalic(t) {\n        return italicRangeRegex.test(t);\n      };\n\n      var italicSymbol = '*';\n      var italic_boldSymbol = '**';\n      var boldItalicSymbol = '***';\n      var italicLength = italicSymbol.length;\n      var boldLength = italic_boldSymbol.length;\n      var boldItalicLength = boldItalicSymbol.length;\n      /**\n       * remove italic syntax in the middle of given text\n       * @param {string} text - text selected\n       * @returns {string} - text eliminated all italic in the middle of it's content\n       * @ignore\n       */\n\n      var removeItalicInsideText = function removeItalicInsideText(text) {\n        return text ? text.replace(italicContentRegex, '$1$2$3') : '';\n      };\n\n      var italic_replaceText = function replaceText(doc, text, range) {\n        // Check 3 cases when both text and expand text\n        // case 1 : bold & italic (when expand 3 both front and end) => remove italic\n        // case 2 : bold (when expand 2 both front and end) => append\n        // case 3 : italic (expand 1 both front and end) => remove\n        var expandReplaceBind = expandReplace.bind(this, doc, range);\n        return expandReplaceBind(boldItalicLength, isBoldItalic, function (t) {\n          return removeSyntax(t, italicSymbol);\n        }) || expandReplaceBind(boldLength, isBold, function (t) {\n          return appendSyntax(removeItalicInsideText(t), italicSymbol);\n        }) || expandReplaceBind(italicLength, isItalic, function (t) {\n          return removeSyntax(t, italicSymbol);\n        }) || replace(doc, text, isBoldItalic, function (t) {\n          return removeSyntax(t, italicSymbol);\n        }) || replace(doc, text, isBold, function (t) {\n          return appendSyntax(removeItalicInsideText(t), italicSymbol);\n        }) || replace(doc, text, isItalic, function (t) {\n          return removeSyntax(t, italicSymbol);\n        });\n      };\n\n      var italic_replaceEmptyText = function replaceEmptyText(doc, range) {\n        // Check 3 cases when expand text\n        // case 1 : bold & italic => remove italic\n        // case 2 : bold => append\n        // case 3 : italic => remove\n        // if there is no match, make italic\n        return expandReplace(doc, range, boldItalicLength, isBoldItalic, function (t) {\n          return removeSyntax(t, italicSymbol);\n        }) || expandReplace(doc, range, boldLength, isBold, function (t) {\n          return appendSyntax(t, italicSymbol);\n        }) || expandReplace(doc, range, italicLength, isItalic, function () {\n          return '';\n        }) || doc.replaceSelection(\"\" + italicSymbol + italicSymbol, 'around');\n      };\n      /**\n       * Italic\n       * Add italic markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/Italic\n       * @ignore\n       */\n\n\n      var Italic = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Italic */\n      {\n        name: 'Italic',\n        keyMap: ['CTRL+I', 'META+I'],\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n\n          var _doc$getCursor = doc.getCursor(),\n              line = _doc$getCursor.line,\n              ch = _doc$getCursor.ch;\n\n          var range = mde.getRange();\n          var selectionStr = doc.getSelection();\n\n          if (selectionStr) {\n            // check selectionStr match bold & italic, bold, italic and then\n            // if there is no match, append italic\n            if (!italic_replaceText(doc, selectionStr, range)) {\n              // Before append italic, remove italic inside text and then append italic\n              // Example: One*Two*Three => *OneTwoThree*\n              doc.replaceSelection(appendSyntax(removeItalicInsideText(selectionStr), italicSymbol), 'around');\n            }\n          } else {\n            italic_replaceEmptyText(doc, range);\n            var afterSelectStr = doc.getSelection();\n            var size = ch; // If text was not selected, after replace text, move cursor\n\n            if (isBoldItalic(afterSelectStr) || isItalic(afterSelectStr) && !isBold(afterSelectStr)) {\n              // For example **|** => ***|*** (move cusor +symbolLenth)\n              size += italicLength;\n            } else {\n              // For example *|* => | (move cusor -symbolLenth)\n              size -= italicLength;\n            }\n\n            doc.setCursor(line, size);\n          }\n\n          cm.focus();\n        }\n      });\n      /* harmony default export */\n\n      var italic = Italic; // CONCATENATED MODULE: ./src/js/markdownCommands/strike.js\n\n      /**\n       * @fileoverview Implements StrikeThrough markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var strikeRangeRegex = /^~~.*~~$/;\n      var strikeContentRegex = /~~([^~]*)~~/g;\n      var strikeSymbol = '~~';\n      /**\n       * Strike\n       * Add strike markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/Strike\n       * @ignore\n       */\n\n      var Strike = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Strike */\n      {\n        name: 'Strike',\n        keyMap: ['CTRL+S', 'META+S'],\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var originRange = mde.getRange();\n          changeSyntax(doc, originRange, strikeSymbol, strikeRangeRegex, strikeContentRegex);\n          cm.focus();\n        }\n      });\n      /* harmony default export */\n\n      var strike = Strike; // CONCATENATED MODULE: ./src/js/markdownCommands/blockquote.js\n\n      /**\n       * @fileoverview Implements Blockquote markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var BlockquoteRegex = /^> ?/;\n      /**\n       * Blockquote\n       * Add blockquote markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/Blockquote\n       * @ignore\n       */\n\n      var Blockquote = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Blockquote */\n      {\n        name: 'Blockquote',\n        keyMap: ['ALT+Q', 'ALT+Q'],\n\n        /**\n         * command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var range = mde.getCurrentRange();\n          var from = {\n            line: range.from.line,\n            ch: 0\n          };\n          var to = {\n            line: range.to.line,\n            ch: doc.getLineHandle(range.to.line).text.length\n          };\n          var textToModify = doc.getRange(from, to);\n          var textLinesToModify = textToModify.split('\\n');\n\n          var isNeedToRemove = this._haveBlockquote(textLinesToModify);\n\n          var resultText;\n\n          if (isNeedToRemove) {\n            resultText = this._removeBlockquote(textLinesToModify);\n          } else {\n            resultText = this._addBlockquote(textLinesToModify);\n          }\n\n          doc.replaceRange(resultText.join('\\n'), from, to);\n\n          if (isNeedToRemove) {\n            var length = textLinesToModify.length;\n\n            if (this._isBlockquoteWithSpace(textLinesToModify[length - 1])) {\n              range.to.ch -= 2;\n            } else {\n              range.to.ch -= 1;\n            }\n          } else {\n            range.to.ch += 2;\n          }\n\n          doc.setCursor(range.to);\n          cm.focus();\n        },\n\n        /**\n         * check all text in textArr starts with '>'\n         * @param {Array} textArr - text array\n         * @returns {boolean} - true if all text in textArr starts with '>'\n         * @private\n         */\n        _haveBlockquote: function _haveBlockquote(textArr) {\n          for (var i = 0; i < textArr.length; i += 1) {\n            if (!BlockquoteRegex.test(textArr[i])) {\n              return false;\n            }\n          }\n\n          return true;\n        },\n\n        /**\n         * add '> ' to all text in textArr\n         * @param {Array} textArr - text array\n         * @returns {Array} - new text array added '> '\n         * @private\n         */\n        _addBlockquote: function _addBlockquote(textArr) {\n          return textArr.map(function (text) {\n            return \"> \" + text;\n          });\n        },\n\n        /**\n         * remove '> ' or '>' to all text in textArr\n         * @param {Array} textArr - text array\n         * @returns {Array} - new text array removed '> ' or  '>'\n         * @private\n         */\n        _removeBlockquote: function _removeBlockquote(textArr) {\n          return textArr.map(function (text) {\n            return text.replace(BlockquoteRegex, '');\n          });\n        },\n\n        /**\n         * check text start '> '\n         * @param {string} text - text\n         * @returns {boolean} - if text start '> ', true\n         * @private\n         */\n        _isBlockquoteWithSpace: function _isBlockquoteWithSpace(text) {\n          return /^> /.test(text);\n        }\n      });\n      /* harmony default export */\n\n      var blockquote = Blockquote; // CONCATENATED MODULE: ./src/js/markdownCommands/heading.js\n\n      /**\n       * @fileoverview Implements Heading markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var heading_FIND_HEADING_RX = /^#+\\s/g;\n      /**\n       * Heading\n       * Add heading markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/Heading\n       * @ignore\n       */\n\n      var Heading = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Heading */\n      {\n        name: 'Heading',\n\n        /**\n         * Command Handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         * @param {number} size heading size\n         */\n        exec: function exec(mde, size) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var range = mde.getCurrentRange();\n          var from = {\n            line: range.from.line,\n            ch: 0\n          };\n          var to = {\n            line: range.to.line,\n            ch: doc.getLineHandle(range.to.line).text.length\n          };\n          var lengthOfCurrentLineBefore = doc.getLine(to.line).length;\n          var textToModify = doc.getRange(from, to);\n          var textLinesToModify = textToModify.split('\\n');\n          toArray_default()(textLinesToModify).forEach(function (line, index) {\n            textLinesToModify[index] = getHeadingMarkdown(line, size);\n          });\n          doc.replaceRange(textLinesToModify.join('\\n'), from, to);\n          range.to.ch += doc.getLine(to.line).length - lengthOfCurrentLineBefore;\n          doc.setSelection(from, range.to);\n          cm.focus();\n        }\n      });\n      /**\n       * Get heading markdown\n       * @param {string} text Source test\n       * @param {number} size size\n       * @returns {string}\n       */\n\n      function getHeadingMarkdown(text, size) {\n        var foundedHeading = text.match(heading_FIND_HEADING_RX);\n        var heading = '';\n\n        do {\n          heading += '#';\n          size -= 1;\n        } while (size > 0);\n\n        if (foundedHeading) {\n          var _text$split = text.split(foundedHeading[0]);\n\n          text = _text$split[1];\n        }\n\n        return heading + \" \" + text;\n      }\n      /* harmony default export */\n\n\n      var heading = Heading; // CONCATENATED MODULE: ./src/js/markdownCommands/paragraph.js\n\n      /**\n       * @fileoverview Implements Paragraph markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Paragraph\n       * Convert selected lines to paragraph\n       * @extends Command\n       * @module markdownCommands/Paragraph\n       * @ignore\n       */\n\n      var Paragraph = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Paragraph */\n      {\n        name: 'Paragraph',\n\n        /**\n         * Command Handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var range = mde.getCurrentRange();\n          var from = {\n            line: range.from.line,\n            ch: 0\n          };\n          var to = {\n            line: range.to.line,\n            ch: doc.getLineHandle(range.to.line).text.length\n          };\n          var lengthOfCurrentLineBefore = doc.getLine(to.line).length;\n          var textToModify = doc.getRange(from, to);\n          var textLines = textToModify.split('\\n');\n          toArray_default()(textLines).forEach(function (line, index) {\n            textLines[index] = getParagraphMarkdown(line);\n          });\n          doc.replaceRange(textLines.join('\\n'), from, to);\n          range.to.ch += doc.getLine(to.line).length - lengthOfCurrentLineBefore;\n          doc.setSelection(from, to);\n          cm.focus();\n        }\n      });\n      /**\n       * Get paragraph markdown lineText\n       * @param {string} lineText line lineText\n       * @returns {string}\n       */\n\n      function getParagraphMarkdown(lineText) {\n        var headingRx = /^(#{1,6}| *((?:\\*|-|\\d\\.)(?: \\[[ xX]])?)) /;\n        return lineText.replace(headingRx, '');\n      }\n      /* harmony default export */\n\n\n      var paragraph = Paragraph; // CONCATENATED MODULE: ./src/js/markdownCommands/hr.js\n\n      /**\n       * @fileoverview Implements HR markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * HR\n       * Add HR markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/HR\n       * @ignore\n       */\n\n      var HR = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends HR */\n      {\n        name: 'HR',\n        keyMap: ['CTRL+L', 'META+L'],\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var replaceText = '';\n          var range = mde.getCurrentRange();\n          var from = {\n            line: range.from.line,\n            ch: range.from.ch\n          };\n          var to = {\n            line: range.to.line,\n            ch: range.to.ch\n          };\n\n          if (range.collapsed) {\n            replaceText = doc.getLine(from.line);\n            from.ch = 0;\n            to.ch = doc.getLineHandle(range.to.line).text.length;\n          }\n\n          if (doc.getLine(from.line).length) {\n            replaceText += '\\n\\n* * *\\n\\n';\n          } else {\n            replaceText += '\\n* * *\\n';\n          }\n\n          doc.replaceRange(replaceText, from, to);\n          cm.focus();\n        }\n      });\n      /* harmony default export */\n\n      var markdownCommands_hr = HR; // CONCATENATED MODULE: ./src/js/markdownCommands/addLink.js\n\n      /**\n       * @fileoverview Implements Addlink markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var addLink_decodeURIGraceful = importManager.decodeURIGraceful,\n          encodeMarkdownCharacters = importManager.encodeMarkdownCharacters,\n          escapeMarkdownCharacters = importManager.escapeMarkdownCharacters;\n      /**\n       * AddLink\n       * Add link markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/AddLink\n       * @ignore\n       */\n\n      var AddLink = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends AddLink */\n      {\n        name: 'AddLink',\n\n        /**\n         * command handler for AddLink\n         * @param {MarkdownEditor} mde - MarkdownEditor instance\n         * @param {object} data - data for image\n         */\n        exec: function exec(mde, data) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var range = mde.getCurrentRange();\n          var from = {\n            line: range.from.line,\n            ch: range.from.ch\n          };\n          var to = {\n            line: range.to.line,\n            ch: range.to.ch\n          };\n          var linkText = data.linkText,\n              url = data.url;\n          linkText = addLink_decodeURIGraceful(linkText);\n          linkText = escapeMarkdownCharacters(linkText);\n          url = encodeMarkdownCharacters(url);\n          var replaceText = \"[\" + linkText + \"](\" + url + \")\";\n          doc.replaceRange(replaceText, from, to);\n          cm.focus();\n        }\n      });\n      /* harmony default export */\n\n      var addLink = AddLink; // CONCATENATED MODULE: ./src/js/markdownCommands/addImage.js\n\n      /**\n       * @fileoverview Implments AddImage markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var addImage_decodeURIGraceful = importManager.decodeURIGraceful,\n          addImage_encodeMarkdownCharacters = importManager.encodeMarkdownCharacters,\n          addImage_escapeMarkdownCharacters = importManager.escapeMarkdownCharacters;\n      /**\n       * AddImage\n       * Add Image markdown syntax to markdown Editor\n       * @extends Command\n       * @module markdownCommands/AddImage\n       * @ignore\n       */\n\n      var AddImage = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends AddImage */\n      {\n        name: 'AddImage',\n\n        /**\n         * Command Handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         * @param {object} data data for image\n         */\n        exec: function exec(mde, data) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var range = mde.getCurrentRange();\n          var from = {\n            line: range.from.line,\n            ch: range.from.ch\n          };\n          var to = {\n            line: range.to.line,\n            ch: range.to.ch\n          };\n          var altText = data.altText,\n              imageUrl = data.imageUrl;\n          altText = addImage_decodeURIGraceful(altText);\n          altText = addImage_escapeMarkdownCharacters(altText);\n          imageUrl = addImage_encodeMarkdownCharacters(imageUrl);\n          var replaceText = \"![\" + altText + \"](\" + imageUrl + \")\";\n          doc.replaceRange(replaceText, from, to, '+addImage');\n          cm.focus();\n        }\n      });\n      /* harmony default export */\n\n      var addImage = AddImage; // CONCATENATED MODULE: ./src/js/markdownCommands/ul.js\n\n      /**\n       * @fileoverview Implements UL markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * UL\n       * Add unordered list markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/UL\n       * @ignore\n       */\n\n      var UL = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends UL */\n      {\n        name: 'UL',\n        keyMap: ['CTRL+U', 'META+U'],\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var range = mde.getCurrentRange();\n          var listManager = mde.componentManager.getManager('list');\n          listManager.changeSyntax(range, 'ul');\n        }\n      });\n      /* harmony default export */\n\n      var markdownCommands_ul = UL; // CONCATENATED MODULE: ./src/js/markdownCommands/ol.js\n\n      /**\n       * @fileoverview Implements OL markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * OL\n       * Add ordered list markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/OL\n       * @ignore\n       */\n\n      var OL = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends OL */\n      {\n        name: 'OL',\n        keyMap: ['CTRL+O', 'META+O'],\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var range = mde.getCurrentRange();\n          var listManager = mde.componentManager.getManager('list');\n          listManager.changeSyntax(range, 'ol');\n        }\n      });\n      /* harmony default export */\n\n      var ol = OL; // CONCATENATED MODULE: ./src/js/markdownCommands/indent.js\n\n      /**\n       * @fileoverview Implements Indent markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Indent\n       * Add Indent markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/inent\n       * @ignore\n       */\n\n      var Indent = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Indent */\n      {\n        name: 'Indent',\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          cm.execCommand('indentOrderedList');\n        }\n      });\n      /* harmony default export */\n\n      var markdownCommands_indent = Indent; // CONCATENATED MODULE: ./src/js/markdownCommands/outdent.js\n\n      /**\n       * @fileoverview Implements Outdent markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Outdent\n       * Add Outdent markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/outdent\n       * @ignore\n       */\n\n      var Outdent = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Outdent */\n      {\n        name: 'Outdent',\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          cm.execCommand('indentLessOrderedList');\n        }\n      });\n      /* harmony default export */\n\n      var outdent = Outdent; // CONCATENATED MODULE: ./src/js/markdownCommands/table.js\n\n      /**\n       * @fileoverview Implements Table markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Table\n       * Add table markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/Table\n       * @ignore\n       */\n\n      var Table = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Table */\n      {\n        name: 'Table',\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         * @param {number} col column count\n         * @param {number} row row count\n         * @param {Array} data initial table data\n         */\n        exec: function exec(mde, col, row, data) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var table = '\\n';\n\n          if (cm.getCursor().ch > 0) {\n            table += '\\n';\n          }\n\n          table += makeHeader(col, data);\n          table += makeBody(col, row - 1, data);\n          doc.replaceSelection(table);\n\n          if (!data) {\n            cm.setCursor(cm.getCursor().line - row, 2);\n          }\n\n          mde.focus();\n        }\n      });\n      /**\n       * makeHeader\n       * make table header markdown string\n       * @param {number} col Column count\n       * @param {array} data Cell's text content\n       * @returns {string} markdown string\n       */\n\n      function makeHeader(col, data) {\n        var header = '|';\n        var border = '|';\n        var index = 0;\n\n        while (col) {\n          if (data) {\n            header += \" \" + data[index] + \" |\";\n            index += 1;\n          } else {\n            header += '  |';\n          }\n\n          border += ' --- |';\n          col -= 1;\n        }\n\n        return header + \"\\n\" + border + \"\\n\";\n      }\n      /**\n       * makeBody\n       * make table body markdown string\n       * @param {number} col column count\n       * @param {number} row row count\n       * @param {Array} data initial table data\n       * @returns {string} html string\n       */\n\n\n      function makeBody(col, row, data) {\n        var body = '';\n        var index = col;\n\n        for (var irow = 0; irow < row; irow += 1) {\n          body += '|';\n\n          for (var icol = 0; icol < col; icol += 1) {\n            if (data) {\n              body += \" \" + data[index] + \" |\";\n              index += 1;\n            } else {\n              body += '  |';\n            }\n          }\n\n          body += '\\n';\n        }\n\n        body = body.replace(/\\n$/g, '');\n        return body;\n      }\n      /* harmony default export */\n\n\n      var markdownCommands_table = Table; // CONCATENATED MODULE: ./src/js/markdownCommands/task.js\n\n      /**\n       * @fileoverview Implements Task markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Task\n       * @extends Command\n       * @module markdownCommands/Task\n       * @ignore\n       */\n\n      var Task = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Task */\n      {\n        name: 'Task',\n        keyMap: ['ALT+T', 'ALT+T'],\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var range = mde.getCurrentRange();\n          var listManager = mde.componentManager.getManager('list');\n          listManager.changeSyntax(range, 'task');\n        }\n      });\n      /* harmony default export */\n\n      var task = Task; // CONCATENATED MODULE: ./src/js/markdownCommands/code.js\n\n      /**\n       * @fileoverview Implements Code markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var codeRangeRegex = /^`([^`]+)`$/;\n      var codeContentRegex = /`([^`]+)`/g;\n      /**\n       * Code\n       * Add code markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/Code\n       * @ignore\n       */\n\n      var Code = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends Code */\n      {\n        name: 'Code',\n        keyMap: ['SHIFT+CTRL+C', 'SHIFT+META+C'],\n\n        /**\n         * Command Handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var selection = doc.getSelection();\n          var cursor = cm.getCursor();\n          var hasSyntax = this.hasStrikeSyntax(selection);\n          var result;\n\n          if (hasSyntax) {\n            result = this.remove(selection);\n            result = this._removeCodeSyntax(result);\n          } else {\n            result = this._removeCodeSyntax(selection);\n            result = this.append(result);\n          }\n\n          doc.replaceSelection(result, 'around');\n\n          if (!selection && !hasSyntax) {\n            this.setCursorToCenter(doc, cursor, hasSyntax);\n          }\n\n          cm.focus();\n        },\n\n        /**\n         * set cursor to center\n         * @param {CodeMirror.doc} doc - codemirror document\n         * @param {object} cursor - codemirror cursor\n         * @param {boolean} isRemoved - whether it involes deletion\n         */\n        setCursorToCenter: function setCursorToCenter(doc, cursor, isRemoved) {\n          var pos = isRemoved ? -1 : 1;\n          doc.setCursor(cursor.line, cursor.ch + pos);\n        },\n\n        /**\n         * has code syntax\n         * @param {string} text Source text\n         * @returns {boolean} true if the given text has a code syntax\n         */\n        hasStrikeSyntax: function hasStrikeSyntax(text) {\n          return codeRangeRegex.test(text);\n        },\n\n        /**\n         * apply Code\n         * @param {string} text - selected text\n         * @returns {string} - text after code syntax applied\n         */\n        append: function append(text) {\n          return \"`\" + text + \"`\";\n        },\n\n        /**\n         * remove Code\n         * @param {string} text - selected text\n         * @returns {string} - text after code syntax removed\n         */\n        remove: function remove(text) {\n          return text.substr(1, text.length - 2);\n        },\n\n        /**\n         * remove bold syntax in the middle of given text\n         * @param {string} text - text selected\n         * @returns {string} - text eliminated all code in the middle of it's content\n         * @private\n         */\n        _removeCodeSyntax: function _removeCodeSyntax(text) {\n          return text ? text.replace(codeContentRegex, '$1') : '';\n        }\n      });\n      /* harmony default export */\n\n      var markdownCommands_code = Code; // CONCATENATED MODULE: ./src/js/markdownCommands/codeBlock.js\n\n      /**\n       * @fileoverview Implements CodeBlock markdown command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * CodeBlock\n       * Add CodeBlock markdown syntax to markdown editor\n       * @extends Command\n       * @module markdownCommands/CodeBlock\n       * @ignore\n       */\n\n      var CodeBlock = commandManager[\"a\"\n      /* default */\n      ].command('markdown',\n      /** @lends CodeBlock */\n      {\n        name: 'CodeBlock',\n        keyMap: ['SHIFT+CTRL+P', 'SHIFT+META+P'],\n\n        /**\n         * Command handler\n         * @param {MarkdownEditor} mde MarkdownEditor instance\n         */\n        exec: function exec(mde) {\n          var cm = mde.getEditor();\n          var doc = cm.getDoc();\n          var range = mde.getCurrentRange();\n          var replaceText = ['```', doc.getSelection(), '```'];\n          var cursorOffset = 1; // insert a line break to the front if the selection starts in the middle of a text\n\n          if (range.from.ch !== 0) {\n            replaceText.unshift('');\n            cursorOffset += 1;\n          } // insert a line break to the end if the selection has trailing text\n\n\n          if (range.to.ch !== doc.getLine(range.to.line).length) {\n            replaceText.push('');\n          }\n\n          doc.replaceSelection(replaceText.join('\\n'));\n          cm.setCursor(range.from.line + cursorOffset, 0);\n          cm.focus();\n        }\n      });\n      /* harmony default export */\n\n      var markdownCommands_codeBlock = CodeBlock; // CONCATENATED MODULE: ./src/js/wysiwygCommands/bold.js\n\n      /**\n       * @fileoverview Implements bold WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Bold\n       * Add bold to selected wysiwyg editor content\n       * @extends Command\n       * @module wysiwygCommands/Bold\n       * @ignore\n       */\n\n      var bold_Bold = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Bold */\n      {\n        name: 'Bold',\n        keyMap: ['CTRL+B', 'META+B'],\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var tableSelectionManager = wwe.componentManager.getManager('tableSelection');\n          wwe.focus();\n\n          if (sq.hasFormat('table') && tableSelectionManager.getSelectedCells().length) {\n            tableSelectionManager.styleToSelectedCells(styleBold);\n            var range = sq.getSelection();\n            range.collapse(true);\n            sq.setSelection(range);\n          } else {\n            styleBold(sq);\n            dom[\"a\"\n            /* default */\n            ].optimizeRange(sq.getSelection(), 'B');\n          }\n        }\n      });\n      /**\n       * Style bold.\n       * @param {object} sq - squire editor instance\n       */\n\n      function styleBold(sq) {\n        if (sq.hasFormat('b') || sq.hasFormat('strong')) {\n          sq.changeFormat(null, {\n            tag: 'b'\n          });\n        } else if (!sq.hasFormat('PRE')) {\n          if (sq.hasFormat('code')) {\n            sq.changeFormat(null, {\n              tag: 'code'\n            });\n          }\n\n          sq.bold();\n        }\n      }\n      /* harmony default export */\n\n\n      var wysiwygCommands_bold = bold_Bold; // CONCATENATED MODULE: ./src/js/wysiwygCommands/italic.js\n\n      /**\n       * @fileoverview Implements italic WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Italic\n       * Add Italic to selected wysiwyg editor content\n       * @extends Command\n       * @module wysiwygCommands/Italic\n       * @ignore\n       */\n\n      var italic_Italic = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Italic */\n      {\n        name: 'Italic',\n        keyMap: ['CTRL+I', 'META+I'],\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var tableSelectionManager = wwe.componentManager.getManager('tableSelection');\n          wwe.focus();\n\n          if (sq.hasFormat('table') && tableSelectionManager.getSelectedCells().length) {\n            tableSelectionManager.styleToSelectedCells(styleItalic);\n            var range = sq.getSelection();\n            range.collapse(true);\n            sq.setSelection(range);\n          } else {\n            styleItalic(sq);\n            dom[\"a\"\n            /* default */\n            ].optimizeRange(sq.getSelection(), 'I');\n          }\n        }\n      });\n      /**\n       * Style italic.\n       * @param {object} sq - squire editor instance\n       */\n\n      function styleItalic(sq) {\n        if (sq.hasFormat('i') || sq.hasFormat('em')) {\n          sq.changeFormat(null, {\n            tag: 'i'\n          });\n        } else if (!sq.hasFormat('PRE')) {\n          if (sq.hasFormat('code')) {\n            sq.changeFormat(null, {\n              tag: 'code'\n            });\n          }\n\n          sq.italic();\n        }\n      }\n      /* harmony default export */\n\n\n      var wysiwygCommands_italic = italic_Italic; // CONCATENATED MODULE: ./src/js/wysiwygCommands/strike.js\n\n      /**\n       * @fileoverview Implements strike WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Strike\n       * Add strike to selected wysiwyg editor content\n       * @extends Command\n       * @module wysiwygCommands/Strike\n       * @ignore\n       */\n\n      var strike_Strike = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Strike */\n      {\n        name: 'Strike',\n        keyMap: ['CTRL+S', 'META+S'],\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe WysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var tableSelectionManager = wwe.componentManager.getManager('tableSelection');\n          wwe.focus();\n\n          if (sq.hasFormat('table') && tableSelectionManager.getSelectedCells().length) {\n            tableSelectionManager.styleToSelectedCells(styleStrike);\n            var range = sq.getSelection();\n            range.collapse(true);\n            sq.setSelection(range);\n          } else {\n            styleStrike(sq);\n            dom[\"a\"\n            /* default */\n            ].optimizeRange(sq.getSelection(), 'S');\n          }\n        }\n      });\n      /**\n       * Style strike.\n       * @param {object} sq - squire editor instance\n       */\n\n      function styleStrike(sq) {\n        if (sq.hasFormat('S')) {\n          sq.changeFormat(null, {\n            tag: 'S'\n          });\n        } else if (!sq.hasFormat('PRE')) {\n          if (sq.hasFormat('code')) {\n            sq.changeFormat(null, {\n              tag: 'code'\n            });\n          }\n\n          sq.strikethrough();\n        }\n      }\n      /* harmony default export */\n\n\n      var wysiwygCommands_strike = strike_Strike; // CONCATENATED MODULE: ./src/js/wysiwygCommands/blockquote.js\n\n      /**\n       * @fileoverview Implements block quote WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Blockquote\n       * Add Blockquote to selected wysiwyg editor content\n       * @extends Command\n       * @module wysiwygCommands/Blockquote\n       * @ignore\n       */\n\n      var blockquote_Blockquote = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Blockquote */\n      {\n        name: 'Blockquote',\n        keyMap: ['ALT+Q', 'ALT+Q'],\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          wwe.focus();\n\n          if (!sq.hasFormat('TABLE') && !sq.hasFormat('PRE')) {\n            if (sq.hasFormat('BLOCKQUOTE')) {\n              sq.decreaseQuoteLevel();\n            } else {\n              sq.increaseQuoteLevel();\n            }\n          }\n        }\n      });\n      /* harmony default export */\n\n      var wysiwygCommands_blockquote = blockquote_Blockquote; // CONCATENATED MODULE: ./src/js/wysiwygCommands/addImage.js\n\n      /**\n       * @fileoverview Implements AddImage wysiwyg command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var wysiwygCommands_addImage_decodeURIGraceful = importManager.decodeURIGraceful,\n          wysiwygCommands_addImage_encodeMarkdownCharacters = importManager.encodeMarkdownCharacters;\n      /**\n       * AddImage\n       * Add Image markdown syntax to wysiwyg Editor\n       * @extends Command\n       * @module wysiwygCommands/AddImage\n       * @ignore\n       */\n\n      var addImage_AddImage = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends AddImage */\n      {\n        name: 'AddImage',\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         * @param {object} data data for image\n         */\n        exec: function exec(wwe, data) {\n          var sq = wwe.getEditor();\n          var altText = data.altText,\n              imageUrl = data.imageUrl;\n          altText = wysiwygCommands_addImage_decodeURIGraceful(altText);\n          imageUrl = wysiwygCommands_addImage_encodeMarkdownCharacters(imageUrl);\n          wwe.focus();\n\n          if (!sq.hasFormat('PRE')) {\n            sq.insertImage(imageUrl, {\n              alt: altText\n            });\n          }\n        }\n      });\n      /* harmony default export */\n\n      var wysiwygCommands_addImage = addImage_AddImage; // CONCATENATED MODULE: ./src/js/wysiwygCommands/addLink.js\n\n      /**\n       * @fileoverview Implements AddLink wysiwyg command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var wysiwygCommands_addLink_decodeURIGraceful = importManager.decodeURIGraceful,\n          addLink_encodeMarkdownCharacters = importManager.encodeMarkdownCharacters;\n      /**\n       * AddLink\n       * Add link markdown syntax to wysiwyg Editor\n       * @extends Command\n       * @module wysiwygCommands/AddLink\n       * @ignore\n       */\n\n      var addLink_AddLink = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends AddLink */\n      {\n        name: 'AddLink',\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe - wysiwygEditor instance\n         * @param {object} data - data for image\n         */\n        exec: function exec(wwe, data) {\n          var sq = wwe.getEditor();\n          var linkAttibute = wwe.getLinkAttribute();\n          var url = data.url,\n              linkText = data.linkText;\n          linkText = wysiwygCommands_addLink_decodeURIGraceful(linkText);\n          url = addLink_encodeMarkdownCharacters(url);\n          wwe.focus();\n\n          if (!sq.hasFormat('PRE')) {\n            sq.removeAllFormatting();\n\n            if (sq.getSelectedText()) {\n              sq.makeLink(url, linkAttibute);\n            } else {\n              var link = sq.createElement('A', extend_default()({\n                href: url\n              }, linkAttibute));\n              link.textContent = linkText;\n              sq.insertElement(link);\n            }\n          }\n        }\n      });\n      /* harmony default export */\n\n      var wysiwygCommands_addLink = addLink_AddLink; // CONCATENATED MODULE: ./src/js/wysiwygCommands/hr.js\n\n      /**\n       * @fileoverview Implements HR wysiwyg command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * HR\n       * Add horizontal line markdown syntax to wysiwyg Editor\n       * @extends Command\n       * @module wysiwygCommands/HR\n       * @ignore\n       */\n\n      var hr_HR = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends HR */\n      {\n        name: 'HR',\n        keyMap: ['CTRL+L', 'META+L'],\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection();\n\n          if (range.collapsed && !sq.hasFormat('TABLE') && !sq.hasFormat('PRE')) {\n            var hr = document.createElement('hr');\n            var currentNode = dom[\"a\"\n            /* default */\n            ].getChildNodeByOffset(range.startContainer, range.startOffset);\n            var nextBlockNode = dom[\"a\"\n            /* default */\n            ].getTopNextNodeUnder(currentNode, wwe.getBody()); // If nextBlockNode is div that has hr and has contenteditable as false,\n            // nextBlockNode should be set as nextSibling that is normal block.\n\n            if (nextBlockNode && !dom[\"a\"\n            /* default */\n            ].isTextNode(nextBlockNode)) {\n              while (nextBlockNode && nextBlockNode.getAttribute('contenteditable') === 'false') {\n                nextBlockNode = nextBlockNode.nextSibling;\n              }\n            }\n\n            if (!nextBlockNode) {\n              nextBlockNode = dom[\"a\"\n              /* default */\n              ].createEmptyLine();\n              dom[\"a\"\n              /* default */\n              ].append(wwe.getBody(), nextBlockNode);\n            }\n\n            sq.modifyBlocks(function (frag) {\n              frag.appendChild(hr);\n              return frag;\n            });\n            var previousSibling = hr.previousSibling;\n\n            if (previousSibling && dom[\"a\"\n            /* default */\n            ].isTextNode(previousSibling) && dom[\"a\"\n            /* default */\n            ].getTextLength(previousSibling) === 0) {\n              hr.parentNode.removeChild(previousSibling);\n            }\n\n            hr.parentNode.replaceChild(dom[\"a\"\n            /* default */\n            ].createHorizontalRule(), hr);\n            range.selectNodeContents(nextBlockNode);\n            range.collapse(true);\n            sq.setSelection(range);\n            sq.saveUndoState(range);\n          }\n\n          wwe.focus();\n        }\n      });\n      /* harmony default export */\n\n      var wysiwygCommands_hr = hr_HR; // CONCATENATED MODULE: ./src/js/wysiwygCommands/heading.js\n\n      /**\n       * @fileoverview Implements Heading wysiwyg command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Heading\n       * Convert selected root level contents to heading with size wysiwyg Editor\n       * @extends Command\n       * @module wysiwygCommands/Heading\n       * @ignore\n       */\n\n      var heading_Heading = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Heading */\n      {\n        name: 'Heading',\n\n        /**\n         * Command handler\n         * @param {WysiwygEditor} wwe WYSIWYGEditor instance\n         * @param {Number} size size\n         */\n        exec: function exec(wwe, size) {\n          var sq = wwe.getEditor();\n          var blockTagName = 'h1, h2, h3, h4, h5, h6, div';\n          wwe.focus();\n\n          if (!sq.hasFormat('TABLE') && !sq.hasFormat('PRE')) {\n            sq.modifyBlocks(function (fragment) {\n              var blocks = dom[\"a\"\n              /* default */\n              ].children(fragment, blockTagName);\n              toArray_default()(blocks).forEach(function (block) {\n                var headingHTML = \"h\" + size;\n\n                if (dom[\"a\"\n                /* default */\n                ].getNodeName(block) === 'DIV') {\n                  dom[\"a\"\n                  /* default */\n                  ].wrap(block, headingHTML);\n                } else {\n                  var wrapperHeading = document.createElement(headingHTML);\n                  dom[\"a\"\n                  /* default */\n                  ].insertBefore(wrapperHeading, block);\n                  wrapperHeading.innerHTML = block.innerHTML;\n                  dom[\"a\"\n                  /* default */\n                  ].remove(block);\n                }\n              });\n              return fragment;\n            });\n          }\n        }\n      });\n      /* harmony default export */\n\n      var wysiwygCommands_heading = heading_Heading; // CONCATENATED MODULE: ./src/js/wysiwygCommands/paragraph.js\n\n      /**\n       * @fileoverview Implements Paragraph wysiwyg command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Paragraph\n       * Convert selected contents to paragraph only heading and list\n       * @extends Command\n       * @module wysiwygCommands/Paragraph\n       * @ignore\n       */\n\n      var paragraph_Paragraph = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Paragraph */\n      {\n        name: 'Paragraph',\n\n        /**\n         * Command handler\n         * @param {WysiwygEditor} wwe WYSIWYGEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          wwe.focus();\n\n          if (!sq.hasFormat('TABLE') && !sq.hasFormat('PRE')) {\n            sq.modifyBlocks(function (fragment) {\n              var newFragment = document.createDocumentFragment();\n              toArray_default()(fragment.childNodes).forEach(function (block) {\n                if (block.nodeName.match(/h\\d/i)) {\n                  appendChildrenTo(newFragment, block.children);\n                } else if (block.nodeName.match(/ul|ol/i)) {\n                  dom[\"a\"\n                  /* default */\n                  ].findAll(block, 'li').forEach(function (listItem) {\n                    appendChildrenTo(newFragment, listItem.children);\n                  });\n                } else {\n                  newFragment.appendChild(block);\n                }\n              });\n              return newFragment;\n            });\n          }\n        }\n      });\n      /**\n       * Append children\n       * @param {HTMLElement} parent - target to append\n       * @param {Array.<HTMLElement>} children - appending children\n       */\n\n      function appendChildrenTo(parent, children) {\n        toArray_default()(children).forEach(function (child) {\n          parent.appendChild(child.cloneNode(true));\n        });\n      }\n      /* harmony default export */\n\n\n      var wysiwygCommands_paragraph = paragraph_Paragraph; // CONCATENATED MODULE: ./src/js/wysiwygCommands/ul.js\n\n      /**\n       * @fileoverview Implements ul WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * UL\n       * Add UL to selected wysiwyg editor content\n       * @extends Command\n       * @module wysiwygCommands/UL\n       * @ignore\n       */\n\n      var ul_UL = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends UL */\n      {\n        name: 'UL',\n        keyMap: ['CTRL+U', 'META+U'],\n\n        /**\n         * Command Handler\n         * @param {WysiwygEditor} wwe WYSIWYGEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection();\n          var listManager = wwe.componentManager.getManager('list');\n          var startContainer = range.startContainer,\n              endContainer = range.endContainer,\n              startOffset = range.startOffset,\n              endOffset = range.endOffset;\n          var newLIs = [];\n          wwe.focus();\n          sq.saveUndoState(range);\n\n          if (listManager.isAvailableMakeListInTable()) {\n            newLIs = listManager.createListInTable(range, 'UL');\n          } else {\n            var lines = listManager.getLinesOfSelection(startContainer, endContainer);\n\n            for (var i = 0; i < lines.length; i += 1) {\n              var newLI = this._changeFormatToUnorderedListIfNeed(wwe, lines[i]);\n\n              if (newLI) {\n                newLIs.push(newLI);\n              }\n            }\n          }\n\n          if (newLIs.length) {\n            listManager.adjustRange(startContainer, endContainer, startOffset, endOffset, newLIs);\n          }\n        },\n\n        /**\n         * Change format to unordered list if need\n         * @param {WysiwygEditor} wwe Wysiwyg editor instance\n         * @param {HTMLElement} target Element target for change\n         * @returns {HTMLElement} newly created list\n         * @private\n         */\n        _changeFormatToUnorderedListIfNeed: function _changeFormatToUnorderedListIfNeed(wwe, target) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection();\n          var taskManager = wwe.componentManager.getManager('task');\n          var newLI;\n\n          if (!sq.hasFormat('PRE')) {\n            range.setStart(target, 0);\n            range.collapse(true);\n            sq.setSelection(range);\n\n            if (sq.hasFormat('LI')) {\n              wwe.saveSelection(range);\n              taskManager.unformatTask(range.startContainer);\n              sq.replaceParent(range.startContainer, 'ol', 'ul');\n              wwe.restoreSavedSelection();\n            } else {\n              wwe.unwrapBlockTag();\n              sq.makeUnorderedList();\n            }\n\n            newLI = sq.getSelection().startContainer;\n          }\n\n          return newLI;\n        }\n      });\n      /* harmony default export */\n\n      var wysiwygCommands_ul = ul_UL; // CONCATENATED MODULE: ./src/js/wysiwygCommands/ol.js\n\n      /**\n       * @fileoverview Implements ol WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * OL\n       * Add OL to selected wysiwyg editor content\n       * @extends Command\n       * @module wysiwygCommands/OL\n       * @ignore\n       */\n\n      var ol_OL = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends OL */\n      {\n        name: 'OL',\n        keyMap: ['CTRL+O', 'META+O'],\n\n        /**\n         * Command Handler\n         * @param {WysiwygEditor} wwe WYSIWYGEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection();\n          var listManager = wwe.componentManager.getManager('list');\n          var startContainer = range.startContainer,\n              startOffset = range.startOffset,\n              endContainer = range.endContainer,\n              endOffset = range.endOffset;\n          var newLIs = [];\n          wwe.focus();\n          sq.saveUndoState(range);\n\n          if (listManager.isAvailableMakeListInTable()) {\n            newLIs = listManager.createListInTable(range, 'OL');\n          } else {\n            var lines = listManager.getLinesOfSelection(startContainer, endContainer);\n\n            for (var i = 0; i < lines.length; i += 1) {\n              var newLI = this._changeFormatToOrderedListIfNeed(wwe, lines[i]);\n\n              if (newLI) {\n                newLIs.push(newLI);\n              }\n            }\n          }\n\n          if (newLIs.length) {\n            listManager.adjustRange(startContainer, endContainer, startOffset, endOffset, newLIs);\n          }\n        },\n\n        /**\n         * Change format to unordered list if need\n         * @param {WysiwygEditor} wwe Wysiwyg editor instance\n         * @param {HTMLElement} target Element target for change\n         * @returns {HTMLElement} newly created list item\n         * @private\n         */\n        _changeFormatToOrderedListIfNeed: function _changeFormatToOrderedListIfNeed(wwe, target) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection();\n          var taskManager = wwe.componentManager.getManager('task');\n          var newLI;\n\n          if (!sq.hasFormat('PRE')) {\n            range.setStart(target, 0);\n            range.collapse(true);\n            sq.setSelection(range);\n\n            if (sq.hasFormat('LI')) {\n              wwe.saveSelection(range);\n              taskManager.unformatTask(range.startContainer);\n              sq.replaceParent(range.startContainer, 'ul', 'ol');\n              wwe.restoreSavedSelection();\n            } else {\n              wwe.unwrapBlockTag();\n              sq.makeOrderedList();\n            }\n\n            newLI = sq.getSelection().startContainer;\n          }\n\n          return newLI;\n        }\n      });\n      /* harmony default export */\n\n      var wysiwygCommands_ol = ol_OL; // CONCATENATED MODULE: ./src/js/wysiwygCommands/table.js\n\n      /**\n       * @fileoverview Implements table WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Table\n       * Add table to selected wysiwyg editor content\n       * @extends Command\n       * @module wysiwygCommands/Table\n       * @ignore\n       */\n\n      var table_Table = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Table */\n      {\n        name: 'Table',\n\n        /**\n         * Command Handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         * @param {number} col column count\n         * @param {number} row row count\n         * @param {Array} data initial table data\n         */\n        exec: function exec(wwe, col, row, data) {\n          var sq = wwe.getEditor();\n          var tableIDClassName = wwe.componentManager.getManager('table').getTableIDClassName();\n          var tableHTMLString;\n\n          if (!sq.getSelection().collapsed || sq.hasFormat('TABLE') || sq.hasFormat('PRE')) {\n            wwe.focus();\n            return;\n          }\n\n          tableHTMLString = \"<table class=\\\"\" + tableIDClassName + \"\\\">\";\n          tableHTMLString += table_makeHeader(col, data);\n          tableHTMLString += table_makeBody(col, row - 1, data);\n          tableHTMLString += '</table>';\n          sq.insertHTML(tableHTMLString);\n          wwe.focus();\n\n          if (!data) {\n            focusToFirstTh(sq, wwe.getBody().querySelector(\".\" + tableIDClassName));\n          }\n        }\n      });\n      /**\n       * Focus to first th\n       * @param {Squire} sq Squire instance\n       * @param {HTMLElement} table wrapped table element\n       */\n\n      function focusToFirstTh(sq, table) {\n        var range = sq.getSelection();\n        range.selectNodeContents(table.querySelector('th'));\n        range.collapse(true);\n        sq.setSelection(range);\n      }\n      /**\n       * makeHeader\n       * make table header html string\n       * @param {number} col column count\n       * @param {string} data cell data\n       * @returns {string} html string\n       */\n\n\n      function table_makeHeader(col, data) {\n        var header = '<thead><tr>';\n        var index = 0;\n\n        while (col) {\n          header += '<th>';\n\n          if (data) {\n            header += data[index];\n            index += 1;\n          }\n\n          header += '</th>';\n          col -= 1;\n        }\n\n        header += '</tr></thead>';\n        return header;\n      }\n      /**\n       * makeBody\n       * make table body html string\n       * @param {number} col column count\n       * @param {number} row row count\n       * @param {string} data cell data\n       * @returns {string} html string\n       */\n\n\n      function table_makeBody(col, row, data) {\n        var body = '<tbody>';\n        var index = col;\n\n        for (var irow = 0; irow < row; irow += 1) {\n          body += '<tr>';\n\n          for (var icol = 0; icol < col; icol += 1) {\n            body += '<td>';\n\n            if (data) {\n              body += data[index];\n              index += 1;\n            }\n\n            body += '</td>';\n          }\n\n          body += '</tr>';\n        }\n\n        body += '</tbody>';\n        return body;\n      }\n      /* harmony default export */\n\n\n      var wysiwygCommands_table = table_Table; // CONCATENATED MODULE: ./src/js/wysiwygCommands/tableAddRow.js\n\n      /**\n       * @fileoverview Implements table add row WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * AddRow\n       * Add Row to selected table\n       * @extends Command\n       * @module wysiwygCommands/TableAddRow\n       * @ignore\n       */\n\n      var TableAddRow = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends AddRow */\n      {\n        name: 'AddRow',\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n          var selectedRowLength = getSelectedRowsLength(wwe);\n          var tr, newRow;\n          wwe.focus();\n\n          if (sq.hasFormat('TD')) {\n            sq.saveUndoState(range);\n            tr = dom[\"a\"\n            /* default */\n            ].closest(range.startContainer, 'tr');\n\n            for (var i = 0; i < selectedRowLength; i += 1) {\n              newRow = getNewRow(tr);\n              dom[\"a\"\n              /* default */\n              ].insertAfter(newRow, tr);\n            }\n\n            focusToFirstTd(sq, newRow);\n          } else if (sq.hasFormat('TH')) {\n            sq.saveUndoState(range);\n            tr = dom[\"a\"\n            /* default */\n            ].closest(range.startContainer, 'tr');\n\n            var _domUtils$parents = dom[\"a\"\n            /* default */\n            ].parents(tr, 'thead'),\n                thead = _domUtils$parents[0];\n\n            var tbody = thead.nextSibling;\n\n            if (matches_default()(tbody, 'tbody')) {\n              var _domUtils$children = dom[\"a\"\n              /* default */\n              ].children(tbody, 'tr');\n\n              tr = _domUtils$children[0];\n            }\n\n            for (var _i = 0; _i < selectedRowLength; _i += 1) {\n              newRow = getNewRow(tr);\n              dom[\"a\"\n              /* default */\n              ].insertBefore(newRow, tr);\n            }\n\n            focusToFirstTd(sq, newRow);\n          }\n        }\n      });\n      /**\n       * get number of selected rows\n       * @param {WysiwygEditor} wwe - wysiwygEditor instance\n       * @returns {number} - number of selected rows\n       * @ignore\n       */\n\n      function getSelectedRowsLength(wwe) {\n        var selectionMgr = wwe.componentManager.getManager('tableSelection');\n        var selectedCells = selectionMgr.getSelectedCells();\n        var length = 1;\n\n        if (selectedCells.length > 1) {\n          var first = selectedCells[0];\n          var last = selectedCells[selectedCells.length - 1];\n          var range = selectionMgr.getSelectionRangeFromTable(first, last);\n          length = range.to.row - range.from.row + 1;\n        }\n\n        return length;\n      }\n      /**\n       * Get new row of given row\n       * @param {HTMLElement} tr - wrapped table row\n       * @returns {HTMLElement} - new cloned element\n       * @ignore\n       */\n\n\n      function getNewRow(tr) {\n        var cloned = tr.cloneNode(true);\n        var htmlString = browser_default.a.msie ? '' : '<br />';\n        dom[\"a\"\n        /* default */\n        ].findAll(cloned, 'td').forEach(function (td) {\n          td.innerHTML = htmlString;\n        });\n        return cloned;\n      }\n      /**\n       * Focus to first table cell\n       * @param {Squire} sq - Squire instance\n       * @param {HTMLElement} tr - wrapped table row\n       * @ignore\n       */\n\n\n      function focusToFirstTd(sq, tr) {\n        var range = sq.getSelection();\n        range.selectNodeContents(tr.querySelector('td'));\n        range.collapse(true);\n        sq.setSelection(range);\n      }\n      /* harmony default export */\n\n\n      var tableAddRow = TableAddRow; // CONCATENATED MODULE: ./src/js/wysiwygCommands/tableAddCol.js\n\n      /**\n       * @fileoverview Implements table add column WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * AddCol\n       * Add col to selected table\n       * @extends Command\n       * @module wysiwygCommands/TableAddCol\n       * @ignore\n       */\n\n      var TableAddCol = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends AddCol */\n      {\n        name: 'AddCol',\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n          var numberOfCols = getNumberOfCols(wwe);\n          var cell;\n          wwe.focus();\n\n          if (sq.hasFormat('TR')) {\n            sq.saveUndoState(range);\n            cell = getCellByRange(range);\n            addColToCellAfter(cell, numberOfCols);\n            focusToNextCell(sq, cell);\n          }\n        }\n      });\n      /**\n       * get number of selected cols\n       * @param {WysiwygEditor} wwe - wysiwyg editor instance\n       * @returns {number} - number of selected cols\n       * @ignore\n       */\n\n      function getNumberOfCols(wwe) {\n        var selectionMgr = wwe.componentManager.getManager('tableSelection');\n        var selectedCells = selectionMgr.getSelectedCells();\n        var length = 1;\n\n        if (selectedCells.length > 0) {\n          var maxLength = selectedCells[0].parentNode.querySelectorAll('td, th').length;\n          length = Math.min(maxLength, selectedCells.length);\n        }\n\n        return length;\n      }\n      /**\n       * Get cell by range object\n       * @param {Range} range - range\n       * @returns {HTMLElement} - html element\n       * @ignore\n       */\n\n\n      function getCellByRange(range) {\n        var cell = range.startContainer;\n\n        if (dom[\"a\"\n        /* default */\n        ].getNodeName(cell) !== 'TD' && dom[\"a\"\n        /* default */\n        ].getNodeName(cell) !== 'TH') {\n          cell = dom[\"a\"\n          /* default */\n          ].parentsUntil(cell, 'tr');\n        }\n\n        return cell;\n      }\n      /**\n       * Add column to after the current cell\n       * @param {HTMLElement} cell - wrapped table cell\n       * @param {number} [numberOfCols=1] - number of cols\n       * @ignore\n       */\n\n\n      function addColToCellAfter(cell, numberOfCols) {\n        if (numberOfCols === void 0) {\n          numberOfCols = 1;\n        }\n\n        var _domUtils$parents = dom[\"a\"\n        /* default */\n        ].parents(cell, 'table'),\n            table = _domUtils$parents[0];\n\n        if (table) {\n          var index = inArray_default()(cell, toArray_default()(cell.parentNode.childNodes));\n          var cellToAdd;\n          dom[\"a\"\n          /* default */\n          ].findAll(table, 'tr').forEach(function (tr) {\n            var isTBody = dom[\"a\"\n            /* default */\n            ].getNodeName(tr.parentNode) === 'TBODY';\n            var isMSIE = browser_default.a.msie;\n            var currentCell = tr.children[index];\n\n            for (var i = 0; i < numberOfCols; i += 1) {\n              if (isTBody) {\n                cellToAdd = document.createElement('td');\n              } else {\n                cellToAdd = document.createElement('th');\n              }\n\n              if (!isMSIE) {\n                cellToAdd.appendChild(document.createElement('br'));\n              }\n\n              dom[\"a\"\n              /* default */\n              ].insertAfter(cellToAdd, currentCell);\n            }\n          });\n        }\n      }\n      /**\n       * Focus to next cell\n       * @param {Squire} sq - Squire instance\n       * @param {HTMLElement} cell - wrapped table cell\n       * @ignore\n       */\n\n\n      function focusToNextCell(sq, cell) {\n        var range = sq.getSelection();\n        range.selectNodeContents(cell.nextSibling);\n        range.collapse(true);\n        sq.setSelection(range);\n      }\n      /* harmony default export */\n\n\n      var tableAddCol = TableAddCol; // CONCATENATED MODULE: ./src/js/wysiwygCommands/tableRemoveRow.js\n\n      /**\n       * @fileoverview Implements table remove row WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * RemoveRow\n       * remove Row to selected table\n       * @extends Command\n       * @module wysiwygCommands/TableRemoveRow\n       * @ignore\n       */\n\n      var TableRemoveRow = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends RemoveRow */\n      {\n        name: 'RemoveRow',\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n\n          var _domUtils$parents = dom[\"a\"\n          /* default */\n          ].parents(range.startContainer, 'table'),\n              table = _domUtils$parents[0];\n\n          var selectionMgr = wwe.componentManager.getManager('tableSelection');\n          var tableMgr = wwe.componentManager.getManager('table');\n          var trs = getTrs(range, selectionMgr, table);\n          var tbodyRowLength = table.querySelectorAll('tbody tr').length;\n          wwe.focus();\n\n          if ((sq.hasFormat('TD') || sq.hasFormat('TABLE')) && tbodyRowLength > 1) {\n            sq.saveUndoState(range);\n            var firstTr = trs[0];\n            var lastTr = trs[trs.length - 1];\n            var nextFocus = lastTr && lastTr.nextSibling ? lastTr.nextSibling : firstTr && firstTr.previousSibling;\n\n            if (nextFocus) {\n              tableRemoveRow_focusToFirstTd(sq, range, nextFocus, tableMgr);\n            }\n\n            trs.forEach(function (tr) {\n              return dom[\"a\"\n              /* default */\n              ].remove(tr);\n            });\n          }\n\n          selectionMgr.removeClassAttrbuteFromAllCellsIfNeed();\n        }\n      });\n      /**\n       * Focus to first TD in given TR\n       * @param {SquireExt} sq Squire instance\n       * @param {Range} range Range object\n       * @param {HTMLElement} tr HTMLElement wrapped TR\n       * @param {object} tableMgr Table manager\n       */\n\n      function tableRemoveRow_focusToFirstTd(sq, range, tr, tableMgr) {\n        var nextFocusCell = tr.querySelector('td');\n        range.setStart(nextFocusCell, 0);\n        range.collapse(true);\n        tableMgr.setLastCellNode(nextFocusCell);\n        sq.setSelection(range);\n      }\n      /**\n       * Get start, end row index from current range\n       * @param {HTMLElement} firstSelectedCell Range object\n       * @param {object} rangeInformation Range information object\n       * @param {HTMLElement} table HTMLElement wrapped TABLE\n       * @returns {HTMLElement}\n       */\n\n\n      function getSelectedRows(firstSelectedCell, rangeInformation, table) {\n        var tbodyRowLength = table.querySelectorAll('tbody tr').length;\n        var isStartContainerInThead = dom[\"a\"\n        /* default */\n        ].parents(firstSelectedCell, 'thead').length;\n        var startRowIndex = rangeInformation.from.row;\n        var endRowIndex = rangeInformation.to.row;\n\n        if (isStartContainerInThead) {\n          startRowIndex += 1;\n        }\n\n        var isWholeTbodySelected = (startRowIndex === 1 || isStartContainerInThead) && endRowIndex === tbodyRowLength;\n\n        if (isWholeTbodySelected) {\n          endRowIndex -= 1;\n        }\n\n        return dom[\"a\"\n        /* default */\n        ].findAll(table, 'tr').slice(startRowIndex, endRowIndex + 1);\n      }\n      /**\n       * Get TRs\n       * @param {Range} range Range object\n       * @param {object} selectionMgr Table selection manager\n       * @param {HTMLElement} table current table\n       * @returns {Array.<HTMLElement>}\n       */\n\n\n      function getTrs(range, selectionMgr, table) {\n        var selectedCells = selectionMgr.getSelectedCells();\n        var rangeInformation, trs;\n\n        if (selectedCells.length) {\n          rangeInformation = selectionMgr.getSelectionRangeFromTable(selectedCells[0], selectedCells[selectedCells.length - 1]);\n          trs = getSelectedRows(selectedCells[0], rangeInformation, table);\n        } else {\n          var cell = dom[\"a\"\n          /* default */\n          ].closest(range.startContainer, 'td,th');\n          rangeInformation = selectionMgr.getSelectionRangeFromTable(cell, cell);\n          trs = getSelectedRows(cell, rangeInformation, table);\n        }\n\n        return trs;\n      }\n      /* harmony default export */\n\n\n      var tableRemoveRow = TableRemoveRow; // CONCATENATED MODULE: ./src/js/wysiwygCommands/tableRemoveCol.js\n\n      /**\n       * @fileoverview Implements table remove column WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * RemoveCol\n       * remove Row to selected table\n       * @extends Command\n       * @module wysiwygCommands/TableRemoveCol\n       * @ignore\n       */\n\n      var TableRemoveCol = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends RemoveCol */\n      {\n        name: 'RemoveCol',\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n\n          var _domUtils$parents = dom[\"a\"\n          /* default */\n          ].parents(range.startContainer, 'table'),\n              table = _domUtils$parents[0];\n\n          var tableMgr = wwe.componentManager.getManager('table');\n          var selectionMgr = wwe.componentManager.getManager('tableSelection');\n          var hasMultipleCols = dom[\"a\"\n          /* default */\n          ].closest(range.startContainer, 'table').querySelectorAll('thead tr th').length > 1;\n          wwe.focus(); // IE 800a025e error on removing part of selection range. collapse\n\n          range.collapse(true);\n          sq.setSelection(range);\n\n          if (sq.hasFormat('TR', null, range) && hasMultipleCols) {\n            var trs = table.querySelectorAll('tbody tr');\n            var tbodyColLength = trs.length ? trs[0].querySelectorAll('td').length : 0;\n            var selectedCells = selectionMgr.getSelectedCells();\n\n            if (selectedCells.length < tbodyColLength) {\n              sq.saveUndoState(range);\n              var nextFocus;\n\n              if (selectedCells.length > 1) {\n                var tailCell = selectedCells[selectedCells.length - 1];\n                var headCell = selectedCells[0];\n                nextFocus = tailCell.nextSibling ? tailCell.nextSibling : headCell.previousSibling;\n                removeMultipleColsByCells(selectedCells);\n              } else {\n                var cell = tableRemoveCol_getCellByRange(range);\n                nextFocus = cell.nextSibling ? cell.nextSibling : cell.previousSibling;\n                removeColByCell(cell);\n              }\n\n              focusToCell(sq, nextFocus, tableMgr);\n            }\n          }\n        }\n      });\n      /**\n       * Get cell by range object\n       * @param {Range} range range\n       * @returns {HTMLElement|Node}\n       */\n\n      function tableRemoveCol_getCellByRange(range) {\n        var cell = range.startContainer;\n\n        if (dom[\"a\"\n        /* default */\n        ].getNodeName(cell) !== 'TD' && !dom[\"a\"\n        /* default */\n        ].getNodeName(cell) === 'TH') {\n          cell = dom[\"a\"\n          /* default */\n          ].parentsUntil(cell, 'tr');\n        }\n\n        return cell;\n      }\n      /**\n       * Remove columns by given cells\n       * @param {HTMLElement} cells - table cells\n       */\n\n\n      function removeMultipleColsByCells(cells) {\n        var numberOfCells = cells.length;\n\n        for (var i = 0; i < numberOfCells; i += 1) {\n          var cellToDelete = cells[i];\n\n          if (cellToDelete) {\n            removeColByCell(cells[i]);\n          }\n        }\n      }\n      /**\n       * Remove column by given cell\n       * @param {HTMLElement} cell - wrapped table cell\n       */\n\n\n      function removeColByCell(cell) {\n        var _domUtils$parents2 = dom[\"a\"\n        /* default */\n        ].parents(cell, 'table'),\n            table = _domUtils$parents2[0];\n\n        if (table) {\n          var index = inArray_default()(cell, toArray_default()(cell.parentNode.childNodes));\n          dom[\"a\"\n          /* default */\n          ].findAll(table, 'tr').forEach(function (tr) {\n            var td = tr.children[index];\n            dom[\"a\"\n            /* default */\n            ].remove(td);\n          });\n        }\n      }\n      /**\n       * Focus to given cell\n       * @param {Squire} sq - Squire instance\n       * @param {HTMLElement} cell - wrapped table cell\n       * @param {object} tableMgr - Table manager instance\n       */\n\n\n      function focusToCell(sq, cell, tableMgr) {\n        var nextFocusCell = cell;\n\n        if (cell && dom[\"a\"\n        /* default */\n        ].isContain(document.body, cell)) {\n          var range = sq.getSelection();\n          range.selectNodeContents(cell);\n          range.collapse(true);\n          sq.setSelection(range);\n          tableMgr.setLastCellNode(nextFocusCell);\n        }\n      }\n      /* harmony default export */\n\n\n      var tableRemoveCol = TableRemoveCol; // CONCATENATED MODULE: ./src/js/wysiwygCommands/tableAlignCol.js\n\n      /**\n       * @fileoverview Implements table align column WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * AlignCol\n       * Align selected column's text content to given direction\n       * @extends Command\n       * @module wysiwygCommands/TableAlignCol\n       * @ignore\n       */\n\n      var TableAlignCol = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends AlignCol */\n      {\n        name: 'AlignCol',\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         * @param {string} alignDirection Align direction\n         */\n        exec: function exec(wwe, alignDirection) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n          var selectionMgr = wwe.componentManager.getManager('tableSelection');\n          var rangeInformation = getRangeInformation(range, selectionMgr);\n          wwe.focus();\n\n          if (sq.hasFormat('TR')) {\n            sq.saveUndoState(range);\n\n            var _domUtils$parents = dom[\"a\"\n            /* default */\n            ].parents(range.startContainer, 'table'),\n                table = _domUtils$parents[0];\n\n            var selectionInformation = getSelectionInformation(table, rangeInformation);\n            setAlignAttributeToTableCells(table, alignDirection, selectionInformation);\n          }\n\n          selectionMgr.removeClassAttrbuteFromAllCellsIfNeed();\n        }\n      });\n      /**\n       * Set Column align\n       * @param {HTMLElement} table wrapped TABLE\n       * @param {string} alignDirection 'left' or 'center' or 'right'\n       * @param {{\n       *     startColumnIndex: number,\n       *     endColumnIndex: number,\n       *     isDivided: boolean\n       *     }} selectionInformation start, end column index and boolean value for whether range divided or not\n       */\n\n      function setAlignAttributeToTableCells(table, alignDirection, selectionInformation) {\n        var isDivided = selectionInformation.isDivided || false;\n        var start = selectionInformation.startColumnIndex;\n        var end = selectionInformation.endColumnIndex;\n        var trs = dom[\"a\"\n        /* default */\n        ].findAll(table, 'tr');\n        var columnLength = trs.length ? trs[0].querySelectorAll('td,th').length : 0;\n        trs.forEach(function (tr) {\n          var cells = toArray_default()(dom[\"a\"\n          /* default */\n          ].children(tr, 'td,th'));\n          cells.forEach(function (cell, index) {\n            if (isDivided && (start <= index && index <= columnLength || index <= end)) {\n              cell.setAttribute('align', alignDirection);\n            } else if (start <= index && index <= end) {\n              cell.setAttribute('align', alignDirection);\n            }\n          });\n        });\n      }\n      /**\n       * Return start, end column index and boolean value for whether range divided or not\n       * @param {HTMLElement} table wrapped TABLE\n       * @param {{startColumnIndex: number, endColumnIndex: number}} rangeInformation Range information\n       * @returns {{startColumnIndex: number, endColumnIndex: number, isDivided: boolean}}\n       */\n\n\n      function getSelectionInformation(table, rangeInformation) {\n        var trs = table.querySelectorAll('tr');\n        var columnLength = trs.length ? trs[0].querySelectorAll('td,th').length : 0;\n        var from = rangeInformation.from,\n            to = rangeInformation.to;\n        var startColumnIndex, endColumnIndex, isDivided;\n\n        if (from.row === to.row) {\n          startColumnIndex = from.cell;\n          endColumnIndex = to.cell;\n        } else if (from.row < to.row) {\n          if (from.cell <= to.cell) {\n            startColumnIndex = 0;\n            endColumnIndex = columnLength - 1;\n          } else {\n            startColumnIndex = from.cell;\n            endColumnIndex = to.cell;\n            isDivided = true;\n          }\n        }\n\n        return {\n          startColumnIndex: startColumnIndex,\n          endColumnIndex: endColumnIndex,\n          isDivided: isDivided\n        };\n      }\n      /**\n       * Get range information\n       * @param {Range} range Range object\n       * @param {object} selectionMgr Table selection manager\n       * @returns {object}\n       */\n\n\n      function getRangeInformation(range, selectionMgr) {\n        var selectedCells = selectionMgr.getSelectedCells();\n        var rangeInformation, startCell;\n\n        if (selectedCells.length) {\n          rangeInformation = selectionMgr.getSelectionRangeFromTable(selectedCells[0], selectedCells[selectedCells.length - 1]);\n        } else {\n          var startContainer = range.startContainer;\n          startCell = dom[\"a\"\n          /* default */\n          ].isTextNode(startContainer) ? dom[\"a\"\n          /* default */\n          ].parent(startContainer, 'td,th') : startContainer;\n          rangeInformation = selectionMgr.getSelectionRangeFromTable(startCell, startCell);\n        }\n\n        return rangeInformation;\n      }\n      /* harmony default export */\n\n\n      var tableAlignCol = TableAlignCol; // CONCATENATED MODULE: ./src/js/wysiwygCommands/tableRemove.js\n\n      /**\n       * @fileoverview Implements table remove WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * RemoveTable\n       * Remove selected table\n       * @extends Command\n       * @module wysiwygCommands/TableRemove\n       * @ignore\n       */\n\n      var TableRemove = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends RemoveTable */\n      {\n        name: 'RemoveTable',\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n\n          if (sq.hasFormat('TABLE')) {\n            sq.saveUndoState(range);\n            dom[\"a\"\n            /* default */\n            ].remove(dom[\"a\"\n            /* default */\n            ].closest(range.startContainer, 'table'));\n          }\n\n          wwe.focus();\n        }\n      });\n      /* harmony default export */\n\n      var tableRemove = TableRemove; // CONCATENATED MODULE: ./src/js/wysiwygCommands/indent.js\n\n      /**\n       * @fileoverview Implements Indent wysiwyg command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Indent\n       * Indent list or task to wysiwyg Editor\n       * @extends Command\n       * @module wysiwygCommands/indent\n       * @ignore\n       */\n\n      var indent_Indent = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Indent */\n      {\n        name: 'Indent',\n\n        /**\n         * Command Handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var listManager = wwe.componentManager.getManager('list');\n          var range = wwe.getEditor().getSelection();\n          var node = dom[\"a\"\n          /* default */\n          ].closest(range.startContainer, 'li');\n          var prevClasses, nodeClasses, nextClasses;\n          var prev = node && node.previousSibling;\n\n          if (prev) {\n            var next = node.querySelector('li');\n            wwe.getEditor().saveUndoState();\n            nodeClasses = node.className;\n            prevClasses = prev.className;\n            node.className = '';\n            prev.className = '';\n\n            if (next) {\n              nextClasses = next.className;\n              var divElements = toArray_default()(next.children).filter(function (child) {\n                return matches_default()(child, 'div');\n              });\n\n              if (!divElements.length) {\n                next.className = '';\n              }\n            }\n\n            wwe.getEditor().increaseListLevel();\n            listManager.mergeList(node);\n            node.className = nodeClasses;\n            prev.className = prevClasses;\n\n            if (next) {\n              next.className = nextClasses;\n            }\n          }\n        }\n      });\n      /* harmony default export */\n\n      var wysiwygCommands_indent = indent_Indent; // CONCATENATED MODULE: ./src/js/wysiwygCommands/outdent.js\n\n      /**\n       * @fileoverview Implements Outdent wysiwyg command\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Outdent\n       * Outdent list or task to wysiwyg Editor\n       * @extends Command\n       * @module wysiwygCommands/Outdent\n       * @ignore\n       */\n\n      var outdent_Outdent = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Outdent */\n      {\n        name: 'Outdent',\n\n        /**\n         * Command Handler\n         * @param {WysiwygEditor} wwe WysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var node = getCurrentLi(wwe);\n\n          if (node && isExecutable(node)) {\n            wwe.getEditor().saveUndoState();\n            var nodeClasses = node.className;\n            wwe.getEditor().decreaseListLevel();\n            node = getCurrentLi(wwe);\n\n            if (node && nodeClasses) {\n              node.className = nodeClasses;\n            }\n          }\n        }\n      });\n      /**\n       * test if outdent the given list item\n       * arbitrary list allows list item to be in any position\n       * while markdown spec does not\n       * @param {HTMLElement} currentLiNode - list item element\n       * @returns {boolean} - true to executable\n       * @ignore\n       */\n\n      function isExecutable(currentLiNode) {\n        var nodeName = dom[\"a\"\n        /* default */\n        ].getNodeName(currentLiNode.nextSibling);\n        return nodeName !== 'OL' && nodeName !== 'UL';\n      }\n      /**\n       * Get list item element of current selection\n       * @param {object} wwe Wysiwyg editor instance\n       * @returns {HTMLElement}\n       * @ignore\n       */\n\n\n      function getCurrentLi(wwe) {\n        var range = wwe.getEditor().getSelection();\n        return dom[\"a\"\n        /* default */\n        ].closest(range.startContainer, 'li');\n      }\n      /* harmony default export */\n\n\n      var wysiwygCommands_outdent = outdent_Outdent; // CONCATENATED MODULE: ./src/js/wysiwygCommands/task.js\n\n      /**\n       * @fileoverview Implements Task WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Task\n       * Add Task to selected wysiwyg editor content\n       * @extends Command\n       * @module wysiwygCommands/Task\n       * @ignore\n       */\n\n      var task_Task = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Task */\n      {\n        name: 'Task',\n        keyMap: ['ALT+T', 'ALT+T'],\n\n        /**\n         * Command Handler\n         * @param {WysiwygEditor} wwe WYSIWYGEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection();\n          var listManager = wwe.componentManager.getManager('list');\n          var startContainer = range.startContainer,\n              endContainer = range.endContainer,\n              startOffset = range.startOffset,\n              endOffset = range.endOffset;\n          var newLIs = [];\n          wwe.focus();\n          sq.saveUndoState(range);\n\n          if (listManager.isAvailableMakeListInTable()) {\n            newLIs = listManager.createListInTable(range, 'TASK');\n          } else {\n            var lines = listManager.getLinesOfSelection(startContainer, endContainer);\n\n            for (var i = 0; i < lines.length; i += 1) {\n              var newLI = this._changeFormatToTaskIfNeed(wwe, lines[i]);\n\n              if (newLI) {\n                newLIs.push(newLI);\n              }\n            }\n          }\n\n          if (newLIs.length) {\n            listManager.adjustRange(startContainer, endContainer, startOffset, endOffset, newLIs);\n          }\n        },\n\n        /**\n         * Change format to unordered list and return current li element if need\n         * @param {WysiwygEditor} wwe Wysiwyg editor instance\n         * @param {HTMLElement} target Element target for change\n         * @returns {HTMLElement} newly created list\n         * @private\n         */\n        _changeFormatToTaskIfNeed: function _changeFormatToTaskIfNeed(wwe, target) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection();\n          var taskManager = wwe.componentManager.getManager('task');\n          var newLI;\n\n          if (!sq.hasFormat('PRE')) {\n            range.setStart(target, 0);\n            range.collapse(true);\n            sq.setSelection(range);\n\n            if (!sq.hasFormat('li')) {\n              sq.makeUnorderedList();\n              target = sq.getSelection().startContainer;\n            }\n\n            if (hasClass_default()(target, 'task-list-item')) {\n              taskManager.unformatTask(target);\n            } else {\n              taskManager.formatTask(target);\n            }\n\n            newLI = sq.getSelection().startContainer;\n          }\n\n          return newLI;\n        }\n      });\n      /* harmony default export */\n\n      var wysiwygCommands_task = task_Task; // CONCATENATED MODULE: ./src/js/wysiwygCommands/code.js\n\n      /**\n       * @fileoverview Implements code WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /**\n       * Code\n       * Add bold to selected wysiwyg editor content\n       * @extends Command\n       * @module wysiwygCommands/Code\n       * @ignore\n       */\n\n      var code_Code = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends Code */\n      {\n        name: 'Code',\n        keyMap: ['SHIFT+CTRL+C', 'SHIFT+META+C'],\n\n        /**\n         * command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         */\n        exec: function exec(wwe) {\n          var sq = wwe.getEditor();\n          var tableSelectionManager = wwe.componentManager.getManager('tableSelection');\n\n          var _styleCode = styleCode.bind(null, wwe.getEditor());\n\n          wwe.focus();\n\n          if (sq.hasFormat('table') && tableSelectionManager.getSelectedCells().length) {\n            tableSelectionManager.styleToSelectedCells(_styleCode);\n            var range = sq.getSelection();\n            range.collapse(true);\n            sq.setSelection(range);\n          } else {\n            _styleCode(sq);\n          }\n        }\n      });\n      /**\n       * removeUnnecessaryCodeInNextToRange\n       * Remove unnecessary code tag next to range, code tag made by squire\n       * @param {Range} range range object\n       */\n\n      function removeUnnecessaryCodeInNextToRange(range) {\n        if (dom[\"a\"\n        /* default */\n        ].getNodeName(range.startContainer.nextSibling) === 'CODE' && dom[\"a\"\n        /* default */\n        ].getTextLength(range.startContainer.nextSibling) === 0) {\n          dom[\"a\"\n          /* default */\n          ].remove(range.startContainer.nextSibling);\n        }\n      }\n      /**\n       * Style code.\n       * @param {object} editor - editor instance\n       * @param {object} sq - squire editor instance\n       */\n\n\n      function styleCode(editor, sq) {\n        if (!sq.hasFormat('PRE') && sq.hasFormat('code')) {\n          sq.changeFormat(null, {\n            tag: 'code'\n          });\n          removeUnnecessaryCodeInNextToRange(editor.getSelection().cloneRange());\n        } else if (!sq.hasFormat('a') && !sq.hasFormat('PRE')) {\n          if (sq.hasFormat('b')) {\n            sq.removeBold();\n          } else if (sq.hasFormat('i')) {\n            sq.removeItalic();\n          }\n\n          sq.changeFormat({\n            tag: 'code'\n          });\n          var range = sq.getSelection().cloneRange();\n          range.setStart(range.endContainer, range.endOffset);\n          range.collapse(true);\n          sq.setSelection(range);\n        }\n      }\n      /* harmony default export */\n\n\n      var wysiwygCommands_code = code_Code; // CONCATENATED MODULE: ./src/js/wysiwygCommands/codeBlock.js\n\n      /**\n       * @fileoverview Implements code block WysiwygCommand\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      var CODEBLOCK_CLASS_TEMP = 'te-content-codeblock-temp';\n      var codeBlock_CODEBLOCK_ATTR_NAME = 'data-te-codeblock';\n      /**\n       * CodeBlock\n       * Add CodeBlock to wysiwygEditor\n       * @extends Command\n       * @module wysiwygCommands/Codeblock\n       * @ignore\n       */\n\n      var codeBlock_CodeBlock = commandManager[\"a\"\n      /* default */\n      ].command('wysiwyg',\n      /** @lends CodeBlock */\n      {\n        name: 'CodeBlock',\n        keyMap: ['SHIFT+CTRL+P', 'SHIFT+META+P'],\n\n        /**\n         * Command handler\n         * @param {WysiwygEditor} wwe wysiwygEditor instance\n         * @param {string} type of language\n         */\n        exec: function exec(wwe, type) {\n          var sq = wwe.getEditor();\n          var range = sq.getSelection().cloneRange();\n\n          if (!sq.hasFormat('PRE') && !sq.hasFormat('TABLE')) {\n            var attr = codeBlock_CODEBLOCK_ATTR_NAME + \" class = \\\"\" + CODEBLOCK_CLASS_TEMP + \"\\\"\";\n\n            if (type) {\n              attr += \" data-language=\\\"\" + type + \"\\\"\";\n            }\n\n            var codeBlockBody = getCodeBlockBody(range, wwe);\n            sq.insertHTML(\"<pre \" + attr + \">\" + codeBlockBody + \"</pre>\");\n            focusToFirstCode(wwe.getBody().querySelector(\".\" + CODEBLOCK_CLASS_TEMP), wwe);\n          }\n\n          wwe.focus();\n        }\n      });\n      /**\n       * focusToFirstCode\n       * Focus to first code tag content of pre tag\n       * @param {HTMLElement} pre pre tag\n       * @param {WysiwygEditor} wwe wysiwygEditor\n       */\n\n      function focusToFirstCode(pre, wwe) {\n        var range = wwe.getEditor().getSelection().cloneRange();\n        removeClass_default()(pre, CODEBLOCK_CLASS_TEMP);\n        range.setStartBefore(pre.firstChild);\n        range.collapse(true);\n        wwe.getEditor().setSelection(range);\n      }\n      /**\n       * getCodeBlockBody\n       * get text wrapped by code\n       * @param {object} range range object\n       * @param {object} wwe wysiwyg editor\n       * @returns {string}\n       */\n\n\n      function getCodeBlockBody(range, wwe) {\n        var mgr = wwe.componentManager.getManager('codeblock');\n        var codeBlock;\n\n        if (range.collapsed) {\n          codeBlock = '<br>';\n        } else {\n          var contents = range.extractContents();\n          var nodes = toArray_default()(contents.childNodes);\n          var tempDiv = document.createElement('div');\n          tempDiv.appendChild(mgr.prepareToPasteOnCodeblock(nodes));\n          codeBlock = tempDiv.innerHTML;\n        }\n\n        return codeBlock;\n      }\n      /* harmony default export */\n\n\n      var wysiwygCommands_codeBlock = codeBlock_CodeBlock; // EXTERNAL MODULE: /Users/nhn/Desktop/project/tui.editor/libs/toastmark/dist/toastmark.js\n\n      var toastmark = __webpack_require__(27); // CONCATENATED MODULE: ./src/js/scroll/animation.js\n\n\n      var ANIMATION_TIME = 200;\n      var SCROLL_BOCKING_RESET_DELAY = 15;\n      var currentTimeoutId = null;\n      var releaseTimer = null;\n\n      function run(deltaScrollTop, _ref) {\n        var syncScrollTop = _ref.syncScrollTop,\n            releaseEventBlock = _ref.releaseEventBlock;\n        clearTimeout(releaseTimer);\n        syncScrollTop(deltaScrollTop);\n        releaseTimer = setTimeout(function () {\n          releaseEventBlock();\n        }, SCROLL_BOCKING_RESET_DELAY);\n      }\n\n      function animate(sourceScrollTop, targetScrollTop, callbackObjForSync) {\n        var diff = targetScrollTop - sourceScrollTop;\n        var startTime = Date.now();\n        /**\n         * Each animation step\n         */\n\n        var step = function step() {\n          var stepTime = Date.now();\n          var progress = (stepTime - startTime) / ANIMATION_TIME;\n          var deltaValue; // if already doing animation\n\n          if (currentTimeoutId) {\n            clearTimeout(currentTimeoutId);\n          }\n\n          if (progress < 1) {\n            deltaValue = sourceScrollTop + diff * Math.cos((1 - progress) * Math.PI / 2);\n            run(Math.ceil(deltaValue), callbackObjForSync);\n            currentTimeoutId = setTimeout(step, 1);\n          } else {\n            run(targetScrollTop, callbackObjForSync);\n            currentTimeoutId = null;\n          }\n        };\n\n        step();\n      } // EXTERNAL MODULE: ./src/js/scroll/helper.js\n\n\n      var helper = __webpack_require__(17); // EXTERNAL MODULE: ./src/js/scroll/cache/offsetInfo.js\n\n\n      var offsetInfo = __webpack_require__(23); // CONCATENATED MODULE: ./src/js/scroll/editorScroll.js\n\n\n      var EDITING_POSITION_RATIO = 0.5;\n      var blockedPreviewScrollEvent = false;\n      var latestScrollTop = null;\n      /* eslint-disable no-return-assign */\n\n      function getAndSaveOffsetHeight(node, mdNodeId) {\n        var cachedHeight = Object(offsetInfo[\"a\"\n        /* getOffsetHeight */\n        ])(mdNodeId);\n        var offsetHeight = cachedHeight || node.offsetHeight;\n\n        if (!cachedHeight) {\n          Object(offsetInfo[\"d\"\n          /* setOffsetHeight */\n          ])(mdNodeId, offsetHeight);\n        }\n\n        return offsetHeight;\n      }\n\n      function getTopInfo(cm, startLine, mdNode, node, previewEl) {\n        var mdNodeStartLine = Object(markdown[\"d\"\n        /* getMdStartLine */\n        ])(mdNode);\n        var height = cm.lineInfo(startLine).handle.height;\n        var previewElHeight = getAndSaveOffsetHeight(previewEl, 0);\n        var top = node.getBoundingClientRect().top - previewEl.getBoundingClientRect().top; // position editing node on middle of preview as default\n\n        var additionalScrollTop = -previewElHeight * EDITING_POSITION_RATIO;\n\n        if (Object(markdown[\"g\"\n        /* isMultiLineNode */\n        ])(mdNode)) {\n          var additionalTopPos = (startLine - mdNodeStartLine + 1) * height;\n          additionalScrollTop = additionalTopPos;\n          top += additionalTopPos;\n        }\n\n        return {\n          top: top,\n          additionalScrollTop: additionalScrollTop\n        };\n      }\n\n      function syncPreviewScrollTopToMarkdown(editor, preview, scrollEvent) {\n        var root = preview._previewContent,\n            previewEl = preview.el;\n        var cm = editor.cm,\n            toastMark = editor.toastMark;\n\n        var _cm$getScrollInfo = cm.getScrollInfo(),\n            left = _cm$getScrollInfo.left,\n            scrollTop = _cm$getScrollInfo.top,\n            height = _cm$getScrollInfo.height,\n            clientHeight = _cm$getScrollInfo.clientHeight;\n\n        var isBottomPos = height - scrollTop <= clientHeight;\n        var sourceScrollTop = previewEl.scrollTop;\n        var targetScrollTop = isBottomPos ? previewEl.scrollHeight : 0;\n\n        if (scrollTop && !isBottomPos) {\n          var _ref = scrollEvent ? cm.coordsChar({\n            left: left,\n            top: scrollTop\n          }, 'local') : cm.getCursor('from'),\n              startLine = _ref.line;\n\n          var firstMdNode = toastMark.findFirstNodeAtLine(startLine + 1);\n\n          if (!firstMdNode || Object(markdown[\"e\"\n          /* isHtmlNode */\n          ])(firstMdNode)) {\n            return;\n          } // if DOM element does not exist, should get its parent node using markdown node\n          // in case of text node, rendererd DOM element is not matched to markdown node\n\n\n          var nodeObj = Object(helper[\"f\"\n          /* getParentNodeObj */\n          ])(firstMdNode);\n          var node = nodeObj.node,\n              mdNode = nodeObj.mdNode;\n          var mdNodeStartLine = Object(markdown[\"d\"\n          /* getMdStartLine */\n          ])(mdNode);\n          var previewElHeight = getAndSaveOffsetHeight(previewEl, 0);\n          targetScrollTop = Object(helper[\"g\"\n          /* getTotalOffsetTop */\n          ])(node, root) || node.offsetTop;\n\n          if (!scrollEvent) {\n            var _getTopInfo = getTopInfo(cm, startLine, mdNode, node, previewEl),\n                top = _getTopInfo.top,\n                additionalScrollTop = _getTopInfo.additionalScrollTop;\n\n            if (top > 0 && top < previewElHeight) {\n              return;\n            }\n\n            targetScrollTop += additionalScrollTop; // assign the null to sync scrollTop position when scrolling\n\n            latestScrollTop = null;\n          } else if (Object(helper[\"h\"\n          /* isNodeToBeCalculated */\n          ])(mdNode)) {\n            var offsetHeight = getAndSaveOffsetHeight(node, mdNode.id);\n            var offsetTop = cm.heightAtLine(mdNodeStartLine - 1, 'local');\n            var cmNodeHeight = Object(helper[\"c\"\n            /* getCmRangeHeight */\n            ])(mdNode, cm);\n            targetScrollTop += Object(helper[\"b\"\n            /* getAdditionalTopPos */\n            ])(scrollTop, offsetTop, cmNodeHeight, offsetHeight);\n            var scrollTopInfo = {\n              latestScrollTop: latestScrollTop,\n              scrollTop: scrollTop,\n              targetScrollTop: targetScrollTop,\n              sourceScrollTop: sourceScrollTop\n            };\n            targetScrollTop = Object(helper[\"d\"\n            /* getFallbackScrollTop */\n            ])(scrollTopInfo);\n            latestScrollTop = scrollTop;\n\n            if (targetScrollTop === sourceScrollTop) {\n              return;\n            }\n          }\n        }\n\n        blockedPreviewScrollEvent = true;\n        var callbackObjForSync = {\n          syncScrollTop: function syncScrollTop(deltaScrollTop) {\n            return previewEl.scrollTop = deltaScrollTop;\n          },\n          releaseEventBlock: function releaseEventBlock() {\n            return blockedPreviewScrollEvent = false;\n          }\n        };\n        animate(sourceScrollTop, targetScrollTop, callbackObjForSync);\n      }\n\n      function isBlockedPreviewScrollEvent() {\n        return blockedPreviewScrollEvent;\n      } // CONCATENATED MODULE: ./src/js/scroll/previewScroll.js\n\n\n      var blockedMarkdownScrollEvent = false;\n      var previewScroll_latestScrollTop = null;\n      /* eslint-disable no-return-assign */\n\n      function getAndSaveOffsetInfo(node, mdNodeId, root) {\n        var cachedHeight = Object(offsetInfo[\"a\"\n        /* getOffsetHeight */\n        ])(mdNodeId);\n        var cachedTop = Object(offsetInfo[\"b\"\n        /* getOffsetTop */\n        ])(mdNodeId);\n        var offsetHeight = cachedHeight || node.offsetHeight;\n        var offsetTop = cachedTop || Object(helper[\"g\"\n        /* getTotalOffsetTop */\n        ])(node, root) || node.offsetTop;\n\n        if (!cachedHeight) {\n          Object(offsetInfo[\"d\"\n          /* setOffsetHeight */\n          ])(mdNodeId, offsetHeight);\n        }\n\n        if (!cachedTop) {\n          Object(offsetInfo[\"e\"\n          /* setOffsetTop */\n          ])(mdNodeId, offsetTop);\n        }\n\n        return {\n          offsetHeight: offsetHeight,\n          offsetTop: offsetTop\n        };\n      }\n\n      function getAncestorHavingId(node, root) {\n        while (!node.getAttribute('data-nodeid') && node.parentElement !== root) {\n          node = node.parentElement;\n        }\n\n        return node;\n      }\n\n      function syncMarkdownScrollTopToPreview(editor, preview, targetNode) {\n        var toastMark = editor.toastMark,\n            cm = editor.cm;\n        var _preview$el = preview.el,\n            scrollTop = _preview$el.scrollTop,\n            clientHeight = _preview$el.clientHeight,\n            scrollHeight = _preview$el.scrollHeight;\n        var root = preview._previewContent;\n        var isBottomPos = scrollHeight - scrollTop <= clientHeight;\n\n        var _cm$getScrollInfo = cm.getScrollInfo(),\n            left = _cm$getScrollInfo.left,\n            sourceScrollTop = _cm$getScrollInfo.top,\n            height = _cm$getScrollInfo.height;\n\n        var targetScrollTop = isBottomPos ? height : 0;\n\n        if (scrollTop && targetNode && !isBottomPos) {\n          targetNode = getAncestorHavingId(targetNode, root);\n\n          if (!targetNode.getAttribute('data-nodeid')) {\n            return;\n          }\n\n          var _cm$coordsChar = cm.coordsChar({\n            left: left,\n            top: sourceScrollTop\n          }, 'local'),\n              startLine = _cm$coordsChar.line;\n\n          var mdNodeId = Number(targetNode.getAttribute('data-nodeid'));\n\n          var _getParentNodeObj = Object(helper[\"f\"\n          /* getParentNodeObj */\n          ])(toastMark.findNodeById(mdNodeId)),\n              mdNode = _getParentNodeObj.mdNode,\n              node = _getParentNodeObj.node;\n\n          var mdNodeStartLine = Object(markdown[\"d\"\n          /* getMdStartLine */\n          ])(mdNode);\n          targetScrollTop = cm.heightAtLine(mdNodeStartLine - 1, 'local');\n\n          if (Object(markdown[\"f\"\n          /* isListItemNode */\n          ])(mdNode)) {\n            targetScrollTop += Object(helper[\"e\"\n            /* getNextEmptyLineHeight */\n            ])(cm, mdNodeStartLine, startLine);\n          }\n\n          if (Object(helper[\"h\"\n          /* isNodeToBeCalculated */\n          ])(mdNode)) {\n            var cmNodeHeight = Object(helper[\"c\"\n            /* getCmRangeHeight */\n            ])(mdNode, cm);\n\n            var _getAndSaveOffsetInfo = getAndSaveOffsetInfo(node, mdNodeId, root),\n                offsetHeight = _getAndSaveOffsetInfo.offsetHeight,\n                offsetTop = _getAndSaveOffsetInfo.offsetTop;\n\n            targetScrollTop += Object(helper[\"b\"\n            /* getAdditionalTopPos */\n            ])(scrollTop, offsetTop, offsetHeight, cmNodeHeight);\n            var scrollTopInfo = {\n              latestScrollTop: previewScroll_latestScrollTop,\n              scrollTop: scrollTop,\n              targetScrollTop: targetScrollTop,\n              sourceScrollTop: sourceScrollTop\n            };\n            targetScrollTop = Object(helper[\"d\"\n            /* getFallbackScrollTop */\n            ])(scrollTopInfo);\n            previewScroll_latestScrollTop = scrollTop;\n\n            if (targetScrollTop === sourceScrollTop) {\n              return;\n            }\n          }\n        }\n\n        blockedMarkdownScrollEvent = true;\n        var callbackObjForSync = {\n          syncScrollTop: function syncScrollTop(deltaScrollTop) {\n            return cm.scrollTo(0, deltaScrollTop);\n          },\n          releaseEventBlock: function releaseEventBlock() {\n            return blockedMarkdownScrollEvent = false;\n          }\n        };\n        animate(sourceScrollTop, targetScrollTop, callbackObjForSync);\n      }\n\n      function isBlockedMarkdownScrollEvent() {\n        return blockedMarkdownScrollEvent;\n      } // CONCATENATED MODULE: ./src/js/scroll/ui/button.js\n\n\n      var className = 'tui-scrollsync';\n      var activeClassName = 'tui-scrollsync active';\n      var active = true;\n\n      function isActive() {\n        return active;\n      }\n\n      function createButton(editor) {\n        if (editor.isViewer() || editor.getUI().name !== 'default') {\n          return;\n        }\n\n        var i18n = editor.i18n;\n        var tooltip = {\n          ACTIVE: i18n.get('Auto scroll enabled'),\n          INACTIVE: i18n.get('Auto scroll disabled')\n        };\n        var toolbar = editor.getUI().getToolbar();\n        var buttonEl = document.createElement('button');\n        buttonEl.className = activeClassName;\n        toolbar.addItem('divider');\n        toolbar.addItem({\n          type: 'button',\n          options: {\n            command: 'scrollSyncToggle',\n            tooltip: tooltip.active,\n            el: buttonEl\n          }\n        });\n        var items = toolbar.getItems();\n        var divider = items[items.length - 2].el;\n        var button = items[items.length - 1];\n        changeButtonVisiblityStateIfNeed(editor, button, divider);\n        addEventListener(editor, button, divider);\n        addEditorCommand(editor, button, tooltip);\n      }\n\n      function addEventListener(editor, button, divider) {\n        // hide scroll follow button in wysiwyg\n        editor.on('changeMode', function () {\n          return changeButtonVisiblityStateIfNeed(editor, button, divider);\n        });\n        editor.on('changePreviewStyle', function () {\n          return changeButtonVisiblityStateIfNeed(editor, button, divider);\n        });\n      }\n\n      function addEditorCommand(editor, button, tooltip) {\n        // Commands\n        editor.addCommand('markdown', {\n          name: 'scrollSyncToggle',\n          exec: function exec() {\n            active = !active;\n\n            button._onOut();\n\n            if (active) {\n              button.el.className = activeClassName;\n              button.setTooltip(tooltip.ACTIVE);\n            } else {\n              button.el.className = className;\n              button.setTooltip(tooltip.INACTIVE);\n            }\n\n            button._onOver();\n          }\n        });\n      }\n\n      function changeButtonVisiblityStateIfNeed(editor, button, divider) {\n        if (editor.mdPreviewStyle === 'vertical' && editor.currentMode === 'markdown') {\n          css_default()(button.el, {\n            display: 'inline-block'\n          });\n          css_default()(divider, {\n            display: 'inline-block'\n          });\n        } else {\n          css_default()(button.el, {\n            display: 'none'\n          });\n          css_default()(divider, {\n            display: 'none'\n          });\n        }\n      } // CONCATENATED MODULE: ./src/js/scroll/sync.js\n\n\n      var isScrollable = true;\n      /* eslint-disable no-return-assign */\n\n      function register(editor) {\n        var mdEditor = editor.mdEditor,\n            preview = editor.preview;\n        createButton(editor);\n        addScrollEvent(mdEditor, preview);\n        addPreviewRenderedEvent(mdEditor, preview);\n        mdEditor.cm.on('change', function () {\n          return isScrollable = false;\n        });\n      }\n\n      function addPreviewRenderedEvent(editor, preview) {\n        editor.eventManager.listen('previewRenderAfter', function () {\n          // Immediately after the 'previewRenderAfter' event has occurred,\n          // browser rendering is not yet complete.\n          // So the size of elements can not be accurately measured.\n          setTimeout(function () {\n            if (isActive()) {\n              syncPreviewScrollTopToMarkdown(editor, preview);\n            }\n\n            isScrollable = true;\n          }, 200);\n        });\n      }\n\n      function addScrollEvent(editor, preview) {\n        var eventManager = editor.eventManager;\n        eventManager.listen('scroll', function (_ref) {\n          var source = _ref.source,\n              data = _ref.data;\n\n          if (!isActive()) {\n            return;\n          }\n\n          if (isScrollable && preview.isVisible()) {\n            if (source === 'markdown' && !isBlockedMarkdownScrollEvent()) {\n              syncPreviewScrollTopToMarkdown(editor, preview, true);\n            } else if (source === 'preview' && !isBlockedPreviewScrollEvent()) {\n              syncMarkdownScrollTopToPreview(editor, preview, data);\n            }\n          }\n        });\n      } // CONCATENATED MODULE: ./src/js/editor.js\n\n      /**\n       * @fileoverview Implements Editor\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n      // markdown commands\n      // wysiwyg Commands\n\n\n      var __nedInstance = [];\n      var availableLinkAttributes = ['rel', 'target', 'contenteditable', 'hreflang', 'type'];\n      /**\n       * @callback addImageBlobHook\n       * @param {File|Blob} fileOrBlob - image blob\n       * @param {callback} callback - callback function to be called after\n       * @param {string} source - source of an event the item belongs to. 'paste', 'drop', 'ui'\n       */\n\n      /**\n       * ToastUI Editor\n       * @param {Object} options Option object\n       *     @param {HTMLElement} options.el - container element\n       *     @param {string} [options.height='300px'] - Editor's height style value. Height is applied as border-box ex) '300px', '100%', 'auto'\n       *     @param {string} [options.minHeight='200px'] - Editor's min-height style value in pixel ex) '300px'\n       *     @param {string} [options.initialValue] - Editor's initial value\n       *     @param {string} [options.previewStyle] - Markdown editor's preview style (tab, vertical)\n       *     @param {string} [options.initialEditType] - Initial editor type (markdown, wysiwyg)\n       *     @param {Object} [options.events] - Events\n       *         @param {function} [options.events.load] - It would be emitted when editor fully load\n       *         @param {function} [options.events.change] - It would be emitted when content changed\n       *         @param {function} [options.events.stateChange] - It would be emitted when format change by cursor position\n       *         @param {function} [options.events.focus] - It would be emitted when editor get focus\n       *         @param {function} [options.events.blur] - It would be emitted when editor loose focus\n       *     @param {Object} [options.hooks] - Hooks\n       *         @param {function} [options.hooks.previewBeforeHook] - Submit preview to hook URL before preview be shown\n       *         @param {addImageBlobHook} [options.hooks.addImageBlobHook] - hook for image upload\n       *     @param {string} [options.language='en-US'] - language\n       *     @param {boolean} [options.useCommandShortcut=true] - whether use keyboard shortcuts to perform commands\n       *     @param {boolean} [options.useDefaultHTMLSanitizer=true] - use default htmlSanitizer\n       *     @param {boolean} [options.usageStatistics=true] - send hostname to google analytics\n       *     @param {Array.<string|toolbarItemsValue>} [options.toolbarItems] - toolbar items.\n       *     @param {boolean} [options.hideModeSwitch=false] - hide mode switch tab bar\n       *     @param {Array.<function|Array>} [options.plugins] - Array of plugins. A plugin can be either a function or an array in the form of [function, options].\n       *     @param {Object} [options.customConvertor] - convertor extention\n       *     @param {string} [options.placeholder] - The placeholder text of the editable element.\n       *     @param {Object} [options.linkAttribute] - Attributes of anchor element that shold be rel, target, contenteditable, hreflang, type\n       */\n\n      var editor_ToastUIEditor = /*#__PURE__*/function () {\n        function ToastUIEditor(options) {\n          var _this = this;\n\n          this.initialHtml = options.el.innerHTML;\n          options.el.innerHTML = '';\n          this.options = extend_default()({\n            previewStyle: 'tab',\n            initialEditType: 'markdown',\n            height: '300px',\n            minHeight: '200px',\n            language: 'en-US',\n            useDefaultHTMLSanitizer: true,\n            useCommandShortcut: true,\n            usageStatistics: true,\n            toolbarItems: ['heading', 'bold', 'italic', 'strike', 'divider', 'hr', 'quote', 'divider', 'ul', 'ol', 'task', 'indent', 'outdent', 'divider', 'table', 'image', 'link', 'divider', 'code', 'codeblock'],\n            hideModeSwitch: false,\n            customConvertor: null\n          }, options);\n          this.codeBlockLanguages = [];\n          this.eventManager = new js_eventManager[\"a\"\n          /* default */\n          ]();\n          this.importManager = new importManager(this.eventManager);\n          this.commandManager = new commandManager[\"a\"\n          /* default */\n          ](this, {\n            useCommandShortcut: this.options.useCommandShortcut\n          });\n\n          var linkAttribute = this._sanitizeLinkAttribute(this.options.linkAttribute);\n\n          if (this.options.customConvertor) {\n            // eslint-disable-next-line new-cap\n            this.convertor = new this.options.customConvertor(this.eventManager, {\n              linkAttribute: linkAttribute\n            });\n          } else {\n            this.convertor = new convertor[\"a\"\n            /* default */\n            ](this.eventManager, {\n              linkAttribute: linkAttribute\n            });\n          }\n\n          if (this.options.useDefaultHTMLSanitizer) {\n            this.convertor.initHtmlSanitizer();\n          }\n\n          if (this.options.hooks) {\n            forEachOwnProperties_default()(this.options.hooks, function (fn, key) {\n              return _this.addHook(key, fn);\n            });\n          }\n\n          if (this.options.events) {\n            forEachOwnProperties_default()(this.options.events, function (fn, key) {\n              return _this.on(key, fn);\n            });\n          }\n\n          this.layout = new js_layout(options, this.eventManager);\n          this.i18n = i18n;\n          this.i18n.setCode(this.options.language);\n          this.setUI(this.options.UI || new defaultUI(this));\n          this.toastMark = new toastmark[\"ToastMark\"]('', {\n            disallowedHtmlBlockTags: ['br']\n          });\n          this.mdEditor = markdownEditor.factory(this.layout.getMdEditorContainerEl(), this.eventManager, this.toastMark, this.options);\n          this.preview = new mdPreview[\"a\"\n          /* default */\n          ](this.layout.getPreviewEl(), this.eventManager, this.convertor, false);\n          this.wwEditor = wysiwygEditor.factory(this.layout.getWwEditorContainerEl(), this.eventManager, {\n            useDefaultHTMLSanitizer: this.options.useDefaultHTMLSanitizer,\n            linkAttribute: linkAttribute\n          });\n          this.toMarkOptions = {\n            gfm: true,\n            renderer: toMarkRenderer\n          };\n\n          if (this.options.plugins) {\n            Object(pluginHelper[\"a\"\n            /* invokePlugins */\n            ])(this.options.plugins, this);\n          }\n\n          this.changePreviewStyle(this.options.previewStyle);\n          this.changeMode(this.options.initialEditType, true);\n          this.minHeight(this.options.minHeight);\n          this.height(this.options.height);\n          this.setMarkdown(this.options.initialValue, false);\n\n          if (this.options.placeholder) {\n            this.setPlaceholder(this.options.placeholder);\n          }\n\n          if (!this.options.initialValue) {\n            this.setHtml(this.initialHtml, false);\n          }\n\n          this.eventManager.emit('load', this);\n\n          __nedInstance.push(this);\n\n          this._addDefaultCommands();\n\n          if (this.options.usageStatistics) {\n            Object(utils_common[\"c\"\n            /* sendHostName */\n            ])();\n          }\n\n          register(this);\n        }\n        /**\n         * sanitize attribute for link\n         * @param {object} attribute - attribute for link\n         * @returns {object} sanitized attribute\n         * @private\n         */\n\n\n        var _proto = ToastUIEditor.prototype;\n\n        _proto._sanitizeLinkAttribute = function _sanitizeLinkAttribute(attribute) {\n          if (!attribute) {\n            return null;\n          }\n\n          var linkAttribute = {};\n          availableLinkAttributes.forEach(function (key) {\n            if (!isUndefined_default()(attribute[key])) {\n              linkAttribute[key] = attribute[key];\n            }\n          });\n          return linkAttribute;\n        }\n        /**\n         * change preview style\n         * @param {string} style - 'tab'|'vertical'\n         */\n        ;\n\n        _proto.changePreviewStyle = function changePreviewStyle(style) {\n          this.layout.changePreviewStyle(style);\n          this.mdPreviewStyle = style;\n          this.eventManager.emit('changePreviewStyle', style);\n          this.eventManager.emit('previewNeedsRefresh', this.getMarkdown());\n        }\n        /**\n         * call commandManager's exec method\n         * @param {*} ...args Command argument\n         */\n        ;\n\n        _proto.exec = function exec() {\n          var _this$commandManager;\n\n          (_this$commandManager = this.commandManager).exec.apply(_this$commandManager, arguments);\n        }\n        /**\n         * add default commands\n         * @private\n         */\n        ;\n\n        _proto._addDefaultCommands = function _addDefaultCommands() {\n          this.addCommand(bold);\n          this.addCommand(italic);\n          this.addCommand(blockquote);\n          this.addCommand(heading);\n          this.addCommand(paragraph);\n          this.addCommand(markdownCommands_hr);\n          this.addCommand(addLink);\n          this.addCommand(addImage);\n          this.addCommand(markdownCommands_ul);\n          this.addCommand(ol);\n          this.addCommand(markdownCommands_indent);\n          this.addCommand(outdent);\n          this.addCommand(markdownCommands_table);\n          this.addCommand(task);\n          this.addCommand(markdownCommands_code);\n          this.addCommand(markdownCommands_codeBlock);\n          this.addCommand(strike);\n          this.addCommand(wysiwygCommands_bold);\n          this.addCommand(wysiwygCommands_italic);\n          this.addCommand(wysiwygCommands_blockquote);\n          this.addCommand(wysiwygCommands_ul);\n          this.addCommand(wysiwygCommands_ol);\n          this.addCommand(wysiwygCommands_addImage);\n          this.addCommand(wysiwygCommands_addLink);\n          this.addCommand(wysiwygCommands_hr);\n          this.addCommand(wysiwygCommands_heading);\n          this.addCommand(wysiwygCommands_paragraph);\n          this.addCommand(wysiwygCommands_indent);\n          this.addCommand(wysiwygCommands_outdent);\n          this.addCommand(wysiwygCommands_task);\n          this.addCommand(wysiwygCommands_table);\n          this.addCommand(tableAddRow);\n          this.addCommand(tableAddCol);\n          this.addCommand(tableRemoveRow);\n          this.addCommand(tableRemoveCol);\n          this.addCommand(tableAlignCol);\n          this.addCommand(tableRemove);\n          this.addCommand(wysiwygCommands_code);\n          this.addCommand(wysiwygCommands_codeBlock);\n          this.addCommand(wysiwygCommands_strike);\n        };\n\n        _proto.addCommand = function addCommand(type, props) {\n          if (!props) {\n            this.commandManager.addCommand(type);\n          } else {\n            this.commandManager.addCommand(commandManager[\"a\"\n            /* default */\n            ].command(type, props));\n          }\n        }\n        /**\n         * After added command.\n         */\n        ;\n\n        _proto.afterAddedCommand = function afterAddedCommand() {\n          this.eventManager.emit('afterAddedCommand', this);\n        }\n        /**\n         * Bind eventHandler to event type\n         * @param {string} type Event type\n         * @param {function} handler Event handler\n         */\n        ;\n\n        _proto.on = function on(type, handler) {\n          this.eventManager.listen(type, handler);\n        }\n        /**\n         * Unbind eventHandler from event type\n         * @param {string} type Event type\n         */\n        ;\n\n        _proto.off = function off(type) {\n          this.eventManager.removeEventHandler(type);\n        }\n        /**\n         * Add hook to TUIEditor event\n         * @param {string} type Event type\n         * @param {function} handler Event handler\n         */\n        ;\n\n        _proto.addHook = function addHook(type, handler) {\n          this.eventManager.removeEventHandler(type);\n          this.eventManager.listen(type, handler);\n        }\n        /**\n         * Remove hook from TUIEditor event\n         * @param {string} type Event type\n         */\n        ;\n\n        _proto.removeHook = function removeHook(type) {\n          this.eventManager.removeEventHandler(type);\n        }\n        /**\n         * Get CodeMirror instance\n         * @returns {CodeMirror}\n         */\n        ;\n\n        _proto.getCodeMirror = function getCodeMirror() {\n          return this.mdEditor.getEditor();\n        }\n        /**\n         * Get SquireExt instance\n         * @returns {SquireExt}\n         */\n        ;\n\n        _proto.getSquire = function getSquire() {\n          return this.wwEditor.getEditor();\n        }\n        /**\n         * Set focus to current Editor\n         */\n        ;\n\n        _proto.focus = function focus() {\n          this.getCurrentModeEditor().focus();\n        }\n        /**\n         * Remove focus of current Editor\n         */\n        ;\n\n        _proto.blur = function blur() {\n          this.getCurrentModeEditor().blur();\n        }\n        /**\n         * Set cursor position to end\n         */\n        ;\n\n        _proto.moveCursorToEnd = function moveCursorToEnd() {\n          this.getCurrentModeEditor().moveCursorToEnd();\n        }\n        /**\n         * Set cursor position to start\n         */\n        ;\n\n        _proto.moveCursorToStart = function moveCursorToStart() {\n          this.getCurrentModeEditor().moveCursorToStart();\n        }\n        /**\n         * Set markdown syntax text.\n         * @param {string} markdown - markdown syntax text.\n         * @param {boolean} [cursorToEnd=true] - move cursor to contents end\n         */\n        ;\n\n        _proto.setMarkdown = function setMarkdown(markdown, cursorToEnd) {\n          if (cursorToEnd === void 0) {\n            cursorToEnd = true;\n          }\n\n          markdown = markdown || '';\n\n          if (this.isMarkdownMode()) {\n            this.mdEditor.setValue(markdown, cursorToEnd);\n          } else {\n            this.wwEditor.setValue(this.convertor.toHTML(markdown), cursorToEnd);\n          }\n\n          this.eventManager.emit('setMarkdownAfter', markdown);\n        }\n        /**\n         * Set html value.\n         * @param {string} html - html syntax text\n         * @param {boolean} [cursorToEnd=true] - move cursor to contents end\n         */\n        ;\n\n        _proto.setHtml = function setHtml(html, cursorToEnd) {\n          if (cursorToEnd === void 0) {\n            cursorToEnd = true;\n          }\n\n          html = html || '';\n          this.wwEditor.setValue(html, cursorToEnd);\n\n          if (this.isMarkdownMode()) {\n            var markdown = this.convertor.toMarkdown(this.wwEditor.getValue(), this.toMarkOptions);\n            this.mdEditor.setValue(markdown, cursorToEnd);\n            this.eventManager.emit('setMarkdownAfter', markdown);\n          }\n        }\n        /**\n         * Get markdown syntax text.\n         * @returns {string}\n         */\n        ;\n\n        _proto.getMarkdown = function getMarkdown() {\n          var markdown;\n\n          if (this.isMarkdownMode()) {\n            markdown = this.mdEditor.getValue();\n          } else {\n            markdown = this.convertor.toMarkdown(this.wwEditor.getValue(), this.toMarkOptions);\n          }\n\n          return markdown;\n        }\n        /**\n         * Get html syntax text.\n         * @returns {string}\n         */\n        ;\n\n        _proto.getHtml = function getHtml() {\n          if (this.isWysiwygMode()) {\n            this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(), this.toMarkOptions));\n          }\n\n          return this.convertor.toHTML(this.mdEditor.getValue());\n        }\n        /**\n         * Insert text\n         * @param {string} text - text string to insert\n         */\n        ;\n\n        _proto.insertText = function insertText(text) {\n          if (this.isMarkdownMode()) {\n            this.mdEditor.replaceSelection(text);\n          } else {\n            this.wwEditor.insertText(text);\n          }\n        }\n        /**\n         * Add widget to selection\n         * @param {Range} selection Current selection\n         * @param {Node} node widget node\n         * @param {string} style Adding style \"over\" or \"bottom\"\n         * @param {number} [offset] Offset for adjust position\n         */\n        ;\n\n        _proto.addWidget = function addWidget(selection, node, style, offset) {\n          this.getCurrentModeEditor().addWidget(selection, node, style, offset);\n        }\n        /**\n         * Set and return edithr height\n         * @param {string} height - editor height\n         * @returns {string} editor height\n         */\n        ;\n\n        _proto.height = function height(_height) {\n          if (isExisty_default()(_height)) {\n            var el = this.options.el;\n\n            if (_height === 'auto') {\n              addClass_default()(el, 'auto-height');\n              this.minHeight(this.minHeight());\n            } else {\n              removeClass_default()(el, 'auto-height');\n              this.minHeight(_height);\n            }\n\n            if (isNumber_default()(_height)) {\n              _height = _height + \"px\";\n            }\n\n            css_default()(this.options.el, {\n              height: _height\n            });\n            this._height = _height;\n          }\n\n          return this._height;\n        }\n        /**\n         * Set / Get min content height\n         * @param {string} minHeight - min content height in pixel\n         * @returns {string} - min height in pixel\n         */\n        ;\n\n        _proto.minHeight = function minHeight(_minHeight) {\n          if (isExisty_default()(_minHeight)) {\n            var editorHeight = this._ui.getEditorHeight();\n\n            var editorSectionHeight = this._ui.getEditorSectionHeight();\n\n            var diffHeight = editorHeight - editorSectionHeight;\n            this._minHeight = _minHeight;\n            _minHeight = parseInt(_minHeight, 10);\n            _minHeight = Math.max(_minHeight - diffHeight, 0);\n            this.wwEditor.setMinHeight(_minHeight);\n            this.mdEditor.setMinHeight(_minHeight);\n            this.preview.setMinHeight(_minHeight);\n          }\n\n          return this._minHeight;\n        }\n        /**\n         * Get current editor mode name\n         * @returns {Object} MarkdownEditor or WysiwygEditor\n         */\n        ;\n\n        _proto.getCurrentModeEditor = function getCurrentModeEditor() {\n          var editor;\n\n          if (this.isMarkdownMode()) {\n            editor = this.mdEditor;\n          } else {\n            editor = this.wwEditor;\n          }\n\n          return editor;\n        }\n        /**\n         * Return true if current editor mode is Markdown\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.isMarkdownMode = function isMarkdownMode() {\n          return this.currentMode === 'markdown';\n        }\n        /**\n         * Return true if current editor mode is WYSIWYG\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.isWysiwygMode = function isWysiwygMode() {\n          return this.currentMode === 'wysiwyg';\n        }\n        /**\n         * Return false\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.isViewer = function isViewer() {\n          return false;\n        }\n        /**\n         * Get current Markdown editor's preview style\n         * @returns {string}\n         */\n        ;\n\n        _proto.getCurrentPreviewStyle = function getCurrentPreviewStyle() {\n          return this.mdPreviewStyle;\n        }\n        /**\n         * Change editor's mode to given mode string\n         * @param {string} mode - Editor mode name of want to change\n         * @param {boolean} [isWithoutFocus] - Change mode without focus\n         */\n        ;\n\n        _proto.changeMode = function changeMode(mode, isWithoutFocus) {\n          if (this.currentMode === mode) {\n            return;\n          }\n\n          this.eventManager.emit('changeModeBefore', this.currentMode);\n          this.currentMode = mode;\n\n          if (this.isWysiwygMode()) {\n            this.layout.switchToWYSIWYG();\n            this.wwEditor.setValue(this.convertor.toHTML(this.mdEditor.getValue()), !isWithoutFocus);\n            this.eventManager.emit('changeModeToWysiwyg');\n          } else {\n            this.layout.switchToMarkdown();\n            this.mdEditor.resetState();\n            this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(), this.toMarkOptions), !isWithoutFocus);\n            this.getCodeMirror().refresh();\n            this.eventManager.emit('changeModeToMarkdown');\n          }\n\n          this.eventManager.emit('changeMode', mode);\n\n          if (!isWithoutFocus) {\n            this.focus();\n          }\n        }\n        /**\n         * Remove TUIEditor from document\n         */\n        ;\n\n        _proto.remove = function remove() {\n          var self = this;\n          var i = __nedInstance.length - 1;\n          this.wwEditor.remove();\n          this.mdEditor.remove();\n          this.layout.remove();\n          this.preview.remove();\n\n          if (this.getUI()) {\n            this.getUI().remove();\n          }\n\n          this.eventManager.emit('removeEditor');\n          this.eventManager.events.forEach(function (value, key) {\n            self.off(key);\n          });\n          this.eventManager = null;\n\n          for (; i >= 0; i -= 1) {\n            if (__nedInstance[i] === this) {\n              __nedInstance.splice(i, 1);\n            }\n          }\n        }\n        /**\n         * Hide TUIEditor\n         */\n        ;\n\n        _proto.hide = function hide() {\n          this.eventManager.emit('hide', this);\n        }\n        /**\n         * Show TUIEditor\n         */\n        ;\n\n        _proto.show = function show() {\n          this.eventManager.emit('show', this);\n          this.getCodeMirror().refresh();\n        }\n        /**\n         * Scroll Editor content to Top\n         * @param {number} value Scroll amount\n         * @returns {number}\n         */\n        ;\n\n        _proto.scrollTop = function scrollTop(value) {\n          return this.getCurrentModeEditor().scrollTop(value);\n        }\n        /**\n         * Set UI to private UI property\n         * @param {UI} UI UI instance\n         */\n        ;\n\n        _proto.setUI = function setUI(UI) {\n          this._ui = UI;\n        }\n        /**\n         * Get _ui property\n         * @returns {DefaultUI|UI}\n         */\n        ;\n\n        _proto.getUI = function getUI() {\n          return this._ui;\n        }\n        /**\n         * Reset TUIEditor\n         */\n        ;\n\n        _proto.reset = function reset() {\n          this.wwEditor.reset();\n          this.mdEditor.reset();\n        }\n        /**\n         * Get current range\n         * @returns {{start, end}|Range}\n         */\n        ;\n\n        _proto.getRange = function getRange() {\n          return this.getCurrentModeEditor().getRange();\n        }\n        /**\n         * Get text object of current range\n         * @param {{start, end}|Range} range Range object of each editor\n         * @returns {MdTextObject|WwTextObject} TextObject class\n         */\n        ;\n\n        _proto.getTextObject = function getTextObject(range) {\n          return this.getCurrentModeEditor().getTextObject(range);\n        }\n        /**\n         * get selected text\n         * @returns {string} - selected text\n         */\n        ;\n\n        _proto.getSelectedText = function getSelectedText() {\n          var range = this.getRange();\n          var textObject = this.getTextObject(range);\n          return textObject.getTextContent() || '';\n        }\n        /**\n         * Set the placeholder on all editors\n         * @param {string} placeholder - placeholder to set\n         */\n        ;\n\n        _proto.setPlaceholder = function setPlaceholder(placeholder) {\n          this.mdEditor.setPlaceholder(placeholder);\n          this.wwEditor.setPlaceholder(placeholder);\n        }\n        /**\n         * Set code block languages\n         * @param {Array} languages - code lauguage list\n         */\n        ;\n\n        _proto.setCodeBlockLanguages = function setCodeBlockLanguages(languages) {\n          var _this2 = this;\n\n          if (languages === void 0) {\n            languages = [];\n          }\n\n          languages.forEach(function (lang) {\n            if (_this2.codeBlockLanguages.indexOf(lang) < 0) {\n              _this2.codeBlockLanguages.push(lang);\n            }\n          });\n          this.eventManager.emit('setCodeBlockLanguages', this.codeBlockLanguages);\n        }\n        /**\n         * Get instance of TUIEditor\n         * @returns {Array}\n         */\n        ;\n\n        ToastUIEditor.getInstances = function getInstances() {\n          return __nedInstance;\n        }\n        /**\n         * Factory method for Editor\n         * @param {object} options Option for initialize TUIEditor\n         * @returns {object} ToastUIEditor or ToastUIEditorViewer\n         */\n        ;\n\n        ToastUIEditor.factory = function factory(options) {\n          var tuiEditor;\n\n          if (options.viewer) {\n            tuiEditor = new viewer[\"a\"\n            /* default */\n            ](options);\n          } else {\n            tuiEditor = new ToastUIEditor(options);\n          }\n\n          return tuiEditor;\n        }\n        /**\n         * Set language\n         * @param {string} code - code for I18N language\n         * @param {object} data - language set\n         */\n        ;\n\n        ToastUIEditor.setLanguage = function setLanguage(code, data) {\n          i18n.setLanguage(code, data);\n        };\n\n        return ToastUIEditor;\n      }();\n      /**\n       * Check whether is viewer (using in plugins)\n       * @type {boolean}\n       */\n\n\n      editor_ToastUIEditor.isViewer = false;\n      /**\n       * CodeBlockManager instance using in plugins\n       * @type {CodeBlockManager}\n       * @ignore\n       */\n\n      editor_ToastUIEditor.codeBlockManager = codeBlockManager[\"a\"\n      /* default */\n      ];\n      /**\n       * WwCodeBlockManager class using in plugins\n       * @type {Class.<WwCodeBlockManager>}\n       * @ignore\n       */\n\n      editor_ToastUIEditor.WwCodeBlockManager = wwCodeBlockManager;\n      /**\n       * WwTableManager class using in plugins\n       * @type {Class.<WwTableManager>}\n       * @ignore\n       */\n\n      editor_ToastUIEditor.WwTableManager = wwTableManager;\n      /**\n       * WwTableManager class using in plugins\n       * @type {Class.<WwTableSelectionManager>}\n       * @ignore\n       */\n\n      editor_ToastUIEditor.WwTableSelectionManager = wwTableSelectionManager;\n      /**\n       * CommandManager class using in plugins\n       * @type {Class.<CommandManager>}\n       * @ignore\n       */\n\n      editor_ToastUIEditor.CommandManager = commandManager[\"a\"\n      /* default */\n      ];\n      /* harmony default export */\n\n      var js_editor = editor_ToastUIEditor; // EXTERNAL MODULE: ./src/css/toastui-editor.css\n\n      var toastui_editor = __webpack_require__(56); // EXTERNAL MODULE: ./src/css/toastui-editor-contents.css\n\n\n      var toastui_editor_contents = __webpack_require__(49); // CONCATENATED MODULE: ./src/js/i18n/en-us.js\n\n      /**\n       * @fileoverview I18N for English\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n\n      js_editor.setLanguage(['en', 'en-US'], {\n        Markdown: 'Markdown',\n        WYSIWYG: 'WYSIWYG',\n        Write: 'Write',\n        Preview: 'Preview',\n        Headings: 'Headings',\n        Paragraph: 'Paragraph',\n        Bold: 'Bold',\n        Italic: 'Italic',\n        Strike: 'Strike',\n        Code: 'Inline code',\n        Line: 'Line',\n        Blockquote: 'Blockquote',\n        'Unordered list': 'Unordered list',\n        'Ordered list': 'Ordered list',\n        Task: 'Task',\n        Indent: 'Indent',\n        Outdent: 'Outdent',\n        'Insert link': 'Insert link',\n        'Insert CodeBlock': 'Insert codeBlock',\n        'Insert table': 'Insert table',\n        'Insert image': 'Insert image',\n        Heading: 'Heading',\n        'Image URL': 'Image URL',\n        'Select image file': 'Select image file',\n        Description: 'Description',\n        OK: 'OK',\n        More: 'More',\n        Cancel: 'Cancel',\n        File: 'File',\n        URL: 'URL',\n        'Link text': 'Link text',\n        'Add row': 'Add row',\n        'Add col': 'Add col',\n        'Remove row': 'Remove row',\n        'Remove col': 'Remove col',\n        'Align left': 'Align left',\n        'Align center': 'Align center',\n        'Align right': 'Align right',\n        'Remove table': 'Remove table',\n        'Would you like to paste as table?': 'Would you like to paste as table?',\n        'Text color': 'Text color',\n        'Auto scroll enabled': 'Auto scroll enabled',\n        'Auto scroll disabled': 'Auto scroll disabled',\n        'Choose language': 'Choose language'\n      }); // CONCATENATED MODULE: ./src/js/index.js\n\n      /**\n       * @fileoverview entry point for editor\n       * @author NHN FE Development Lab <dl_javascript@nhn.com>\n       */\n\n      /* harmony default export */\n\n      var js = __webpack_exports__[\"default\"] = js_editor;\n      /***/\n    }\n    /******/\n    ])[\"default\"]\n  );\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.CodeMirror = factory());\n})(this, function () {\n  'use strict'; // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent); // This is woefully incomplete. Suggestions for alternative methods welcome.\n\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n\n  if (presto_version) {\n    presto_version = Number(presto_version[1]);\n  }\n\n  if (presto_version && presto_version >= 15) {\n    presto = false;\n    webkit = true;\n  } // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n\n\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || ie && ie_version >= 9;\n\n  function classTest(cls) {\n    return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\");\n  }\n\n  var rmClass = function rmClass(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count) {\n      e.removeChild(e.firstChild);\n    }\n\n    return e;\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e);\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n\n    if (className) {\n      e.className = className;\n    }\n\n    if (style) {\n      e.style.cssText = style;\n    }\n\n    if (typeof content == \"string\") {\n      e.appendChild(document.createTextNode(content));\n    } else if (content) {\n      for (var i = 0; i < content.length; ++i) {\n        e.appendChild(content[i]);\n      }\n    }\n\n    return e;\n  } // wrapper for elt, which removes the elt from the accessibility tree\n\n\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e;\n  }\n\n  var range;\n\n  if (document.createRange) {\n    range = function range(node, start, end, endNode) {\n      var r = document.createRange();\n      r.setEnd(endNode || node, end);\n      r.setStart(node, start);\n      return r;\n    };\n  } else {\n    range = function range(node, start, end) {\n      var r = document.body.createTextRange();\n\n      try {\n        r.moveToElementText(node.parentNode);\n      } catch (e) {\n        return r;\n      }\n\n      r.collapse(true);\n      r.moveEnd(\"character\", end);\n      r.moveStart(\"character\", start);\n      return r;\n    };\n  }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      {\n        child = child.parentNode;\n      }\n\n    if (parent.contains) {\n      return parent.contains(child);\n    }\n\n    do {\n      if (child.nodeType == 11) {\n        child = child.host;\n      }\n\n      if (child == parent) {\n        return true;\n      }\n    } while (child = child.parentNode);\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n\n    try {\n      activeElement = document.activeElement;\n    } catch (e) {\n      activeElement = document.body || null;\n    }\n\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement) {\n      activeElement = activeElement.shadowRoot.activeElement;\n    }\n\n    return activeElement;\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n\n    if (!classTest(cls).test(current)) {\n      node.className += (current ? \" \" : \"\") + cls;\n    }\n  }\n\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n\n    for (var i = 0; i < as.length; i++) {\n      if (as[i] && !classTest(as[i]).test(b)) {\n        b += \" \" + as[i];\n      }\n    }\n\n    return b;\n  }\n\n  var selectInput = function selectInput(node) {\n    node.select();\n  };\n\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    {\n      selectInput = function selectInput(node) {\n        node.selectionStart = 0;\n        node.selectionEnd = node.value.length;\n      };\n    } else if (ie) // Suppress mysterious IE10 errors\n    {\n      selectInput = function selectInput(node) {\n        try {\n          node.select();\n        } catch (_e) {}\n      };\n    }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      return f.apply(null, args);\n    };\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) {\n      target = {};\n    }\n\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop))) {\n        target[prop] = obj[prop];\n      }\n    }\n\n    return target;\n  } // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n\n\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n\n      if (end == -1) {\n        end = string.length;\n      }\n    }\n\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n\n      if (nextTab < 0 || nextTab >= end) {\n        return n + (end - i);\n      }\n\n      n += nextTab - i;\n      n += tabSize - n % tabSize;\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function Delayed() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n\n    if (self.time <= +new Date()) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date());\n    }\n  };\n\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date() + ms;\n\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i) {\n      if (array[i] == elt) {\n        return i;\n      }\n    }\n\n    return -1;\n  } // Number of pixels added to scroller and sizer to hide scrollbar\n\n\n  var scrollerGap = 30; // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n\n  var Pass = {\n    toString: function toString() {\n      return \"CodeMirror.Pass\";\n    }\n  }; // Reused option objects for setSelection & friends\n\n  var sel_dontScroll = {\n    scroll: false\n  },\n      sel_mouse = {\n    origin: \"*mouse\"\n  },\n      sel_move = {\n    origin: \"+move\"\n  }; // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n\n      if (nextTab == -1) {\n        nextTab = string.length;\n      }\n\n      var skipped = nextTab - pos;\n\n      if (nextTab == string.length || col + skipped >= goal) {\n        return pos + Math.min(skipped, goal - col);\n      }\n\n      col += nextTab - pos;\n      col += tabSize - col % tabSize;\n      pos = nextTab + 1;\n\n      if (col >= goal) {\n        return pos;\n      }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n\n  function spaceStr(n) {\n    while (spaceStrs.length <= n) {\n      spaceStrs.push(lst(spaceStrs) + \" \");\n    }\n\n    return spaceStrs[n];\n  }\n\n  function lst(arr) {\n    return arr[arr.length - 1];\n  }\n\n  function map(array, f) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = f(array[i], i);\n    }\n\n    return out;\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0,\n        priority = score(value);\n\n    while (pos < array.length && score(array[pos]) <= priority) {\n      pos++;\n    }\n\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n\n    if (props) {\n      copyObj(props, inst);\n    }\n\n    return inst;\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n  }\n\n  function isWordChar(ch, helper) {\n    if (!helper) {\n      return isWordCharBasic(ch);\n    }\n\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) {\n      return true;\n    }\n\n    return helper.test(ch);\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) {\n      if (obj.hasOwnProperty(n) && obj[n]) {\n        return false;\n      }\n    }\n\n    return true;\n  } // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n\n\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n\n  function isExtendingChar(ch) {\n    return ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n  } // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n\n\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) {\n      pos += dir;\n    }\n\n    return pos;\n  } // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n\n\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n\n    for (;;) {\n      if (from == to) {\n        return from;\n      }\n\n      var midF = (from + to) / 2,\n          mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n\n      if (mid == from) {\n        return pred(mid) ? from : to;\n      }\n\n      if (pred(mid)) {\n        to = mid;\n      } else {\n        from = mid + dir;\n      }\n    }\n  } // BIDI HELPERS\n\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) {\n      return f(from, to, \"ltr\", 0);\n    }\n\n    var found = false;\n\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n\n    if (!found) {\n      f(from, to, \"ltr\");\n    }\n  }\n\n  var bidiOther = null;\n\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n\n      if (cur.from < ch && cur.to > ch) {\n        return i;\n      }\n\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n    }\n\n    return found != null ? found : bidiOther;\n  } // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n\n\n  var bidiOrdering = function () {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"; // Character types for codepoints 0x600 to 0x6f9\n\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n\n    function charType(code) {\n      if (code <= 0xf7) {\n        return lowTypes.charAt(code);\n      } else if (0x590 <= code && code <= 0x5f4) {\n        return \"R\";\n      } else if (0x600 <= code && code <= 0x6f9) {\n        return arabicTypes.charAt(code - 0x600);\n      } else if (0x6ee <= code && code <= 0x8ac) {\n        return \"r\";\n      } else if (0x2000 <= code && code <= 0x200b) {\n        return \"w\";\n      } else if (code == 0x200c) {\n        return \"b\";\n      } else {\n        return \"L\";\n      }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/,\n        isStrong = /[LRr]/,\n        countsAsLeft = /[Lb1n]/,\n        countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from;\n      this.to = to;\n    }\n\n    return function (str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) {\n        return false;\n      }\n\n      var len = str.length,\n          types = [];\n\n      for (var i = 0; i < len; ++i) {\n        types.push(charType(str.charCodeAt(i)));\n      } // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n\n\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n\n        if (type == \"m\") {\n          types[i$1] = prev;\n        } else {\n          prev = type;\n        }\n      } // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n\n\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n\n        if (type$1 == \"1\" && cur == \"r\") {\n          types[i$2] = \"n\";\n        } else if (isStrong.test(type$1)) {\n          cur = type$1;\n\n          if (type$1 == \"r\") {\n            types[i$2] = \"R\";\n          }\n        }\n      } // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n\n\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3 + 1] == \"1\") {\n          types[i$3] = \"1\";\n        } else if (type$2 == \",\" && prev$1 == types[i$3 + 1] && (prev$1 == \"1\" || prev$1 == \"n\")) {\n          types[i$3] = prev$1;\n        }\n\n        prev$1 = type$2;\n      } // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n\n\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n\n        if (type$3 == \",\") {\n          types[i$4] = \"N\";\n        } else if (type$3 == \"%\") {\n          var end = void 0;\n\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n\n          var replace = i$4 && types[i$4 - 1] == \"!\" || end < len && types[end] == \"1\" ? \"1\" : \"N\";\n\n          for (var j = i$4; j < end; ++j) {\n            types[j] = replace;\n          }\n\n          i$4 = end - 1;\n        }\n      } // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n\n\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n\n        if (cur$1 == \"L\" && type$4 == \"1\") {\n          types[i$5] = \"L\";\n        } else if (isStrong.test(type$4)) {\n          cur$1 = type$4;\n        }\n      } // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n\n\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = void 0;\n\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n\n          var before = (i$6 ? types[i$6 - 1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? before ? \"L\" : \"R\" : outerType;\n\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) {\n            types[j$1] = replace$1;\n          }\n\n          i$6 = end$1 - 1;\n        }\n      } // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n\n\n      var order = [],\n          m;\n\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7,\n              at = order.length,\n              isRTL = direction == \"rtl\" ? 1 : 0;\n\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) {\n                order.splice(at, 0, new BidiSpan(1, pos, j$2));\n                at += isRTL;\n              }\n\n              var nstart = j$2;\n\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else {\n              ++j$2;\n            }\n          }\n\n          if (pos < i$7) {\n            order.splice(at, 0, new BidiSpan(1, pos, i$7));\n          }\n        }\n      }\n\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order;\n    };\n  }(); // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n\n\n  function getOrder(line, direction) {\n    var order = line.order;\n\n    if (order == null) {\n      order = line.order = bidiOrdering(line.text, direction);\n    }\n\n    return order;\n  } // EVENT HANDLING\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n\n  var noHandlers = [];\n\n  var on = function on(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers;\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers,\n          arr = map && map[type];\n\n      if (arr) {\n        var index = indexOf(arr, f);\n\n        if (index > -1) {\n          map[type] = arr.slice(0, index).concat(arr.slice(index + 1));\n        }\n      }\n    }\n  }\n\n  function signal(emitter, type\n  /*, values...*/\n  ) {\n    var handlers = getHandlers(emitter, type);\n\n    if (!handlers.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2);\n\n    for (var i = 0; i < handlers.length; ++i) {\n      handlers[i].apply(null, args);\n    }\n  } // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n\n\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\") {\n      e = {\n        type: e,\n        preventDefault: function preventDefault() {\n          this.defaultPrevented = true;\n        }\n      };\n    }\n\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore;\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n\n    if (!arr) {\n      return;\n    }\n\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n\n    for (var i = 0; i < arr.length; ++i) {\n      if (indexOf(set, arr[i]) == -1) {\n        set.push(arr[i]);\n      }\n    }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0;\n  } // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n\n\n  function eventMixin(ctor) {\n    ctor.prototype.on = function (type, f) {\n      on(this, type, f);\n    };\n\n    ctor.prototype.off = function (type, f) {\n      off(this, type, f);\n    };\n  } // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      e.returnValue = false;\n    }\n  }\n\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.cancelBubble = true;\n    }\n  }\n\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;\n  }\n\n  function e_stop(e) {\n    e_preventDefault(e);\n    e_stopPropagation(e);\n  }\n\n  function e_target(e) {\n    return e.target || e.srcElement;\n  }\n\n  function e_button(e) {\n    var b = e.which;\n\n    if (b == null) {\n      if (e.button & 1) {\n        b = 1;\n      } else if (e.button & 2) {\n        b = 3;\n      } else if (e.button & 4) {\n        b = 2;\n      }\n    }\n\n    if (mac && e.ctrlKey && b == 1) {\n      b = 3;\n    }\n\n    return b;\n  } // Detect drag-and-drop\n\n\n  var dragAndDrop = function () {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) {\n      return false;\n    }\n\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div;\n  }();\n\n  var zwspSupported;\n\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200B\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n\n      if (measure.firstChild.offsetHeight != 0) {\n        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);\n      }\n    }\n\n    var node = zwspSupported ? elt(\"span\", \"\\u200B\") : elt(\"span\", \"\\xA0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node;\n  } // Feature-detect IE's crummy client rect reporting for bidi text\n\n\n  var badBidiRects;\n\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) {\n      return badBidiRects;\n    }\n\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062EA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n\n    if (!r0 || r0.left == r0.right) {\n      return false;\n    } // Safari returns null in some cases (#2780)\n\n\n    return badBidiRects = r1.right - r0.right < 3;\n  } // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n\n\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0,\n        result = [],\n        l = string.length;\n\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n\n      if (nl == -1) {\n        nl = string.length;\n      }\n\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n\n    return result;\n  } : function (string) {\n    return string.split(/\\r\\n?|\\n/);\n  };\n  var hasSelection = window.getSelection ? function (te) {\n    try {\n      return te.selectionStart != te.selectionEnd;\n    } catch (e) {\n      return false;\n    }\n  } : function (te) {\n    var range;\n\n    try {\n      range = te.ownerDocument.selection.createRange();\n    } catch (e) {}\n\n    if (!range || range.parentElement() != te) {\n      return false;\n    }\n\n    return range.compareEndPoints(\"StartToEnd\", range) != 0;\n  };\n\n  var hasCopyEvent = function () {\n    var e = elt(\"div\");\n\n    if (\"oncopy\" in e) {\n      return true;\n    }\n\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\";\n  }();\n\n  var badZoomedRects = null;\n\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) {\n      return badZoomedRects;\n    }\n\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;\n  } // Known modes, by name and by MIME\n\n\n  var modes = {},\n      mimeModes = {}; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  function defineMode(name, mode) {\n    if (arguments.length > 2) {\n      mode.dependencies = Array.prototype.slice.call(arguments, 2);\n    }\n\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  } // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n\n\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n\n      if (typeof found == \"string\") {\n        found = {\n          name: found\n        };\n      }\n\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\");\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\");\n    }\n\n    if (typeof spec == \"string\") {\n      return {\n        name: spec\n      };\n    } else {\n      return spec || {\n        name: \"null\"\n      };\n    }\n  } // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n\n\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n\n    if (!mfactory) {\n      return getMode(options, \"text/plain\");\n    }\n\n    var modeObj = mfactory(options, spec);\n\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) {\n          continue;\n        }\n\n        if (modeObj.hasOwnProperty(prop)) {\n          modeObj[\"_\" + prop] = modeObj[prop];\n        }\n\n        modeObj[prop] = exts[prop];\n      }\n    }\n\n    modeObj.name = spec.name;\n\n    if (spec.helperType) {\n      modeObj.helperType = spec.helperType;\n    }\n\n    if (spec.modeProps) {\n      for (var prop$1 in spec.modeProps) {\n        modeObj[prop$1] = spec.modeProps[prop$1];\n      }\n    }\n\n    return modeObj;\n  } // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n\n\n  var modeExtensions = {};\n\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : modeExtensions[mode] = {};\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) {\n      return state;\n    }\n\n    if (mode.copyState) {\n      return mode.copyState(state);\n    }\n\n    var nstate = {};\n\n    for (var n in state) {\n      var val = state[n];\n\n      if (val instanceof Array) {\n        val = val.concat([]);\n      }\n\n      nstate[n] = val;\n    }\n\n    return nstate;\n  } // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n\n\n  function innerMode(mode, state) {\n    var info;\n\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n\n      if (!info || info.mode == mode) {\n        break;\n      }\n\n      state = info.state;\n      mode = info.mode;\n    }\n\n    return info || {\n      mode: mode,\n      state: state\n    };\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true;\n  } // STRING STREAM\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n\n  var StringStream = function StringStream(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {\n    return this.pos >= this.string.length;\n  };\n\n  StringStream.prototype.sol = function () {\n    return this.pos == this.lineStart;\n  };\n\n  StringStream.prototype.peek = function () {\n    return this.string.charAt(this.pos) || undefined;\n  };\n\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length) {\n      return this.string.charAt(this.pos++);\n    }\n  };\n\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n\n    if (typeof match == \"string\") {\n      ok = ch == match;\n    } else {\n      ok = ch && (match.test ? match.test(ch) : match(ch));\n    }\n\n    if (ok) {\n      ++this.pos;\n      return ch;\n    }\n  };\n\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n\n    while (this.eat(match)) {}\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) {\n      ++this.pos;\n    }\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.skipToEnd = function () {\n    this.pos = this.string.length;\n  };\n\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n\n    if (found > -1) {\n      this.pos = found;\n      return true;\n    }\n  };\n\n  StringStream.prototype.backUp = function (n) {\n    this.pos -= n;\n  };\n\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function cased(str) {\n        return caseInsensitive ? str.toLowerCase() : str;\n      };\n\n      var substr = this.string.substr(this.pos, pattern.length);\n\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) {\n          this.pos += pattern.length;\n        }\n\n        return true;\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n\n      if (match && match.index > 0) {\n        return null;\n      }\n\n      if (match && consume !== false) {\n        this.pos += match[0].length;\n      }\n\n      return match;\n    }\n  };\n\n  StringStream.prototype.current = function () {\n    return this.string.slice(this.start, this.pos);\n  };\n\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n\n    try {\n      return inner();\n    } finally {\n      this.lineStart -= n;\n    }\n  };\n\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n);\n  };\n\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos);\n  }; // Find the line object corresponding to the given line number.\n\n\n  function getLine(doc, n) {\n    n -= doc.first;\n\n    if (n < 0 || n >= doc.size) {\n      throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\");\n    }\n\n    var chunk = doc;\n\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i],\n            sz = child.chunkSize();\n\n        if (n < sz) {\n          chunk = child;\n          break;\n        }\n\n        n -= sz;\n      }\n    }\n\n    return chunk.lines[n];\n  } // Get the part of a document between two positions, as an array of\n  // strings.\n\n\n  function getBetween(doc, start, end) {\n    var out = [],\n        n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n\n      if (n == end.line) {\n        text = text.slice(0, end.ch);\n      }\n\n      if (n == start.line) {\n        text = text.slice(start.ch);\n      }\n\n      out.push(text);\n      ++n;\n    });\n    return out;\n  } // Get the lines between from and to, as array of strings.\n\n\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) {\n      out.push(line.text);\n    }); // iter aborts when callback returns truthy value\n\n    return out;\n  } // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n\n\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n\n    if (diff) {\n      for (var n = line; n; n = n.parent) {\n        n.height += diff;\n      }\n    }\n  } // Given a line object, find its line number by walking up through\n  // its parent links.\n\n\n  function lineNo(line) {\n    if (line.parent == null) {\n      return null;\n    }\n\n    var cur = line.parent,\n        no = indexOf(cur.lines, line);\n\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) {\n          break;\n        }\n\n        no += chunk.children[i].chunkSize();\n      }\n    }\n\n    return no + cur.first;\n  } // Find the line at the given vertical position, using the height\n  // information in the document tree.\n\n\n  function _lineAtHeight(chunk, h) {\n    var n = chunk.first;\n\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1],\n            ch = child.height;\n\n        if (h < ch) {\n          chunk = child;\n          continue outer;\n        }\n\n        h -= ch;\n        n += child.chunkSize();\n      }\n\n      return n;\n    } while (!chunk.lines);\n\n    var i = 0;\n\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i],\n          lh = line.height;\n\n      if (h < lh) {\n        break;\n      }\n\n      h -= lh;\n    }\n\n    return n + i;\n  }\n\n  function isLine(doc, l) {\n    return l >= doc.first && l < doc.first + doc.size;\n  }\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber));\n  } // A Pos instance represents a position within the text.\n\n\n  function Pos(line, ch, sticky) {\n    if (sticky === void 0) sticky = null;\n\n    if (!(this instanceof Pos)) {\n      return new Pos(line, ch, sticky);\n    }\n\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  } // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n\n\n  function cmp(a, b) {\n    return a.line - b.line || a.ch - b.ch;\n  }\n\n  function equalCursorPos(a, b) {\n    return a.sticky == b.sticky && cmp(a, b) == 0;\n  }\n\n  function copyPos(x) {\n    return Pos(x.line, x.ch);\n  }\n\n  function maxPos(a, b) {\n    return cmp(a, b) < 0 ? b : a;\n  }\n\n  function minPos(a, b) {\n    return cmp(a, b) < 0 ? a : b;\n  } // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n\n\n  function clipLine(doc, n) {\n    return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));\n  }\n\n  function _clipPos(doc, pos) {\n    if (pos.line < doc.first) {\n      return Pos(doc.first, 0);\n    }\n\n    var last = doc.first + doc.size - 1;\n\n    if (pos.line > last) {\n      return Pos(last, getLine(doc, last).text.length);\n    }\n\n    return clipToLen(pos, getLine(doc, pos.line).text.length);\n  }\n\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n\n    if (ch == null || ch > linelen) {\n      return Pos(pos.line, linelen);\n    } else if (ch < 0) {\n      return Pos(pos.line, 0);\n    } else {\n      return pos;\n    }\n  }\n\n  function clipPosArray(doc, array) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = _clipPos(doc, array[i]);\n    }\n\n    return out;\n  }\n\n  var SavedContext = function SavedContext(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function Context(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n\n    if (line != null && n > this.maxLookAhead) {\n      this.maxLookAhead = n;\n    }\n\n    return line;\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) {\n      return null;\n    }\n\n    while (this.baseTokens[this.baseTokenPos] <= n) {\n      this.baseTokenPos += 2;\n    }\n\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {\n      type: type && type.replace(/( |^)overlay .*/, \"\"),\n      size: this.baseTokens[this.baseTokenPos] - n\n    };\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n\n    if (this.maxLookAhead > 0) {\n      this.maxLookAhead--;\n    }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext) {\n      return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead);\n    } else {\n      return new Context(doc, copyState(doc.mode, saved), line);\n    }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state;\n  }; // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n\n\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen],\n        lineClasses = {}; // Compute the base array of styles\n\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) {\n      return st.push(end, style);\n    }, lineClasses, forceToEnd);\n    var state = context.state; // Run overlays, adjust style array.\n\n    var loop = function loop(o) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o],\n          i = 1,\n          at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i; // Ensure there's a token end at the current position, and that i points at it\n\n        while (at < end) {\n          var i_end = st[i];\n\n          if (i_end > end) {\n            st.splice(i, 1, end, st[i + 1], i_end);\n          }\n\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n\n        if (!style) {\n          return;\n        }\n\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start + 1];\n            st[start + 1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) {\n      loop(o);\n    }\n\n    return {\n      styles: st,\n      classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null\n    };\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n\n      if (resetState) {\n        context.state = resetState;\n      }\n\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n\n      if (result.classes) {\n        line.styleClasses = result.classes;\n      } else if (line.styleClasses) {\n        line.styleClasses = null;\n      }\n\n      if (updateFrontier === cm.doc.highlightFrontier) {\n        cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier);\n      }\n    }\n\n    return line.styles;\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc,\n        display = cm.display;\n\n    if (!doc.mode.startState) {\n      return new Context(doc, true, n);\n    }\n\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n\n    if (precise) {\n      doc.modeFrontier = context.line;\n    }\n\n    return context;\n  } // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n\n\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n\n    if (text == \"\") {\n      callBlankLine(mode, context.state);\n    }\n\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) {\n      return mode.blankLine(state);\n    }\n\n    if (!mode.innerMode) {\n      return;\n    }\n\n    var inner = innerMode(mode, state);\n\n    if (inner.mode.blankLine) {\n      return inner.mode.blankLine(inner.state);\n    }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) {\n        inner[0] = innerMode(mode, state).mode;\n      }\n\n      var style = mode.token(stream, state);\n\n      if (stream.pos > stream.start) {\n        return style;\n      }\n    }\n\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\");\n  }\n\n  var Token = function Token(stream, type, state) {\n    this.start = stream.start;\n    this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  }; // Utility for getTokenAt and getLineTokens\n\n\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc,\n        mode = doc.mode,\n        style;\n    pos = _clipPos(doc, pos);\n    var line = getLine(doc, pos.line),\n        context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context),\n        tokens;\n\n    if (asArray) {\n      tokens = [];\n    }\n\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n\n      if (asArray) {\n        tokens.push(new Token(stream, style, copyState(doc.mode, context.state)));\n      }\n    }\n\n    return asArray ? tokens : new Token(stream, style, context.state);\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) {\n      for (;;) {\n        var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n\n        if (!lineClass) {\n          break;\n        }\n\n        type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n        var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n\n        if (output[prop] == null) {\n          output[prop] = lineClass[2];\n        } else if (!new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\").test(output[prop])) {\n          output[prop] += \" \" + lineClass[2];\n        }\n      }\n    }\n\n    return type;\n  } // Run the given mode's parser over a line, calling f for each token.\n\n\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n\n    if (flattenSpans == null) {\n      flattenSpans = cm.options.flattenSpans;\n    }\n\n    var curStart = 0,\n        curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context),\n        style;\n    var inner = cm.options.addModeClass && [null];\n\n    if (text == \"\") {\n      extractLineClasses(callBlankLine(mode, context.state), lineClasses);\n    }\n\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n\n        if (forceToEnd) {\n          processLine(cm, text, context, stream.pos);\n        }\n\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n\n      if (inner) {\n        var mName = inner[0].name;\n\n        if (mName) {\n          style = \"m-\" + (style ? mName + \" \" + style : mName);\n        }\n      }\n\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n\n        curStyle = style;\n      }\n\n      stream.start = stream.pos;\n    }\n\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  } // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n\n\n  function findStartLine(cm, n, precise) {\n    var minindent,\n        minline,\n        doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) {\n        return doc.first;\n      }\n\n      var line = getLine(doc, search - 1),\n          after = line.stateAfter;\n\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier)) {\n        return search;\n      }\n\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n\n    return minline;\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n\n    if (doc.highlightFrontier < n - 10) {\n      return;\n    }\n\n    var start = doc.first;\n\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter; // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break;\n      }\n    }\n\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  } // Optimize some code when these features are not used.\n\n\n  var sawReadOnlySpans = false,\n      sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  } // TEXTMARKER SPANS\n\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from;\n    this.to = to;\n  } // Search an array of spans for a span matching the given marker.\n\n\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) {\n      for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n\n        if (span.marker == marker) {\n          return span;\n        }\n      }\n    }\n  } // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n\n\n  function removeMarkedSpan(spans, span) {\n    var r;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i] != span) {\n        (r || (r = [])).push(spans[i]);\n      }\n    }\n\n    return r;\n  } // Add a span to a line.\n\n\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  } // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n\n\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n\n        if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n          var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n        }\n      }\n    }\n\n    return nw;\n  }\n\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n\n        if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n          var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh, span.to == null ? null : span.to - endCh));\n        }\n      }\n    }\n\n    return nw;\n  } // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n\n\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) {\n      return null;\n    }\n\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n\n    if (!oldFirst && !oldLast) {\n      return null;\n    }\n\n    var startCh = change.from.ch,\n        endCh = change.to.ch,\n        isInsert = cmp(change.from, change.to) == 0; // Get the spans that 'stick out' on both sides\n\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert); // Next, merge those two ends\n\n    var sameLine = change.text.length == 1,\n        offset = lst(change.text).length + (sameLine ? startCh : 0);\n\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n\n          if (!found) {\n            span.to = startCh;\n          } else if (sameLine) {\n            span.to = found.to == null ? null : found.to + offset;\n          }\n        }\n      }\n    }\n\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n\n        if (span$1.to != null) {\n          span$1.to += offset;\n        }\n\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n\n          if (!found$1) {\n            span$1.from = offset;\n\n            if (sameLine) {\n              (first || (first = [])).push(span$1);\n            }\n          }\n        } else {\n          span$1.from += offset;\n\n          if (sameLine) {\n            (first || (first = [])).push(span$1);\n          }\n        }\n      }\n    } // Make sure we didn't create any zero-length spans\n\n\n    if (first) {\n      first = clearEmptySpans(first);\n    }\n\n    if (last && last != first) {\n      last = clearEmptySpans(last);\n    }\n\n    var newMarkers = [first];\n\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2,\n          gapMarkers;\n\n      if (gap > 0 && first) {\n        for (var i$2 = 0; i$2 < first.length; ++i$2) {\n          if (first[i$2].to == null) {\n            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null));\n          }\n        }\n      }\n\n      for (var i$3 = 0; i$3 < gap; ++i$3) {\n        newMarkers.push(gapMarkers);\n      }\n\n      newMarkers.push(last);\n    }\n\n    return newMarkers;\n  } // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n\n\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false) {\n        spans.splice(i--, 1);\n      }\n    }\n\n    if (!spans.length) {\n      return null;\n    }\n\n    return spans;\n  } // Used to 'clip' out readOnly ranges when making a change.\n\n\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) {\n        for (var i = 0; i < line.markedSpans.length; ++i) {\n          var mark = line.markedSpans[i].marker;\n\n          if (mark.readOnly && (!markers || indexOf(markers, mark) == -1)) {\n            (markers || (markers = [])).push(mark);\n          }\n        }\n      }\n    });\n\n    if (!markers) {\n      return null;\n    }\n\n    var parts = [{\n      from: from,\n      to: to\n    }];\n\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i],\n          m = mk.find(0);\n\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) {\n          continue;\n        }\n\n        var newParts = [j, 1],\n            dfrom = cmp(p.from, m.from),\n            dto = cmp(p.to, m.to);\n\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom) {\n          newParts.push({\n            from: p.from,\n            to: m.from\n          });\n        }\n\n        if (dto > 0 || !mk.inclusiveRight && !dto) {\n          newParts.push({\n            from: m.to,\n            to: p.to\n          });\n        }\n\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n\n    return parts;\n  } // Connect or disconnect spans from a line.\n\n\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.detachLine(line);\n    }\n\n    line.markedSpans = null;\n  }\n\n  function attachMarkedSpans(line, spans) {\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.attachLine(line);\n    }\n\n    line.markedSpans = spans;\n  } // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n\n\n  function extraLeft(marker) {\n    return marker.inclusiveLeft ? -1 : 0;\n  }\n\n  function extraRight(marker) {\n    return marker.inclusiveRight ? 1 : 0;\n  } // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n\n\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n\n    if (lenDiff != 0) {\n      return lenDiff;\n    }\n\n    var aPos = a.find(),\n        bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n\n    if (fromCmp) {\n      return -fromCmp;\n    }\n\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n\n    if (toCmp) {\n      return toCmp;\n    }\n\n    return b.id - a.id;\n  } // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n\n\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (sp.marker.collapsed && (start ? sp.from : sp.to) == null && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  }\n\n  function collapsedSpanAtStart(line) {\n    return collapsedSpanAtSide(line, true);\n  }\n\n  function collapsedSpanAtEnd(line) {\n    return collapsedSpanAtSide(line, false);\n  }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  } // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n\n\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        var found = sp.marker.find(0);\n        var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n        var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n\n        if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) {\n          continue;\n        }\n\n        if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) || fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0)) {\n          return true;\n        }\n      }\n    }\n  } // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n\n\n  function visualLine(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtStart(line)) {\n      line = merged.find(-1, true).line;\n    }\n\n    return line;\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return line;\n  } // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n\n\n  function visualLineContinued(line) {\n    var merged, lines;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      (lines || (lines = [])).push(line);\n    }\n\n    return lines;\n  } // Get the line number of the start of the visual line that the\n  // given line number is part of.\n\n\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN),\n        vis = visualLine(line);\n\n    if (line == vis) {\n      return lineN;\n    }\n\n    return lineNo(vis);\n  } // Get the line number of the start of the next visual line after\n  // the given line.\n\n\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) {\n      return lineN;\n    }\n\n    var line = getLine(doc, lineN),\n        merged;\n\n    if (!lineIsHidden(doc, line)) {\n      return lineN;\n    }\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return lineNo(line) + 1;\n  } // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n\n\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        if (sp.from == null) {\n          return true;\n        }\n\n        if (sp.marker.widgetNode) {\n          continue;\n        }\n\n        if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp)) {\n          return true;\n        }\n      }\n    }\n  }\n\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));\n    }\n\n    if (span.marker.inclusiveRight && span.to == line.text.length) {\n      return true;\n    }\n\n    for (var sp = void 0, i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to && (sp.to == null || sp.to != span.from) && (sp.marker.inclusiveLeft || span.marker.inclusiveRight) && lineIsHiddenInner(doc, line, sp)) {\n        return true;\n      }\n    }\n  } // Find the height above the given line.\n\n\n  function _heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n    var h = 0,\n        chunk = lineObj.parent;\n\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n\n      if (line == lineObj) {\n        break;\n      } else {\n        h += line.height;\n      }\n    }\n\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n\n        if (cur == chunk) {\n          break;\n        } else {\n          h += cur.height;\n        }\n      }\n    }\n\n    return h;\n  } // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n\n\n  function lineLength(line) {\n    if (line.height == 0) {\n      return 0;\n    }\n\n    var len = line.text.length,\n        merged,\n        cur = line;\n\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n\n    cur = line;\n\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n\n    return len;\n  } // Find the longest line in the document.\n\n\n  function findMaxLine(cm) {\n    var d = cm.display,\n        doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  } // LINE DATA STRUCTURE\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n\n\n  var Line = function Line(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () {\n    return lineNo(this);\n  };\n\n  eventMixin(Line); // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    if (line.styles) {\n      line.styles = null;\n    }\n\n    if (line.order != null) {\n      line.order = null;\n    }\n\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n\n    if (estHeight != line.height) {\n      updateLineHeight(line, estHeight);\n    }\n  } // Detach a line from the document tree and its markers.\n\n\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  } // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n\n\n  var styleToClassCache = {},\n      styleToClassCacheWithMode = {};\n\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) {\n      return null;\n    }\n\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] || (cache[style] = style.replace(/\\S+/g, \"cm-$&\"));\n  } // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n\n\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {\n      pre: eltP(\"pre\", [content], \"CodeMirror-line\"),\n      content: content,\n      col: 0,\n      pos: 0,\n      cm: cm,\n      trailingSpace: false,\n      splitSpaces: cm.getOption(\"lineWrapping\")\n    };\n    lineView.measure = {}; // Iterate over the logical lines that make up this visual line.\n\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line,\n          order = void 0;\n      builder.pos = 0;\n      builder.addToken = buildToken; // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction))) {\n        builder.addToken = buildTokenBadBidi(builder.addToken, order);\n      }\n\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass) {\n          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\");\n        }\n\n        if (line.styleClasses.textClass) {\n          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\");\n        }\n      } // Ensure at least a single node is present, for measuring.\n\n\n      if (builder.map.length == 0) {\n        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));\n      } // Store the map and a cache object for the current logical line\n\n\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);\n        (lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    } // See issue #2901\n\n\n    if (webkit) {\n      var last = builder.content.lastChild;\n\n      if (/\\bcm-tab\\b/.test(last.className) || last.querySelector && last.querySelector(\".cm-tab\")) {\n        builder.content.className = \"cm-tab-wrap-hack\";\n      }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n\n    if (builder.pre.className) {\n      builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\");\n    }\n\n    return builder;\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token;\n  } // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n\n\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) {\n      return;\n    }\n\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars,\n        mustWrap = false;\n    var content;\n\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n\n      if (ie && ie_version < 9) {\n        mustWrap = true;\n      }\n\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt]));\n          } else {\n            content.appendChild(txt);\n          }\n\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n\n        if (!m) {\n          break;\n        }\n\n        pos += skipped + 1;\n        var txt$1 = void 0;\n\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize,\n              tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240D\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt$1]));\n          } else {\n            content.appendChild(txt$1);\n          }\n\n          builder.col += 1;\n        }\n\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n\n      if (startStyle) {\n        fullStyle += startStyle;\n      }\n\n      if (endStyle) {\n        fullStyle += endStyle;\n      }\n\n      var token = elt(\"span\", [content], fullStyle, css);\n\n      if (attributes) {\n        for (var attr in attributes) {\n          if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\") {\n            token.setAttribute(attr, attributes[attr]);\n          }\n        }\n      }\n\n      return builder.content.appendChild(token);\n    }\n\n    builder.content.appendChild(content);\n  } // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n\n\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) {\n      return text;\n    }\n\n    var spaceBefore = trailingBefore,\n        result = \"\";\n\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32)) {\n        ch = \"\\xA0\";\n      }\n\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n\n    return result;\n  } // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n\n\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos,\n          end = start + text.length;\n\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = void 0;\n\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n\n          if (part.to > start && part.from <= start) {\n            break;\n          }\n        }\n\n        if (part.to >= end) {\n          return inner(builder, text, style, startStyle, endStyle, css, attributes);\n        }\n\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    };\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n\n    if (widget) {\n      builder.map.push(builder.pos, builder.pos + size, widget);\n    }\n\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget) {\n        widget = builder.content.appendChild(document.createElement(\"span\"));\n      }\n\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n\n    builder.pos += size;\n    builder.trailingSpace = false;\n  } // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n\n\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans,\n        allText = line.text,\n        at = 0;\n\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1 += 2) {\n        builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1 + 1], builder.cm.options));\n      }\n\n      return;\n    }\n\n    var len = allText.length,\n        pos = 0,\n        i = 1,\n        text = \"\",\n        style,\n        css;\n    var nextChange = 0,\n        spanStyle,\n        spanEndStyle,\n        spanStartStyle,\n        collapsed,\n        attributes;\n\n    for (;;) {\n      if (nextChange == pos) {\n        // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null;\n        nextChange = Infinity;\n        var foundBookmarks = [],\n            endStyles = void 0;\n\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j],\n              m = sp.marker;\n\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n\n            if (m.className) {\n              spanStyle += \" \" + m.className;\n            }\n\n            if (m.css) {\n              css = (css ? css + \";\" : \"\") + m.css;\n            }\n\n            if (m.startStyle && sp.from == pos) {\n              spanStartStyle += \" \" + m.startStyle;\n            }\n\n            if (m.endStyle && sp.to == nextChange) {\n              (endStyles || (endStyles = [])).push(m.endStyle, sp.to);\n            } // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n\n\n            if (m.title) {\n              (attributes || (attributes = {})).title = m.title;\n            }\n\n            if (m.attributes) {\n              for (var attr in m.attributes) {\n                (attributes || (attributes = {}))[attr] = m.attributes[attr];\n              }\n            }\n\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0)) {\n              collapsed = sp;\n            }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n\n        if (endStyles) {\n          for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2) {\n            if (endStyles[j$1 + 1] == nextChange) {\n              spanEndStyle += \" \" + endStyles[j$1];\n            }\n          }\n        }\n\n        if (!collapsed || collapsed.from == pos) {\n          for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2) {\n            buildCollapsedSpan(builder, 0, foundBookmarks[j$2]);\n          }\n        }\n\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos, collapsed.marker, collapsed.from == null);\n\n          if (collapsed.to == null) {\n            return;\n          }\n\n          if (collapsed.to == pos) {\n            collapsed = false;\n          }\n        }\n      }\n\n      if (pos >= len) {\n        break;\n      }\n\n      var upto = Math.min(len, nextChange);\n\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle, spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n\n          if (end >= upto) {\n            text = text.slice(upto - pos);\n            pos = upto;\n            break;\n          }\n\n          pos = end;\n          spanStartStyle = \"\";\n        }\n\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  } // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n\n\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line; // Continuing lines, if any\n\n    this.rest = visualLineContinued(line); // Number of logical lines in this visual line\n\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  } // Create a range of LineView objects for the given lines.\n\n\n  function buildViewArray(cm, from, to) {\n    var array = [],\n        nextPos;\n\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n\n    return array;\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks,\n        i = 0;\n\n    do {\n      for (; i < callbacks.length; i++) {\n        callbacks[i].call(null);\n      }\n\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n\n        if (op.cursorActivityHandlers) {\n          while (op.cursorActivityCalled < op.cursorActivityHandlers.length) {\n            op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);\n          }\n        }\n      }\n    } while (i < callbacks.length);\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n\n    if (!group) {\n      return;\n    }\n\n    try {\n      fireCallbacksForOps(group);\n    } finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null; // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n\n  function signalLater(emitter, type\n  /*, values...*/\n  ) {\n    var arr = getHandlers(emitter, type);\n\n    if (!arr.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2),\n        list;\n\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n\n    var loop = function loop(i) {\n      list.push(function () {\n        return arr[i].apply(null, args);\n      });\n    };\n\n    for (var i = 0; i < arr.length; ++i) {\n      loop(i);\n    }\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n\n    for (var i = 0; i < delayed.length; ++i) {\n      delayed[i]();\n    }\n  } // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n\n\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n\n      if (type == \"text\") {\n        updateLineText(cm, lineView);\n      } else if (type == \"gutter\") {\n        updateLineGutter(cm, lineView, lineN, dims);\n      } else if (type == \"class\") {\n        updateLineClasses(cm, lineView);\n      } else if (type == \"widget\") {\n        updateLineWidgets(cm, lineView, dims);\n      }\n    }\n\n    lineView.changes = null;\n  } // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n\n\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n\n      if (lineView.text.parentNode) {\n        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);\n      }\n\n      lineView.node.appendChild(lineView.text);\n\n      if (ie && ie_version < 8) {\n        lineView.node.style.zIndex = 2;\n      }\n    }\n\n    return lineView.node;\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n\n    if (cls) {\n      cls += \" CodeMirror-linebackground\";\n    }\n\n    if (lineView.background) {\n      if (cls) {\n        lineView.background.className = cls;\n      } else {\n        lineView.background.parentNode.removeChild(lineView.background);\n        lineView.background = null;\n      }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  } // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n\n\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built;\n    }\n\n    return buildLineContent(cm, lineView);\n  } // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n\n\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n\n    if (lineView.text == lineView.node) {\n      lineView.node = built.pre;\n    }\n\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n\n    if (lineView.line.wrapClass) {\n      ensureLineWrapped(lineView).className = lineView.line.wrapClass;\n    } else if (lineView.node != lineView.text) {\n      lineView.node.className = \"\";\n    }\n\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass, \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + dims.gutterTotalWidth + \"px\");\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n\n    var markers = lineView.line.gutterMarkers;\n\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n\n      if (lineView.line.gutterClass) {\n        gutterWrap.className += \" \" + lineView.line.gutterClass;\n      }\n\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"])) {\n        lineView.lineNumber = gutterWrap.appendChild(elt(\"div\", lineNumberFor(cm.options, lineN), \"CodeMirror-linenumber CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \" + cm.display.lineNumInnerWidth + \"px\"));\n      }\n\n      if (markers) {\n        for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n          var id = cm.display.gutterSpecs[k].className,\n              found = markers.hasOwnProperty(id) && markers[id];\n\n          if (found) {\n            gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[id] + \"px; width: \" + dims.gutterWidth[id] + \"px\"));\n          }\n        }\n      }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) {\n      lineView.alignable = null;\n    }\n\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n\n    for (var node = lineView.node.firstChild, next = void 0; node; node = next) {\n      next = node.nextSibling;\n\n      if (isWidget.test(node.className)) {\n        lineView.node.removeChild(node);\n      }\n    }\n\n    insertLineWidgets(cm, lineView, dims);\n  } // Build a line's DOM representation from scratch\n\n\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n\n    if (built.bgClass) {\n      lineView.bgClass = built.bgClass;\n    }\n\n    if (built.textClass) {\n      lineView.textClass = built.textClass;\n    }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node;\n  } // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n\n\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++) {\n        insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);\n      }\n    }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) {\n      return;\n    }\n\n    var wrap = ensureLineWrapped(lineView);\n\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i],\n          node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n\n      if (!widget.handleMouseEvents) {\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n\n      if (allowAbove && widget.above) {\n        wrap.insertBefore(node, lineView.gutter || lineView.text);\n      } else {\n        wrap.appendChild(node);\n      }\n\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n      (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n\n      node.style.width = width + \"px\";\n    }\n\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n\n      if (!widget.noHScroll) {\n        node.style.marginLeft = -dims.gutterTotalWidth + \"px\";\n      }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) {\n      return widget.height;\n    }\n\n    var cm = widget.doc.cm;\n\n    if (!cm) {\n      return 0;\n    }\n\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n\n      if (widget.coverGutter) {\n        parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\";\n      }\n\n      if (widget.noHScroll) {\n        parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\";\n      }\n\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n\n    return widget.height = widget.node.parentNode.offsetHeight;\n  } // Return true when the given mouse event happened in a widget\n\n\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\" || n.parentNode == display.sizer && n != display.mover) {\n        return true;\n      }\n    }\n  } // POSITION MEASUREMENT\n\n\n  function paddingTop(display) {\n    return display.lineSpace.offsetTop;\n  }\n\n  function paddingVert(display) {\n    return display.mover.offsetHeight - display.lineSpace.offsetHeight;\n  }\n\n  function paddingH(display) {\n    if (display.cachedPaddingH) {\n      return display.cachedPaddingH;\n    }\n\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {\n      left: parseInt(style.paddingLeft),\n      right: parseInt(style.paddingRight)\n    };\n\n    if (!isNaN(data.left) && !isNaN(data.right)) {\n      display.cachedPaddingH = data;\n    }\n\n    return data;\n  }\n\n  function scrollGap(cm) {\n    return scrollerGap - cm.display.nativeBarWidth;\n  }\n\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;\n  }\n\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;\n  } // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n\n\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i],\n              next = rects[i + 1];\n\n          if (Math.abs(cur.bottom - next.bottom) > 2) {\n            heights.push((cur.bottom + next.top) / 2 - rect.top);\n          }\n        }\n      }\n\n      heights.push(rect.bottom - rect.top);\n    }\n  } // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n\n\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line) {\n      return {\n        map: lineView.measure.map,\n        cache: lineView.measure.cache\n      };\n    }\n\n    for (var i = 0; i < lineView.rest.length; i++) {\n      if (lineView.rest[i] == line) {\n        return {\n          map: lineView.measure.maps[i],\n          cache: lineView.measure.caches[i]\n        };\n      }\n    }\n\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++) {\n      if (lineNo(lineView.rest[i$1]) > lineN) {\n        return {\n          map: lineView.measure.maps[i$1],\n          cache: lineView.measure.caches[i$1],\n          before: true\n        };\n      }\n    }\n  } // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n\n\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view;\n  } // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n\n\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);\n  } // Find a line view that corresponds to the given line number.\n\n\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo) {\n      return cm.display.view[findViewIndex(cm, lineN)];\n    }\n\n    var ext = cm.display.externalMeasured;\n\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size) {\n      return ext;\n    }\n  } // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n\n\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n\n    if (!view) {\n      view = updateExternalMeasurement(cm, line);\n    }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line,\n      view: view,\n      rect: null,\n      map: info.map,\n      cache: info.cache,\n      before: info.before,\n      hasHeights: false\n    };\n  } // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n\n\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) {\n      ch = -1;\n    }\n\n    var key = ch + (bias || \"\"),\n        found;\n\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect) {\n        prepared.rect = prepared.view.text.getBoundingClientRect();\n      }\n\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n\n      found = measureCharInner(cm, prepared, ch, bias);\n\n      if (!found.bogus) {\n        prepared.cache[key] = found;\n      }\n    }\n\n    return {\n      left: found.left,\n      right: found.right,\n      top: varHeight ? found.rtop : found.top,\n      bottom: varHeight ? found.rbottom : found.bottom\n    };\n  }\n\n  var nullRect = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd; // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n\n      if (ch < mStart) {\n        start = 0;\n        end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n\n        if (ch >= mEnd) {\n          collapse = \"right\";\n        }\n      }\n\n      if (start != null) {\n        node = map[i + 2];\n\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\")) {\n          collapse = bias;\n        }\n\n        if (bias == \"left\" && start == 0) {\n          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          }\n        }\n\n        if (bias == \"right\" && start == mEnd - mStart) {\n          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          }\n        }\n\n        break;\n      }\n    }\n\n    return {\n      node: node,\n      start: start,\n      end: end,\n      collapse: collapse,\n      coverStart: mStart,\n      coverEnd: mEnd\n    };\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n\n    if (bias == \"left\") {\n      for (var i = 0; i < rects.length; i++) {\n        if ((rect = rects[i]).left != rect.right) {\n          break;\n        }\n      }\n    } else {\n      for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n        if ((rect = rects[i$1]).left != rect.right) {\n          break;\n        }\n      }\n    }\n\n    return rect;\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node,\n        start = place.start,\n        end = place.end,\n        collapse = place.collapse;\n    var rect;\n\n    if (node.nodeType == 3) {\n      // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) {\n        // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) {\n          --start;\n        }\n\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) {\n          ++end;\n        }\n\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {\n          rect = node.parentNode.getBoundingClientRect();\n        } else {\n          rect = getUsefulRect(range(node, start, end).getClientRects(), bias);\n        }\n\n        if (rect.left || rect.right || start == 0) {\n          break;\n        }\n\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n\n      if (ie && ie_version < 11) {\n        rect = maybeUpdateRectForZooming(cm.display.measure, rect);\n      }\n    } else {\n      // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) {\n        collapse = bias = \"right\";\n      }\n\n      var rects;\n\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1) {\n        rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n      } else {\n        rect = node.getBoundingClientRect();\n      }\n    }\n\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n\n      if (rSpan) {\n        rect = {\n          left: rSpan.left,\n          right: rSpan.left + charWidth(cm.display),\n          top: rSpan.top,\n          bottom: rSpan.bottom\n        };\n      } else {\n        rect = nullRect;\n      }\n    }\n\n    var rtop = rect.top - prepared.rect.top,\n        rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n\n    for (; i < heights.length - 1; i++) {\n      if (mid < heights[i]) {\n        break;\n      }\n    }\n\n    var top = i ? heights[i - 1] : 0,\n        bot = heights[i];\n    var result = {\n      left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n      right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n      top: top,\n      bottom: bot\n    };\n\n    if (!rect.left && !rect.right) {\n      result.bogus = true;\n    }\n\n    if (!cm.options.singleCursorHeightPerLine) {\n      result.rtop = rtop;\n      result.rbottom = rbot;\n    }\n\n    return result;\n  } // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n\n\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null || screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure)) {\n      return rect;\n    }\n\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {\n      left: rect.left * scaleX,\n      right: rect.right * scaleX,\n      top: rect.top * scaleY,\n      bottom: rect.bottom * scaleY\n    };\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n\n      if (lineView.rest) {\n        for (var i = 0; i < lineView.rest.length; i++) {\n          lineView.measure.caches[i] = {};\n        }\n      }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      clearLineMeasurementCacheFor(cm.display.view[i]);\n    }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n\n    if (!cm.options.lineWrapping) {\n      cm.display.maxLineChanged = true;\n    }\n\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft));\n    }\n\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft;\n  }\n\n  function pageScrollY() {\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop));\n    }\n\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop;\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n\n    if (lineObj.widgets) {\n      for (var i = 0; i < lineObj.widgets.length; ++i) {\n        if (lineObj.widgets[i].above) {\n          height += widgetHeight(lineObj.widgets[i]);\n        }\n      }\n    }\n\n    return height;\n  } // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n\n\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height;\n      rect.bottom += height;\n    }\n\n    if (context == \"line\") {\n      return rect;\n    }\n\n    if (!context) {\n      context = \"local\";\n    }\n\n    var yOff = _heightAtLine(lineObj);\n\n    if (context == \"local\") {\n      yOff += paddingTop(cm.display);\n    } else {\n      yOff -= cm.display.viewOffset;\n    }\n\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff;\n      rect.right += xOff;\n    }\n\n    rect.top += yOff;\n    rect.bottom += yOff;\n    return rect;\n  } // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n\n\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") {\n      return coords;\n    }\n\n    var left = coords.left,\n        top = coords.top; // First move into \"page\" coordinate system\n\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {\n      left: left - lineSpaceBox.left,\n      top: top - lineSpaceBox.top\n    };\n  }\n\n  function _charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) {\n      lineObj = getLine(cm.doc, pos.line);\n    }\n\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);\n  } // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n\n\n  function _cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n\n      if (right) {\n        m.left = m.right;\n      } else {\n        m.right = m.left;\n      }\n\n      return intoCoordSystem(cm, lineObj, m, context);\n    }\n\n    var order = getOrder(lineObj, cm.doc.direction),\n        ch = pos.ch,\n        sticky = pos.sticky;\n\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n\n    if (!order) {\n      return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\");\n    }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos],\n          right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert);\n    }\n\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n\n    if (other != null) {\n      val.other = getBidi(ch, other, sticky != \"before\");\n    }\n\n    return val;\n  } // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n\n\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = _clipPos(cm.doc, pos);\n\n    if (!cm.options.lineWrapping) {\n      left = charWidth(cm.display) * pos.ch;\n    }\n\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = _heightAtLine(lineObj) + paddingTop(cm.display);\n    return {\n      left: left,\n      right: left,\n      top: top,\n      bottom: top + lineObj.height\n    };\n  } // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n\n\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n\n    if (outside) {\n      pos.outside = outside;\n    }\n\n    return pos;\n  } // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n\n\n  function _coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n\n    if (y < 0) {\n      return PosWithInfo(doc.first, 0, null, -1, -1);\n    }\n\n    var lineN = _lineAtHeight(doc, y),\n        last = doc.first + doc.size - 1;\n\n    if (lineN > last) {\n      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1);\n    }\n\n    if (x < 0) {\n      x = 0;\n    }\n\n    var lineObj = getLine(doc, lineN);\n\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n\n      if (!collapsed) {\n        return found;\n      }\n\n      var rangeEnd = collapsed.find(1);\n\n      if (rangeEnd.line == lineN) {\n        return rangeEnd;\n      }\n\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y;\n    }, end, 0);\n    end = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch).top > y;\n    }, begin, end);\n    return {\n      begin: begin,\n      end: end\n    };\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop);\n  } // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n\n\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x;\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= _heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj); // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0,\n        end = lineObj.text.length,\n        ltr = true;\n    var order = getOrder(lineObj, cm.doc.direction); // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)(cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1; // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    } // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n\n\n    var chAround = null,\n        boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight;\n      box.bottom += widgetHeight;\n\n      if (!boxIsAfter(box, x, y, false)) {\n        return false;\n      }\n\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n\n      return true;\n    }, begin, end);\n    var baseX,\n        sticky,\n        outside = false; // If a box around the coordinates was found, use that\n\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x,\n          atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) {\n        ch++;\n      } // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n\n\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" : measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y == ltr ? \"after\" : \"before\"; // Now get accurate coordinates for this place, in order to get a\n      // base X position\n\n      var coords = _cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX);\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i],\n          ltr = part.level != 1;\n      return boxIsAfter(_cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"), \"line\", lineObj, preparedMeasure), x, y, true);\n    }, 0, order.length - 1);\n    var part = order[index]; // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n\n    if (index > 0) {\n      var ltr = part.level != 1;\n\n      var start = _cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"), \"line\", lineObj, preparedMeasure);\n\n      if (boxIsAfter(start, x, y, true) && start.top > y) {\n        part = order[index - 1];\n      }\n    }\n\n    return part;\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) {\n      end--;\n    }\n\n    var part = null,\n        closestDist = null;\n\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n\n      if (p.from >= end || p.to <= begin) {\n        continue;\n      }\n\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right; // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n\n    if (!part) {\n      part = order[order.length - 1];\n    } // Clip the part to the wrapped line.\n\n\n    if (part.from < begin) {\n      part = {\n        from: begin,\n        to: part.to,\n        level: part.level\n      };\n    }\n\n    if (part.to > end) {\n      part = {\n        from: part.from,\n        to: end,\n        level: part.level\n      };\n    }\n\n    return part;\n  }\n\n  var measureText; // Compute the default text height.\n\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) {\n      return display.cachedTextHeight;\n    }\n\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\"); // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n\n    if (height > 3) {\n      display.cachedTextHeight = height;\n    }\n\n    removeChildren(display.measure);\n    return height || 1;\n  } // Compute the default character width.\n\n\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) {\n      return display.cachedCharWidth;\n    }\n\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(),\n        width = (rect.right - rect.left) / 10;\n\n    if (width > 2) {\n      display.cachedCharWidth = width;\n    }\n\n    return width || 10;\n  } // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n\n\n  function getDimensions(cm) {\n    var d = cm.display,\n        left = {},\n        width = {};\n    var gutterLeft = d.gutters.clientLeft;\n\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n\n    return {\n      fixedPos: compensateForHScroll(d),\n      gutterTotalWidth: d.gutters.offsetWidth,\n      gutterLeft: left,\n      gutterWidth: width,\n      wrapperWidth: d.wrapper.clientWidth\n    };\n  } // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n\n\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;\n  } // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n\n\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display),\n        wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) {\n        return 0;\n      }\n\n      var widgetsHeight = 0;\n\n      if (line.widgets) {\n        for (var i = 0; i < line.widgets.length; i++) {\n          if (line.widgets[i].height) {\n            widgetsHeight += line.widgets[i].height;\n          }\n        }\n      }\n\n      if (wrapping) {\n        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;\n      } else {\n        return widgetsHeight + th;\n      }\n    };\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc,\n        est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n\n      if (estHeight != line.height) {\n        updateLineHeight(line, estHeight);\n      }\n    });\n  } // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n\n\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") {\n      return null;\n    }\n\n    var x,\n        y,\n        space = display.lineSpace.getBoundingClientRect(); // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n\n    try {\n      x = e.clientX - space.left;\n      y = e.clientY - space.top;\n    } catch (e) {\n      return null;\n    }\n\n    var coords = _coordsChar(cm, x, y),\n        line;\n\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n\n    return coords;\n  } // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n\n\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) {\n      return null;\n    }\n\n    n -= cm.display.viewFrom;\n\n    if (n < 0) {\n      return null;\n    }\n\n    var view = cm.display.view;\n\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n\n      if (n < 0) {\n        return i;\n      }\n    }\n  } // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n\n\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) {\n      from = cm.doc.first;\n    }\n\n    if (to == null) {\n      to = cm.doc.first + cm.doc.size;\n    }\n\n    if (!lendiff) {\n      lendiff = 0;\n    }\n\n    var display = cm.display;\n\n    if (lendiff && to < display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers > from)) {\n      display.updateLineNumbers = from;\n    }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) {\n      // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo) {\n        resetView(cm);\n      }\n    } else if (to <= display.viewFrom) {\n      // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) {\n      // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) {\n      // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) {\n      // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else {\n      // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index).concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN)).concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n\n    if (ext) {\n      if (to < ext.lineN) {\n        ext.lineN += lendiff;\n      } else if (from < ext.lineN + ext.size) {\n        display.externalMeasured = null;\n      }\n    }\n  } // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n\n\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display,\n        ext = cm.display.externalMeasured;\n\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size) {\n      display.externalMeasured = null;\n    }\n\n    if (line < display.viewFrom || line >= display.viewTo) {\n      return;\n    }\n\n    var lineView = display.view[findViewIndex(cm, line)];\n\n    if (lineView.node == null) {\n      return;\n    }\n\n    var arr = lineView.changes || (lineView.changes = []);\n\n    if (indexOf(arr, type) == -1) {\n      arr.push(type);\n    }\n  } // Clear the view.\n\n\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN),\n        diff,\n        view = cm.display.view;\n\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size) {\n      return {\n        index: index,\n        lineN: newN\n      };\n    }\n\n    var n = cm.display.viewFrom;\n\n    for (var i = 0; i < index; i++) {\n      n += view[i].size;\n    }\n\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) {\n          return null;\n        }\n\n        diff = n + view[index].size - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n\n      oldN += diff;\n      newN += diff;\n    }\n\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) {\n        return null;\n      }\n\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n\n    return {\n      index: index,\n      lineN: newN\n    };\n  } // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n\n\n  function adjustView(cm, from, to) {\n    var display = cm.display,\n        view = display.view;\n\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from) {\n        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);\n      } else if (display.viewFrom < from) {\n        display.view = display.view.slice(findViewIndex(cm, from));\n      }\n\n      display.viewFrom = from;\n\n      if (display.viewTo < to) {\n        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));\n      } else if (display.viewTo > to) {\n        display.view = display.view.slice(0, findViewIndex(cm, to));\n      }\n    }\n\n    display.viewTo = to;\n  } // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n\n\n  function countDirtyView(cm) {\n    var view = cm.display.view,\n        dirty = 0;\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) {\n        ++dirty;\n      }\n    }\n\n    return dirty;\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if (primary === void 0) primary = true;\n    var doc = cm.doc,\n        result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) {\n        continue;\n      }\n\n      var range = doc.sel.ranges[i];\n\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) {\n        continue;\n      }\n\n      var collapsed = range.empty();\n\n      if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n\n      if (!collapsed) {\n        drawSelectionRange(cm, range, selFragment);\n      }\n    }\n\n    return result;\n  } // Draws a cursor for the given range\n\n\n  function drawSelectionCursor(cm, head, output) {\n    var pos = _cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\xA0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\xA0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) {\n    return a.top - b.top || a.left - b.left;\n  } // Draws the given range as a highlighted selection\n\n\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display,\n        doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display),\n        leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) {\n        top = 0;\n      }\n\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\"));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n\n      function coords(ch, bias) {\n        return _charCoords(cm, Pos(line, ch), \"div\", lineObj, bias);\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = dir == \"ltr\" == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop];\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n        var openStart = fromArg == null && from == 0,\n            openEnd = toArg == null && to == lineLen;\n        var first = i == 0,\n            last = !order || i == order.length - 1;\n\n        if (toPos.top - fromPos.top <= 3) {\n          // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else {\n          // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n\n          if (fromPos.bottom < toPos.top) {\n            add(leftSide, fromPos.bottom, null, toPos.top);\n          }\n\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) {\n          start = fromPos;\n        }\n\n        if (cmpCoords(toPos, start) < 0) {\n          start = toPos;\n        }\n\n        if (!end || cmpCoords(fromPos, end) < 0) {\n          end = fromPos;\n        }\n\n        if (cmpCoords(toPos, end) < 0) {\n          end = toPos;\n        }\n      });\n      return {\n        start: start,\n        end: end\n      };\n    }\n\n    var sFrom = range.from(),\n        sTo = range.to();\n\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line),\n          toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n\n      if (leftEnd.bottom < rightStart.top) {\n        add(leftSide, leftEnd.bottom, null, rightStart.top);\n      }\n    }\n\n    output.appendChild(fragment);\n  } // Cursor-blinking\n\n\n  function restartBlink(cm) {\n    if (!cm.state.focused) {\n      return;\n    }\n\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n\n    if (cm.options.cursorBlinkRate > 0) {\n      display.blinker = setInterval(function () {\n        return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate);\n    } else if (cm.options.cursorBlinkRate < 0) {\n      display.cursorDiv.style.visibility = \"hidden\";\n    }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) {\n      cm.display.input.focus();\n      onFocus(cm);\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () {\n      if (cm.state.delayingBlurEvent) {\n        cm.state.delayingBlurEvent = false;\n        onBlur(cm);\n      }\n    }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n    }\n\n    if (cm.options.readOnly == \"nocursor\") {\n      return;\n    }\n\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\"); // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n\n        if (webkit) {\n          setTimeout(function () {\n            return cm.display.input.reset(true);\n          }, 20);\n        } // Issue #1730\n\n      }\n\n      cm.display.input.receivedFocus();\n    }\n\n    restartBlink(cm);\n  }\n\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) {\n      return;\n    }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n\n    clearInterval(cm.display.blinker);\n    setTimeout(function () {\n      if (!cm.state.focused) {\n        cm.display.shift = false;\n      }\n    }, 150);\n  } // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n\n\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i],\n          wrapping = cm.options.lineWrapping;\n      var height = void 0,\n          width = 0;\n\n      if (cur.hidden) {\n        continue;\n      }\n\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top; // Check that lines don't extend past the right of the current\n        // editor width\n\n        if (!wrapping && cur.text.firstChild) {\n          width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1;\n        }\n      }\n\n      var diff = cur.line.height - height;\n\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n\n        if (cur.rest) {\n          for (var j = 0; j < cur.rest.length; j++) {\n            updateWidgetHeight(cur.rest[j]);\n          }\n        }\n      }\n\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  } // Read and store the height of line widgets associated with the\n  // given line.\n\n\n  function updateWidgetHeight(line) {\n    if (line.widgets) {\n      for (var i = 0; i < line.widgets.length; ++i) {\n        var w = line.widgets[i],\n            parent = w.node.parentNode;\n\n        if (parent) {\n          w.height = parent.offsetHeight;\n        }\n      }\n    }\n  } // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n\n\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = _lineAtHeight(doc, top),\n        to = _lineAtHeight(doc, bottom); // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n\n\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line,\n          ensureTo = viewport.ensure.to.line;\n\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = _lineAtHeight(doc, _heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = _lineAtHeight(doc, _heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n\n    return {\n      from: from,\n      to: Math.max(to, from + 1)\n    };\n  } // SCROLLING THINGS INTO VIEW\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n\n\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) {\n      return;\n    }\n\n    var display = cm.display,\n        box = display.sizer.getBoundingClientRect(),\n        doScroll = null;\n\n    if (rect.top + box.top < 0) {\n      doScroll = true;\n    } else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) {\n      doScroll = false;\n    }\n\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200B\", null, \"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + rect.left + \"px; width: \" + Math.max(2, rect.right - rect.left) + \"px;\");\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  } // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n\n\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) {\n      margin = 0;\n    }\n\n    var rect;\n\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n\n      var coords = _cursorCoords(cm, pos);\n\n      var endCoords = !end || end == pos ? coords : _cursorCoords(cm, end);\n      rect = {\n        left: Math.min(coords.left, endCoords.left),\n        top: Math.min(coords.top, endCoords.top) - margin,\n        right: Math.max(coords.left, endCoords.left),\n        bottom: Math.max(coords.bottom, endCoords.bottom) + margin\n      };\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop,\n          startLeft = cm.doc.scrollLeft;\n\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) {\n          changed = true;\n        }\n      }\n\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) {\n          changed = true;\n        }\n      }\n\n      if (!changed) {\n        break;\n      }\n    }\n\n    return rect;\n  } // Scroll a given set of coordinates into view (immediately).\n\n\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n\n    if (scrollPos.scrollTop != null) {\n      updateScrollTop(cm, scrollPos.scrollTop);\n    }\n\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft);\n    }\n  } // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n\n\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display,\n        snapMargin = textHeight(cm.display);\n\n    if (rect.top < 0) {\n      rect.top = 0;\n    }\n\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm),\n        result = {};\n\n    if (rect.bottom - rect.top > screen) {\n      rect.bottom = rect.top + screen;\n    }\n\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin,\n        atBottom = rect.bottom > docBottom - snapMargin;\n\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n\n      if (newTop != screentop) {\n        result.scrollTop = newTop;\n      }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n\n    if (tooWide) {\n      rect.right = rect.left + screenw;\n    }\n\n    if (rect.left < 10) {\n      result.scrollLeft = 0;\n    } else if (rect.left < screenleft) {\n      result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10));\n    } else if (rect.right > screenw + screenleft - 3) {\n      result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw;\n    }\n\n    return result;\n  } // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n\n\n  function addToScrollTop(cm, top) {\n    if (top == null) {\n      return;\n    }\n\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  } // Make sure that at the end of the operation the current cursor is\n  // shown.\n\n\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {\n      from: cur,\n      to: cur,\n      margin: cm.options.cursorScrollMargin\n    };\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) {\n      resolveScrollToPos(cm);\n    }\n\n    if (x != null) {\n      cm.curOp.scrollLeft = x;\n    }\n\n    if (y != null) {\n      cm.curOp.scrollTop = y;\n    }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  } // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n\n\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from),\n          to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  } // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n\n\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) {\n      return;\n    }\n\n    if (!gecko) {\n      updateDisplaySimple(cm, {\n        top: val\n      });\n    }\n\n    setScrollTop(cm, val, true);\n\n    if (gecko) {\n      updateDisplaySimple(cm);\n    }\n\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n\n    if (cm.display.scroller.scrollTop == val && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n\n    if (cm.display.scroller.scrollTop != val) {\n      cm.display.scroller.scrollTop = val;\n    }\n  } // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n\n\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n\n    if (cm.display.scroller.scrollLeft != val) {\n      cm.display.scroller.scrollLeft = val;\n    }\n\n    cm.display.scrollbars.setScrollLeft(val);\n  } // SCROLLBARS\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n\n\n  function measureForScrollbars(cm) {\n    var d = cm.display,\n        gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth,\n      clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    };\n  }\n\n  var NativeScrollbars = function NativeScrollbars(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert);\n    place(horiz);\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) {\n        scroll(vert.scrollTop, \"vertical\");\n      }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) {\n        scroll(horiz.scrollLeft, \"horizontal\");\n      }\n    });\n    this.checkedZeroWidth = false; // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n\n    if (ie && ie_version < 8) {\n      this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\";\n    }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0); // A bug in IE8 can cause this value to be negative, so guard it.\n\n      this.vert.firstChild.style.height = Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width = Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) {\n        this.zeroWidthHack();\n      }\n\n      this.checkedZeroWidth = true;\n    }\n\n    return {\n      right: needsV ? sWidth : 0,\n      bottom: needsH ? sWidth : 0\n    };\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) {\n      this.horiz.scrollLeft = pos;\n    }\n\n    if (this.disableHoriz) {\n      this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\");\n    }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) {\n      this.vert.scrollTop = pos;\n    }\n\n    if (this.disableVert) {\n      this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\");\n    }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed();\n    this.disableVert = new Delayed();\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2) : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n\n      if (elt != bar) {\n        bar.style.pointerEvents = \"none\";\n      } else {\n        delay.set(1000, maybeDisable);\n      }\n    }\n\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function NullScrollbars() {};\n\n  NullScrollbars.prototype.update = function () {\n    return {\n      bottom: 0,\n      right: 0\n    };\n  };\n\n  NullScrollbars.prototype.setScrollLeft = function () {};\n\n  NullScrollbars.prototype.setScrollTop = function () {};\n\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) {\n      measure = measureForScrollbars(cm);\n    }\n\n    var startWidth = cm.display.barWidth,\n        startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping) {\n        updateHeightsInViewport(cm);\n      }\n\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth;\n      startHeight = cm.display.barHeight;\n    }\n  } // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n\n\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else {\n      d.scrollbarFiller.style.display = \"\";\n    }\n\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else {\n      d.gutterFiller.style.display = \"\";\n    }\n  }\n\n  var scrollbarModel = {\n    \"native\": NativeScrollbars,\n    \"null\": NullScrollbars\n  };\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n\n      if (cm.display.scrollbars.addClass) {\n        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n      }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller); // Prevent clicks in the scrollbars from killing focus\n\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) {\n          setTimeout(function () {\n            return cm.display.input.focus();\n          }, 0);\n        }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") {\n        setScrollLeft(cm, pos);\n      } else {\n        updateScrollTop(cm, pos);\n      }\n    }, cm);\n\n    if (cm.display.scrollbars.addClass) {\n      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n    }\n  } // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n\n  var nextOpId = 0; // Start a new operation.\n\n  function _startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,\n      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height,\n      // Used to detect need to update scrollbar\n      forceUpdate: false,\n      // Used to force a redraw\n      updateInput: 0,\n      // Whether to reset the input textarea\n      typing: false,\n      // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,\n      // Accumulated changes, for firing change events\n      cursorActivityHandlers: null,\n      // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0,\n      // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false,\n      // Whether the selection needs to be redrawn\n      updateMaxLine: false,\n      // Set when the widest line needs to be determined anew\n      scrollLeft: null,\n      scrollTop: null,\n      // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,\n      // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId // Unique ID\n\n    };\n    pushOperation(cm.curOp);\n  } // Finish an operation, updating the display and signalling delayed events\n\n\n  function _endOperation(cm) {\n    var op = cm.curOp;\n\n    if (op) {\n      finishOperation(op, function (group) {\n        for (var i = 0; i < group.ops.length; i++) {\n          group.ops[i].cm.curOp = null;\n        }\n\n        endOperations(group);\n      });\n    }\n  } // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n\n\n  function endOperations(group) {\n    var ops = group.ops;\n\n    for (var i = 0; i < ops.length; i++) // Read DOM\n    {\n      endOperation_R1(ops[i]);\n    }\n\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    {\n      endOperation_W1(ops[i$1]);\n    }\n\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    {\n      endOperation_R2(ops[i$2]);\n    }\n\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    {\n      endOperation_W2(ops[i$3]);\n    }\n\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    {\n      endOperation_finish(ops[i$4]);\n    }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm,\n        display = cm.display;\n    maybeClipScrollbars(cm);\n\n    if (op.updateMaxLine) {\n      findMaxLine(cm);\n    }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null || op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom || op.scrollToPos.to.line >= display.viewTo) || display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate && new DisplayUpdate(cm, op.mustUpdate && {\n      top: op.scrollTop,\n      ensure: op.scrollToPos\n    }, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm,\n        display = cm.display;\n\n    if (op.updatedDisplay) {\n      updateHeightsInViewport(cm);\n    }\n\n    op.barMeasure = measureForScrollbars(cm); // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth = Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged) {\n      op.preparedSelection = display.input.prepareSelection();\n    }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n\n      if (op.maxScrollLeft < cm.doc.scrollLeft) {\n        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);\n      }\n\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n\n    if (op.preparedSelection) {\n      cm.display.input.showSelection(op.preparedSelection, takeFocus);\n    }\n\n    if (op.updatedDisplay || op.startHeight != cm.doc.height) {\n      updateScrollbars(cm, op.barMeasure);\n    }\n\n    if (op.updatedDisplay) {\n      setDocumentHeight(cm, op.barMeasure);\n    }\n\n    if (op.selectionChanged) {\n      restartBlink(cm);\n    }\n\n    if (cm.state.focused && op.updateInput) {\n      cm.display.input.reset(op.typing);\n    }\n\n    if (takeFocus) {\n      ensureFocus(op.cm);\n    }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm,\n        display = cm.display,\n        doc = cm.doc;\n\n    if (op.updatedDisplay) {\n      postUpdateDisplay(cm, op.update);\n    } // Abort mouse wheel delta measurement, when scrolling explicitly\n\n\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos)) {\n      display.wheelStartX = display.wheelStartY = null;\n    } // Propagate the scroll position to the actual DOM scroller\n\n\n    if (op.scrollTop != null) {\n      setScrollTop(cm, op.scrollTop, op.forceScroll);\n    }\n\n    if (op.scrollLeft != null) {\n      setScrollLeft(cm, op.scrollLeft, true, true);\n    } // If we need to scroll a specific position into view, do so.\n\n\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, _clipPos(doc, op.scrollToPos.from), _clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    } // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n\n\n    var hidden = op.maybeHiddenMarkers,\n        unhidden = op.maybeUnhiddenMarkers;\n\n    if (hidden) {\n      for (var i = 0; i < hidden.length; ++i) {\n        if (!hidden[i].lines.length) {\n          signal(hidden[i], \"hide\");\n        }\n      }\n    }\n\n    if (unhidden) {\n      for (var i$1 = 0; i$1 < unhidden.length; ++i$1) {\n        if (unhidden[i$1].lines.length) {\n          signal(unhidden[i$1], \"unhide\");\n        }\n      }\n    }\n\n    if (display.wrapper.offsetHeight) {\n      doc.scrollTop = cm.display.scroller.scrollTop;\n    } // Fire change events, and delayed event handlers\n\n\n    if (op.changeObjs) {\n      signal(cm, \"changes\", cm, op.changeObjs);\n    }\n\n    if (op.update) {\n      op.update.finish();\n    }\n  } // Run the given function in an operation\n\n\n  function runInOp(cm, f) {\n    if (cm.curOp) {\n      return f();\n    }\n\n    _startOperation(cm);\n\n    try {\n      return f();\n    } finally {\n      _endOperation(cm);\n    }\n  } // Wraps a function in an operation. Returns the wrapped function.\n\n\n  function operation(cm, f) {\n    return function () {\n      if (cm.curOp) {\n        return f.apply(cm, arguments);\n      }\n\n      _startOperation(cm);\n\n      try {\n        return f.apply(cm, arguments);\n      } finally {\n        _endOperation(cm);\n      }\n    };\n  } // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n\n\n  function methodOp(f) {\n    return function () {\n      if (this.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      _startOperation(this);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        _endOperation(this);\n      }\n    };\n  }\n\n  function docMethodOp(f) {\n    return function () {\n      var cm = this.cm;\n\n      if (!cm || cm.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      _startOperation(cm);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        _endOperation(cm);\n      }\n    };\n  } // HIGHLIGHT WORKER\n\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo) {\n      cm.state.highlight.set(time, bind(highlightWorker, cm));\n    }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n\n    if (doc.highlightFrontier >= cm.display.viewTo) {\n      return;\n    }\n\n    var end = +new Date() + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) {\n        // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n\n        if (resetState) {\n          context.state = resetState;\n        }\n\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses,\n            newCls = highlighted.classes;\n\n        if (newCls) {\n          line.styleClasses = newCls;\n        } else if (oldCls) {\n          line.styleClasses = null;\n        }\n\n        var ischange = !oldStyles || oldStyles.length != line.styles.length || oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) {\n          ischange = oldStyles[i] != line.styles[i];\n        }\n\n        if (ischange) {\n          changedLines.push(context.line);\n        }\n\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength) {\n          processLine(cm, line.text, context);\n        }\n\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n\n      if (+new Date() > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true;\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n\n    if (changedLines.length) {\n      runInOp(cm, function () {\n        for (var i = 0; i < changedLines.length; i++) {\n          regLineChange(cm, changedLines[i], \"text\");\n        }\n      });\n    }\n  } // DISPLAY DRAWING\n\n\n  var DisplayUpdate = function DisplayUpdate(cm, viewport, force) {\n    var display = cm.display;\n    this.viewport = viewport; // Store some values that we'll need later (but don't want to force a relayout for)\n\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type)) {\n      this.events.push(arguments);\n    }\n  };\n\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++) {\n      signal.apply(null, this.events[i]);\n    }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) {\n      return null;\n    }\n\n    var active = activeElt();\n\n    if (!active || !contains(cm.display.lineDiv, active)) {\n      return null;\n    }\n\n    var result = {\n      activeElt: active\n    };\n\n    if (window.getSelection) {\n      var sel = window.getSelection();\n\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n\n    return result;\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) {\n      return;\n    }\n\n    snapshot.activeElt.focus();\n\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(),\n          range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  } // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n\n\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display,\n        doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false;\n    } // Bail out if the visible area is already rendered and nothing changed.\n\n\n    if (!update.force && update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) && display.renderedView == display.view && countDirtyView(cm) == 0) {\n      return false;\n    }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    } // Compute a suitable new viewport (from & to)\n\n\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n\n    if (display.viewFrom < from && from - display.viewFrom < 20) {\n      from = Math.max(doc.first, display.viewFrom);\n    }\n\n    if (display.viewTo > to && display.viewTo - to < 20) {\n      to = Math.min(end, display.viewTo);\n    }\n\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo || display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n    display.viewOffset = _heightAtLine(getLine(cm.doc, display.viewFrom)); // Position the mover div to align with the current scroll position\n\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n    var toUpdate = countDirtyView(cm);\n\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo)) {\n      return false;\n    } // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n\n\n    var selSnapshot = selectionSnapshot(cm);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"none\";\n    }\n\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"\";\n    }\n\n    display.renderedView = display.view; // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n\n    restoreSelection(selSnapshot); // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n    return true;\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null) {\n          viewport = {\n            top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)\n          };\n        } // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n\n\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo) {\n          break;\n        }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n\n      if (!updateDisplayIfNeeded(cm, update)) {\n        break;\n      }\n\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom;\n      cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  } // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n\n\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display,\n        lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv,\n        cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling; // Works around a throw-scroll bug in OS X Webkit\n\n      if (webkit && mac && cm.display.currentWheelTarget == node) {\n        node.style.display = \"none\";\n      } else {\n        node.parentNode.removeChild(node);\n      }\n\n      return next;\n    }\n\n    var view = display.view,\n        lineN = display.viewFrom; // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ;else if (!lineView.node || lineView.node.parentNode != container) {\n        // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else {\n        // Already drawn\n        while (cur != lineView.node) {\n          cur = rm(cur);\n        }\n\n        var updateNumber = lineNumbers && updateNumbersFrom != null && updateNumbersFrom <= lineN && lineView.lineNumber;\n\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) {\n            updateNumber = false;\n          }\n\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n\n    while (cur) {\n      cur = rm(cur);\n    }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = measure.docHeight + cm.display.barHeight + scrollGap(cm) + \"px\";\n  } // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n\n\n  function alignHorizontally(cm) {\n    var display = cm.display,\n        view = display.view;\n\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) {\n      return;\n    }\n\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth,\n        left = comp + \"px\";\n\n    for (var i = 0; i < view.length; i++) {\n      if (!view[i].hidden) {\n        if (cm.options.fixedGutter) {\n          if (view[i].gutter) {\n            view[i].gutter.style.left = left;\n          }\n\n          if (view[i].gutterBackground) {\n            view[i].gutterBackground.style.left = left;\n          }\n        }\n\n        var align = view[i].alignable;\n\n        if (align) {\n          for (var j = 0; j < align.length; j++) {\n            align[j].style.left = left;\n          }\n        }\n      }\n    }\n\n    if (cm.options.fixedGutter) {\n      display.gutters.style.left = comp + gutterW + \"px\";\n    }\n  } // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n\n\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) {\n      return false;\n    }\n\n    var doc = cm.doc,\n        last = lineNumberFor(cm.options, doc.first + doc.size - 1),\n        display = cm.display;\n\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)], \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth,\n          padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true;\n    }\n\n    return false;\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [],\n        sawLineNumbers = false;\n\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i],\n          style = null;\n\n      if (typeof name != \"string\") {\n        style = name.style;\n        name = name.className;\n      }\n\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) {\n          continue;\n        } else {\n          sawLineNumbers = true;\n        }\n      }\n\n      result.push({\n        className: name,\n        style: style\n      });\n    }\n\n    if (lineNumbers && !sawLineNumbers) {\n      result.push({\n        className: \"CodeMirror-linenumbers\",\n        style: null\n      });\n    }\n\n    return result;\n  } // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n\n\n  function renderGutters(display) {\n    var gutters = display.gutters,\n        specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n\n      if (style) {\n        gElt.style.cssText = style;\n      }\n\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  } // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input; // Covers bottom-right square when both scrollbars are present.\n\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\"); // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\"); // Will contain the actual code, positioned to cover the viewport.\n\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\"); // Elements are added to these to represent selection and cursors.\n\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\"); // A visibility: hidden element used to find the size of things.\n\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\"); // When lines outside of the viewport are measured, they are drawn in this.\n\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\"); // Wraps everything that needs to exist inside the vertically-padded coordinate system\n\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv], null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\"); // Moved around its parent to cover visible view.\n\n    d.mover = elt(\"div\", [lines], null, \"position: relative\"); // Set to the height of the document, allowing scrolling.\n\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null; // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\"); // Will contain the gutters, if any.\n\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null; // Actual scrollable element.\n\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\"); // The element in which the editor lives.\n\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\"); // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n\n    if (ie && ie_version < 8) {\n      d.gutters.style.zIndex = -1;\n      d.scroller.style.paddingRight = 0;\n    }\n\n    if (!webkit && !(gecko && mobile)) {\n      d.scroller.draggable = true;\n    }\n\n    if (place) {\n      if (place.appendChild) {\n        place.appendChild(d.wrapper);\n      } else {\n        place(d.wrapper);\n      }\n    } // Current rendered range (may be bigger than the view window).\n\n\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first; // Information about the rendered lines.\n\n    d.view = [];\n    d.renderedView = null; // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n\n    d.externalMeasured = null; // Empty space (in pixels) above the view\n\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false; // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null; // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n\n    d.alignWidgets = false;\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null; // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false; // Used for measuring wheel scrolling granularity\n\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null; // True when shift is held down.\n\n    d.shift = false; // Used to track whether anything happened since the context menu\n    // was opened.\n\n    d.selForContextMenu = null;\n    d.activeTouch = null;\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n    input.init(d);\n  } // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n\n  var wheelSamples = 0,\n      wheelPixelsPerUnit = null; // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n\n  if (ie) {\n    wheelPixelsPerUnit = -.53;\n  } else if (gecko) {\n    wheelPixelsPerUnit = 15;\n  } else if (chrome) {\n    wheelPixelsPerUnit = -.7;\n  } else if (safari) {\n    wheelPixelsPerUnit = -1 / 3;\n  }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX,\n        dy = e.wheelDeltaY;\n\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) {\n      dx = e.detail;\n    }\n\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) {\n      dy = e.detail;\n    } else if (dy == null) {\n      dy = e.wheelDelta;\n    }\n\n    return {\n      x: dx,\n      y: dy\n    };\n  }\n\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta;\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e),\n        dx = delta.x,\n        dy = delta.y;\n    var display = cm.display,\n        scroll = display.scroller; // Quit if there's nothing to scroll here\n\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n\n    if (!(dx && canScrollX || dy && canScrollY)) {\n      return;\n    } // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n\n\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer;\n          }\n        }\n      }\n    } // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n\n\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY) {\n        updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit));\n      }\n\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit)); // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n\n      if (!dy || dy && canScrollY) {\n        e_preventDefault(e);\n      }\n\n      display.wheelStartX = null; // Abort measurement, if in progress\n\n      return;\n    } // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n\n\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop,\n          bot = top + display.wrapper.clientHeight;\n\n      if (pixels < 0) {\n        top = Math.max(0, top + pixels - 50);\n      } else {\n        bot = Math.min(cm.doc.height, bot + pixels + 50);\n      }\n\n      updateDisplaySimple(cm, {\n        top: top,\n        bottom: bot\n      });\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft;\n        display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx;\n        display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) {\n            return;\n          }\n\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = movedY && display.wheelDY && movedY / display.wheelDY || movedX && display.wheelDX && movedX / display.wheelDX;\n          display.wheelStartX = display.wheelStartY = null;\n\n          if (!sample) {\n            return;\n          }\n\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx;\n        display.wheelDY += dy;\n      }\n    }\n  } // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n\n\n  var Selection = function Selection(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () {\n    return this.ranges[this.primIndex];\n  };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) {\n      return true;\n    }\n\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) {\n      return false;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i],\n          there = other.ranges[i];\n\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));\n    }\n\n    return new Selection(out, this.primIndex);\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++) {\n      if (!this.ranges[i].empty()) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) {\n      end = pos;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var Range = function Range(anchor, head) {\n    this.anchor = anchor;\n    this.head = head;\n  };\n\n  Range.prototype.from = function () {\n    return minPos(this.anchor, this.head);\n  };\n\n  Range.prototype.to = function () {\n    return maxPos(this.anchor, this.head);\n  };\n\n  Range.prototype.empty = function () {\n    return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;\n  }; // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n\n\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) {\n      return cmp(a.from(), b.from());\n    });\n    primIndex = indexOf(ranges, prim);\n\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i],\n          prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()),\n            to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n\n        if (i <= primIndex) {\n          --primIndex;\n        }\n\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n\n    return new Selection(ranges, primIndex);\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0);\n  } // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n\n\n  function changeEnd(change) {\n    if (!change.text) {\n      return change.to;\n    }\n\n    return Pos(change.from.line + change.text.length - 1, lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));\n  } // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n\n\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) {\n      return pos;\n    }\n\n    if (cmp(pos, change.to) <= 0) {\n      return changeEnd(change);\n    }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1,\n        ch = pos.ch;\n\n    if (pos.line == change.to.line) {\n      ch += changeEnd(change).ch - change.to.ch;\n    }\n\n    return Pos(line, ch);\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change), adjustForChange(range.head, change)));\n    }\n\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex);\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line) {\n      return Pos(nw.line, pos.ch - old.ch + nw.ch);\n    } else {\n      return Pos(nw.line + (pos.line - old.line), pos.ch);\n    }\n  } // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n\n\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0),\n        newPrev = oldPrev;\n\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i],\n            inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n\n    return new Selection(out, doc.sel.primIndex);\n  } // Used to get the editor into a consistent state again when options change.\n\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) {\n        line.stateAfter = null;\n      }\n\n      if (line.styles) {\n        line.styles = null;\n      }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n\n    if (cm.curOp) {\n      regChange(cm);\n    }\n  } // DOCUMENT DATA STRUCTURE\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n\n\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" && (!doc.cm || doc.cm.options.wholeLineUpdateBefore);\n  } // Perform a change on the document data structure.\n\n\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {\n      return markedSpans ? markedSpans[n] : null;\n    }\n\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n\n    function linesFor(start, end) {\n      var result = [];\n\n      for (var i = start; i < end; ++i) {\n        result.push(new Line(text[i], spansFor(i), estimateHeight));\n      }\n\n      return result;\n    }\n\n    var from = change.from,\n        to = change.to,\n        text = change.text;\n    var firstLine = getLine(doc, from.line),\n        lastLine = getLine(doc, to.line);\n    var lastText = lst(text),\n        lastSpans = spansFor(text.length - 1),\n        nlines = to.line - from.line; // Adjust the line structure\n\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n\n      if (nlines) {\n        doc.remove(from.line, nlines);\n      }\n\n      if (added.length) {\n        doc.insert(from.line, added);\n      }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n\n      if (nlines > 1) {\n        doc.remove(from.line + 1, nlines - 1);\n      }\n\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  } // Call f for all linked documents.\n\n\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) {\n        for (var i = 0; i < doc.linked.length; ++i) {\n          var rel = doc.linked[i];\n\n          if (rel.doc == skip) {\n            continue;\n          }\n\n          var shared = sharedHist && rel.sharedHist;\n\n          if (sharedHistOnly && !shared) {\n            continue;\n          }\n\n          f(rel.doc, shared);\n          propagate(rel.doc, doc, shared);\n        }\n      }\n    }\n\n    propagate(doc, null, true);\n  } // Attach a document to an editor.\n\n\n  function attachDoc(cm, doc) {\n    if (doc.cm) {\n      throw new Error(\"This document is already in use.\");\n    }\n\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n\n    if (!cm.options.lineWrapping) {\n      findMaxLine(cm);\n    }\n\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n    (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = [];\n    this.undone = [];\n    this.undoDepth = Infinity; // Used to track when changes can be merged into a single undo\n    // event\n\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null; // Used by the isClean() method\n\n    this.generation = this.maxGeneration = startGen || 1;\n  } // Create a history change event from an updateDoc-style change\n  // object.\n\n\n  function historyChangeFromChange(doc, change) {\n    var histChange = {\n      from: copyPos(change.from),\n      to: changeEnd(change),\n      text: getBetween(doc, change.from, change.to)\n    };\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) {\n      return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    }, true);\n    return histChange;\n  } // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n\n\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n\n      if (last.ranges) {\n        array.pop();\n      } else {\n        break;\n      }\n    }\n  } // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n\n\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done);\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done);\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done);\n    }\n  } // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n\n\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date(),\n        cur;\n    var last;\n\n    if ((hist.lastOp == opId || hist.lastOrigin == change.origin && change.origin && (change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500) || change.origin.charAt(0) == \"*\")) && (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n\n      if (!before || !before.ranges) {\n        pushSelectionToHistory(doc.sel, hist.done);\n      }\n\n      cur = {\n        changes: [historyChangeFromChange(doc, change)],\n        generation: hist.generation\n      };\n      hist.done.push(cur);\n\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n\n        if (!hist.done[0].ranges) {\n          hist.done.shift();\n        }\n      }\n    }\n\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) {\n      signal(doc, \"historyAdded\");\n    }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" || ch == \"+\" && prev.ranges.length == sel.ranges.length && prev.somethingSelected() == sel.somethingSelected() && new Date() - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);\n  } // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n\n\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history,\n        origin = options && options.origin; // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n\n    if (opId == hist.lastSelOp || origin && hist.lastSelOrigin == origin && (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin || selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))) {\n      hist.done[hist.done.length - 1] = sel;\n    } else {\n      pushSelectionToHistory(sel, hist.done);\n    }\n\n    hist.lastSelTime = +new Date();\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n\n    if (options && options.clearRedo !== false) {\n      clearSelectionEvents(hist.undone);\n    }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n\n    if (!(top && top.ranges && top.equals(sel))) {\n      dest.push(sel);\n    }\n  } // Used to store marked span information in the history.\n\n\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id],\n        n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans) {\n        (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans;\n      }\n\n      ++n;\n    });\n  } // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n\n\n  function removeClearedSpans(spans) {\n    if (!spans) {\n      return null;\n    }\n\n    var out;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) {\n        if (!out) {\n          out = spans.slice(0, i);\n        }\n      } else if (out) {\n        out.push(spans[i]);\n      }\n    }\n\n    return !out ? spans : out.length ? out : null;\n  } // Retrieve and filter the old marked spans stored in a change event.\n\n\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n\n    if (!found) {\n      return null;\n    }\n\n    var nw = [];\n\n    for (var i = 0; i < change.text.length; ++i) {\n      nw.push(removeClearedSpans(found[i]));\n    }\n\n    return nw;\n  } // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n\n\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n\n    if (!old) {\n      return stretched;\n    }\n\n    if (!stretched) {\n      return old;\n    }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i],\n          stretchCur = stretched[i];\n\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n\n          for (var k = 0; k < oldCur.length; ++k) {\n            if (oldCur[k].marker == span.marker) {\n              continue spans;\n            }\n          }\n\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n\n    return old;\n  } // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n\n\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue;\n      }\n\n      var changes = event.changes,\n          newChanges = [];\n      copy.push({\n        changes: newChanges\n      });\n\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j],\n            m = void 0;\n        newChanges.push({\n          from: change.from,\n          to: change.to,\n          text: change.text\n        });\n\n        if (newGroup) {\n          for (var prop in change) {\n            if (m = prop.match(/^spans_(\\d+)$/)) {\n              if (indexOf(newGroup, Number(m[1])) > -1) {\n                lst(newChanges)[prop] = change[prop];\n                delete change[prop];\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return copy;\n  } // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n\n\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n\n        if (posBefore != cmp(other, anchor) < 0) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != cmp(head, other) < 0) {\n          head = other;\n        }\n      }\n\n      return new Range(anchor, head);\n    } else {\n      return new Range(other || head, head);\n    }\n  } // Extend the primary selection range, discard the rest.\n\n\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) {\n      extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    }\n\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  } // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n\n\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend);\n    }\n\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  } // Updates a single range in the selection.\n\n\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  } // Reset the selection to a single range.\n\n\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  } // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n\n\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function update(ranges) {\n        this.ranges = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          this.ranges[i] = new Range(_clipPos(doc, ranges[i].anchor), _clipPos(doc, ranges[i].head));\n        }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj);\n    }\n\n    if (obj.ranges != sel.ranges) {\n      return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1);\n    } else {\n      return sel;\n    }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done,\n        last = lst(done);\n\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  } // Set a new selection.\n\n\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\")) {\n      sel = filterSelectionChange(doc, sel, options);\n    }\n\n    var bias = options && options.bias || (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm) {\n      ensureCursorVisible(doc.cm);\n    }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) {\n      return;\n    }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n\n    signalLater(doc, \"cursorActivity\", doc);\n  } // Verify that the selection does not partially select any atomic\n  // marked ranges.\n\n\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  } // Return a selection that does not partially select any atomic\n  // ranges.\n\n\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) {\n          out = sel.ranges.slice(0, i);\n        }\n\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel;\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n\n    if (line.markedSpans) {\n      for (var i = 0; i < line.markedSpans.length; ++i) {\n        var sp = line.markedSpans[i],\n            m = sp.marker; // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n        // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n        // is with selectLeft/Right\n\n        var preventCursorLeft = \"selectLeft\" in m ? !m.selectLeft : m.inclusiveLeft;\n        var preventCursorRight = \"selectRight\" in m ? !m.selectRight : m.inclusiveRight;\n\n        if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) && (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n          if (mayClear) {\n            signal(m, \"beforeCursorEnter\");\n\n            if (m.explicitlyCleared) {\n              if (!line.markedSpans) {\n                break;\n              } else {\n                --i;\n                continue;\n              }\n            }\n          }\n\n          if (!m.atomic) {\n            continue;\n          }\n\n          if (oldPos) {\n            var near = m.find(dir < 0 ? 1 : -1),\n                diff = void 0;\n\n            if (dir < 0 ? preventCursorRight : preventCursorLeft) {\n              near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null);\n            }\n\n            if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0)) {\n              return skipAtomicInner(doc, near, pos, dir, mayClear);\n            }\n          }\n\n          var far = m.find(dir < 0 ? -1 : 1);\n\n          if (dir < 0 ? preventCursorLeft : preventCursorRight) {\n            far = movePos(doc, far, dir, far.line == pos.line ? line : null);\n          }\n\n          return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null;\n        }\n      }\n    }\n\n    return pos;\n  } // Ensure a given position is not inside an atomic range.\n\n\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, dir, true) || skipAtomicInner(doc, pos, oldPos, -dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true);\n\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0);\n    }\n\n    return found;\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) {\n        return _clipPos(doc, Pos(pos.line - 1));\n      } else {\n        return null;\n      }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) {\n        return Pos(pos.line + 1, 0);\n      } else {\n        return null;\n      }\n    } else {\n      return new Pos(pos.line, pos.ch + dir);\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  } // UPDATING\n  // Allow \"beforeChange\" event handlers to influence a change\n\n\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function cancel() {\n        return obj.canceled = true;\n      }\n    };\n\n    if (update) {\n      obj.update = function (from, to, text, origin) {\n        if (from) {\n          obj.from = _clipPos(doc, from);\n        }\n\n        if (to) {\n          obj.to = _clipPos(doc, to);\n        }\n\n        if (text) {\n          obj.text = text;\n        }\n\n        if (origin !== undefined) {\n          obj.origin = origin;\n        }\n      };\n    }\n\n    signal(doc, \"beforeChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeChange\", doc.cm, obj);\n    }\n\n    if (obj.canceled) {\n      if (doc.cm) {\n        doc.cm.curOp.updateInput = 2;\n      }\n\n      return null;\n    }\n\n    return {\n      from: obj.from,\n      to: obj.to,\n      text: obj.text,\n      origin: obj.origin\n    };\n  } // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n\n\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) {\n        return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);\n      }\n\n      if (doc.cm.state.suppressEdits) {\n        return;\n      }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n\n      if (!change) {\n        return;\n      }\n    } // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n\n\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i) {\n        makeChangeInner(doc, {\n          from: split[i].from,\n          to: split[i].to,\n          text: i ? [\"\"] : change.text,\n          origin: change.origin\n        });\n      }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) {\n      return;\n    }\n\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  } // Revert a change stored in a document's history.\n\n\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n\n    if (suppress && !allowSelectionOnly) {\n      return;\n    }\n\n    var hist = doc.history,\n        event,\n        selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone,\n        dest = type == \"undo\" ? hist.undone : hist.done; // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n\n    var i = 0;\n\n    for (; i < source.length; i++) {\n      event = source[i];\n\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges) {\n        break;\n      }\n    }\n\n    if (i == source.length) {\n      return;\n    }\n\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {\n            clearRedo: false\n          });\n          return;\n        }\n\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return;\n      } else {\n        break;\n      }\n    } // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n\n\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({\n      changes: antiChanges,\n      generation: hist.generation\n    });\n    hist.generation = event.generation || ++hist.maxGeneration;\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function loop(i) {\n      var change = event.changes[i];\n      change.origin = type;\n\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {};\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n\n      if (!i && doc.cm) {\n        doc.cm.scrollIntoView({\n          from: change.from,\n          to: changeEnd(change)\n        });\n      }\n\n      var rebased = []; // Propagate to the linked documents\n\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop(i$1);\n      if (returned) return returned.v;\n    }\n  } // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n\n\n  function shiftDoc(doc, distance) {\n    if (distance == 0) {\n      return;\n    }\n\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) {\n      return new Range(Pos(range.anchor.line + distance, range.anchor.ch), Pos(range.head.line + distance, range.head.ch));\n    }), doc.sel.primIndex);\n\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++) {\n        regLineChange(doc.cm, l, \"gutter\");\n      }\n    }\n  } // More lower-level change function, handling only a single document\n  // (not linked ones).\n\n\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);\n    }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return;\n    }\n\n    if (change.from.line > doc.lastLine()) {\n      return;\n    } // Clip the change to the size of this doc\n\n\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {\n        from: Pos(doc.first, 0),\n        to: Pos(change.to.line + shift, change.to.ch),\n        text: [lst(change.text)],\n        origin: change.origin\n      };\n    }\n\n    var last = doc.lastLine();\n\n    if (change.to.line > last) {\n      change = {\n        from: change.from,\n        to: Pos(last, getLine(doc, last).text.length),\n        text: [change.text[0]],\n        origin: change.origin\n      };\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) {\n      selAfter = computeSelAfterChange(doc, change);\n    }\n\n    if (doc.cm) {\n      makeChangeSingleDocInEditor(doc.cm, change, spans);\n    } else {\n      updateDoc(doc, change, spans);\n    }\n\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0))) {\n      doc.cantEdit = false;\n    }\n  } // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n\n\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc,\n        display = cm.display,\n        from = change.from,\n        to = change.to;\n    var recomputeMaxLength = false,\n        checkWidthStart = from.line;\n\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true;\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1) {\n      signalCursorActivity(cm);\n    }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n\n      if (recomputeMaxLength) {\n        cm.curOp.updateMaxLine = true;\n      }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n    var lendiff = change.text.length - (to.line - from.line) - 1; // Remember that these lines changed, for updating the display\n\n    if (change.full) {\n      regChange(cm);\n    } else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change)) {\n      regLineChange(cm, from.line, \"text\");\n    } else {\n      regChange(cm, from.line, to.line + 1, lendiff);\n    }\n\n    var changesHandler = hasHandler(cm, \"changes\"),\n        changeHandler = hasHandler(cm, \"change\");\n\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from,\n        to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n\n      if (changeHandler) {\n        signalLater(cm, \"change\", cm, obj);\n      }\n\n      if (changesHandler) {\n        (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);\n      }\n    }\n\n    cm.display.selForContextMenu = null;\n  }\n\n  function _replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) {\n      to = from;\n    }\n\n    if (cmp(to, from) < 0) {\n      assign = [to, from], from = assign[0], to = assign[1];\n    }\n\n    if (typeof code == \"string\") {\n      code = doc.splitLines(code);\n    }\n\n    makeChange(doc, {\n      from: from,\n      to: to,\n      text: code,\n      origin: origin\n    });\n  } // Rebasing/resetting history to deal with externally-sourced changes\n\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  } // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n\n\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i],\n          ok = true;\n\n      if (sub.ranges) {\n        if (!sub.copied) {\n          sub = array[i] = sub.deepCopy();\n          sub.copied = true;\n        }\n\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n\n        continue;\n      }\n\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break;\n        }\n      }\n\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line,\n        to = change.to.line,\n        diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  } // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n\n\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle,\n        line = handle;\n\n    if (typeof handle == \"number\") {\n      line = getLine(doc, clipLine(doc, handle));\n    } else {\n      no = lineNo(handle);\n    }\n\n    if (no == null) {\n      return null;\n    }\n\n    if (op(line, no) && doc.cm) {\n      regLineChange(doc.cm, no, changeType);\n    }\n\n    return line;\n  } // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function chunkSize() {\n      return this.lines.length;\n    },\n    // Remove the n lines at offset 'at'.\n    removeInner: function removeInner(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n\n      this.lines.splice(at, n);\n    },\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function collapse(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function insertInner(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n\n      for (var i = 0; i < lines.length; ++i) {\n        lines[i].parent = this;\n      }\n    },\n    // Used to iterate over a part of the tree.\n    iterN: function iterN(at, n, op) {\n      for (var e = at + n; at < e; ++at) {\n        if (op(this.lines[at])) {\n          return true;\n        }\n      }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0,\n        height = 0;\n\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize();\n      height += ch.height;\n      ch.parent = this;\n    }\n\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function chunkSize() {\n      return this.size;\n    },\n    removeInner: function removeInner(at, n) {\n      this.size -= n;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var rm = Math.min(n, sz - at),\n              oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n\n          if (sz == rm) {\n            this.children.splice(i--, 1);\n            child.parent = null;\n          }\n\n          if ((n -= rm) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      } // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n\n\n      if (this.size - n < 25 && (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n    collapse: function collapse(lines) {\n      for (var i = 0; i < this.children.length; ++i) {\n        this.children[i].collapse(lines);\n      }\n    },\n    insertInner: function insertInner(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n\n          break;\n        }\n\n        at -= sz;\n      }\n    },\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function maybeSpill() {\n      if (this.children.length <= 10) {\n        return;\n      }\n\n      var me = this;\n\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n\n        if (!me.parent) {\n          // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n        } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n\n        sibling.parent = me.parent;\n      } while (me.children.length > 10);\n\n      me.parent.maybeSpill();\n    },\n    iterN: function iterN(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n\n          if (child.iterN(at, used, op)) {\n            return true;\n          }\n\n          if ((n -= used) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      }\n    }\n  }; // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function LineWidget(doc, node, options) {\n    if (options) {\n      for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n          this[opt] = options[opt];\n        }\n      }\n    }\n\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm,\n        ws = this.line.widgets,\n        line = this.line,\n        no = lineNo(line);\n\n    if (no == null || !ws) {\n      return;\n    }\n\n    for (var i = 0; i < ws.length; ++i) {\n      if (ws[i] == this) {\n        ws.splice(i--, 1);\n      }\n    }\n\n    if (!ws.length) {\n      line.widgets = null;\n    }\n\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n    var this$1 = this;\n    var oldH = this.height,\n        cm = this.doc.cm,\n        line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n\n    if (!diff) {\n      return;\n    }\n\n    if (!lineIsHidden(this.doc, line)) {\n      updateLineHeight(line, line.height + diff);\n    }\n\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (_heightAtLine(line) < (cm.curOp && cm.curOp.scrollTop || cm.doc.scrollTop)) {\n      addToScrollTop(cm, diff);\n    }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n\n    if (cm && widget.noHScroll) {\n      cm.display.alignWidgets = true;\n    }\n\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n\n      if (widget.insertAt == null) {\n        widgets.push(widget);\n      } else {\n        widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);\n      }\n\n      widget.line = line;\n\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = _heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n\n        if (aboveVisible) {\n          addToScrollTop(cm, widget.height);\n        }\n\n        cm.curOp.forceUpdate = true;\n      }\n\n      return true;\n    });\n\n    if (cm) {\n      signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle));\n    }\n\n    return widget;\n  } // TEXTMARKERS\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n\n\n  var nextMarkerId = 0;\n\n  var TextMarker = function TextMarker(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  }; // Clear the marker.\n\n\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    var cm = this.doc.cm,\n        withOp = cm && !cm.curOp;\n\n    if (withOp) {\n      _startOperation(cm);\n    }\n\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n\n      if (found) {\n        signalLater(this, \"clear\", found.from, found.to);\n      }\n    }\n\n    var min = null,\n        max = null;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n\n      if (cm && !this.collapsed) {\n        regLineChange(cm, lineNo(line), \"text\");\n      } else if (cm) {\n        if (span.to != null) {\n          max = lineNo(line);\n        }\n\n        if (span.from != null) {\n          min = lineNo(line);\n        }\n      }\n\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm) {\n        updateLineHeight(line, textHeight(cm.display));\n      }\n    }\n\n    if (cm && this.collapsed && !cm.options.lineWrapping) {\n      for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n        var visual = visualLine(this.lines[i$1]),\n            len = lineLength(visual);\n\n        if (len > cm.display.maxLineLength) {\n          cm.display.maxLine = visual;\n          cm.display.maxLineLength = len;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n\n    if (min != null && cm && this.collapsed) {\n      regChange(cm, min, max + 1);\n    }\n\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n\n      if (cm) {\n        reCheckSelection(cm.doc);\n      }\n    }\n\n    if (cm) {\n      signalLater(cm, \"markerCleared\", cm, this, min, max);\n    }\n\n    if (withOp) {\n      _endOperation(cm);\n    }\n\n    if (this.parent) {\n      this.parent.clear();\n    }\n  }; // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n\n\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") {\n      side = 1;\n    }\n\n    var from, to;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n\n        if (side == -1) {\n          return from;\n        }\n      }\n\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n\n        if (side == 1) {\n          return to;\n        }\n      }\n    }\n\n    return from && {\n      from: from,\n      to: to\n    };\n  }; // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n\n\n  TextMarker.prototype.changed = function () {\n    var this$1 = this;\n    var pos = this.find(-1, true),\n        widget = this,\n        cm = this.doc.cm;\n\n    if (!pos || !cm) {\n      return;\n    }\n\n    runInOp(cm, function () {\n      var line = pos.line,\n          lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n\n      cm.curOp.updateMaxLine = true;\n\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n\n        if (dHeight) {\n          updateLineHeight(line, line.height + dHeight);\n        }\n      }\n\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1) {\n        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);\n      }\n    }\n\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n\n  eventMixin(TextMarker); // Create a marker, wire it up to the right lines, and\n\n  function _markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) {\n      return markTextShared(doc, from, to, options, type);\n    } // Ensure we are in an operation.\n\n\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, _markText)(doc, from, to, options, type);\n    }\n\n    var marker = new TextMarker(doc, type),\n        diff = cmp(from, to);\n\n    if (options) {\n      copyObj(options, marker, false);\n    } // Don't connect empty markers unless clearWhenEmpty is false\n\n\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false) {\n      return marker;\n    }\n\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n\n      if (!options.handleMouseEvents) {\n        marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      if (options.insertLeft) {\n        marker.widgetNode.insertLeft = true;\n      }\n    }\n\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) || from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker)) {\n        throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n      }\n\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory) {\n      addChangeToHistory(doc, {\n        from: from,\n        to: to,\n        origin: \"markText\"\n      }, doc.sel, NaN);\n    }\n\n    var curLine = from.line,\n        cm = doc.cm,\n        updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine) {\n        updateMaxLine = true;\n      }\n\n      if (marker.collapsed && curLine != from.line) {\n        updateLineHeight(line, 0);\n      }\n\n      addMarkedSpan(line, new MarkedSpan(marker, curLine == from.line ? from.ch : null, curLine == to.line ? to.ch : null));\n      ++curLine;\n    }); // lineIsHidden depends on the presence of the spans, so needs a second pass\n\n    if (marker.collapsed) {\n      doc.iter(from.line, to.line + 1, function (line) {\n        if (lineIsHidden(doc, line)) {\n          updateLineHeight(line, 0);\n        }\n      });\n    }\n\n    if (marker.clearOnEnter) {\n      on(marker, \"beforeCursorEnter\", function () {\n        return marker.clear();\n      });\n    }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n\n      if (doc.history.done.length || doc.history.undone.length) {\n        doc.clearHistory();\n      }\n    }\n\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) {\n        cm.curOp.updateMaxLine = true;\n      }\n\n      if (marker.collapsed) {\n        regChange(cm, from.line, to.line + 1);\n      } else if (marker.className || marker.startStyle || marker.endStyle || marker.css || marker.attributes || marker.title) {\n        for (var i = from.line; i <= to.line; i++) {\n          regLineChange(cm, i, \"text\");\n        }\n      }\n\n      if (marker.atomic) {\n        reCheckSelection(cm.doc);\n      }\n\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n\n    return marker;\n  } // SHARED TEXTMARKERS\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n\n\n  var SharedTextMarker = function SharedTextMarker(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n\n    for (var i = 0; i < markers.length; ++i) {\n      markers[i].parent = this;\n    }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    this.explicitlyCleared = true;\n\n    for (var i = 0; i < this.markers.length; ++i) {\n      this.markers[i].clear();\n    }\n\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj);\n  };\n\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [_markText(doc, from, to, options, type)],\n        primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) {\n        options.widgetNode = widget.cloneNode(true);\n      }\n\n      markers.push(_markText(doc, _clipPos(doc, from), _clipPos(doc, to), options, type));\n\n      for (var i = 0; i < doc.linked.length; ++i) {\n        if (doc.linked[i].isParent) {\n          return;\n        }\n      }\n\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary);\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) {\n      return m.parent;\n    });\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i],\n          pos = marker.find();\n      var mFrom = doc.clipPos(pos.from),\n          mTo = doc.clipPos(pos.to);\n\n      if (cmp(mFrom, mTo)) {\n        var subMark = _markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function loop(i) {\n      var marker = markers[i],\n          linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) {\n        return linked.push(d);\n      });\n\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) {\n      loop(i);\n    }\n  }\n\n  var nextDocId = 0;\n\n  var Doc = function Doc(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) {\n      return new Doc(text, mode, firstLine, lineSep, direction);\n    }\n\n    if (firstLine == null) {\n      firstLine = 0;\n    }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = direction == \"rtl\" ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") {\n      text = this.splitLines(text);\n    }\n\n    updateDoc(this, {\n      from: start,\n      to: start,\n      text: text\n    });\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function iter(from, to, op) {\n      if (op) {\n        this.iterN(from - this.first, to - from, op);\n      } else {\n        this.iterN(this.first, this.first + this.size, from);\n      }\n    },\n    // Non-public interface for adding and removing lines.\n    insert: function insert(at, lines) {\n      var height = 0;\n\n      for (var i = 0; i < lines.length; ++i) {\n        height += lines[i].height;\n      }\n\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function remove(at, n) {\n      this.removeInner(at - this.first, n);\n    },\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n    getValue: function getValue(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    setValue: docMethodOp(function (code) {\n      var top = Pos(this.first, 0),\n          last = this.first + this.size - 1;\n      makeChange(this, {\n        from: top,\n        to: Pos(last, getLine(this, last).text.length),\n        text: this.splitLines(code),\n        origin: \"setValue\",\n        full: true\n      }, true);\n\n      if (this.cm) {\n        scrollToCoords(this.cm, 0, 0);\n      }\n\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function replaceRange(code, from, to, origin) {\n      from = _clipPos(this, from);\n      to = to ? _clipPos(this, to) : from;\n\n      _replaceRange(this, code, from, to, origin);\n    },\n    getRange: function getRange(from, to, lineSep) {\n      var lines = getBetween(this, _clipPos(this, from), _clipPos(this, to));\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    getLine: function getLine(line) {\n      var l = this.getLineHandle(line);\n      return l && l.text;\n    },\n    getLineHandle: function getLineHandle(line) {\n      if (isLine(this, line)) {\n        return getLine(this, line);\n      }\n    },\n    getLineNumber: function getLineNumber(line) {\n      return lineNo(line);\n    },\n    getLineHandleVisualStart: function getLineHandleVisualStart(line) {\n      if (typeof line == \"number\") {\n        line = getLine(this, line);\n      }\n\n      return visualLine(line);\n    },\n    lineCount: function lineCount() {\n      return this.size;\n    },\n    firstLine: function firstLine() {\n      return this.first;\n    },\n    lastLine: function lastLine() {\n      return this.first + this.size - 1;\n    },\n    clipPos: function clipPos(pos) {\n      return _clipPos(this, pos);\n    },\n    getCursor: function getCursor(start) {\n      var range = this.sel.primary(),\n          pos;\n\n      if (start == null || start == \"head\") {\n        pos = range.head;\n      } else if (start == \"anchor\") {\n        pos = range.anchor;\n      } else if (start == \"end\" || start == \"to\" || start === false) {\n        pos = range.to();\n      } else {\n        pos = range.from();\n      }\n\n      return pos;\n    },\n    listSelections: function listSelections() {\n      return this.sel.ranges;\n    },\n    somethingSelected: function somethingSelected() {\n      return this.sel.somethingSelected();\n    },\n    setCursor: docMethodOp(function (line, ch, options) {\n      setSimpleSelection(this, _clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function (anchor, head, options) {\n      setSimpleSelection(this, _clipPos(this, anchor), _clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function (head, other, options) {\n      extendSelection(this, _clipPos(this, head), other && _clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function (heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function (f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function (ranges, primary, options) {\n      if (!ranges.length) {\n        return;\n      }\n\n      var out = [];\n\n      for (var i = 0; i < ranges.length; i++) {\n        out[i] = new Range(_clipPos(this, ranges[i].anchor), _clipPos(this, ranges[i].head));\n      }\n\n      if (primary == null) {\n        primary = Math.min(ranges.length - 1, this.sel.primIndex);\n      }\n\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function (anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(_clipPos(this, anchor), _clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n    getSelection: function getSelection(lineSep) {\n      var ranges = this.sel.ranges,\n          lines;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n\n      if (lineSep === false) {\n        return lines;\n      } else {\n        return lines.join(lineSep || this.lineSeparator());\n      }\n    },\n    getSelections: function getSelections(lineSep) {\n      var parts = [],\n          ranges = this.sel.ranges;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n\n        if (lineSep !== false) {\n          sel = sel.join(lineSep || this.lineSeparator());\n        }\n\n        parts[i] = sel;\n      }\n\n      return parts;\n    },\n    replaceSelection: function replaceSelection(code, collapse, origin) {\n      var dup = [];\n\n      for (var i = 0; i < this.sel.ranges.length; i++) {\n        dup[i] = code;\n      }\n\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function (code, collapse, origin) {\n      var changes = [],\n          sel = this.sel;\n\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {\n          from: range.from(),\n          to: range.to(),\n          text: this.splitLines(code[i]),\n          origin: origin\n        };\n      }\n\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--) {\n        makeChange(this, changes[i$1]);\n      }\n\n      if (newSel) {\n        setSelectionReplaceHistory(this, newSel);\n      } else if (this.cm) {\n        ensureCursorVisible(this.cm);\n      }\n    }),\n    undo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\");\n    }),\n    redo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\");\n    }),\n    undoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\", true);\n    }),\n    redoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\", true);\n    }),\n    setExtending: function setExtending(val) {\n      this.extend = val;\n    },\n    getExtending: function getExtending() {\n      return this.extend;\n    },\n    historySize: function historySize() {\n      var hist = this.history,\n          done = 0,\n          undone = 0;\n\n      for (var i = 0; i < hist.done.length; i++) {\n        if (!hist.done[i].ranges) {\n          ++done;\n        }\n      }\n\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) {\n        if (!hist.undone[i$1].ranges) {\n          ++undone;\n        }\n      }\n\n      return {\n        undo: done,\n        redo: undone\n      };\n    },\n    clearHistory: function clearHistory() {\n      var this$1 = this;\n      this.history = new History(this.history.maxGeneration);\n      linkedDocs(this, function (doc) {\n        return doc.history = this$1.history;\n      }, true);\n    },\n    markClean: function markClean() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function changeGeneration(forceSplit) {\n      if (forceSplit) {\n        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;\n      }\n\n      return this.history.generation;\n    },\n    isClean: function isClean(gen) {\n      return this.history.generation == (gen || this.cleanGeneration);\n    },\n    getHistory: function getHistory() {\n      return {\n        done: copyHistoryArray(this.history.done),\n        undone: copyHistoryArray(this.history.undone)\n      };\n    },\n    setHistory: function setHistory(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n    setGutterMarker: docMethodOp(function (line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n\n        if (!value && isEmpty(markers)) {\n          line.gutterMarkers = null;\n        }\n\n        return true;\n      });\n    }),\n    clearGutter: docMethodOp(function (gutterID) {\n      var this$1 = this;\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n\n            if (isEmpty(line.gutterMarkers)) {\n              line.gutterMarkers = null;\n            }\n\n            return true;\n          });\n        }\n      });\n    }),\n    lineInfo: function lineInfo(line) {\n      var n;\n\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) {\n          return null;\n        }\n\n        n = line;\n        line = getLine(this, line);\n\n        if (!line) {\n          return null;\n        }\n      } else {\n        n = lineNo(line);\n\n        if (n == null) {\n          return null;\n        }\n      }\n\n      return {\n        line: n,\n        handle: line,\n        text: line.text,\n        gutterMarkers: line.gutterMarkers,\n        textClass: line.textClass,\n        bgClass: line.bgClass,\n        wrapClass: line.wrapClass,\n        widgets: line.widgets\n      };\n    },\n    addLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n\n        if (!line[prop]) {\n          line[prop] = cls;\n        } else if (classTest(cls).test(line[prop])) {\n          return false;\n        } else {\n          line[prop] += \" \" + cls;\n        }\n\n        return true;\n      });\n    }),\n    removeLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n\n        if (!cur) {\n          return false;\n        } else if (cls == null) {\n          line[prop] = null;\n        } else {\n          var found = cur.match(classTest(cls));\n\n          if (!found) {\n            return false;\n          }\n\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n\n        return true;\n      });\n    }),\n    addLineWidget: docMethodOp(function (handle, node, options) {\n      return addLineWidget(this, handle, node, options);\n    }),\n    removeLineWidget: function removeLineWidget(widget) {\n      widget.clear();\n    },\n    markText: function markText(from, to, options) {\n      return _markText(this, _clipPos(this, from), _clipPos(this, to), options, options && options.type || \"range\");\n    },\n    setBookmark: function setBookmark(pos, options) {\n      var realOpts = {\n        replacedWith: options && (options.nodeType == null ? options.widget : options),\n        insertLeft: options && options.insertLeft,\n        clearWhenEmpty: false,\n        shared: options && options.shared,\n        handleMouseEvents: options && options.handleMouseEvents\n      };\n      pos = _clipPos(this, pos);\n      return _markText(this, pos, pos, realOpts, \"bookmark\");\n    },\n    findMarksAt: function findMarksAt(pos) {\n      pos = _clipPos(this, pos);\n      var markers = [],\n          spans = getLine(this, pos.line).markedSpans;\n\n      if (spans) {\n        for (var i = 0; i < spans.length; ++i) {\n          var span = spans[i];\n\n          if ((span.from == null || span.from <= pos.ch) && (span.to == null || span.to >= pos.ch)) {\n            markers.push(span.marker.parent || span.marker);\n          }\n        }\n      }\n\n      return markers;\n    },\n    findMarks: function findMarks(from, to, filter) {\n      from = _clipPos(this, from);\n      to = _clipPos(this, to);\n      var found = [],\n          lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n\n        if (spans) {\n          for (var i = 0; i < spans.length; i++) {\n            var span = spans[i];\n\n            if (!(span.to != null && lineNo == from.line && from.ch >= span.to || span.from == null && lineNo != from.line || span.from != null && lineNo == to.line && span.from >= to.ch) && (!filter || filter(span.marker))) {\n              found.push(span.marker.parent || span.marker);\n            }\n          }\n        }\n\n        ++lineNo;\n      });\n      return found;\n    },\n    getAllMarks: function getAllMarks() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n\n        if (sps) {\n          for (var i = 0; i < sps.length; ++i) {\n            if (sps[i].from != null) {\n              markers.push(sps[i].marker);\n            }\n          }\n        }\n      });\n      return markers;\n    },\n    posFromIndex: function posFromIndex(off) {\n      var ch,\n          lineNo = this.first,\n          sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n\n        if (sz > off) {\n          ch = off;\n          return true;\n        }\n\n        off -= sz;\n        ++lineNo;\n      });\n      return _clipPos(this, Pos(lineNo, ch));\n    },\n    indexFromPos: function indexFromPos(coords) {\n      coords = _clipPos(this, coords);\n      var index = coords.ch;\n\n      if (coords.line < this.first || coords.ch < 0) {\n        return 0;\n      }\n\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) {\n        // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index;\n    },\n    copy: function copy(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop;\n      doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n\n      return doc;\n    },\n    linkedDoc: function linkedDoc(options) {\n      if (!options) {\n        options = {};\n      }\n\n      var from = this.first,\n          to = this.first + this.size;\n\n      if (options.from != null && options.from > from) {\n        from = options.from;\n      }\n\n      if (options.to != null && options.to < to) {\n        to = options.to;\n      }\n\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n\n      if (options.sharedHist) {\n        copy.history = this.history;\n      }\n\n      (this.linked || (this.linked = [])).push({\n        doc: copy,\n        sharedHist: options.sharedHist\n      });\n      copy.linked = [{\n        doc: this,\n        isParent: true,\n        sharedHist: options.sharedHist\n      }];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy;\n    },\n    unlinkDoc: function unlinkDoc(other) {\n      if (other instanceof CodeMirror) {\n        other = other.doc;\n      }\n\n      if (this.linked) {\n        for (var i = 0; i < this.linked.length; ++i) {\n          var link = this.linked[i];\n\n          if (link.doc != other) {\n            continue;\n          }\n\n          this.linked.splice(i, 1);\n          other.unlinkDoc(this);\n          detachSharedMarkers(findSharedMarkers(this));\n          break;\n        }\n      } // If the histories were shared, split them again\n\n\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) {\n          return splitIds.push(doc.id);\n        }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function iterLinkedDocs(f) {\n      linkedDocs(this, f);\n    },\n    getMode: function getMode() {\n      return this.mode;\n    },\n    getEditor: function getEditor() {\n      return this.cm;\n    },\n    splitLines: function splitLines(str) {\n      if (this.lineSep) {\n        return str.split(this.lineSep);\n      }\n\n      return splitLinesAuto(str);\n    },\n    lineSeparator: function lineSeparator() {\n      return this.lineSep || \"\\n\";\n    },\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") {\n        dir = \"ltr\";\n      }\n\n      if (dir == this.direction) {\n        return;\n      }\n\n      this.direction = dir;\n      this.iter(function (line) {\n        return line.order = null;\n      });\n\n      if (this.cm) {\n        directionChanged(this.cm);\n      }\n    })\n  }); // Public alias.\n\n  Doc.prototype.eachLine = Doc.prototype.iter; // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e_preventDefault(e);\n\n    if (ie) {\n      lastDrop = +new Date();\n    }\n\n    var pos = posFromMouse(cm, e, true),\n        files = e.dataTransfer.files;\n\n    if (!pos || cm.isReadOnly()) {\n      return;\n    } // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n\n\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length,\n          text = Array(n),\n          read = 0;\n\n      var markAsReadAndPasteIfAllFilesAreRead = function markAsReadAndPasteIfAllFilesAreRead() {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = _clipPos(cm.doc, pos);\n            var change = {\n              from: pos,\n              to: pos,\n              text: cm.doc.splitLines(text.filter(function (t) {\n                return t != null;\n              }).join(cm.doc.lineSeparator())),\n              origin: \"paste\"\n            };\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(_clipPos(cm.doc, pos), _clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n\n      var readTextFromFile = function readTextFromFile(file, i) {\n        if (cm.options.allowDropFileTypes && indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return;\n        }\n\n        var reader = new FileReader();\n\n        reader.onerror = function () {\n          return markAsReadAndPasteIfAllFilesAreRead();\n        };\n\n        reader.onload = function () {\n          var content = reader.result;\n\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return;\n          }\n\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n\n        reader.readAsText(file);\n      };\n\n      for (var i = 0; i < files.length; i++) {\n        readTextFromFile(files[i], i);\n      }\n    } else {\n      // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e); // Ensure the editor is re-focused\n\n        setTimeout(function () {\n          return cm.display.input.focus();\n        }, 20);\n        return;\n      }\n\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n\n        if (text$1) {\n          var selected;\n\n          if (cm.state.draggingText && !cm.state.draggingText.copy) {\n            selected = cm.listSelections();\n          }\n\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n\n          if (selected) {\n            for (var i$1 = 0; i$1 < selected.length; ++i$1) {\n              _replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\");\n            }\n          }\n\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      } catch (e) {}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date() - lastDrop < 100)) {\n      e_stop(e);\n      return;\n    }\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\"; // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img); // Force a relayout, or Opera won't use our image for some obscure reason\n\n        img._top = img.offsetTop;\n      }\n\n      e.dataTransfer.setDragImage(img, 0, 0);\n\n      if (presto) {\n        img.parentNode.removeChild(img);\n      }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n\n    if (!pos) {\n      return;\n    }\n\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  } // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) {\n      return;\n    }\n\n    var byClass = document.getElementsByClassName(\"CodeMirror\"),\n        editors = [];\n\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n\n      if (cm) {\n        editors.push(cm);\n      }\n    }\n\n    if (editors.length) {\n      editors[0].operation(function () {\n        for (var i = 0; i < editors.length; i++) {\n          f(editors[i]);\n        }\n      });\n    }\n  }\n\n  var globalsRegistered = false;\n\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) {\n      return;\n    }\n\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) {\n        resizeTimer = setTimeout(function () {\n          resizeTimer = null;\n          forEachCodeMirror(onResize);\n        }, 100);\n      }\n    }); // When the window loses focus, we want to show the editor as blurred\n\n    on(window, \"blur\", function () {\n      return forEachCodeMirror(onBlur);\n    });\n  } // Called when the window resizes\n\n\n  function onResize(cm) {\n    var d = cm.display; // Might be a text scaling operation, clear size caches.\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\",\n    8: \"Backspace\",\n    9: \"Tab\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Ctrl\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Esc\",\n    32: \"Space\",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"Left\",\n    38: \"Up\",\n    39: \"Right\",\n    40: \"Down\",\n    44: \"PrintScrn\",\n    45: \"Insert\",\n    46: \"Delete\",\n    59: \";\",\n    61: \"=\",\n    91: \"Mod\",\n    92: \"Mod\",\n    93: \"Mod\",\n    106: \"*\",\n    107: \"=\",\n    109: \"-\",\n    110: \".\",\n    111: \"/\",\n    145: \"ScrollLock\",\n    173: \"-\",\n    186: \";\",\n    187: \"=\",\n    188: \",\",\n    189: \"-\",\n    190: \".\",\n    191: \"/\",\n    192: \"`\",\n    219: \"[\",\n    220: \"\\\\\",\n    221: \"]\",\n    222: \"'\",\n    63232: \"Up\",\n    63233: \"Down\",\n    63234: \"Left\",\n    63235: \"Right\",\n    63272: \"Delete\",\n    63273: \"Home\",\n    63275: \"End\",\n    63276: \"PageUp\",\n    63277: \"PageDown\",\n    63302: \"Insert\"\n  }; // Number keys\n\n  for (var i = 0; i < 10; i++) {\n    keyNames[i + 48] = keyNames[i + 96] = String(i);\n  } // Alphabetic keys\n\n\n  for (var i$1 = 65; i$1 <= 90; i$1++) {\n    keyNames[i$1] = String.fromCharCode(i$1);\n  } // Function keys\n\n\n  for (var i$2 = 1; i$2 <= 12; i$2++) {\n    keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2;\n  }\n\n  var keyMap = {};\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\",\n    \"Right\": \"goCharRight\",\n    \"Up\": \"goLineUp\",\n    \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\",\n    \"Home\": \"goLineStartSmart\",\n    \"PageUp\": \"goPageUp\",\n    \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\",\n    \"Backspace\": \"delCharBefore\",\n    \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\",\n    \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\",\n    \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  }; // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\",\n    \"Ctrl-D\": \"deleteLine\",\n    \"Ctrl-Z\": \"undo\",\n    \"Shift-Ctrl-Z\": \"redo\",\n    \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\",\n    \"Ctrl-End\": \"goDocEnd\",\n    \"Ctrl-Up\": \"goLineUp\",\n    \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\",\n    \"Ctrl-Right\": \"goGroupRight\",\n    \"Alt-Left\": \"goLineStart\",\n    \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Delete\": \"delGroupAfter\",\n    \"Ctrl-S\": \"save\",\n    \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\",\n    \"Shift-Ctrl-G\": \"findPrev\",\n    \"Shift-Ctrl-F\": \"replace\",\n    \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\",\n    \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\",\n    \"Shift-Ctrl-U\": \"redoSelection\",\n    \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  }; // Very basic readline/emacs-style bindings, which are standard on Mac.\n\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\",\n    \"Ctrl-B\": \"goCharLeft\",\n    \"Ctrl-P\": \"goLineUp\",\n    \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\",\n    \"Alt-B\": \"goWordLeft\",\n    \"Ctrl-A\": \"goLineStart\",\n    \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\",\n    \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\",\n    \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\",\n    \"Alt-Backspace\": \"delWordBefore\",\n    \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\",\n    \"Cmd-D\": \"deleteLine\",\n    \"Cmd-Z\": \"undo\",\n    \"Shift-Cmd-Z\": \"redo\",\n    \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\",\n    \"Cmd-Up\": \"goDocStart\",\n    \"Cmd-End\": \"goDocEnd\",\n    \"Cmd-Down\": \"goDocEnd\",\n    \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\",\n    \"Cmd-Left\": \"goLineLeft\",\n    \"Cmd-Right\": \"goLineRight\",\n    \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\",\n    \"Alt-Delete\": \"delGroupAfter\",\n    \"Cmd-S\": \"save\",\n    \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\",\n    \"Shift-Cmd-G\": \"findPrev\",\n    \"Cmd-Alt-F\": \"replace\",\n    \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\",\n    \"Cmd-]\": \"indentMore\",\n    \"Cmd-Backspace\": \"delWrappedLineLeft\",\n    \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\",\n    \"Shift-Cmd-U\": \"redoSelection\",\n    \"Ctrl-Up\": \"goDocStart\",\n    \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault; // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n\n      if (/^(cmd|meta|m)$/i.test(mod)) {\n        cmd = true;\n      } else if (/^a(lt)?$/i.test(mod)) {\n        alt = true;\n      } else if (/^(c|ctrl|control)$/i.test(mod)) {\n        ctrl = true;\n      } else if (/^s(hift)?$/i.test(mod)) {\n        shift = true;\n      } else {\n        throw new Error(\"Unrecognized modifier name: \" + mod);\n      }\n    }\n\n    if (alt) {\n      name = \"Alt-\" + name;\n    }\n\n    if (ctrl) {\n      name = \"Ctrl-\" + name;\n    }\n\n    if (cmd) {\n      name = \"Cmd-\" + name;\n    }\n\n    if (shift) {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n\n\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n\n    for (var keyname in keymap) {\n      if (keymap.hasOwnProperty(keyname)) {\n        var value = keymap[keyname];\n\n        if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) {\n          continue;\n        }\n\n        if (value == \"...\") {\n          delete keymap[keyname];\n          continue;\n        }\n\n        var keys = map(keyname.split(\" \"), normalizeKeyName);\n\n        for (var i = 0; i < keys.length; i++) {\n          var val = void 0,\n              name = void 0;\n\n          if (i == keys.length - 1) {\n            name = keys.join(\" \");\n            val = value;\n          } else {\n            name = keys.slice(0, i + 1).join(\" \");\n            val = \"...\";\n          }\n\n          var prev = copy[name];\n\n          if (!prev) {\n            copy[name] = val;\n          } else if (prev != val) {\n            throw new Error(\"Inconsistent bindings for \" + name);\n          }\n        }\n\n        delete keymap[keyname];\n      }\n    }\n\n    for (var prop in copy) {\n      keymap[prop] = copy[prop];\n    }\n\n    return keymap;\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n\n    if (found === false) {\n      return \"nothing\";\n    }\n\n    if (found === \"...\") {\n      return \"multi\";\n    }\n\n    if (found != null && handle(found)) {\n      return \"handled\";\n    }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\") {\n        return lookupKey(key, map.fallthrough, handle, context);\n      }\n\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n\n        if (result) {\n          return result;\n        }\n      }\n    }\n  } // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n\n\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n\n    if (event.altKey && base != \"Alt\") {\n      name = \"Alt-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") {\n      name = \"Ctrl-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") {\n      name = \"Cmd-\" + name;\n    }\n\n    if (!noShift && event.shiftKey && base != \"Shift\") {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // Look up the name of a key as indicated by an event object.\n\n\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) {\n      return false;\n    }\n\n    var name = keyNames[event.keyCode];\n\n    if (name == null || event.altGraphKey) {\n      return false;\n    } // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n\n\n    if (event.keyCode == 3 && event.code) {\n      name = event.code;\n    }\n\n    return addModifierNames(name, event, noShift);\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val;\n  } // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n\n\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges,\n        kill = []; // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break;\n        }\n      }\n\n      kill.push(toKill);\n    } // Next, remove those actual ranges.\n\n\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--) {\n        _replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\");\n      }\n\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target;\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\");\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") {\n        dir = -dir;\n      }\n\n      var order = getOrder(lineObj, cm.doc.direction);\n\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = dir < 0 == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch; // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) {\n            return measureCharPrepared(cm, prep, ch).top == targetTop;\n          }, dir < 0 == (part.level == 1) ? part.from : part.to - 1, ch);\n\n          if (sticky == \"before\") {\n            ch = moveCharLogically(lineObj, ch, 1);\n          }\n        } else {\n          ch = dir < 0 ? part.to : part.from;\n        }\n\n        return new Pos(lineNo, ch, sticky);\n      }\n    }\n\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\");\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n\n    if (!bidi) {\n      return moveLogically(line, start, dir);\n    }\n\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky),\n        part = bidi[partPos];\n\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir);\n    }\n\n    var mv = function mv(pos, dir) {\n      return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir);\n    };\n\n    var prep;\n\n    var getWrappedLineExtent = function getWrappedLineExtent(ch) {\n      if (!cm.options.lineWrapping) {\n        return {\n          begin: 0,\n          end: line.text.length\n        };\n      }\n\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch);\n    };\n\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = part.level == 1 == dir < 0;\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky);\n      }\n    } // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n\n    var searchInVisualLine = function searchInVisualLine(partPos, dir, wrappedLineExtent) {\n      var getRes = function getRes(ch, moveInStorageOrder) {\n        return moveInStorageOrder ? new Pos(start.line, mv(ch, 1), \"before\") : new Pos(start.line, ch, \"after\");\n      };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = dir > 0 == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n\n        if (part.from <= ch && ch < part.to) {\n          return getRes(ch, moveInStorageOrder);\n        }\n\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) {\n          return getRes(ch, moveInStorageOrder);\n        }\n      }\n    }; // Case 3a: Look for other bidi parts on the same visual line\n\n\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n\n    if (res) {\n      return res;\n    } // Case 3b: Look for other bidi parts on the next visual line\n\n\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n\n      if (res) {\n        return res;\n      }\n    } // Case 4: Nowhere to move\n\n\n    return null;\n  } // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n\n\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function singleSelection(cm) {\n      return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll);\n    },\n    killLine: function killLine(cm) {\n      return deleteNearSelection(cm, function (range) {\n        if (range.empty()) {\n          var len = getLine(cm.doc, range.head.line).text.length;\n\n          if (range.head.ch == len && range.head.line < cm.lastLine()) {\n            return {\n              from: range.head,\n              to: Pos(range.head.line + 1, 0)\n            };\n          } else {\n            return {\n              from: range.head,\n              to: Pos(range.head.line, len)\n            };\n          }\n        } else {\n          return {\n            from: range.from(),\n            to: range.to()\n          };\n        }\n      });\n    },\n    deleteLine: function deleteLine(cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: _clipPos(cm.doc, Pos(range.to().line + 1, 0))\n        };\n      });\n    },\n    delLineLeft: function delLineLeft(cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineLeft: function delWrappedLineLeft(cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var leftPos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n        return {\n          from: leftPos,\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineRight: function delWrappedLineRight(cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var rightPos = cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n        return {\n          from: range.from(),\n          to: rightPos\n        };\n      });\n    },\n    undo: function undo(cm) {\n      return cm.undo();\n    },\n    redo: function redo(cm) {\n      return cm.redo();\n    },\n    undoSelection: function undoSelection(cm) {\n      return cm.undoSelection();\n    },\n    redoSelection: function redoSelection(cm) {\n      return cm.redoSelection();\n    },\n    goDocStart: function goDocStart(cm) {\n      return cm.extendSelection(Pos(cm.firstLine(), 0));\n    },\n    goDocEnd: function goDocEnd(cm) {\n      return cm.extendSelection(Pos(cm.lastLine()));\n    },\n    goLineStart: function goLineStart(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStart(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineStartSmart: function goLineStartSmart(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStartSmart(cm, range.head);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineEnd: function goLineEnd(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineEnd(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: -1\n      });\n    },\n    goLineRight: function goLineRight(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeft: function goLineLeft(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeftSmart: function goLineLeftSmart(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        var pos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n\n        if (pos.ch < cm.getLine(pos.line).search(/\\S/)) {\n          return lineStartSmart(cm, range.head);\n        }\n\n        return pos;\n      }, sel_move);\n    },\n    goLineUp: function goLineUp(cm) {\n      return cm.moveV(-1, \"line\");\n    },\n    goLineDown: function goLineDown(cm) {\n      return cm.moveV(1, \"line\");\n    },\n    goPageUp: function goPageUp(cm) {\n      return cm.moveV(-1, \"page\");\n    },\n    goPageDown: function goPageDown(cm) {\n      return cm.moveV(1, \"page\");\n    },\n    goCharLeft: function goCharLeft(cm) {\n      return cm.moveH(-1, \"char\");\n    },\n    goCharRight: function goCharRight(cm) {\n      return cm.moveH(1, \"char\");\n    },\n    goColumnLeft: function goColumnLeft(cm) {\n      return cm.moveH(-1, \"column\");\n    },\n    goColumnRight: function goColumnRight(cm) {\n      return cm.moveH(1, \"column\");\n    },\n    goWordLeft: function goWordLeft(cm) {\n      return cm.moveH(-1, \"word\");\n    },\n    goGroupRight: function goGroupRight(cm) {\n      return cm.moveH(1, \"group\");\n    },\n    goGroupLeft: function goGroupLeft(cm) {\n      return cm.moveH(-1, \"group\");\n    },\n    goWordRight: function goWordRight(cm) {\n      return cm.moveH(1, \"word\");\n    },\n    delCharBefore: function delCharBefore(cm) {\n      return cm.deleteH(-1, \"char\");\n    },\n    delCharAfter: function delCharAfter(cm) {\n      return cm.deleteH(1, \"char\");\n    },\n    delWordBefore: function delWordBefore(cm) {\n      return cm.deleteH(-1, \"word\");\n    },\n    delWordAfter: function delWordAfter(cm) {\n      return cm.deleteH(1, \"word\");\n    },\n    delGroupBefore: function delGroupBefore(cm) {\n      return cm.deleteH(-1, \"group\");\n    },\n    delGroupAfter: function delGroupAfter(cm) {\n      return cm.deleteH(1, \"group\");\n    },\n    indentAuto: function indentAuto(cm) {\n      return cm.indentSelection(\"smart\");\n    },\n    indentMore: function indentMore(cm) {\n      return cm.indentSelection(\"add\");\n    },\n    indentLess: function indentLess(cm) {\n      return cm.indentSelection(\"subtract\");\n    },\n    insertTab: function insertTab(cm) {\n      return cm.replaceSelection(\"\\t\");\n    },\n    insertSoftTab: function insertSoftTab(cm) {\n      var spaces = [],\n          ranges = cm.listSelections(),\n          tabSize = cm.options.tabSize;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function defaultTab(cm) {\n      if (cm.somethingSelected()) {\n        cm.indentSelection(\"add\");\n      } else {\n        cm.execCommand(\"insertTab\");\n      }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function transposeChars(cm) {\n      return runInOp(cm, function () {\n        var ranges = cm.listSelections(),\n            newSel = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          if (!ranges[i].empty()) {\n            continue;\n          }\n\n          var cur = ranges[i].head,\n              line = getLine(cm.doc, cur.line).text;\n\n          if (line) {\n            if (cur.ch == line.length) {\n              cur = new Pos(cur.line, cur.ch - 1);\n            }\n\n            if (cur.ch > 0) {\n              cur = new Pos(cur.line, cur.ch + 1);\n              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2), Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n            } else if (cur.line > cm.doc.first) {\n              var prev = getLine(cm.doc, cur.line - 1).text;\n\n              if (prev) {\n                cur = new Pos(cur.line, 1);\n                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() + prev.charAt(prev.length - 1), Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n              }\n            }\n          }\n\n          newSel.push(new Range(cur, cur));\n        }\n\n        cm.setSelections(newSel);\n      });\n    },\n    newlineAndIndent: function newlineAndIndent(cm) {\n      return runInOp(cm, function () {\n        var sels = cm.listSelections();\n\n        for (var i = sels.length - 1; i >= 0; i--) {\n          cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\");\n        }\n\n        sels = cm.listSelections();\n\n        for (var i$1 = 0; i$1 < sels.length; i$1++) {\n          cm.indentLine(sels[i$1].from().line, null, true);\n        }\n\n        ensureCursorVisible(cm);\n      });\n    },\n    openLine: function openLine(cm) {\n      return cm.replaceSelection(\"\\n\", \"start\");\n    },\n    toggleOverwrite: function toggleOverwrite(cm) {\n      return cm.toggleOverwrite();\n    }\n  };\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, visual, lineN, 1);\n  }\n\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, line, lineN, -1);\n  }\n\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky);\n    }\n\n    return start;\n  } // Run a handler that was bound to a key.\n\n\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n\n      if (!bound) {\n        return false;\n      }\n    } // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n\n\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift,\n        done = false;\n\n    try {\n      if (cm.isReadOnly()) {\n        cm.state.suppressEdits = true;\n      }\n\n      if (dropShift) {\n        cm.display.shift = false;\n      }\n\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n\n    return done;\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n\n      if (result) {\n        return result;\n      }\n    }\n\n    return cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm) || lookupKey(name, cm.options.keyMap, handle, cm);\n  } // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n\n  var stopSeq = new Delayed();\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n\n    if (seq) {\n      if (isModifierKey(name)) {\n        return \"handled\";\n      }\n\n      if (/\\'$/.test(name)) {\n        cm.state.keySeq = null;\n      } else {\n        stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        });\n      }\n\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) {\n        return true;\n      }\n    }\n\n    return dispatchKeyInner(cm, name, e, handle);\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\") {\n      cm.state.keySeq = name;\n    }\n\n    if (result == \"handled\") {\n      signalLater(cm, \"keyHandled\", cm, name, e);\n    }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result;\n  } // Handle a key from the keydown event.\n\n\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n\n    if (!name) {\n      return false;\n    }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) {\n        return doHandleBinding(cm, b, true);\n      }) || dispatchKey(cm, name, e, function (b) {\n        if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion) {\n          return doHandleBinding(cm, b);\n        }\n      });\n    } else {\n      return dispatchKey(cm, name, e, function (b) {\n        return doHandleBinding(cm, b);\n      });\n    }\n  } // Handle a key from the keypress event\n\n\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) {\n      return doHandleBinding(cm, b, true);\n    });\n  }\n\n  var lastStoppedKey = null;\n\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n\n    if (signalDOMEvent(cm, e)) {\n      return;\n    } // IE does strange things with escape.\n\n\n    if (ie && ie_version < 11 && e.keyCode == 27) {\n      e.returnValue = false;\n    }\n\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n\n    if (presto) {\n      lastStoppedKey = handled ? code : null; // Opera has no cut event... we try to at least catch the key combo\n\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey)) {\n        cm.replaceSelection(\"\", null, \"cut\");\n      }\n    }\n\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand) {\n      document.execCommand(\"cut\");\n    } // Turn mouse into crosshair when Alt is held on Mac.\n\n\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className)) {\n      showCrossHair(cm);\n    }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) {\n      this.doc.sel.shift = false;\n    }\n\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) {\n      return;\n    }\n\n    var keyCode = e.keyCode,\n        charCode = e.charCode;\n\n    if (presto && keyCode == lastStoppedKey) {\n      lastStoppedKey = null;\n      e_preventDefault(e);\n      return;\n    }\n\n    if (presto && (!e.which || e.which < 10) && handleKeyBinding(cm, e)) {\n      return;\n    }\n\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode); // Some browsers fire keypress events for backspace\n\n    if (ch == \"\\x08\") {\n      return;\n    }\n\n    if (handleCharBinding(cm, e, ch)) {\n      return;\n    }\n\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function PastClick(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time && cmp(pos, this.pos) == 0 && button == this.button;\n  };\n\n  var lastClick, lastDoubleClick;\n\n  function clickRepeat(pos, button) {\n    var now = +new Date();\n\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\";\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\";\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\";\n    }\n  } // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n\n\n  function onMouseDown(e) {\n    var cm = this,\n        display = cm.display;\n\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) {\n      return;\n    }\n\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () {\n          return display.scroller.draggable = true;\n        }, 100);\n      }\n\n      return;\n    }\n\n    if (clickInGutter(cm, e)) {\n      return;\n    }\n\n    var pos = posFromMouse(cm, e),\n        button = e_button(e),\n        repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus(); // #3261: make sure, that we're not starting a second selection\n\n    if (button == 1 && cm.state.selectingText) {\n      cm.state.selectingText(e);\n    }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) {\n      return;\n    }\n\n    if (button == 1) {\n      if (pos) {\n        leftButtonDown(cm, pos, repeat, e);\n      } else if (e_target(e) == display.scroller) {\n        e_preventDefault(e);\n      }\n    } else if (button == 2) {\n      if (pos) {\n        extendSelection(cm.doc, pos);\n      }\n\n      setTimeout(function () {\n        return display.input.focus();\n      }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) {\n        cm.display.input.onContextMenu(e);\n      } else {\n        delayBlurEvent(cm);\n      }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n\n    if (repeat == \"double\") {\n      name = \"Double\" + name;\n    } else if (repeat == \"triple\") {\n      name = \"Triple\" + name;\n    }\n\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n    return dispatchKey(cm, addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") {\n        bound = commands[bound];\n      }\n\n      if (!bound) {\n        return false;\n      }\n\n      var done = false;\n\n      try {\n        if (cm.isReadOnly()) {\n          cm.state.suppressEdits = true;\n        }\n\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n\n      return done;\n    });\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n\n    if (value.extend == null || cm.doc.extend) {\n      value.extend = cm.doc.extend || event.shiftKey;\n    }\n\n    if (value.addNew == null) {\n      value.addNew = mac ? event.metaKey : event.ctrlKey;\n    }\n\n    if (value.moveOnDrag == null) {\n      value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey);\n    }\n\n    return value;\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) {\n      setTimeout(bind(ensureFocus, cm), 0);\n    } else {\n      cm.curOp.focus = activeElt();\n    }\n\n    var behavior = configureMouse(cm, repeat, event);\n    var sel = cm.doc.sel,\n        contained;\n\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() && repeat == \"single\" && (contained = sel.contains(pos)) > -1 && (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) && (cmp(contained.to(), pos) > 0 || pos.xRel < 0)) {\n      leftButtonStartDrag(cm, event, pos, behavior);\n    } else {\n      leftButtonSelect(cm, event, pos, behavior);\n    }\n  } // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n\n\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display,\n        moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) {\n        display.scroller.draggable = false;\n      }\n\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n\n      if (!moved) {\n        e_preventDefault(e);\n\n        if (!behavior.addNew) {\n          extendSelection(cm.doc, pos, null, null, behavior.extend);\n        } // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n\n\n        if (webkit || ie && ie_version == 9) {\n          setTimeout(function () {\n            display.wrapper.ownerDocument.body.focus();\n            display.input.focus();\n          }, 20);\n        } else {\n          display.input.focus();\n        }\n      }\n    });\n\n    var mouseMove = function mouseMove(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n\n    var dragStart = function dragStart() {\n      return moved = true;\n    }; // Let the drag handler handle this.\n\n\n    if (webkit) {\n      display.scroller.draggable = true;\n    }\n\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag; // IE's approach to draggable\n\n    if (display.scroller.dragDrop) {\n      display.scroller.dragDrop();\n    }\n\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n    delayBlurEvent(cm);\n    setTimeout(function () {\n      return display.input.focus();\n    }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") {\n      return new Range(pos, pos);\n    }\n\n    if (unit == \"word\") {\n      return cm.findWordAt(pos);\n    }\n\n    if (unit == \"line\") {\n      return new Range(Pos(pos.line, 0), _clipPos(cm.doc, Pos(pos.line + 1, 0)));\n    }\n\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to);\n  } // Normal selection, as opposed to text dragging.\n\n\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display,\n        doc = cm.doc;\n    e_preventDefault(event);\n    var ourRange,\n        ourIndex,\n        startSel = doc.sel,\n        ranges = startSel.ranges;\n\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n\n      if (ourIndex > -1) {\n        ourRange = ranges[ourIndex];\n      } else {\n        ourRange = new Range(start, start);\n      }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) {\n        ourRange = new Range(start, start);\n      }\n\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n\n      if (behavior.extend) {\n        ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend);\n      } else {\n        ourRange = range;\n      }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) {\n        return;\n      }\n\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [],\n            tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol),\n            right = Math.max(startCol, posCol);\n\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line)); line <= end; line++) {\n          var text = getLine(doc, line).text,\n              leftPos = findColumn(text, left, tabSize);\n\n          if (left == right) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));\n          } else if (text.length > leftPos) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));\n          }\n        }\n\n        if (!ranges.length) {\n          ranges.push(new Range(start, start));\n        }\n\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex), {\n          origin: \"*mouse\",\n          scroll: false\n        });\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor,\n            head;\n\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(_clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect(); // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n\n      if (!cur) {\n        return;\n      }\n\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n\n        if (cur.line >= visible.to || cur.line < visible.from) {\n          setTimeout(operation(cm, function () {\n            if (counter == curCount) {\n              extend(e);\n            }\n          }), 150);\n        }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n\n        if (outside) {\n          setTimeout(operation(cm, function () {\n            if (counter != curCount) {\n              return;\n            }\n\n            display.scroller.scrollTop += outside;\n            extend(e);\n          }), 50);\n        }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity; // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) {\n        done(e);\n      } else {\n        extend(e);\n      }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  } // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n\n\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) {\n      return range;\n    }\n\n    var order = getOrder(anchorLine);\n\n    if (!order) {\n      return range;\n    }\n\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky),\n        part = order[index];\n\n    if (part.from != anchor.ch && part.to != anchor.ch) {\n      return range;\n    }\n\n    var boundary = index + (part.from == anchor.ch == (part.level != 1) ? 0 : 1);\n\n    if (boundary == 0 || boundary == order.length) {\n      return range;\n    } // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n\n\n    var leftSide;\n\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n\n      if (headIndex == boundary - 1 || headIndex == boundary) {\n        leftSide = dir < 0;\n      } else {\n        leftSide = dir > 0;\n      }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to,\n        sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head);\n  } // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n\n\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try {\n        mX = e.clientX;\n        mY = e.clientY;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) {\n      return false;\n    }\n\n    if (prevent) {\n      e_preventDefault(e);\n    }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) {\n      return e_defaultPrevented(e);\n    }\n\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = _lineAtHeight(cm.doc, mY);\n\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e);\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true);\n  } // CONTEXT MENU HANDLING\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n\n\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) {\n      return;\n    }\n\n    if (signalDOMEvent(cm, e, \"contextmenu\")) {\n      return;\n    }\n\n    if (!captureRightClick) {\n      cm.display.input.onContextMenu(e);\n    }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) {\n      return false;\n    }\n\n    return gutterEvent(cm, e, \"gutterContextMenu\", false);\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") + cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {\n    toString: function toString() {\n      return \"CodeMirror.Init\";\n    }\n  };\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n\n      if (handle) {\n        optionHandlers[name] = notOnInit ? function (cm, val, old) {\n          if (old != Init) {\n            handle(cm, val, old);\n          }\n        } : handle;\n      }\n    }\n\n    CodeMirror.defineOption = option; // Passed to option handlers when there is no old value.\n\n    CodeMirror.Init = Init; // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n\n    option(\"value\", \"\", function (cm, val) {\n      return cm.setValue(val);\n    }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n\n      if (!val) {\n        return;\n      }\n\n      var newBreaks = [],\n          lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n\n          if (found == -1) {\n            break;\n          }\n\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n\n        lineNo++;\n      });\n\n      for (var i = newBreaks.length - 1; i >= 0; i--) {\n        _replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length));\n      }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n\n      if (old != Init) {\n        cm.refresh();\n      }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\"); // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) {\n      return cm.getInputField().spellcheck = val;\n    }, true);\n    option(\"autocorrect\", false, function (cm, val) {\n      return cm.getInputField().autocorrect = val;\n    }, true);\n    option(\"autocapitalize\", false, function (cm, val) {\n      return cm.getInputField().autocapitalize = val;\n    }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n\n      if (prev && prev.detach) {\n        prev.detach(cm, next);\n      }\n\n      if (next.attach) {\n        next.attach(cm, prev || null);\n      }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) {\n      return updateScrollbars(cm);\n    }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) {\n      return integer;\n    }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = val === '' ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {\n      if (!val) {\n        cm.display.input.reset();\n      }\n    }, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) {\n      return cm.doc.history.undoDepth = val;\n    });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) {\n        cm.display.input.resetPosition();\n      }\n    });\n    option(\"tabindex\", null, function (cm, val) {\n      return cm.display.input.getField().tabIndex = val || \"\";\n    });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) {\n      return cm.doc.setDirection(val);\n    }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () {\n      return updateScrollbars(cm);\n    }, 100);\n  } // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) {\n      return new CodeMirror(place, options);\n    }\n\n    this.options = options = options ? copyObj(options) : {}; // Determine effective options based on given values and defaults.\n\n    copyObj(defaults, options, false);\n    var doc = options.value;\n\n    if (typeof doc == \"string\") {\n      doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction);\n    } else if (options.mode) {\n      doc.modeOption = options.mode;\n    }\n\n    this.doc = doc;\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n\n    if (options.lineWrapping) {\n      this.display.wrapper.className += \" CodeMirror-wrap\";\n    }\n\n    initScrollbars(this);\n    this.state = {\n      keyMaps: [],\n      // stores maps added by addKeyMap\n      overlays: [],\n      // highlighting overlays, as added by addOverlay\n      modeGen: 0,\n      // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false,\n      // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1,\n      cutIncoming: -1,\n      // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(),\n      // stores highlight worker timeout\n      keySeq: null,\n      // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) {\n      display.input.focus();\n    } // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n\n\n    if (ie && ie_version < 11) {\n      setTimeout(function () {\n        return this$1.display.input.reset(true);\n      }, 20);\n    }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    _startOperation(this);\n\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if (options.autofocus && !mobile || this.hasFocus()) {\n      setTimeout(bind(onFocus, this), 20);\n    } else {\n      onBlur(this);\n    }\n\n    for (var opt in optionHandlers) {\n      if (optionHandlers.hasOwnProperty(opt)) {\n        optionHandlers[opt](this, options[opt], Init);\n      }\n    }\n\n    maybeUpdateLineNumberWidth(this);\n\n    if (options.finishInit) {\n      options.finishInit(this);\n    }\n\n    for (var i = 0; i < initHooks.length; ++i) {\n      initHooks[i](this);\n    }\n\n    _endOperation(this); // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n\n\n    if (webkit && options.lineWrapping && getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\") {\n      display.lineDiv.style.textRendering = \"auto\";\n    }\n  } // The default configuration options.\n\n\n  CodeMirror.defaults = defaults; // Functions to run when options are changed.\n\n  CodeMirror.optionHandlers = optionHandlers; // Attach the necessary event handlers when initializing the editor\n\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown)); // Older IE's will not fire a second mousedown for a double click\n\n    if (ie && ie_version < 11) {\n      on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) {\n          return;\n        }\n\n        var pos = posFromMouse(cm, e);\n\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) {\n          return;\n        }\n\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      }));\n    } else {\n      on(d.scroller, \"dblclick\", function (e) {\n        return signalDOMEvent(cm, e) || e_preventDefault(e);\n      });\n    } // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n\n\n    on(d.scroller, \"contextmenu\", function (e) {\n      return onContextMenu(cm, e);\n    });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) {\n        onContextMenu(cm, e);\n      }\n    }); // Used to suppress mouse event handling when a touch happens\n\n    var touchFinished,\n        prevTouch = {\n      end: 0\n    };\n\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () {\n          return d.activeTouch = null;\n        }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date();\n      }\n    }\n\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) {\n        return false;\n      }\n\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1;\n    }\n\n    function farAway(touch, other) {\n      if (other.left == null) {\n        return true;\n      }\n\n      var dx = other.left - touch.left,\n          dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20;\n    }\n\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date();\n        d.activeTouch = {\n          start: now,\n          moved: false,\n          prev: now - prevTouch.end <= 300 ? prevTouch : null\n        };\n\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) {\n        d.activeTouch.moved = true;\n      }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n\n      if (touch && !eventInWidget(d, e) && touch.left != null && !touch.moved && new Date() - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"),\n            range;\n\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          {\n            range = new Range(pos, pos);\n          } else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          {\n            range = cm.findWordAt(pos);\n          } else // Triple tap\n          {\n            range = new Range(Pos(pos.line, 0), _clipPos(cm.doc, Pos(pos.line + 1, 0)));\n          }\n\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch); // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    }); // Listen to wheel events in order to try and update the viewport on time.\n\n    on(d.scroller, \"mousewheel\", function (e) {\n      return onScrollWheel(cm, e);\n    });\n    on(d.scroller, \"DOMMouseScroll\", function (e) {\n      return onScrollWheel(cm, e);\n    }); // Prevent wrapper from ever scrolling\n\n    on(d.wrapper, \"scroll\", function () {\n      return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0;\n    });\n    d.dragFunctions = {\n      enter: function enter(e) {\n        if (!signalDOMEvent(cm, e)) {\n          e_stop(e);\n        }\n      },\n      over: function over(e) {\n        if (!signalDOMEvent(cm, e)) {\n          onDragOver(cm, e);\n          e_stop(e);\n        }\n      },\n      start: function start(e) {\n        return onDragStart(cm, e);\n      },\n      drop: operation(cm, onDrop),\n      leave: function leave(e) {\n        if (!signalDOMEvent(cm, e)) {\n          clearDragCursor(cm);\n        }\n      }\n    };\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) {\n      return onKeyUp.call(cm, e);\n    });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) {\n      return onFocus(cm, e);\n    });\n    on(inp, \"blur\", function (e) {\n      return onBlur(cm, e);\n    });\n  }\n\n  var initHooks = [];\n\n  CodeMirror.defineInitHook = function (f) {\n    return initHooks.push(f);\n  }; // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n\n\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc,\n        state;\n\n    if (how == null) {\n      how = \"add\";\n    }\n\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) {\n        how = \"prev\";\n      } else {\n        state = getContextBefore(cm, n).state;\n      }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n),\n        curSpace = countColumn(line.text, null, tabSize);\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    var curSpaceString = line.text.match(/^\\s*/)[0],\n        indentation;\n\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) {\n          return;\n        }\n\n        how = \"prev\";\n      }\n    }\n\n    if (how == \"prev\") {\n      if (n > doc.first) {\n        indentation = countColumn(getLine(doc, n - 1).text, null, tabSize);\n      } else {\n        indentation = 0;\n      }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n\n    indentation = Math.max(0, indentation);\n    var indentString = \"\",\n        pos = 0;\n\n    if (cm.options.indentWithTabs) {\n      for (var i = Math.floor(indentation / tabSize); i; --i) {\n        pos += tabSize;\n        indentString += \"\\t\";\n      }\n    }\n\n    if (pos < indentation) {\n      indentString += spaceStr(indentation - pos);\n    }\n\n    if (indentString != curSpaceString) {\n      _replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n\n      line.stateAfter = null;\n      return true;\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break;\n        }\n      }\n    }\n  } // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n\n\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n\n    if (!sel) {\n      sel = doc.sel;\n    }\n\n    var recent = +new Date() - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted),\n        multiPaste = null; // When pasting N lines into N selections, insert one line per selection\n\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n\n          for (var i = 0; i < lastCopied.text.length; i++) {\n            multiPaste.push(doc.splitLines(lastCopied.text[i]));\n          }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) {\n          return [l];\n        });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput; // Normal behavior is to insert the new text into every selection\n\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(),\n          to = range.to();\n\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          {\n            from = Pos(from.line, from.ch - deleted);\n          } else if (cm.state.overwrite && !paste) // Handle overwrite\n          {\n            to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));\n          } else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted) {\n          from = to = Pos(from.line, 0);\n        }\n      }\n\n      var changeEvent = {\n        from: from,\n        to: to,\n        text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n        origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")\n      };\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n\n    if (inserted && !paste) {\n      triggerElectric(cm, inserted);\n    }\n\n    ensureCursorVisible(cm);\n\n    if (cm.curOp.updateInput < 2) {\n      cm.curOp.updateInput = updateInput;\n    }\n\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n\n    if (pasted) {\n      e.preventDefault();\n\n      if (!cm.isReadOnly() && !cm.options.disableInput) {\n        runInOp(cm, function () {\n          return applyTextInput(cm, pasted, 0, null, \"paste\");\n        });\n      }\n\n      return true;\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) {\n      return;\n    }\n\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n\n      if (range.head.ch > 100 || i && sel.ranges[i - 1].head.line == range.head.line) {\n        continue;\n      }\n\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++) {\n          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break;\n          }\n        }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch))) {\n          indented = indentLine(cm, range.head.line, \"smart\");\n        }\n      }\n\n      if (indented) {\n        signalLater(cm, \"electricInput\", cm, range.head.line);\n      }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [],\n        ranges = [];\n\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {\n        anchor: Pos(line, 0),\n        head: Pos(line + 1, 0)\n      };\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n\n    return {\n      text: text,\n      ranges: ranges\n    };\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\"); // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n\n    if (webkit) {\n      te.style.width = \"1000px\";\n    } else {\n      te.setAttribute(\"wrap\", \"off\");\n    } // If border: 0; -- iOS fails to open keyboard (issue #1287)\n\n\n    if (ios) {\n      te.style.border = \"1px solid black\";\n    }\n\n    disableBrowserMagic(te);\n    return div;\n  } // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n    var helpers = CodeMirror.helpers = {};\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function focus() {\n        window.focus();\n        this.display.input.focus();\n      },\n      setOption: function setOption(option, value) {\n        var options = this.options,\n            old = options[option];\n\n        if (options[option] == value && option != \"mode\") {\n          return;\n        }\n\n        options[option] = value;\n\n        if (optionHandlers.hasOwnProperty(option)) {\n          operation(this, optionHandlers[option])(this, value, old);\n        }\n\n        signal(this, \"optionChange\", this, option);\n      },\n      getOption: function getOption(option) {\n        return this.options[option];\n      },\n      getDoc: function getDoc() {\n        return this.doc;\n      },\n      addKeyMap: function addKeyMap(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function removeKeyMap(map) {\n        var maps = this.state.keyMaps;\n\n        for (var i = 0; i < maps.length; ++i) {\n          if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true;\n          }\n        }\n      },\n      addOverlay: methodOp(function (spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n\n        if (mode.startState) {\n          throw new Error(\"Overlays may not be stateful.\");\n        }\n\n        insertSorted(this.state.overlays, {\n          mode: mode,\n          modeSpec: spec,\n          opaque: options && options.opaque,\n          priority: options && options.priority || 0\n        }, function (overlay) {\n          return overlay.priority;\n        });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function (spec) {\n        var overlays = this.state.overlays;\n\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return;\n          }\n        }\n      }),\n      indentLine: methodOp(function (n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) {\n            dir = this.options.smartIndent ? \"smart\" : \"prev\";\n          } else {\n            dir = dir ? \"add\" : \"subtract\";\n          }\n        }\n\n        if (isLine(this.doc, n)) {\n          indentLine(this, n, dir, aggressive);\n        }\n      }),\n      indentSelection: methodOp(function (how) {\n        var ranges = this.doc.sel.ranges,\n            end = -1;\n\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n\n          if (!range.empty()) {\n            var from = range.from(),\n                to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n\n            for (var j = start; j < end; ++j) {\n              indentLine(this, j, how);\n            }\n\n            var newRanges = this.doc.sel.ranges;\n\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0) {\n              replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);\n            }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n\n            if (i == this.doc.sel.primIndex) {\n              ensureCursorVisible(this);\n            }\n          }\n        }\n      }),\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function getTokenAt(pos, precise) {\n        return takeToken(this, pos, precise);\n      },\n      getLineTokens: function getLineTokens(line, precise) {\n        return takeToken(this, Pos(line), precise, true);\n      },\n      getTokenTypeAt: function getTokenTypeAt(pos) {\n        pos = _clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0,\n            after = (styles.length - 1) / 2,\n            ch = pos.ch;\n        var type;\n\n        if (ch == 0) {\n          type = styles[2];\n        } else {\n          for (;;) {\n            var mid = before + after >> 1;\n\n            if ((mid ? styles[mid * 2 - 1] : 0) >= ch) {\n              after = mid;\n            } else if (styles[mid * 2 + 1] < ch) {\n              before = mid + 1;\n            } else {\n              type = styles[mid * 2 + 2];\n              break;\n            }\n          }\n        }\n\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);\n      },\n      getModeAt: function getModeAt(pos) {\n        var mode = this.doc.mode;\n\n        if (!mode.innerMode) {\n          return mode;\n        }\n\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;\n      },\n      getHelper: function getHelper(pos, type) {\n        return this.getHelpers(pos, type)[0];\n      },\n      getHelpers: function getHelpers(pos, type) {\n        var found = [];\n\n        if (!helpers.hasOwnProperty(type)) {\n          return found;\n        }\n\n        var help = helpers[type],\n            mode = this.getModeAt(pos);\n\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) {\n            found.push(help[mode[type]]);\n          }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n\n            if (val) {\n              found.push(val);\n            }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1) {\n            found.push(cur.val);\n          }\n        }\n\n        return found;\n      },\n      getStateAfter: function getStateAfter(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1 : line);\n        return getContextBefore(this, line + 1, precise).state;\n      },\n      cursorCoords: function cursorCoords(start, mode) {\n        var pos,\n            range = this.doc.sel.primary();\n\n        if (start == null) {\n          pos = range.head;\n        } else if (typeof start == \"object\") {\n          pos = _clipPos(this.doc, start);\n        } else {\n          pos = start ? range.from() : range.to();\n        }\n\n        return _cursorCoords(this, pos, mode || \"page\");\n      },\n      charCoords: function charCoords(pos, mode) {\n        return _charCoords(this, _clipPos(this.doc, pos), mode || \"page\");\n      },\n      coordsChar: function coordsChar(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return _coordsChar(this, coords.left, coords.top);\n      },\n      lineAtHeight: function lineAtHeight(height, mode) {\n        height = fromCoordSystem(this, {\n          top: height,\n          left: 0\n        }, mode || \"page\").top;\n        return _lineAtHeight(this.doc, height + this.display.viewOffset);\n      },\n      heightAtLine: function heightAtLine(line, mode, includeWidgets) {\n        var end = false,\n            lineObj;\n\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n\n          if (line < this.doc.first) {\n            line = this.doc.first;\n          } else if (line > last) {\n            line = last;\n            end = true;\n          }\n\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n\n        return intoCoordSystem(this, lineObj, {\n          top: 0,\n          left: 0\n        }, mode || \"page\", includeWidgets || end).top + (end ? this.doc.height - _heightAtLine(lineObj) : 0);\n      },\n      defaultTextHeight: function defaultTextHeight() {\n        return textHeight(this.display);\n      },\n      defaultCharWidth: function defaultCharWidth() {\n        return charWidth(this.display);\n      },\n      getViewport: function getViewport() {\n        return {\n          from: this.display.viewFrom,\n          to: this.display.viewTo\n        };\n      },\n      addWidget: function addWidget(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = _cursorCoords(this, _clipPos(this.doc, pos));\n        var top = pos.bottom,\n            left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n              hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth); // Default to positioning above (if specified and possible); otherwise default to positioning below\n\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight) {\n            top = pos.top - node.offsetHeight;\n          } else if (pos.bottom + node.offsetHeight <= vspace) {\n            top = pos.bottom;\n          }\n\n          if (left + node.offsetWidth > hspace) {\n            left = hspace - node.offsetWidth;\n          }\n        }\n\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") {\n            left = 0;\n          } else if (horiz == \"middle\") {\n            left = (display.sizer.clientWidth - node.offsetWidth) / 2;\n          }\n\n          node.style.left = left + \"px\";\n        }\n\n        if (scroll) {\n          scrollIntoView(this, {\n            left: left,\n            top: top,\n            right: left + node.offsetWidth,\n            bottom: top + node.offsetHeight\n          });\n        }\n      },\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n      execCommand: function execCommand(cmd) {\n        if (commands.hasOwnProperty(cmd)) {\n          return commands[cmd].call(null, this);\n        }\n      },\n      triggerElectric: methodOp(function (text) {\n        triggerElectric(this, text);\n      }),\n      findPosH: function findPosH(from, amount, unit, visually) {\n        var dir = 1;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = _clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          cur = _findPosH(this.doc, cur, dir, unit, visually);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveH: methodOp(function (dir, unit) {\n        var this$1 = this;\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty()) {\n            return _findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually);\n          } else {\n            return dir < 0 ? range.from() : range.to();\n          }\n        }, sel_move);\n      }),\n      deleteH: methodOp(function (dir, unit) {\n        var sel = this.doc.sel,\n            doc = this.doc;\n\n        if (sel.somethingSelected()) {\n          doc.replaceSelection(\"\", null, \"+delete\");\n        } else {\n          deleteNearSelection(this, function (range) {\n            var other = _findPosH(doc, range.head, dir, unit, false);\n\n            return dir < 0 ? {\n              from: other,\n              to: range.head\n            } : {\n              from: range.head,\n              to: other\n            };\n          });\n        }\n      }),\n      findPosV: function findPosV(from, amount, unit, goalColumn) {\n        var dir = 1,\n            x = goalColumn;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = _clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          var coords = _cursorCoords(this, cur, \"div\");\n\n          if (x == null) {\n            x = coords.left;\n          } else {\n            coords.left = x;\n          }\n\n          cur = _findPosV(this, coords, dir, unit);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveV: methodOp(function (dir, unit) {\n        var this$1 = this;\n        var doc = this.doc,\n            goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse) {\n            return dir < 0 ? range.from() : range.to();\n          }\n\n          var headPos = _cursorCoords(this$1, range.head, \"div\");\n\n          if (range.goalColumn != null) {\n            headPos.left = range.goalColumn;\n          }\n\n          goals.push(headPos.left);\n\n          var pos = _findPosV(this$1, headPos, dir, unit);\n\n          if (unit == \"page\" && range == doc.sel.primary()) {\n            addToScrollTop(this$1, _charCoords(this$1, pos, \"div\").top - headPos.top);\n          }\n\n          return pos;\n        }, sel_move);\n\n        if (goals.length) {\n          for (var i = 0; i < doc.sel.ranges.length; i++) {\n            doc.sel.ranges[i].goalColumn = goals[i];\n          }\n        }\n      }),\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function findWordAt(pos) {\n        var doc = this.doc,\n            line = getLine(doc, pos.line).text;\n        var start = pos.ch,\n            end = pos.ch;\n\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n\n          if ((pos.sticky == \"before\" || end == line.length) && start) {\n            --start;\n          } else {\n            ++end;\n          }\n\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper) ? function (ch) {\n            return isWordChar(ch, helper);\n          } : /\\s/.test(startChar) ? function (ch) {\n            return /\\s/.test(ch);\n          } : function (ch) {\n            return !/\\s/.test(ch) && !isWordChar(ch);\n          };\n\n          while (start > 0 && check(line.charAt(start - 1))) {\n            --start;\n          }\n\n          while (end < line.length && check(line.charAt(end))) {\n            ++end;\n          }\n        }\n\n        return new Range(Pos(pos.line, start), Pos(pos.line, end));\n      },\n      toggleOverwrite: function toggleOverwrite(value) {\n        if (value != null && value == this.state.overwrite) {\n          return;\n        }\n\n        if (this.state.overwrite = !this.state.overwrite) {\n          addClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        } else {\n          rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function hasFocus() {\n        return this.display.input.getField() == activeElt();\n      },\n      isReadOnly: function isReadOnly() {\n        return !!(this.options.readOnly || this.doc.cantEdit);\n      },\n      scrollTo: methodOp(function (x, y) {\n        scrollToCoords(this, x, y);\n      }),\n      getScrollInfo: function getScrollInfo() {\n        var scroller = this.display.scroller;\n        return {\n          left: scroller.scrollLeft,\n          top: scroller.scrollTop,\n          height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n          width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n          clientHeight: displayHeight(this),\n          clientWidth: displayWidth(this)\n        };\n      },\n      scrollIntoView: methodOp(function (range, margin) {\n        if (range == null) {\n          range = {\n            from: this.doc.sel.primary().head,\n            to: null\n          };\n\n          if (margin == null) {\n            margin = this.options.cursorScrollMargin;\n          }\n        } else if (typeof range == \"number\") {\n          range = {\n            from: Pos(range, 0),\n            to: null\n          };\n        } else if (range.from == null) {\n          range = {\n            from: range,\n            to: null\n          };\n        }\n\n        if (!range.to) {\n          range.to = range.from;\n        }\n\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n      setSize: methodOp(function (width, height) {\n        var this$1 = this;\n\n        var interpret = function interpret(val) {\n          return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val;\n        };\n\n        if (width != null) {\n          this.display.wrapper.style.width = interpret(width);\n        }\n\n        if (height != null) {\n          this.display.wrapper.style.height = interpret(height);\n        }\n\n        if (this.options.lineWrapping) {\n          clearLineMeasurementCache(this);\n        }\n\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) {\n            for (var i = 0; i < line.widgets.length; i++) {\n              if (line.widgets[i].noHScroll) {\n                regLineChange(this$1, lineNo, \"widget\");\n                break;\n              }\n            }\n          }\n\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n      operation: function operation(f) {\n        return runInOp(this, f);\n      },\n      startOperation: function startOperation() {\n        return _startOperation(this);\n      },\n      endOperation: function endOperation() {\n        return _endOperation(this);\n      },\n      refresh: methodOp(function () {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping) {\n          estimateLineHeights(this);\n        }\n\n        signal(this, \"refresh\", this);\n      }),\n      swapDoc: methodOp(function (doc) {\n        var old = this.doc;\n        old.cm = null; // Cancel the current text selection if any (#5821)\n\n        if (this.state.selectingText) {\n          this.state.selectingText();\n        }\n\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old;\n      }),\n      phrase: function phrase(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText;\n      },\n      getInputField: function getInputField() {\n        return this.display.input.getField();\n      },\n      getWrapperElement: function getWrapperElement() {\n        return this.display.wrapper;\n      },\n      getScrollerElement: function getScrollerElement() {\n        return this.display.scroller;\n      },\n      getGutterElement: function getGutterElement() {\n        return this.display.gutters;\n      }\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function (type, name, value) {\n      if (!helpers.hasOwnProperty(type)) {\n        helpers[type] = CodeMirror[type] = {\n          _global: []\n        };\n      }\n\n      helpers[type][name] = value;\n    };\n\n    CodeMirror.registerGlobalHelper = function (type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n\n      helpers[type]._global.push({\n        pred: predicate,\n        val: value\n      });\n    };\n  } // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n\n\n  function _findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n\n    function findNextLine() {\n      var l = pos.line + lineDir;\n\n      if (l < doc.first || l >= doc.first + doc.size) {\n        return false;\n      }\n\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l);\n    }\n\n    function moveOnce(boundToLine) {\n      var next;\n\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n\n      if (next == null) {\n        if (!boundToLine && findNextLine()) {\n          pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir);\n        } else {\n          return false;\n        }\n      } else {\n        pos = next;\n      }\n\n      return true;\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null,\n          group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) {\n          break;\n        }\n\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\" : group && cur == \"\\n\" ? \"n\" : !group || /\\s/.test(cur) ? null : \"p\";\n\n        if (group && !first && !type) {\n          type = \"s\";\n        }\n\n        if (sawType && sawType != type) {\n          if (dir < 0) {\n            dir = 1;\n            moveOnce();\n            pos.sticky = \"after\";\n          }\n\n          break;\n        }\n\n        if (type) {\n          sawType = type;\n        }\n\n        if (dir > 0 && !moveOnce(!first)) {\n          break;\n        }\n      }\n    }\n\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n\n    if (equalCursorPos(oldPos, result)) {\n      result.hitSide = true;\n    }\n\n    return result;\n  } // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n\n\n  function _findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc,\n        x = pos.left,\n        y;\n\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n\n    var target;\n\n    for (;;) {\n      target = _coordsChar(cm, x, y);\n\n      if (!target.outside) {\n        break;\n      }\n\n      if (dir < 0 ? y <= 0 : y >= doc.height) {\n        target.hitSide = true;\n        break;\n      }\n\n      y += dir * 5;\n    }\n\n    return target;\n  } // CONTENTEDITABLE INPUT STYLE\n\n\n  var ContentEditableInput = function ContentEditableInput(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      } // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n\n\n      if (ie_version <= 11) {\n        setTimeout(operation(cm, function () {\n          return this$1.updateFromDOM();\n        }), 20);\n      }\n    });\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {\n        data: e.data,\n        done: false\n      };\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) {\n        this$1.composing = {\n          data: e.data,\n          done: false\n        };\n      }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) {\n          this$1.readFromDOMSoon();\n        }\n\n        this$1.composing.done = true;\n      }\n    });\n    on(div, \"touchstart\", function () {\n      return input.forceCompositionEnd();\n    });\n    on(div, \"input\", function () {\n      if (!this$1.composing) {\n        this$1.readFromDOMSoon();\n      }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n\n        if (e.type == \"cut\") {\n          cm.replaceSelection(\"\", null, \"cut\");\n        }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\"); // iOS exposes the clipboard API, but seems to discard content inserted into it\n\n        e.clipboardData.setData(\"Text\", content);\n\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return;\n        }\n      } // Old-fashioned briefly-focus-a-textarea hack\n\n\n      var kludge = hiddenTextarea(),\n          te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n\n        if (hadFocus == div) {\n          input.showPrimarySelection();\n        }\n      }, 50);\n    }\n\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if (label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result;\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) {\n      return;\n    }\n\n    if (info.focus || takeFocus) {\n      this.showPrimarySelection();\n    }\n\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection();\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(),\n        cm = this.cm,\n        prim = cm.doc.sel.primary();\n    var from = prim.from(),\n        to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad && cmp(minPos(curAnchor, curFocus), from) == 0 && cmp(maxPos(curAnchor, curFocus), to) == 0) {\n      return;\n    }\n\n    var view = cm.display.view;\n    var start = from.line >= cm.display.viewFrom && posToDOM(cm, from) || {\n      node: view[0].measure.map[2],\n      offset: 0\n    };\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {\n        node: map[map.length - 1],\n        offset: map[map.length - 2] - map[map.length - 3]\n      };\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0),\n        rng;\n\n    try {\n      rng = range(start.node, start.offset, end.offset, end.node);\n    } catch (e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n\n\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n\n      if (old && sel.anchorNode == null) {\n        sel.addRange(old);\n      } else if (gecko) {\n        this.startGracePeriod();\n      }\n    }\n\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n\n      if (this$1.selectionChanged()) {\n        this$1.cm.operation(function () {\n          return this$1.cm.curOp.selectionChanged = true;\n        });\n      }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode;\n    this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode;\n    this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n\n    if (!sel.rangeCount) {\n      return false;\n    }\n\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node);\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div) {\n        this.showSelection(this.prepareSelection(), true);\n      }\n\n      this.div.focus();\n    }\n  };\n\n  ContentEditableInput.prototype.blur = function () {\n    this.div.blur();\n  };\n\n  ContentEditableInput.prototype.getField = function () {\n    return this.div;\n  };\n\n  ContentEditableInput.prototype.supportsTouch = function () {\n    return true;\n  };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n\n    if (this.selectionInEditor()) {\n      this.pollSelection();\n    } else {\n      runInOp(this.cm, function () {\n        return input.cm.curOp.selectionChanged = true;\n      });\n    }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset || sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) {\n      return;\n    }\n\n    var sel = this.getSelection(),\n        cm = this.cm; // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({\n        type: \"keydown\",\n        keyCode: 8,\n        preventDefault: Math.abs\n      });\n      this.blur();\n      this.focus();\n      return;\n    }\n\n    if (this.composing) {\n      return;\n    }\n\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (anchor && head) {\n      runInOp(cm, function () {\n        setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n\n        if (anchor.bad || head.bad) {\n          cm.curOp.selectionChanged = true;\n        }\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm,\n        display = cm.display,\n        sel = cm.doc.sel.primary();\n    var from = sel.from(),\n        to = sel.to();\n\n    if (from.ch == 0 && from.line > cm.firstLine()) {\n      from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length);\n    }\n\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine()) {\n      to = Pos(to.line + 1, 0);\n    }\n\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) {\n      return false;\n    }\n\n    var fromIndex, fromLine, fromNode;\n\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) {\n      return false;\n    }\n\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) {\n        newText.pop();\n        oldText.pop();\n        toLine--;\n      } else if (newText[0] == oldText[0]) {\n        newText.shift();\n        oldText.shift();\n        fromLine++;\n      } else {\n        break;\n      }\n    }\n\n    var cutFront = 0,\n        cutEnd = 0;\n    var newTop = newText[0],\n        oldTop = oldText[0],\n        maxCutFront = Math.min(newTop.length, oldTop.length);\n\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront)) {\n      ++cutFront;\n    }\n\n    var newBot = lst(newText),\n        oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0), oldBot.length - (oldText.length == 1 ? cutFront : 0));\n\n    while (cutEnd < maxCutEnd && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n      ++cutEnd;\n    } // Try to move start of change to start of selection if ambiguous\n\n\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      _replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n\n      return true;\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) {\n      return;\n    }\n\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n    if (this.readDOMTimeout != null) {\n      return;\n    }\n\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n\n      if (this$1.composing) {\n        if (this$1.composing.done) {\n          this$1.composing = null;\n        } else {\n          return;\n        }\n      }\n\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n    var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent()) {\n      runInOp(this.cm, function () {\n        return regChange(this$1.cm);\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!this.cm.isReadOnly()) {\n      operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);\n    }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n\n    if (!view || view.hidden) {\n      return null;\n    }\n\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n    var order = getOrder(line, cm.doc.direction),\n        side = \"left\";\n\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result;\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode) {\n      if (/CodeMirror-gutter-wrapper/.test(scan.className)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function badPos(pos, bad) {\n    if (bad) {\n      pos.bad = true;\n    }\n\n    return pos;\n  }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\",\n        closing = false,\n        lineSep = cm.doc.lineSeparator(),\n        extraLinebreak = false;\n\n    function recognizeMarker(id) {\n      return function (marker) {\n        return marker.id == id;\n      };\n    }\n\n    function close() {\n      if (closing) {\n        text += lineSep;\n\n        if (extraLinebreak) {\n          text += lineSep;\n        }\n\n        closing = extraLinebreak = false;\n      }\n    }\n\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n\n        if (cmText) {\n          addText(cmText);\n          return;\n        }\n\n        var markerID = node.getAttribute(\"cm-marker\"),\n            range;\n\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n\n          if (found.length && (range = found[0].find(0))) {\n            addText(getBetween(cm.doc, range.from, range.to).join(lineSep));\n          }\n\n          return;\n        }\n\n        if (node.getAttribute(\"contenteditable\") == \"false\") {\n          return;\n        }\n\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) {\n          return;\n        }\n\n        if (isBlock) {\n          close();\n        }\n\n        for (var i = 0; i < node.childNodes.length; i++) {\n          walk(node.childNodes[i]);\n        }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) {\n          extraLinebreak = true;\n        }\n\n        if (isBlock) {\n          closing = true;\n        }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n\n    for (;;) {\n      walk(from);\n\n      if (from == to) {\n        break;\n      }\n\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n\n    return text;\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n\n      if (!lineNode) {\n        return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);\n      }\n\n      node = null;\n      offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) {\n          return null;\n        }\n\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) {\n          break;\n        }\n      }\n    }\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n\n      if (lineView.node == lineNode) {\n        return locateNodeInLineView(lineView, node, offset);\n      }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild,\n        bad = false;\n\n    if (!node || !contains(wrapper, node)) {\n      return badPos(Pos(lineNo(lineView.line), 0), true);\n    }\n\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad);\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null,\n        topNode = node;\n\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n\n      if (offset) {\n        offset = textNode.nodeValue.length;\n      }\n    }\n\n    while (topNode.parentNode != wrapper) {\n      topNode = topNode.parentNode;\n    }\n\n    var measure = lineView.measure,\n        maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n\n            if (offset < 0 || curNode != textNode) {\n              ch = map[j + (offset ? 1 : 0)];\n            }\n\n            return Pos(line, ch);\n          }\n        }\n      }\n    }\n\n    var found = find(textNode, topNode, offset);\n\n    if (found) {\n      return badPos(found, bad);\n    } // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n\n\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch - dist), bad);\n      } else {\n        dist += after.textContent.length;\n      }\n    }\n\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch + dist$1), bad);\n      } else {\n        dist$1 += before.textContent.length;\n      }\n    }\n  } // TEXTAREA INPUT STYLE\n\n\n  var TextareaInput = function TextareaInput(cm) {\n    this.cm = cm; // See input.poll and input.reset\n\n    this.prevInput = \"\"; // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n\n    this.pollingFast = false; // Self-resetting timeout for the poller\n\n    this.polling = new Delayed(); // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild); // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n\n    if (ios) {\n      te.style.width = \"0px\";\n    }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) {\n        this$1.hasSelection = null;\n      }\n\n      input.poll();\n    });\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      }\n\n      cm.state.pasteIncoming = +new Date();\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n\n      if (e.type == \"cut\") {\n        cm.state.cutIncoming = +new Date();\n      }\n    }\n\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date();\n        input.focus();\n        return;\n      } // Pass the `paste` event to the textarea so it's handled by its event listener.\n\n\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    }); // Prevent normal selection in the editor (we handle our own)\n\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) {\n        e_preventDefault(e);\n      }\n    });\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n\n      if (input.composing) {\n        input.composing.range.clear();\n      }\n\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        })\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea(); // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if (label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm,\n        display = cm.display,\n        doc = cm.doc;\n    var result = prepareSelection(cm); // Move the hidden textarea near the cursor to prevent scrolling artifacts\n\n    if (cm.options.moveInputWithCursor) {\n      var headPos = _cursorCoords(cm, doc.sel.primary().head, \"div\");\n\n      var wrapOff = display.wrapper.getBoundingClientRect(),\n          lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10, headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10, headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result;\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm,\n        display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  }; // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n\n\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) {\n      return;\n    }\n\n    var cm = this.cm;\n\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n\n      if (cm.state.focused) {\n        selectInput(this.textarea);\n      }\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = content;\n      }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = null;\n      }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () {\n    return this.textarea;\n  };\n\n  TextareaInput.prototype.supportsTouch = function () {\n    return false;\n  };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try {\n        this.textarea.focus();\n      } catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n\n    }\n  };\n\n  TextareaInput.prototype.blur = function () {\n    this.textarea.blur();\n  };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () {\n    this.slowPoll();\n  }; // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n\n\n  TextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n    if (this.pollingFast) {\n      return;\n    }\n\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n\n      if (this$1.cm.state.focused) {\n        this$1.slowPoll();\n      }\n    });\n  }; // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n\n\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false,\n        input = this;\n    input.pollingFast = true;\n\n    function p() {\n      var changed = input.poll();\n\n      if (!changed && !missed) {\n        missed = true;\n        input.polling.set(60, p);\n      } else {\n        input.pollingFast = false;\n        input.slowPoll();\n      }\n    }\n\n    input.polling.set(20, p);\n  }; // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n\n\n  TextareaInput.prototype.poll = function () {\n    var this$1 = this;\n    var cm = this.cm,\n        input = this.textarea,\n        prevInput = this.prevInput; // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n\n    if (this.contextMenuPending || !cm.state.focused || hasSelection(input) && !prevInput && !this.composing || cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq) {\n      return false;\n    }\n\n    var text = input.value; // If nothing changed, bail.\n\n    if (text == prevInput && !cm.somethingSelected()) {\n      return false;\n    } // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n\n\n    if (ie && ie_version >= 9 && this.hasSelection === text || mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false;\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n\n      if (first == 0x200b && !prevInput) {\n        prevInput = \"\\u200B\";\n      }\n\n      if (first == 0x21da) {\n        this.reset();\n        return this.cm.execCommand(\"undo\");\n      }\n    } // Find the part of the input that is actually new\n\n\n    var same = 0,\n        l = Math.min(prevInput.length, text.length);\n\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) {\n      ++same;\n    }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same, null, this$1.composing ? \"*compose\" : null); // Don't leave long text in the textarea, since it makes further polling slow\n\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) {\n        input.value = this$1.prevInput = \"\";\n      } else {\n        this$1.prevInput = text;\n      }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        });\n      }\n    });\n    return true;\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) {\n      this.pollingFast = false;\n    }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) {\n      this.hasSelection = null;\n    }\n\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this,\n        cm = input.cm,\n        display = cm.display,\n        te = input.textarea;\n\n    if (input.contextMenuPending) {\n      input.contextMenuPending();\n    }\n\n    var pos = posFromMouse(cm, e),\n        scrollPos = display.scroller.scrollTop;\n\n    if (!pos || presto) {\n      return;\n    } // Opera is difficult.\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n\n\n    var reset = cm.options.resetSelectionOnContextMenu;\n\n    if (reset && cm.doc.sel.contains(pos) == -1) {\n      operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);\n    }\n\n    var oldCSS = te.style.cssText,\n        oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n\n    if (webkit) {\n      oldScrollY = window.scrollY;\n    } // Work around Chrome issue (#2712)\n\n\n    display.input.focus();\n\n    if (webkit) {\n      window.scrollTo(null, oldScrollY);\n    }\n\n    display.input.reset(); // Adds \"Select all\" to context menu in FF\n\n    if (!cm.somethingSelected()) {\n      te.value = input.prevInput = \" \";\n    }\n\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll); // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200B\" + (selected ? te.value : \"\");\n        te.value = \"\\u21DA\"; // Used to catch context-menu undo\n\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200B\";\n        te.selectionStart = 1;\n        te.selectionEnd = extval.length; // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n\n    function rehide() {\n      if (input.contextMenuPending != rehide) {\n        return;\n      }\n\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n\n      if (ie && ie_version < 9) {\n        display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);\n      } // Try to detect the user choosing select-all\n\n\n      if (te.selectionStart != null) {\n        if (!ie || ie && ie_version < 9) {\n          prepareSelectAllHack();\n        }\n\n        var i = 0,\n            poll = function poll() {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 && te.selectionEnd > 0 && input.prevInput == \"\\u200B\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) {\n      prepareSelectAllHack();\n    }\n\n    if (captureRightClick) {\n      e_stop(e);\n\n      var mouseup = function mouseup() {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) {\n      this.reset();\n    }\n\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n\n    if (!options.tabindex && textarea.tabIndex) {\n      options.tabindex = textarea.tabIndex;\n    }\n\n    if (!options.placeholder && textarea.placeholder) {\n      options.placeholder = textarea.placeholder;\n    } // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n\n\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea || textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {\n      textarea.value = cm.getValue();\n    }\n\n    var realSubmit;\n\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save); // Deplorable hack to make the submit method do the right thing.\n\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch (e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n\n      cm.getTextArea = function () {\n        return textarea;\n      };\n\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\") {\n            textarea.form.submit = realSubmit;\n          }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) {\n      return textarea.parentNode.insertBefore(node, textarea.nextSibling);\n    }, options);\n    return cm;\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  } // EDITOR CONSTRUCTOR\n\n\n  defineOptions(CodeMirror);\n  addEditorMethods(CodeMirror); // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n\n  for (var prop in Doc.prototype) {\n    if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0) {\n      CodeMirror.prototype[prop] = function (method) {\n        return function () {\n          return method.apply(this.doc, arguments);\n        };\n      }(Doc.prototype[prop]);\n    }\n  }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\n    \"textarea\": TextareaInput,\n    \"contenteditable\": ContentEditableInput\n  }; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  CodeMirror.defineMode = function (name\n  /*, mode, …*/\n  ) {\n    if (!CodeMirror.defaults.mode && name != \"null\") {\n      CodeMirror.defaults.mode = name;\n    }\n\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME; // Minimal default mode.\n\n  CodeMirror.defineMode(\"null\", function () {\n    return {\n      token: function token(stream) {\n        return stream.skipToEnd();\n      }\n    };\n  });\n  CodeMirror.defineMIME(\"text/plain\", \"null\"); // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n  addLegacyProps(CodeMirror);\n  CodeMirror.version = \"5.53.2\";\n  return CodeMirror;\n});"],"sourceRoot":""}